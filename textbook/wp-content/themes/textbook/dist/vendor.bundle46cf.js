(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(module,exports,__webpack_require__){eval("__webpack_require__(121)('asyncIterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcz9hYzRkIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(17);\nvar has = __webpack_require__(35);\nvar DESCRIPTORS = __webpack_require__(16);\nvar $export = __webpack_require__(36);\nvar redefine = __webpack_require__(34);\nvar META = __webpack_require__(145).KEY;\nvar $fails = __webpack_require__(26);\nvar shared = __webpack_require__(74);\nvar setToStringTag = __webpack_require__(102);\nvar uid = __webpack_require__(62);\nvar wks = __webpack_require__(9);\nvar wksExt = __webpack_require__(122);\nvar wksDefine = __webpack_require__(121);\nvar enumKeys = __webpack_require__(146);\nvar isArray = __webpack_require__(147);\nvar anObject = __webpack_require__(11);\nvar isObject = __webpack_require__(56);\nvar toObject = __webpack_require__(79);\nvar toIObject = __webpack_require__(58);\nvar toPrimitive = __webpack_require__(97);\nvar createDesc = __webpack_require__(61);\nvar _create = __webpack_require__(117);\nvar gOPNExt = __webpack_require__(148);\nvar $GOPD = __webpack_require__(149);\nvar $GOPS = __webpack_require__(123);\nvar $DP = __webpack_require__(15);\nvar $keys = __webpack_require__(78);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(124).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(103).f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(75)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(27)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbC5qcz84YTgxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBNRVRBID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWTtcbnZhciAkZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgd2tzRGVmaW5lID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpO1xudmFyIGVudW1LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBfY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGdPUE5FeHQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKTtcbnZhciAkR09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG52YXIgJEdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbicgJiYgISEkR09QUy5mO1xudmFyIFFPYmplY3QgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkUCh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoaXQsIGtleSwgRCkge1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYgKHByb3RvRGVzYykgZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZiAocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bykgZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKSB7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8pICRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghRC5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhcyhpdCwgSElEREVOKSkgZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pIGl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwgeyBlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKSB7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuICB2YXIga2V5O1xuICB3aGlsZSAobCA+IGkpICRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApIHtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpIHtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIGl0ID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmIChEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIEQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgdmFyIG5hbWVzID0gZ09QTih0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gIHZhciBJU19PUCA9IGl0ID09PSBPYmplY3RQcm90bztcbiAgdmFyIG5hbWVzID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKSByZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmICghVVNFX05BVElWRSkge1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCkgdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90bykgJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIHNldHRlcikgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0IH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICAkR09QUy5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSkge1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgU3ltYm9sOiAkU3ltYm9sIH0pO1xuXG5mb3IgKHZhciBlczZTeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGogPSAwOyBlczZTeW1ib2xzLmxlbmd0aCA+IGo7KXdrcyhlczZTeW1ib2xzW2orK10pO1xuXG5mb3IgKHZhciB3ZWxsS25vd25TeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgayA9IDA7IHdlbGxLbm93blN5bWJvbHMubGVuZ3RoID4gazspIHdrc0RlZmluZSh3ZWxsS25vd25TeW1ib2xzW2srK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICAgIGZvciAodmFyIGtleSBpbiBTeW1ib2xSZWdpc3RyeSkgaWYgKFN5bWJvbFJlZ2lzdHJ5W2tleV0gPT09IHN5bSkgcmV0dXJuIGtleTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyBDaHJvbWUgMzggYW5kIDM5IGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBmYWlscyBvbiBwcmltaXRpdmVzXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNDQzXG52YXIgRkFJTFNfT05fUFJJTUlUSVZFUyA9ICRmYWlscyhmdW5jdGlvbiAoKSB7ICRHT1BTLmYoMSk7IH0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIEZBSUxTX09OX1BSSU1JVElWRVMsICdPYmplY3QnLCB7XG4gIGdldE93blByb3BlcnR5U3ltYm9sczogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gICAgcmV0dXJuICRHT1BTLmYodG9PYmplY3QoaXQpKTtcbiAgfVxufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoeyBhOiBTIH0pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCkge1xuICAgIHZhciBhcmdzID0gW2l0XTtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgICRyZXBsYWNlciA9IHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiAkcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){"use strict";eval("\n__webpack_require__(130);\nvar anObject = __webpack_require__(11);\nvar $flags = __webpack_require__(98);\nvar DESCRIPTORS = __webpack_require__(16);\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  __webpack_require__(34)(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (__webpack_require__(26)(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmcuanM/NmI1NCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5yZXF1aXJlKCcuL2VzNi5yZWdleHAuZmxhZ3MnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyICRmbGFncyA9IHJlcXVpcmUoJy4vX2ZsYWdzJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIFRPX1NUUklORyA9ICd0b1N0cmluZyc7XG52YXIgJHRvU3RyaW5nID0gLy4vW1RPX1NUUklOR107XG5cbnZhciBkZWZpbmUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgcmVxdWlyZSgnLi9fcmVkZWZpbmUnKShSZWdFeHAucHJvdG90eXBlLCBUT19TVFJJTkcsIGZuLCB0cnVlKTtcbn07XG5cbi8vIDIxLjIuNS4xNCBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nKClcbmlmIChyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHsgcmV0dXJuICR0b1N0cmluZy5jYWxsKHsgc291cmNlOiAnYScsIGZsYWdzOiAnYicgfSkgIT0gJy9hL2InOyB9KSkge1xuICBkZWZpbmUoZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgdmFyIFIgPSBhbk9iamVjdCh0aGlzKTtcbiAgICByZXR1cm4gJy8nLmNvbmNhdChSLnNvdXJjZSwgJy8nLFxuICAgICAgJ2ZsYWdzJyBpbiBSID8gUi5mbGFncyA6ICFERVNDUklQVE9SUyAmJiBSIGluc3RhbmNlb2YgUmVnRXhwID8gJGZsYWdzLmNhbGwoUikgOiB1bmRlZmluZWQpO1xuICB9KTtcbi8vIEZGNDQtIFJlZ0V4cCN0b1N0cmluZyBoYXMgYSB3cm9uZyBuYW1lXG59IGVsc2UgaWYgKCR0b1N0cmluZy5uYW1lICE9IFRPX1NUUklORykge1xuICBkZWZpbmUoZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICR0b1N0cmluZy5jYWxsKHRoaXMpO1xuICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 19.1.3.6 Object.prototype.toString()\nvar classof = __webpack_require__(99);\nvar test = {};\ntest[__webpack_require__(9)('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  __webpack_require__(34)(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanM/MDZkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIHRlc3QgPSB7fTtcbnRlc3RbcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyldID0gJ3onO1xuaWYgKHRlc3QgKyAnJyAhPSAnW29iamVjdCB6XScpIHtcbiAgcmVxdWlyZSgnLi9fcmVkZWZpbmUnKShPYmplY3QucHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YodGhpcykgKyAnXSc7XG4gIH0sIHRydWUpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(15).f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || __webpack_require__(16) && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUuanM/N2Y3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIEZQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBuYW1lUkUgPSAvXlxccypmdW5jdGlvbiAoW14gKF0qKS87XG52YXIgTkFNRSA9ICduYW1lJztcblxuLy8gMTkuMi40LjIgbmFtZVxuTkFNRSBpbiBGUHJvdG8gfHwgcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiBkUChGUHJvdG8sIE5BTUUsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICgnJyArIHRoaXMpLm1hdGNoKG5hbWVSRSlbMV07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $at = __webpack_require__(113)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(114)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcz81ZGYzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar ctx = __webpack_require__(115);\nvar $export = __webpack_require__(36);\nvar toObject = __webpack_require__(79);\nvar call = __webpack_require__(138);\nvar isArrayIter = __webpack_require__(139);\nvar toLength = __webpack_require__(65);\nvar createProperty = __webpack_require__(140);\nvar getIterFn = __webpack_require__(141);\n\n$export($export.S + $export.F * !__webpack_require__(142)(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZyb20uanM/MWM0YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpO1xudmFyIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL19jcmVhdGUtcHJvcGVydHknKTtcbnZhciBnZXRJdGVyRm4gPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uIChpdGVyKSB7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UgLyogLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCAqLykge1xuICAgIHZhciBPID0gdG9PYmplY3QoYXJyYXlMaWtlKTtcbiAgICB2YXIgQyA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXk7XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBtYXBmbiA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oTyk7XG4gICAgdmFyIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZiAobWFwcGluZykgbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcbiAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2VcbiAgICBpZiAoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpIHtcbiAgICAgIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEMoKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgZm9yIChyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n")},function(module,exports,__webpack_require__){eval("var $iterators = __webpack_require__(143);\nvar getKeys = __webpack_require__(78);\nvar redefine = __webpack_require__(34);\nvar global = __webpack_require__(17);\nvar hide = __webpack_require__(27);\nvar Iterators = __webpack_require__(64);\nvar wks = __webpack_require__(9);\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcz9hYzZhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciAkaXRlcmF0b3JzID0gcmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciBJVEVSQVRPUiA9IHdrcygnaXRlcmF0b3InKTtcbnZhciBUT19TVFJJTkdfVEFHID0gd2tzKCd0b1N0cmluZ1RhZycpO1xudmFyIEFycmF5VmFsdWVzID0gSXRlcmF0b3JzLkFycmF5O1xuXG52YXIgRE9NSXRlcmFibGVzID0ge1xuICBDU1NSdWxlTGlzdDogdHJ1ZSwgLy8gVE9ETzogTm90IHNwZWMgY29tcGxpYW50LCBzaG91bGQgYmUgZmFsc2UuXG4gIENTU1N0eWxlRGVjbGFyYXRpb246IGZhbHNlLFxuICBDU1NWYWx1ZUxpc3Q6IGZhbHNlLFxuICBDbGllbnRSZWN0TGlzdDogZmFsc2UsXG4gIERPTVJlY3RMaXN0OiBmYWxzZSxcbiAgRE9NU3RyaW5nTGlzdDogZmFsc2UsXG4gIERPTVRva2VuTGlzdDogdHJ1ZSxcbiAgRGF0YVRyYW5zZmVySXRlbUxpc3Q6IGZhbHNlLFxuICBGaWxlTGlzdDogZmFsc2UsXG4gIEhUTUxBbGxDb2xsZWN0aW9uOiBmYWxzZSxcbiAgSFRNTENvbGxlY3Rpb246IGZhbHNlLFxuICBIVE1MRm9ybUVsZW1lbnQ6IGZhbHNlLFxuICBIVE1MU2VsZWN0RWxlbWVudDogZmFsc2UsXG4gIE1lZGlhTGlzdDogdHJ1ZSwgLy8gVE9ETzogTm90IHNwZWMgY29tcGxpYW50LCBzaG91bGQgYmUgZmFsc2UuXG4gIE1pbWVUeXBlQXJyYXk6IGZhbHNlLFxuICBOYW1lZE5vZGVNYXA6IGZhbHNlLFxuICBOb2RlTGlzdDogdHJ1ZSxcbiAgUGFpbnRSZXF1ZXN0TGlzdDogZmFsc2UsXG4gIFBsdWdpbjogZmFsc2UsXG4gIFBsdWdpbkFycmF5OiBmYWxzZSxcbiAgU1ZHTGVuZ3RoTGlzdDogZmFsc2UsXG4gIFNWR051bWJlckxpc3Q6IGZhbHNlLFxuICBTVkdQYXRoU2VnTGlzdDogZmFsc2UsXG4gIFNWR1BvaW50TGlzdDogZmFsc2UsXG4gIFNWR1N0cmluZ0xpc3Q6IGZhbHNlLFxuICBTVkdUcmFuc2Zvcm1MaXN0OiBmYWxzZSxcbiAgU291cmNlQnVmZmVyTGlzdDogZmFsc2UsXG4gIFN0eWxlU2hlZXRMaXN0OiB0cnVlLCAvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS5cbiAgVGV4dFRyYWNrQ3VlTGlzdDogZmFsc2UsXG4gIFRleHRUcmFja0xpc3Q6IGZhbHNlLFxuICBUb3VjaExpc3Q6IGZhbHNlXG59O1xuXG5mb3IgKHZhciBjb2xsZWN0aW9ucyA9IGdldEtleXMoRE9NSXRlcmFibGVzKSwgaSA9IDA7IGkgPCBjb2xsZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICB2YXIgTkFNRSA9IGNvbGxlY3Rpb25zW2ldO1xuICB2YXIgZXhwbGljaXQgPSBET01JdGVyYWJsZXNbTkFNRV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICB2YXIga2V5O1xuICBpZiAocHJvdG8pIHtcbiAgICBpZiAoIXByb3RvW0lURVJBVE9SXSkgaGlkZShwcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbiAgICBpZiAoIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgICBJdGVyYXRvcnNbTkFNRV0gPSBBcnJheVZhbHVlcztcbiAgICBpZiAoZXhwbGljaXQpIGZvciAoa2V5IGluICRpdGVyYXRvcnMpIGlmICghcHJvdG9ba2V5XSkgcmVkZWZpbmUocHJvdG8sIGtleSwgJGl0ZXJhdG9yc1trZXldLCB0cnVlKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n")},,function(module,exports,__webpack_require__){eval("var store = __webpack_require__(74)('wks');\nvar uid = __webpack_require__(62);\nvar Symbol = __webpack_require__(17).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3drcy5qcz8yYjRjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){eval('!function(t,e){ true?module.exports=e():undefined}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function l(t,e){var i=function(t,e){var i=o(t)*o(e);if(0===i)return 0;var n=function(t,e){return t.x*e.x+t.y*e.y}(t,e)/i;return n>1&&(n=1),Math.acos(n)}(t,e);return function(t,e){return t.x*e.y-e.x*t.y}(t,e)>0&&(i*=-1),180*i/Math.PI}var r=function(){function t(i){e(this,t),this.handlers=[],this.el=i}return n(t,[{key:"add",value:function(t){this.handlers.push(t)}},{key:"del",value:function(t){t||(this.handlers=[]);for(var e=this.handlers.length;e>=0;e--)this.handlers[e]===t&&this.handlers.splice(e,1)}},{key:"dispatch",value:function(){for(var t=0,e=this.handlers.length;t<e;t++){var i=this.handlers[t];"function"==typeof i&&i.apply(this.el,arguments)}}}]),t}();function a(t,e){var i=new r(t);return i.add(e),i}var h=function(){function t(i,n){e(this,t),this.element="string"==typeof i?document.querySelector(i):i,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var s=function(){};this.rotate=a(this.element,n.rotate||s),this.touchStart=a(this.element,n.touchStart||s),this.multipointStart=a(this.element,n.multipointStart||s),this.multipointEnd=a(this.element,n.multipointEnd||s),this.pinch=a(this.element,n.pinch||s),this.swipe=a(this.element,n.swipe||s),this.tap=a(this.element,n.tap||s),this.doubleTap=a(this.element,n.doubleTap||s),this.longTap=a(this.element,n.longTap||s),this.singleTap=a(this.element,n.singleTap||s),this.pressMove=a(this.element,n.pressMove||s),this.twoFingerPressMove=a(this.element,n.twoFingerPressMove||s),this.touchMove=a(this.element,n.touchMove||s),this.touchEnd=a(this.element,n.touchEnd||s),this.touchCancel=a(this.element,n.touchCancel||s),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return n(t,[{key:"start",value:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(t,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV;if(t.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};e.x=i.x,e.y=i.y,this.pinchStartLen=o(e),this.multipointStart.dispatch(t,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(t,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function(t){if(t.touches){var e=this.preV,i=t.touches.length,n=t.touches[0].pageX,s=t.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var r=t.touches[1].pageX,a=t.touches[1].pageY,h={x:t.touches[1].pageX-n,y:t.touches[1].pageY-s};null!==e.x&&(this.pinchStartLen>0&&(t.zoom=o(h)/this.pinchStartLen,this.pinch.dispatch(t,this.element)),t.angle=l(h,e),this.rotate.dispatch(t,this.element)),e.x=h.x,e.y=h.y,null!==this.x2&&null!==this.sx2?(t.deltaX=(n-this.x2+r-this.sx2)/2,t.deltaY=(s-this.y2+a-this.sy2)/2):(t.deltaX=0,t.deltaY=0),this.twoFingerPressMove.dispatch(t,this.element),this.sx2=r,this.sy2=a}else{if(null!==this.x2){t.deltaX=n-this.x2,t.deltaY=s-this.y2;var c=Math.abs(this.x1-this.x2),u=Math.abs(this.y1-this.y2);(c>10||u>10)&&(this._preventTap=!0)}else t.deltaX=0,t.deltaY=0;this.pressMove.dispatch(t,this.element)}this.touchMove.dispatch(t,this.element),this._cancelLongTap(),this.x2=n,this.y2=s,i>1&&t.preventDefault()}}},{key:"end",value:function(t){if(t.changedTouches){this._cancelLongTap();var e=this;t.touches.length<2&&(this.multipointEnd.dispatch(t,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){e.swipe.dispatch(t,e.element)}),0)):(this.tapTimeout=setTimeout((function(){e._preventTap||e.tap.dispatch(t,e.element),e.isDoubleTap&&(e.doubleTap.dispatch(t,e.element),e.isDoubleTap=!1)}),0),e.isDoubleTap||(e.singleTapTimeout=setTimeout((function(){e.singleTap.dispatch(t,e.element)}),250))),this.touchEnd.dispatch(t,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(t){this.cancelAll(),this.touchCancel.dispatch(t,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(t,e,i,n){return Math.abs(t-e)>=Math.abs(i-n)?t-e>0?"Left":"Right":i-n>0?"Up":"Down"}},{key:"on",value:function(t,e){this[t]&&this[t].add(e)}},{key:"off",value:function(t,e){this[t]&&this[t].del(e)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),t}(),c=function(){function t(i,n){var s=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e(this,t),this.img=i,this.slide=n,this.onclose=o,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",(function(t){return s.dragStart(t)}),!1),this.img.addEventListener("mouseup",(function(t){return s.dragEnd(t)}),!1),this.img.addEventListener("mousemove",(function(t){return s.drag(t)}),!1),this.img.addEventListener("click",(function(t){if(!s.zoomedIn)return s.zoomIn();s.zoomedIn&&!s.dragging&&s.zoomOut()}),!1),this.img.setZoomEvents=!0}return n(t,[{key:"zoomIn",value:function(){var t=this.widowWidth();if(!(this.zoomedIn||t<=768)){var e=this.img;if(e.setAttribute("data-style",e.getAttribute("style")),e.style.maxWidth=e.naturalWidth+"px",e.style.maxHeight=e.naturalHeight+"px",e.naturalWidth>t){var i=t/2-e.naturalWidth/2;this.setTranslate(this.img.parentNode,i,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(t){t.preventDefault(),this.zoomedIn?("touchstart"===t.type?(this.initialX=t.touches[0].clientX-this.xOffset,this.initialY=t.touches[0].clientY-this.yOffset):(this.initialX=t.clientX-this.xOffset,this.initialY=t.clientY-this.yOffset),t.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(t){var e=this;t.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){e.dragging=!1,e.img.isDragging=!1,e.img.classList.remove("dragging")}),100)}},{key:"drag",value:function(t){this.active&&(t.preventDefault(),"touchmove"===t.type?(this.currentX=t.touches[0].clientX-this.initialX,this.currentY=t.touches[0].clientY-this.initialY):(this.currentX=t.clientX-this.initialX,this.currentY=t.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(t){if(this.zoomedIn){var e=t.clientX-this.img.naturalWidth/2,i=t.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,e,i)}}},{key:"setTranslate",value:function(t,e,i){t.style.transform="translate3d("+e+"px, "+i+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),t}(),u=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),d=null!==u||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,g=document.getElementsByTagName("html")[0],p=function(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}(),v=function(){var t,e=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}(),f=Date.now(),m={},y={selector:"glightbox",elements:null,skin:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,descPosition:"bottom",width:900,height:506,videosWidth:960,beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,onOpen:null,onClose:null,loop:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plyr:{css:"https://cdn.plyr.io/3.5.6/plyr.css",js:"https://cdn.plyr.io/3.5.6/plyr.js",ratio:"16:9",config:{youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoomIn",closeEffect:"zoomOut",slideEffect:"slide",moreText:"See more",moreLength:60,lightboxHtml:"",cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slide_back:{in:"slideInLeft",out:"slideOutRight"}},svg:{close:\'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>\',next:\'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>\',prev:\'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>\'}};y.slideHtml=\'<div class="gslide">\\n    <div class="gslide-inner-content">\\n        <div class="ginner-container">\\n            <div class="gslide-media">\\n            </div>\\n            <div class="gslide-description">\\n                <div class="gdesc-inner">\\n                    <h4 class="gslide-title"></h4>\\n                    <div class="gslide-desc"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\';function b(){var t={},e=!1,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);for(var s=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e&&"[object Object]"===Object.prototype.toString.call(i[n])?t[n]=b(!0,t[n],i[n]):t[n]=i[n])};i<n;i++){s(arguments[i])}return t}y.lightboxHtml=\'<div id="glightbox-body" class="glightbox-container">\\n    <div class="gloader visible"></div>\\n    <div class="goverlay"></div>\\n    <div class="gcontainer">\\n    <div id="glightbox-slider" class="gslider"></div>\\n    <button class="gnext gbtn" tabindex="0">{nextSVG}</button>\\n    <button class="gprev gbtn" tabindex="1">{prevSVG}</button>\\n    <button class="gclose gbtn" tabindex="2">{closeSVG}</button>\\n</div>\\n</div>\';var x={isFunction:function(t){return"function"==typeof t},isString:function(t){return"string"==typeof t},isNode:function(t){return!(!t||!t.nodeType||1!=t.nodeType)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return t&&t.length&&isFinite(t.length)},isObject:function(e){return"object"===t(e)&&null!=e&&!x.isFunction(e)&&!x.isArray(e)},isNil:function(t){return null==t},has:function(t,e){return null!==t&&hasOwnProperty.call(t,e)},size:function(t){if(x.isObject(t)){if(t.keys)return t.keys().length;var e=0;for(var i in t)x.has(t,i)&&e++;return e}return t.length},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}};function w(t,e){if((x.isNode(t)||t===window||t===document)&&(t=[t]),x.isArrayLike(t)||x.isObject(t)||(t=[t]),0!=x.size(t))if(x.isArrayLike(t)&&!x.isObject(t))for(var i=t.length,n=0;n<i&&!1!==e.call(t[n],t[n],n,t);n++);else if(x.isObject(t))for(var s in t)if(x.has(t,s)&&!1===e.call(t[s],t[s],s,t))break}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t[f]=t[f]||[],s={all:n,evt:null,found:null};return e&&i&&x.size(n)>0&&w(n,(function(t,n){if(t.eventName==e&&t.fn.toString()==i.toString())return s.found=!0,s.evt=n,!1})),s}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.onElement,n=e.withCallback,s=e.avoidDuplicate,o=void 0===s||s,l=e.once,r=void 0!==l&&l,a=e.useCapture,h=void 0!==a&&a,c=arguments.length>2?arguments[2]:void 0,u=i||[];function d(t){x.isFunction(n)&&n.call(c,t,this),r&&d.destroy()}return x.isString(u)&&(u=document.querySelectorAll(u)),d.destroy=function(){w(u,(function(e){var i=S(e,t,d);i.found&&i.all.splice(i.evt,1),e.removeEventListener&&e.removeEventListener(t,d,h)}))},w(u,(function(e){var i=S(e,t,d);(e.addEventListener&&o&&!i.found||!o)&&(e.addEventListener(t,d,h),i.all.push({eventName:t,fn:d}))})),d}function k(t,e){w(e.split(" "),(function(e){return t.classList.add(e)}))}function E(t,e){w(e.split(" "),(function(e){return t.classList.remove(e)}))}function A(t,e){return t.classList.contains(e)}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||""===e)return!1;if("none"==e)return x.isFunction(i)&&i(),!1;var n=e.split(" ");w(n,(function(e){k(t,"g"+e)})),T(v,{onElement:t,avoidDuplicate:!1,once:!0,withCallback:function(t,e){w(n,(function(t){E(e,"g"+t)})),x.isFunction(i)&&i()}})}function L(t){var e=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)e.appendChild(i.firstChild);return e}function M(t,e){for(;t!==document.body;){if("function"==typeof(t=t.parentElement).matches?t.matches(e):t.msMatchesSelector(e))return t}}function O(t){t.style.display="block"}function z(t){t.style.display="none"}function q(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function N(t){if(A(t.target,"plyr--html5")){var e=M(t.target,".gslide-media");"enterfullscreen"==t.type&&k(e,"fullscreen"),"exitfullscreen"==t.type&&E(e,"fullscreen")}}var I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,i={href:"",title:"",type:"",description:"",descPosition:e.descPosition,effect:"",width:"",height:"",node:t};if(x.isObject(t)&&!x.isNode(t))return b(i,t);var n="",s=t.getAttribute("data-glightbox"),o=t.nodeName.toLowerCase();if("a"===o&&(n=t.href),"img"===o&&(n=t.src),i.href=n,w(i,(function(n,s){x.has(e,s)&&"width"!==s&&(i[s]=e[s]);var o=t.dataset[s];x.isNil(o)||(i[s]=o)})),i.type||(i.type=W(n)),x.isNil(s)){if("a"==o){var l=t.title;x.isNil(l)||""===l||(i.title=l)}if("img"==o){var r=t.alt;x.isNil(r)||""===r||(i.title=r)}var a=t.getAttribute("data-description");x.isNil(a)||""===a||(i.description=a)}else{var h=[];w(i,(function(t,e){h.push(";\\\\s?"+e)})),h=h.join("\\\\s?:|"),""!==s.trim()&&w(i,(function(t,e){var n=s,o=new RegExp("s?"+e+"s?:s?(.*?)("+h+"s?:|$)"),l=n.match(o);if(l&&l.length&&l[1]){var r=l[1].trim().replace(/;\\s*$/,"");i[e]=r}}))}if(i.description&&"."==i.description.substring(0,1)&&document.querySelector(i.description))i.description=document.querySelector(i.description).innerHTML;else{var c=t.querySelector(".glightbox-desc");c&&(i.description=c.innerHTML)}var u="video"==i.type?e.videosWidth:e.width,d=e.height;return i.width=x.has(i,"width")&&""!==i.width?i.width:u,i.height=x.has(i,"height")&&""!==i.height?i.height:d,i},D=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(A(e,"loaded"))return!1;x.isFunction(this.settings.beforeSlideLoad)&&this.settings.beforeSlideLoad(e,i);var s=i.type,o=i.descPosition,l=e.querySelector(".gslide-media"),r=e.querySelector(".gslide-title"),a=e.querySelector(".gslide-desc"),h=e.querySelector(".gdesc-inner"),d=n;if(x.isFunction(this.settings.afterSlideLoad)&&(d=function(){x.isFunction(n)&&n(),t.settings.afterSlideLoad(e,i)}),""==i.title&&""==i.description?h&&h.parentNode.parentNode.removeChild(h.parentNode):(r&&""!==i.title?r.innerHTML=i.title:r.parentNode.removeChild(r),a&&""!==i.description?u&&this.settings.moreLength>0?(i.smallDescription=G(i.description,this.settings.moreLength,this.settings.moreText),a.innerHTML=i.smallDescription,Z.apply(this,[a,i])):a.innerHTML=i.description:a.parentNode.removeChild(a),k(l.parentNode,"desc-".concat(o)),k(h.parentNode,"description-".concat(o))),k(l,"gslide-".concat(s)),k(e,"loaded"),"video"===s)return k(l.parentNode,"gvideo-container"),l.insertBefore(L(\'<div class="gvideo-wrapper"></div>\'),l.firstChild),void X.apply(this,[e,i,d]);if("external"===s){var g=Y({url:i.href,width:i.width,height:i.height,callback:d});return l.parentNode.style.maxWidth="".concat(i.width,"px"),void l.appendChild(g)}if("inline"!==s){if("image"===s){var p=new Image;return p.addEventListener("load",(function(){!u&&p.naturalWidth>p.offsetWidth&&(k(p,"zoomable"),new c(p,e,(function(){t.resize(e)}))),x.isFunction(d)&&d()}),!1),p.src=i.href,void l.insertBefore(p,l.firstChild)}x.isFunction(d)&&d()}else P.apply(this,[e,i,d])};function X(t,e,i){var n=this,s="gvideo"+e.index,o=t.querySelector(".gvideo-wrapper");B(this.settings.plyr.css);var l=e.href,r=location.protocol.replace(":",""),a="",h="",c=!1;"file"==r&&(r="http"),o.parentNode.style.maxWidth="".concat(e.width,"px"),B(this.settings.plyr.js,"Plyr",(function(){if(l.match(/vimeo\\.com\\/([0-9]*)/)){var t=/vimeo.*\\/(\\d+)/i.exec(l);a="vimeo",h=t[1]}if(l.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||l.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||l.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)){var r=function(t){var e="";e=void 0!==(t=t.replace(/(>|<)/gi,"").split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/))[2]?(e=t[2].split(/[^0-9a-z_\\-]/i))[0]:t;return e}(l);a="youtube",h=r}if(null!==l.match(/\\.(mp4|ogg|webm|mov)$/)){a="local";var u=\'<video id="\'+s+\'" \';u+=\'style="background:#000; max-width: \'.concat(e.width,\'px;" \'),u+=\'preload="metadata" \',u+=\'x-webkit-airplay="allow" \',u+=\'webkit-playsinline="" \',u+="controls ",u+=\'class="gvideo-local">\';var d=l.toLowerCase().split(".").pop(),g={mp4:"",ogg:"",webm:""};for(var p in g[d="mov"==d?"mp4":d]=l,g)if(g.hasOwnProperty(p)){var v=g[p];e.hasOwnProperty(p)&&(v=e[p]),""!==v&&(u+=\'<source src="\'.concat(v,\'" type="video/\').concat(p,\'">\'))}c=L(u+="</video>")}var f=c||L(\'<div id="\'.concat(s,\'" data-plyr-provider="\').concat(a,\'" data-plyr-embed-id="\').concat(h,\'"></div>\'));k(o,"".concat(a,"-video gvideo")),o.appendChild(f),o.setAttribute("data-id",s);var y=x.has(n.settings.plyr,"config")?n.settings.plyr.config:{},b=new Plyr("#"+s,y);b.on("ready",(function(t){var e=t.detail.plyr;m[s]=e,x.isFunction(i)&&i()})),b.on("enterfullscreen",N),b.on("exitfullscreen",N)}))}function Y(t){var e=t.url,i=t.width,n=t.height,s=t.allow,o=t.callback,l=t.appendTo,r=document.createElement("iframe"),a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return r.className="vimeo-video gvideo",r.src=e,n&&(r.style.height=u&&a<767?"":"".concat(n,"px")),i&&(r.style.width="".concat(i,"px")),s&&r.setAttribute("allow",s),r.onload=function(){k(r,"node-ready"),x.isFunction(o)&&o()},l&&l.appendChild(r),r}function B(t,e,i){if(x.isNil(t))console.error("Inject videos api error");else{var n;if(x.isFunction(e)&&(i=e,e=!1),-1!==t.indexOf(".css")){if((n=document.querySelectorAll(\'link[href="\'+t+\'"]\'))&&n.length>0)return void(x.isFunction(i)&&i());var s=document.getElementsByTagName("head")[0],o=s.querySelectorAll(\'link[rel="stylesheet"]\'),l=document.createElement("link");return l.rel="stylesheet",l.type="text/css",l.href=t,l.media="all",o?s.insertBefore(l,o[0]):s.appendChild(l),void(x.isFunction(i)&&i())}if((n=document.querySelectorAll(\'script[src="\'+t+\'"]\'))&&n.length>0){if(x.isFunction(i)){if(x.isString(e))return F((function(){return void 0!==window[e]}),(function(){i()})),!1;i()}}else{var r=document.createElement("script");r.type="text/javascript",r.src=t,r.onload=function(){if(x.isFunction(i)){if(x.isString(e))return F((function(){return void 0!==window[e]}),(function(){i()})),!1;i()}},document.body.appendChild(r)}}}function F(t,e,i,n){if(t())e();else{var s;i||(i=100);var o=setInterval((function(){t()&&(clearInterval(o),s&&clearTimeout(s),e())}),i);n&&(s=setTimeout((function(){clearInterval(o)}),n))}}function P(t,e,i){var n=this,s=t.querySelector(".gslide-media"),o=e.href.split("#").pop().trim(),l=document.getElementById(o);if(!l)return!1;var r=l.cloneNode(!0);r.style.height=x.isNumber(e.height)?"".concat(e.height,"px"):e.height,r.style.maxWidth=x.isNumber(e.width)?"".concat(e.width,"px"):e.width,k(r,"ginlined-content"),s.appendChild(r),this.events["inlineclose"+o]=T("click",{onElement:s.querySelectorAll(".gtrigger-close"),withCallback:function(t){t.preventDefault(),n.close()}}),x.isFunction(i)&&i()}var W=function(t){var e=t;if(null!==(t=t.toLowerCase()).match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|svg)$/))return"image";if(t.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||t.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||t.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))return"video";if(t.match(/vimeo\\.com\\/([0-9]*)/))return"video";if(null!==t.match(/\\.(mp4|ogg|webm|mov)$/))return"video";if(t.indexOf("#")>-1&&""!==e.split("#").pop().trim())return"inline";return t.includes("gajax=true")?"ajax":"external"};function _(){var t=this;if(this.events.hasOwnProperty("keyboard"))return!1;this.events.keyboard=T("keydown",{onElement:window,withCallback:function(e,i){var n=(e=e||window.event).keyCode;if(9==n){e.preventDefault();var o=document.querySelectorAll(".gbtn");if(!o||o.length<=0)return;var l=s(o).filter((function(t){return A(t,"focused")}));if(!l.length){var r=document.querySelector(\'.gbtn[tabindex="0"]\');return void(r&&(r.focus(),k(r,"focused")))}o.forEach((function(t){return E(t,"focused")}));var a=l[0].getAttribute("tabindex");a=a||"0";var h=parseInt(a)+1;h>o.length-1&&(h="0");var c=document.querySelector(\'.gbtn[tabindex="\'.concat(h,\'"]\'));c&&(c.focus(),k(c,"focused"))}39==n&&t.nextSlide(),37==n&&t.prevSlide(),27==n&&t.close()}})}function j(){var t=this;if(this.events.hasOwnProperty("touch"))return!1;var e,i,n,s=q(),o=s.width,l=s.height,r=!1,a=null,c=null,u=null,d=!1,g=1,p=1,v=!1,f=!1,m=null,y=null,b=null,x=null,w=0,S=0,T=!1,C=!1,L={},M={},O=0,z=0,N=this,I=document.getElementById("glightbox-slider"),D=document.querySelector(".goverlay"),X=(this.loop(),new h(I,{touchStart:function(t){if(A(t.targetTouches[0].target,"ginner-container"))return r=!1,!1;r=!0,M=t.targetTouches[0],L.pageX=t.targetTouches[0].pageX,L.pageY=t.targetTouches[0].pageY,O=t.targetTouches[0].clientX,z=t.targetTouches[0].clientY,a=N.activeSlide,c=a.querySelector(".gslide-media"),n=a.querySelector(".gslide-inline"),u=null,A(c,"gslide-image")&&(u=c.querySelector("img")),E(D,"greset")},touchMove:function(s){if(r&&(M=s.targetTouches[0],!v&&!f)){if(n&&n.offsetHeight>l){var a=L.pageX-M.pageX;if(Math.abs(a)<=13)return!1}d=!0;var h,g=s.targetTouches[0].clientX,p=s.targetTouches[0].clientY,m=O-g,y=z-p;if(Math.abs(m)>Math.abs(y)?(T=!1,C=!0):(C=!1,T=!0),e=M.pageX-L.pageX,w=100*e/o,i=M.pageY-L.pageY,S=100*i/l,T&&u&&(h=1-Math.abs(i)/l,D.style.opacity=h,t.settings.touchFollowAxis&&(w=0)),C&&(h=1-Math.abs(e)/o,c.style.opacity=h,t.settings.touchFollowAxis&&(S=0)),!u)return H(c,"translate3d(".concat(w,"%, 0, 0)"));H(c,"translate3d(".concat(w,"%, ").concat(S,"%, 0)"))}},touchEnd:function(){if(r){if(d=!1,f||v)return b=m,void(x=y);var e=Math.abs(parseInt(S)),i=Math.abs(parseInt(w));if(!(e>29&&u))return e<29&&i<25?(k(D,"greset"),D.style.opacity=1,V(c)):void 0;t.close()}},multipointEnd:function(){setTimeout((function(){v=!1}),50)},multipointStart:function(){v=!0,g=p||1},pinch:function(t){if(!u||d)return!1;v=!0,u.scaleX=u.scaleY=g*t.zoom;var e=g*t.zoom;if(f=!0,e<=1)return f=!1,e=1,x=null,b=null,m=null,y=null,void u.setAttribute("style","");e>4.5&&(e=4.5),u.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"),p=e},pressMove:function(t){if(f&&!v){var e=M.pageX-L.pageX,i=M.pageY-L.pageY;b&&(e+=b),x&&(i+=x),m=e,y=i;var n="translate3d(".concat(e,"px, ").concat(i,"px, 0)");p&&(n+=" scale3d(".concat(p,", ").concat(p,", 1)")),H(u,n)}},swipe:function(e){if(!f)if(v)v=!1;else{if("Left"==e.direction){if(t.index==t.elements.length-1)return V(c);t.nextSlide()}if("Right"==e.direction){if(0==t.index)return V(c);t.prevSlide()}}}}));this.events.touch=X}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""==e)return t.style.webkitTransform="",t.style.MozTransform="",t.style.msTransform="",t.style.OTransform="",t.style.transform="",!1;t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e}function V(t){var e=A(t,"gslide-media")?t:t.querySelector(".gslide-media"),i=t.querySelector(".gslide-description");k(e,"greset"),H(e,"translate3d(0, 0, 0)");T(p,{onElement:e,once:!0,withCallback:function(t,i){E(e,"greset")}});e.style.opacity="",i&&(i.style.opacity="")}function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=i;if((t=t.trim()).length<=e)return t;var s=t.substr(0,e-1);return n?s+\'... <a href="#" class="desc-more">\'+i+"</a>":s}function Z(t,e){var i=t.querySelector(".desc-more");if(!i)return!1;T("click",{onElement:i,withCallback:function(t,i){t.preventDefault();var n=document.body,s=M(i,".gslide-desc");if(!s)return!1;s.innerHTML=e.description,k(n,"gdesc-open");var o=T("click",{onElement:[n,M(s,".gslide-description")],withCallback:function(t,i){"a"!==t.target.nodeName.toLowerCase()&&(E(n,"gdesc-open"),k(n,"gdesc-closed"),s.innerHTML=e.smallDescription,Z(s,e),setTimeout((function(){E(n,"gdesc-closed")}),400),o.destroy())}})}})}var R=function(){function t(i){e(this,t),this.settings=b(y,i||{}),this.effectsClasses=this.getAnimationClasses(),this.slidesData={}}return n(t,[{key:"init",value:function(){var t=this;this.baseEvents=T("click",{onElement:".".concat(this.settings.selector),withCallback:function(e,i){e.preventDefault(),t.open(i)}})}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=this.getElements(t),0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var e=this.settings.startAt;t&&x.isNil(e)&&(e=this.elements.indexOf(t))<0&&(e=0),x.isNil(e)&&(e=0),this.build(),C(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var i=document.body;if(i.style.width="".concat(i.offsetWidth,"px"),k(i,"glightbox-open"),k(g,"glightbox-open"),u&&(k(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(e,!0),1==this.elements.length?(z(this.prevButton),z(this.nextButton)):(O(this.prevButton),O(this.nextButton)),this.lightboxOpen=!0,x.isFunction(this.settings.onOpen)&&this.settings.onOpen(),u&&d&&this.settings.touchNavigation)return j.apply(this),!1;this.settings.keyboardNavigation&&_.apply(this)}},{key:"showSlide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O(this.loader),this.index=parseInt(e);var n=this.slidesContainer.querySelector(".current");n&&E(n,"current"),this.slideAnimateOut();var s=this.slidesContainer.querySelectorAll(".gslide")[e];if(A(s,"loaded"))this.slideAnimateIn(s,i),z(this.loader);else{O(this.loader);var o=I(this.elements[e],this.settings);o.index=e,this.slidesData[e]=o,D.apply(this,[s,o,function(){z(t.loader),t.resize(),t.slideAnimateIn(s,i)}])}this.slideDescription=s.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&A(this.slideDescription.parentNode,"gslide-media"),this.preloadSlide(e+1),this.preloadSlide(e-1);var l=this.loop();E(this.nextButton,"disabled"),E(this.prevButton,"disabled"),0!==e||l?e!==this.elements.length-1||l||k(this.nextButton,"disabled"):k(this.prevButton,"disabled"),this.activeSlide=s}},{key:"preloadSlide",value:function(t){var e=this;if(t<0||t>this.elements.length)return!1;if(x.isNil(this.elements[t]))return!1;var i=this.slidesContainer.querySelectorAll(".gslide")[t];if(A(i,"loaded"))return!1;var n=I(this.elements[t],this.settings);n.index=t,this.slidesData[t]=n;var s=n.sourcetype;"video"==s||"external"==s?setTimeout((function(){D.apply(e,[i,n])}),200):D.apply(this,[i,n])}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index;var e=this.loop();if(!e&&(t<0||t>this.elements.length))return!1;t<0?t=this.elements.length-1:t>=this.elements.length&&(t=0),this.showSlide(t)}},{key:"slideAnimateIn",value:function(t,e){var i=this,n=t.querySelector(".gslide-media"),s=t.querySelector(".gslide-description"),o={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},l={index:this.index,slide:this.activeSlide};if(n.offsetWidth>0&&s&&(z(s),s.style.display=""),E(t,this.effectsClasses),e)C(t,this.settings.openEffect,(function(){!u&&i.settings.autoplayVideos&&i.playSlideVideo(t),x.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,l])}));else{var r=this.settings.slideEffect,a="none"!==r?this.settings.cssEfects[r].in:r;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(a=this.settings.cssEfects.slide_back.in),C(t,a,(function(){!u&&i.settings.autoplayVideos&&i.playSlideVideo(t),x.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,l])}))}setTimeout((function(){i.resize(t)}),100),k(t,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var t=this.prevActiveSlide;E(t,this.effectsClasses),k(t,"prev");var e=this.settings.slideEffect,i="none"!==e?this.settings.cssEfects[e].out:e;this.stopSlideVideo(t),x.isFunction(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},{index:this.index,slide:this.activeSlide}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(i=this.settings.cssEfects.slide_back.out),C(t,i,(function(){var e=t.querySelector(".gslide-media"),i=t.querySelector(".gslide-description");e.style.transform="",E(e,"greset"),e.style.opacity="",i&&(i.style.opacity=""),E(t,"prev")}))}},{key:"stopSlideVideo",value:function(t){x.isNumber(t)&&(t=this.slidesContainer.querySelectorAll(".gslide")[t]);var e=t?t.querySelector(".gvideo"):null;if(!e)return!1;var i=e.getAttribute("data-id");if(m&&x.has(m,i)){var n=m[i];n&&n.play&&n.pause()}}},{key:"playSlideVideo",value:function(t){x.isNumber(t)&&(t=this.slidesContainer.querySelectorAll(".gslide")[t]);var e=t.querySelector(".gvideo");if(!e)return!1;var i=e.getAttribute("data-id");if(m&&x.has(m,i)){var n=m[i];n&&n.play&&n.play()}}},{key:"setElements",value:function(t){this.settings.elements=t}},{key:"getElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=[],!x.isNil(this.settings.elements)&&x.isArray(this.settings.elements))return this.settings.elements;var e=!1;if(null!==t){var i=t.getAttribute("data-gallery");i&&""!==i&&(e=document.querySelectorAll(\'[data-gallery="\'.concat(i,\'"]\')))}return 0==e&&(e=document.querySelectorAll(".".concat(this.settings.selector))),e=Array.prototype.slice.call(e)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var t=[];for(var e in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(e)){var i=this.settings.cssEfects[e];t.push("g".concat(i.in)),t.push("g".concat(i.out))}return t.join(" ")}},{key:"build",value:function(){var t=this;if(this.built)return!1;var e=x.has(this.settings.svg,"next")?this.settings.svg.next:"",i=x.has(this.settings.svg,"prev")?this.settings.svg.prev:"",n=x.has(this.settings.svg,"close")?this.settings.svg.close:"",s=this.settings.lightboxHtml;s=L(s=(s=(s=s.replace(/{nextSVG}/g,e)).replace(/{prevSVG}/g,i)).replace(/{closeSVG}/g,n)),document.body.appendChild(s);var o=document.getElementById("glightbox-body");this.modal=o;var l=o.querySelector(".gclose");this.prevButton=o.querySelector(".gprev"),this.nextButton=o.querySelector(".gnext"),this.overlay=o.querySelector(".goverlay"),this.loader=o.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},k(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&l&&(this.events.close=T("click",{onElement:l,withCallback:function(e,i){e.preventDefault(),t.close()}})),l&&!this.settings.closeButton&&l.parentNode.removeChild(l),this.nextButton&&(this.events.next=T("click",{onElement:this.nextButton,withCallback:function(e,i){e.preventDefault(),t.nextSlide()}})),this.prevButton&&(this.events.prev=T("click",{onElement:this.prevButton,withCallback:function(e,i){e.preventDefault(),t.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=T("click",{onElement:o,withCallback:function(e,i){A(document.body,"glightbox-mobile")||M(e.target,".ginner-container")||M(e.target,".gbtn")||A(e.target,"gnext")||A(e.target,"gprev")||t.close()}})),w(this.elements,(function(){var e=L(t.settings.slideHtml);t.slidesContainer.appendChild(e)})),d&&k(document.body,"glightbox-touch"),this.events.resize=T("resize",{onElement:window,withCallback:function(){t.resize()}}),this.built=!0}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t=t||this.activeSlide,document.body.style.width="",document.body.style.width="".concat(document.body.offsetWidth,"px"),t&&!A(t,"zoomed")){var e=q(),i=t.querySelector(".gvideo-wrapper"),n=t.querySelector(".gslide-image"),s=this.slideDescription,o=e.width,l=e.height;if(o<=768?k(document.body,"glightbox-mobile"):E(document.body,"glightbox-mobile"),i||n){var r=!1;if(s&&(A(s,"description-bottom")||A(s,"description-top"))&&!A(s,"gabsolute")&&(r=!0),n)if(o<=768){var a=n.querySelector("img");a.setAttribute("style","")}else if(r){var h=s.offsetHeight,c=this.slidesData[this.index].width;c=c<=o?c+"px":"100%";var u=n.querySelector("img");u.setAttribute("style","max-height: calc(100vh - ".concat(h,"px)")),s.setAttribute("style","max-width: ".concat(u.offsetWidth,"px;"))}if(i){var d=this.settings.plyr.ratio.split(":"),g=this.slidesData[this.index].width,p=g/(parseInt(d[0])/parseInt(d[1]));if(p=Math.floor(p),r&&(l-=s.offsetHeight),l<p&&o>g){var v=i.offsetWidth,f=i.offsetHeight,m=l/f,y={width:v*m,height:f*m};i.parentNode.setAttribute("style","max-width: ".concat(y.width,"px")),r&&s.setAttribute("style","max-width: ".concat(y.width,"px;"))}else i.parentNode.style.maxWidth="".concat(g,"px"),r&&s.setAttribute("style","max-width: ".concat(g,"px;"))}}}}},{key:"reload",value:function(){this.init()}},{key:"loop",value:function(){var t=x.has(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return t=x.has(this.settings,"loop")?this.settings.loop:t,t}},{key:"close",value:function(){var t=this;if(this.closing)return!1;this.closing=!0,this.stopSlideVideo(this.activeSlide),k(this.modal,"glightbox-closing"),C(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),C(this.activeSlide,this.settings.closeEffect,(function(){if(t.activeSlide=null,t.prevActiveSlideIndex=null,t.prevActiveSlide=null,t.built=!1,t.events){for(var e in t.events)t.events.hasOwnProperty(e)&&t.events[e].destroy();t.events=null}var i=document.body;E(g,"glightbox-open"),E(i,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile"),i.style.width="",t.modal.parentNode.removeChild(t.modal),x.isFunction(t.settings.onClose)&&t.settings.onClose(),t.closing=null}))}},{key:"destroy",value:function(){this.close(),this.baseEvents.destroy()}}]),t}();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new R(t);return e.init(),e}}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ2xpZ2h0Ym94L2Rpc3QvanMvZ2xpZ2h0Ym94Lm1pbi5qcz83YjYwIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOih0PXR8fHNlbGYpLkdMaWdodGJveD1lKCl9KHRoaXMsKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4odD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkoZSl9ZnVuY3Rpb24gZSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19ZnVuY3Rpb24gbih0LGUsbil7cmV0dXJuIGUmJmkodC5wcm90b3R5cGUsZSksbiYmaSh0LG4pLHR9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsaT1uZXcgQXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKWlbZV09dFtlXTtyZXR1cm4gaX19KHQpfHxmdW5jdGlvbih0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gTWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSl9ZnVuY3Rpb24gbCh0LGUpe3ZhciBpPWZ1bmN0aW9uKHQsZSl7dmFyIGk9byh0KSpvKGUpO2lmKDA9PT1pKXJldHVybiAwO3ZhciBuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueCplLngrdC55KmUueX0odCxlKS9pO3JldHVybiBuPjEmJihuPTEpLE1hdGguYWNvcyhuKX0odCxlKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54KmUueS1lLngqdC55fSh0LGUpPjAmJihpKj0tMSksMTgwKmkvTWF0aC5QSX12YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoaSl7ZSh0aGlzLHQpLHRoaXMuaGFuZGxlcnM9W10sdGhpcy5lbD1pfXJldHVybiBuKHQsW3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmhhbmRsZXJzLnB1c2godCl9fSx7a2V5OlwiZGVsXCIsdmFsdWU6ZnVuY3Rpb24odCl7dHx8KHRoaXMuaGFuZGxlcnM9W10pO2Zvcih2YXIgZT10aGlzLmhhbmRsZXJzLmxlbmd0aDtlPj0wO2UtLSl0aGlzLmhhbmRsZXJzW2VdPT09dCYmdGhpcy5oYW5kbGVycy5zcGxpY2UoZSwxKX19LHtrZXk6XCJkaXNwYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLmhhbmRsZXJzLmxlbmd0aDt0PGU7dCsrKXt2YXIgaT10aGlzLmhhbmRsZXJzW3RdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmkuYXBwbHkodGhpcy5lbCxhcmd1bWVudHMpfX19XSksdH0oKTtmdW5jdGlvbiBhKHQsZSl7dmFyIGk9bmV3IHIodCk7cmV0dXJuIGkuYWRkKGUpLGl9dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGksbil7ZSh0aGlzLHQpLHRoaXMuZWxlbWVudD1cInN0cmluZ1wiPT10eXBlb2YgaT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGkpOmksdGhpcy5zdGFydD10aGlzLnN0YXJ0LmJpbmQodGhpcyksdGhpcy5tb3ZlPXRoaXMubW92ZS5iaW5kKHRoaXMpLHRoaXMuZW5kPXRoaXMuZW5kLmJpbmQodGhpcyksdGhpcy5jYW5jZWw9dGhpcy5jYW5jZWwuYmluZCh0aGlzKSx0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLnN0YXJ0LCExKSx0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMubW92ZSwhMSksdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuZW5kLCExKSx0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5jYW5jZWwsITEpLHRoaXMucHJlVj17eDpudWxsLHk6bnVsbH0sdGhpcy5waW5jaFN0YXJ0TGVuPW51bGwsdGhpcy56b29tPTEsdGhpcy5pc0RvdWJsZVRhcD0hMTt2YXIgcz1mdW5jdGlvbigpe307dGhpcy5yb3RhdGU9YSh0aGlzLmVsZW1lbnQsbi5yb3RhdGV8fHMpLHRoaXMudG91Y2hTdGFydD1hKHRoaXMuZWxlbWVudCxuLnRvdWNoU3RhcnR8fHMpLHRoaXMubXVsdGlwb2ludFN0YXJ0PWEodGhpcy5lbGVtZW50LG4ubXVsdGlwb2ludFN0YXJ0fHxzKSx0aGlzLm11bHRpcG9pbnRFbmQ9YSh0aGlzLmVsZW1lbnQsbi5tdWx0aXBvaW50RW5kfHxzKSx0aGlzLnBpbmNoPWEodGhpcy5lbGVtZW50LG4ucGluY2h8fHMpLHRoaXMuc3dpcGU9YSh0aGlzLmVsZW1lbnQsbi5zd2lwZXx8cyksdGhpcy50YXA9YSh0aGlzLmVsZW1lbnQsbi50YXB8fHMpLHRoaXMuZG91YmxlVGFwPWEodGhpcy5lbGVtZW50LG4uZG91YmxlVGFwfHxzKSx0aGlzLmxvbmdUYXA9YSh0aGlzLmVsZW1lbnQsbi5sb25nVGFwfHxzKSx0aGlzLnNpbmdsZVRhcD1hKHRoaXMuZWxlbWVudCxuLnNpbmdsZVRhcHx8cyksdGhpcy5wcmVzc01vdmU9YSh0aGlzLmVsZW1lbnQsbi5wcmVzc01vdmV8fHMpLHRoaXMudHdvRmluZ2VyUHJlc3NNb3ZlPWEodGhpcy5lbGVtZW50LG4udHdvRmluZ2VyUHJlc3NNb3ZlfHxzKSx0aGlzLnRvdWNoTW92ZT1hKHRoaXMuZWxlbWVudCxuLnRvdWNoTW92ZXx8cyksdGhpcy50b3VjaEVuZD1hKHRoaXMuZWxlbWVudCxuLnRvdWNoRW5kfHxzKSx0aGlzLnRvdWNoQ2FuY2VsPWEodGhpcy5lbGVtZW50LG4udG91Y2hDYW5jZWx8fHMpLHRoaXMuX2NhbmNlbEFsbEhhbmRsZXI9dGhpcy5jYW5jZWxBbGwuYmluZCh0aGlzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX2NhbmNlbEFsbEhhbmRsZXIpLHRoaXMuZGVsdGE9bnVsbCx0aGlzLmxhc3Q9bnVsbCx0aGlzLm5vdz1udWxsLHRoaXMudGFwVGltZW91dD1udWxsLHRoaXMuc2luZ2xlVGFwVGltZW91dD1udWxsLHRoaXMubG9uZ1RhcFRpbWVvdXQ9bnVsbCx0aGlzLnN3aXBlVGltZW91dD1udWxsLHRoaXMueDE9dGhpcy54Mj10aGlzLnkxPXRoaXMueTI9bnVsbCx0aGlzLnByZVRhcFBvc2l0aW9uPXt4Om51bGwseTpudWxsfX1yZXR1cm4gbih0LFt7a2V5Olwic3RhcnRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0LnRvdWNoZXMpe3RoaXMubm93PURhdGUubm93KCksdGhpcy54MT10LnRvdWNoZXNbMF0ucGFnZVgsdGhpcy55MT10LnRvdWNoZXNbMF0ucGFnZVksdGhpcy5kZWx0YT10aGlzLm5vdy0odGhpcy5sYXN0fHx0aGlzLm5vdyksdGhpcy50b3VjaFN0YXJ0LmRpc3BhdGNoKHQsdGhpcy5lbGVtZW50KSxudWxsIT09dGhpcy5wcmVUYXBQb3NpdGlvbi54JiYodGhpcy5pc0RvdWJsZVRhcD10aGlzLmRlbHRhPjAmJnRoaXMuZGVsdGE8PTI1MCYmTWF0aC5hYnModGhpcy5wcmVUYXBQb3NpdGlvbi54LXRoaXMueDEpPDMwJiZNYXRoLmFicyh0aGlzLnByZVRhcFBvc2l0aW9uLnktdGhpcy55MSk8MzAsdGhpcy5pc0RvdWJsZVRhcCYmY2xlYXJUaW1lb3V0KHRoaXMuc2luZ2xlVGFwVGltZW91dCkpLHRoaXMucHJlVGFwUG9zaXRpb24ueD10aGlzLngxLHRoaXMucHJlVGFwUG9zaXRpb24ueT10aGlzLnkxLHRoaXMubGFzdD10aGlzLm5vdzt2YXIgZT10aGlzLnByZVY7aWYodC50b3VjaGVzLmxlbmd0aD4xKXt0aGlzLl9jYW5jZWxMb25nVGFwKCksdGhpcy5fY2FuY2VsU2luZ2xlVGFwKCk7dmFyIGk9e3g6dC50b3VjaGVzWzFdLnBhZ2VYLXRoaXMueDEseTp0LnRvdWNoZXNbMV0ucGFnZVktdGhpcy55MX07ZS54PWkueCxlLnk9aS55LHRoaXMucGluY2hTdGFydExlbj1vKGUpLHRoaXMubXVsdGlwb2ludFN0YXJ0LmRpc3BhdGNoKHQsdGhpcy5lbGVtZW50KX10aGlzLl9wcmV2ZW50VGFwPSExLHRoaXMubG9uZ1RhcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubG9uZ1RhcC5kaXNwYXRjaCh0LHRoaXMuZWxlbWVudCksdGhpcy5fcHJldmVudFRhcD0hMH0uYmluZCh0aGlzKSw3NTApfX19LHtrZXk6XCJtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodC50b3VjaGVzKXt2YXIgZT10aGlzLnByZVYsaT10LnRvdWNoZXMubGVuZ3RoLG49dC50b3VjaGVzWzBdLnBhZ2VYLHM9dC50b3VjaGVzWzBdLnBhZ2VZO2lmKHRoaXMuaXNEb3VibGVUYXA9ITEsaT4xKXt2YXIgcj10LnRvdWNoZXNbMV0ucGFnZVgsYT10LnRvdWNoZXNbMV0ucGFnZVksaD17eDp0LnRvdWNoZXNbMV0ucGFnZVgtbix5OnQudG91Y2hlc1sxXS5wYWdlWS1zfTtudWxsIT09ZS54JiYodGhpcy5waW5jaFN0YXJ0TGVuPjAmJih0Lnpvb209byhoKS90aGlzLnBpbmNoU3RhcnRMZW4sdGhpcy5waW5jaC5kaXNwYXRjaCh0LHRoaXMuZWxlbWVudCkpLHQuYW5nbGU9bChoLGUpLHRoaXMucm90YXRlLmRpc3BhdGNoKHQsdGhpcy5lbGVtZW50KSksZS54PWgueCxlLnk9aC55LG51bGwhPT10aGlzLngyJiZudWxsIT09dGhpcy5zeDI/KHQuZGVsdGFYPShuLXRoaXMueDIrci10aGlzLnN4MikvMix0LmRlbHRhWT0ocy10aGlzLnkyK2EtdGhpcy5zeTIpLzIpOih0LmRlbHRhWD0wLHQuZGVsdGFZPTApLHRoaXMudHdvRmluZ2VyUHJlc3NNb3ZlLmRpc3BhdGNoKHQsdGhpcy5lbGVtZW50KSx0aGlzLnN4Mj1yLHRoaXMuc3kyPWF9ZWxzZXtpZihudWxsIT09dGhpcy54Mil7dC5kZWx0YVg9bi10aGlzLngyLHQuZGVsdGFZPXMtdGhpcy55Mjt2YXIgYz1NYXRoLmFicyh0aGlzLngxLXRoaXMueDIpLHU9TWF0aC5hYnModGhpcy55MS10aGlzLnkyKTsoYz4xMHx8dT4xMCkmJih0aGlzLl9wcmV2ZW50VGFwPSEwKX1lbHNlIHQuZGVsdGFYPTAsdC5kZWx0YVk9MDt0aGlzLnByZXNzTW92ZS5kaXNwYXRjaCh0LHRoaXMuZWxlbWVudCl9dGhpcy50b3VjaE1vdmUuZGlzcGF0Y2godCx0aGlzLmVsZW1lbnQpLHRoaXMuX2NhbmNlbExvbmdUYXAoKSx0aGlzLngyPW4sdGhpcy55Mj1zLGk+MSYmdC5wcmV2ZW50RGVmYXVsdCgpfX19LHtrZXk6XCJlbmRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0LmNoYW5nZWRUb3VjaGVzKXt0aGlzLl9jYW5jZWxMb25nVGFwKCk7dmFyIGU9dGhpczt0LnRvdWNoZXMubGVuZ3RoPDImJih0aGlzLm11bHRpcG9pbnRFbmQuZGlzcGF0Y2godCx0aGlzLmVsZW1lbnQpLHRoaXMuc3gyPXRoaXMuc3kyPW51bGwpLHRoaXMueDImJk1hdGguYWJzKHRoaXMueDEtdGhpcy54Mik+MzB8fHRoaXMueTImJk1hdGguYWJzKHRoaXMueTEtdGhpcy55Mik+MzA/KHQuZGlyZWN0aW9uPXRoaXMuX3N3aXBlRGlyZWN0aW9uKHRoaXMueDEsdGhpcy54Mix0aGlzLnkxLHRoaXMueTIpLHRoaXMuc3dpcGVUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5zd2lwZS5kaXNwYXRjaCh0LGUuZWxlbWVudCl9KSwwKSk6KHRoaXMudGFwVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX3ByZXZlbnRUYXB8fGUudGFwLmRpc3BhdGNoKHQsZS5lbGVtZW50KSxlLmlzRG91YmxlVGFwJiYoZS5kb3VibGVUYXAuZGlzcGF0Y2godCxlLmVsZW1lbnQpLGUuaXNEb3VibGVUYXA9ITEpfSksMCksZS5pc0RvdWJsZVRhcHx8KGUuc2luZ2xlVGFwVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uuc2luZ2xlVGFwLmRpc3BhdGNoKHQsZS5lbGVtZW50KX0pLDI1MCkpKSx0aGlzLnRvdWNoRW5kLmRpc3BhdGNoKHQsdGhpcy5lbGVtZW50KSx0aGlzLnByZVYueD0wLHRoaXMucHJlVi55PTAsdGhpcy56b29tPTEsdGhpcy5waW5jaFN0YXJ0TGVuPW51bGwsdGhpcy54MT10aGlzLngyPXRoaXMueTE9dGhpcy55Mj1udWxsfX19LHtrZXk6XCJjYW5jZWxBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3ByZXZlbnRUYXA9ITAsY2xlYXJUaW1lb3V0KHRoaXMuc2luZ2xlVGFwVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMudGFwVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMubG9uZ1RhcFRpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLnN3aXBlVGltZW91dCl9fSx7a2V5OlwiY2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jYW5jZWxBbGwoKSx0aGlzLnRvdWNoQ2FuY2VsLmRpc3BhdGNoKHQsdGhpcy5lbGVtZW50KX19LHtrZXk6XCJfY2FuY2VsTG9uZ1RhcFwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMubG9uZ1RhcFRpbWVvdXQpfX0se2tleTpcIl9jYW5jZWxTaW5nbGVUYXBcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnNpbmdsZVRhcFRpbWVvdXQpfX0se2tleTpcIl9zd2lwZURpcmVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBNYXRoLmFicyh0LWUpPj1NYXRoLmFicyhpLW4pP3QtZT4wP1wiTGVmdFwiOlwiUmlnaHRcIjppLW4+MD9cIlVwXCI6XCJEb3duXCJ9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXNbdF0mJnRoaXNbdF0uYWRkKGUpfX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpc1t0XSYmdGhpc1t0XS5kZWwoZSl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2luZ2xlVGFwVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuc2luZ2xlVGFwVGltZW91dCksdGhpcy50YXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy50YXBUaW1lb3V0KSx0aGlzLmxvbmdUYXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5sb25nVGFwVGltZW91dCksdGhpcy5zd2lwZVRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLnN3aXBlVGltZW91dCksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5zdGFydCksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLm1vdmUpLHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLmVuZCksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMuY2FuY2VsKSx0aGlzLnJvdGF0ZS5kZWwoKSx0aGlzLnRvdWNoU3RhcnQuZGVsKCksdGhpcy5tdWx0aXBvaW50U3RhcnQuZGVsKCksdGhpcy5tdWx0aXBvaW50RW5kLmRlbCgpLHRoaXMucGluY2guZGVsKCksdGhpcy5zd2lwZS5kZWwoKSx0aGlzLnRhcC5kZWwoKSx0aGlzLmRvdWJsZVRhcC5kZWwoKSx0aGlzLmxvbmdUYXAuZGVsKCksdGhpcy5zaW5nbGVUYXAuZGVsKCksdGhpcy5wcmVzc01vdmUuZGVsKCksdGhpcy50d29GaW5nZXJQcmVzc01vdmUuZGVsKCksdGhpcy50b3VjaE1vdmUuZGVsKCksdGhpcy50b3VjaEVuZC5kZWwoKSx0aGlzLnRvdWNoQ2FuY2VsLmRlbCgpLHRoaXMucHJlVj10aGlzLnBpbmNoU3RhcnRMZW49dGhpcy56b29tPXRoaXMuaXNEb3VibGVUYXA9dGhpcy5kZWx0YT10aGlzLmxhc3Q9dGhpcy5ub3c9dGhpcy50YXBUaW1lb3V0PXRoaXMuc2luZ2xlVGFwVGltZW91dD10aGlzLmxvbmdUYXBUaW1lb3V0PXRoaXMuc3dpcGVUaW1lb3V0PXRoaXMueDE9dGhpcy54Mj10aGlzLnkxPXRoaXMueTI9dGhpcy5wcmVUYXBQb3NpdGlvbj10aGlzLnJvdGF0ZT10aGlzLnRvdWNoU3RhcnQ9dGhpcy5tdWx0aXBvaW50U3RhcnQ9dGhpcy5tdWx0aXBvaW50RW5kPXRoaXMucGluY2g9dGhpcy5zd2lwZT10aGlzLnRhcD10aGlzLmRvdWJsZVRhcD10aGlzLmxvbmdUYXA9dGhpcy5zaW5nbGVUYXA9dGhpcy5wcmVzc01vdmU9dGhpcy50b3VjaE1vdmU9dGhpcy50b3VjaEVuZD10aGlzLnRvdWNoQ2FuY2VsPXRoaXMudHdvRmluZ2VyUHJlc3NNb3ZlPW51bGwsd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9jYW5jZWxBbGxIYW5kbGVyKSxudWxsfX1dKSx0fSgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGksbil7dmFyIHM9dGhpcyxvPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsO2lmKGUodGhpcyx0KSx0aGlzLmltZz1pLHRoaXMuc2xpZGU9bix0aGlzLm9uY2xvc2U9byx0aGlzLmltZy5zZXRab29tRXZlbnRzKXJldHVybiExO3RoaXMuYWN0aXZlPSExLHRoaXMuem9vbWVkSW49ITEsdGhpcy5kcmFnZ2luZz0hMSx0aGlzLmN1cnJlbnRYPW51bGwsdGhpcy5jdXJyZW50WT1udWxsLHRoaXMuaW5pdGlhbFg9bnVsbCx0aGlzLmluaXRpYWxZPW51bGwsdGhpcy54T2Zmc2V0PTAsdGhpcy55T2Zmc2V0PTAsdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLChmdW5jdGlvbih0KXtyZXR1cm4gcy5kcmFnU3RhcnQodCl9KSwhMSksdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwoZnVuY3Rpb24odCl7cmV0dXJuIHMuZHJhZ0VuZCh0KX0pLCExKSx0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBzLmRyYWcodCl9KSwhMSksdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKHQpe2lmKCFzLnpvb21lZEluKXJldHVybiBzLnpvb21JbigpO3Muem9vbWVkSW4mJiFzLmRyYWdnaW5nJiZzLnpvb21PdXQoKX0pLCExKSx0aGlzLmltZy5zZXRab29tRXZlbnRzPSEwfXJldHVybiBuKHQsW3trZXk6XCJ6b29tSW5cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMud2lkb3dXaWR0aCgpO2lmKCEodGhpcy56b29tZWRJbnx8dDw9NzY4KSl7dmFyIGU9dGhpcy5pbWc7aWYoZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0eWxlXCIsZS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSksZS5zdHlsZS5tYXhXaWR0aD1lLm5hdHVyYWxXaWR0aCtcInB4XCIsZS5zdHlsZS5tYXhIZWlnaHQ9ZS5uYXR1cmFsSGVpZ2h0K1wicHhcIixlLm5hdHVyYWxXaWR0aD50KXt2YXIgaT10LzItZS5uYXR1cmFsV2lkdGgvMjt0aGlzLnNldFRyYW5zbGF0ZSh0aGlzLmltZy5wYXJlbnROb2RlLGksMCl9dGhpcy5zbGlkZS5jbGFzc0xpc3QuYWRkKFwiem9vbWVkXCIpLHRoaXMuem9vbWVkSW49ITB9fX0se2tleTpcInpvb21PdXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW1nLnBhcmVudE5vZGUuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIlwiKSx0aGlzLmltZy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLHRoaXMuaW1nLmdldEF0dHJpYnV0ZShcImRhdGEtc3R5bGVcIikpLHRoaXMuc2xpZGUuY2xhc3NMaXN0LnJlbW92ZShcInpvb21lZFwiKSx0aGlzLnpvb21lZEluPSExLHRoaXMuY3VycmVudFg9bnVsbCx0aGlzLmN1cnJlbnRZPW51bGwsdGhpcy5pbml0aWFsWD1udWxsLHRoaXMuaW5pdGlhbFk9bnVsbCx0aGlzLnhPZmZzZXQ9MCx0aGlzLnlPZmZzZXQ9MCx0aGlzLm9uY2xvc2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25jbG9zZSYmdGhpcy5vbmNsb3NlKCl9fSx7a2V5OlwiZHJhZ1N0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuem9vbWVkSW4/KFwidG91Y2hzdGFydFwiPT09dC50eXBlPyh0aGlzLmluaXRpYWxYPXQudG91Y2hlc1swXS5jbGllbnRYLXRoaXMueE9mZnNldCx0aGlzLmluaXRpYWxZPXQudG91Y2hlc1swXS5jbGllbnRZLXRoaXMueU9mZnNldCk6KHRoaXMuaW5pdGlhbFg9dC5jbGllbnRYLXRoaXMueE9mZnNldCx0aGlzLmluaXRpYWxZPXQuY2xpZW50WS10aGlzLnlPZmZzZXQpLHQudGFyZ2V0PT09dGhpcy5pbWcmJih0aGlzLmFjdGl2ZT0hMCx0aGlzLmltZy5jbGFzc0xpc3QuYWRkKFwiZHJhZ2dpbmdcIikpKTp0aGlzLmFjdGl2ZT0hMX19LHtrZXk6XCJkcmFnRW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5pbml0aWFsWD10aGlzLmN1cnJlbnRYLHRoaXMuaW5pdGlhbFk9dGhpcy5jdXJyZW50WSx0aGlzLmFjdGl2ZT0hMSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuZHJhZ2dpbmc9ITEsZS5pbWcuaXNEcmFnZ2luZz0hMSxlLmltZy5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIil9KSwxMDApfX0se2tleTpcImRyYWdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZSYmKHQucHJldmVudERlZmF1bHQoKSxcInRvdWNobW92ZVwiPT09dC50eXBlPyh0aGlzLmN1cnJlbnRYPXQudG91Y2hlc1swXS5jbGllbnRYLXRoaXMuaW5pdGlhbFgsdGhpcy5jdXJyZW50WT10LnRvdWNoZXNbMF0uY2xpZW50WS10aGlzLmluaXRpYWxZKToodGhpcy5jdXJyZW50WD10LmNsaWVudFgtdGhpcy5pbml0aWFsWCx0aGlzLmN1cnJlbnRZPXQuY2xpZW50WS10aGlzLmluaXRpYWxZKSx0aGlzLnhPZmZzZXQ9dGhpcy5jdXJyZW50WCx0aGlzLnlPZmZzZXQ9dGhpcy5jdXJyZW50WSx0aGlzLmltZy5pc0RyYWdnaW5nPSEwLHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy5zZXRUcmFuc2xhdGUodGhpcy5pbWcsdGhpcy5jdXJyZW50WCx0aGlzLmN1cnJlbnRZKSl9fSx7a2V5Olwib25Nb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy56b29tZWRJbil7dmFyIGU9dC5jbGllbnRYLXRoaXMuaW1nLm5hdHVyYWxXaWR0aC8yLGk9dC5jbGllbnRZLXRoaXMuaW1nLm5hdHVyYWxIZWlnaHQvMjt0aGlzLnNldFRyYW5zbGF0ZSh0aGlzLmltZyxlLGkpfX19LHtrZXk6XCJzZXRUcmFuc2xhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUzZChcIitlK1wicHgsIFwiK2krXCJweCwgMClcIn19LHtrZXk6XCJ3aWRvd1dpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aH19XSksdH0oKSx1PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhpUGFkKXwoaVBob25lKXwoaVBvZCl8KEFuZHJvaWQpfChQbGF5Qm9vayl8KEJCMTApfChCbGFja0JlcnJ5KXwoT3BlcmEgTWluaSl8KElFTW9iaWxlKXwod2ViT1MpfChNZWVHbykvaSksZD1udWxsIT09dXx8dm9pZCAwIT09ZG9jdW1lbnQuY3JlYXRlVG91Y2h8fFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fFwib25tc2dlc3R1cmVjaGFuZ2VcImluIHdpbmRvd3x8bmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMsZz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImh0bWxcIilbMF0scD1mdW5jdGlvbigpe3ZhciB0LGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZha2VlbGVtZW50XCIpLGk9e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKHQgaW4gaSlpZih2b2lkIDAhPT1lLnN0eWxlW3RdKXJldHVybiBpW3RdfSgpLHY9ZnVuY3Rpb24oKXt2YXIgdCxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmYWtlZWxlbWVudFwiKSxpPXthbmltYXRpb246XCJhbmltYXRpb25lbmRcIixPQW5pbWF0aW9uOlwib0FuaW1hdGlvbkVuZFwiLE1vekFuaW1hdGlvbjpcImFuaW1hdGlvbmVuZFwiLFdlYmtpdEFuaW1hdGlvbjpcIndlYmtpdEFuaW1hdGlvbkVuZFwifTtmb3IodCBpbiBpKWlmKHZvaWQgMCE9PWUuc3R5bGVbdF0pcmV0dXJuIGlbdF19KCksZj1EYXRlLm5vdygpLG09e30seT17c2VsZWN0b3I6XCJnbGlnaHRib3hcIixlbGVtZW50czpudWxsLHNraW46XCJjbGVhblwiLGNsb3NlQnV0dG9uOiEwLHN0YXJ0QXQ6bnVsbCxhdXRvcGxheVZpZGVvczohMCxkZXNjUG9zaXRpb246XCJib3R0b21cIix3aWR0aDo5MDAsaGVpZ2h0OjUwNix2aWRlb3NXaWR0aDo5NjAsYmVmb3JlU2xpZGVDaGFuZ2U6bnVsbCxhZnRlclNsaWRlQ2hhbmdlOm51bGwsYmVmb3JlU2xpZGVMb2FkOm51bGwsYWZ0ZXJTbGlkZUxvYWQ6bnVsbCxvbk9wZW46bnVsbCxvbkNsb3NlOm51bGwsbG9vcDohMSx0b3VjaE5hdmlnYXRpb246ITAsdG91Y2hGb2xsb3dBeGlzOiEwLGtleWJvYXJkTmF2aWdhdGlvbjohMCxjbG9zZU9uT3V0c2lkZUNsaWNrOiEwLHBseXI6e2NzczpcImh0dHBzOi8vY2RuLnBseXIuaW8vMy41LjYvcGx5ci5jc3NcIixqczpcImh0dHBzOi8vY2RuLnBseXIuaW8vMy41LjYvcGx5ci5qc1wiLHJhdGlvOlwiMTY6OVwiLGNvbmZpZzp7eW91dHViZTp7bm9Db29raWU6ITAscmVsOjAsc2hvd2luZm86MCxpdl9sb2FkX3BvbGljeTozfSx2aW1lbzp7YnlsaW5lOiExLHBvcnRyYWl0OiExLHRpdGxlOiExLHRyYW5zcGFyZW50OiExfX19LG9wZW5FZmZlY3Q6XCJ6b29tSW5cIixjbG9zZUVmZmVjdDpcInpvb21PdXRcIixzbGlkZUVmZmVjdDpcInNsaWRlXCIsbW9yZVRleHQ6XCJTZWUgbW9yZVwiLG1vcmVMZW5ndGg6NjAsbGlnaHRib3hIdG1sOlwiXCIsY3NzRWZlY3RzOntmYWRlOntpbjpcImZhZGVJblwiLG91dDpcImZhZGVPdXRcIn0sem9vbTp7aW46XCJ6b29tSW5cIixvdXQ6XCJ6b29tT3V0XCJ9LHNsaWRlOntpbjpcInNsaWRlSW5SaWdodFwiLG91dDpcInNsaWRlT3V0TGVmdFwifSxzbGlkZV9iYWNrOntpbjpcInNsaWRlSW5MZWZ0XCIsb3V0Olwic2xpZGVPdXRSaWdodFwifX0sc3ZnOntjbG9zZTonPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJMYXllcl8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj48Zz48Zz48cGF0aCBkPVwiTTUwNS45NDMsNi4wNThjLTguMDc3LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDksMEw2LjA1OCw0NzYuNjkzYy04LjA3Nyw4LjA3Ny04LjA3NywyMS4xNzIsMCwyOS4yNDlDMTAuMDk2LDUwOS45ODIsMTUuMzksNTEyLDIwLjY4Myw1MTJjNS4yOTMsMCwxMC41ODYtMi4wMTksMTQuNjI1LTYuMDU5TDUwNS45NDMsMzUuMzA2QzUxNC4wMTksMjcuMjMsNTE0LjAxOSwxNC4xMzUsNTA1Ljk0Myw2LjA1OHpcIi8+PC9nPjwvZz48Zz48Zz48cGF0aCBkPVwiTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNmM0LjAzOCw0LjAzOSw5LjMzMiw2LjA1OCwxNC42MjUsNi4wNThjNS4yOTMsMCwxMC41ODctMi4wMTksMTQuNjI0LTYuMDU3QzUxNC4wMTgsNDk3Ljg2Niw1MTQuMDE4LDQ4NC43NzEsNTA1Ljk0Miw0NzYuNjk0elwiLz48L2c+PC9nPjwvc3ZnPicsbmV4dDonPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJDYXBhXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDQ3Ny4xNzUgNDc3LjE3NVwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+IDxnPjxwYXRoIGQ9XCJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjVjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXpcIi8+PC9nPjwvc3ZnPicscHJldjonPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJDYXBhXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDQ3Ny4xNzUgNDc3LjE3NVwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PGc+PHBhdGggZD1cIk0xNDUuMTg4LDIzOC41NzVsMjE1LjUtMjE1LjVjNS4zLTUuMyw1LjMtMTMuOCwwLTE5LjFzLTEzLjgtNS4zLTE5LjEsMGwtMjI1LjEsMjI1LjFjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xbDIyNS4xLDIyNWMyLjYsMi42LDYuMSw0LDkuNSw0czYuOS0xLjMsOS41LTRjNS4zLTUuMyw1LjMtMTMuOCwwLTE5LjFMMTQ1LjE4OCwyMzguNTc1elwiLz48L2c+PC9zdmc+J319O3kuc2xpZGVIdG1sPSc8ZGl2IGNsYXNzPVwiZ3NsaWRlXCI+XFxuICAgIDxkaXYgY2xhc3M9XCJnc2xpZGUtaW5uZXItY29udGVudFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImdpbm5lci1jb250YWluZXJcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3NsaWRlLW1lZGlhXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdzbGlkZS1kZXNjcmlwdGlvblwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ2Rlc2MtaW5uZXJcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImdzbGlkZS10aXRsZVwiPjwvaDQ+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3NsaWRlLWRlc2NcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+JztmdW5jdGlvbiBiKCl7dmFyIHQ9e30sZT0hMSxpPTAsbj1hcmd1bWVudHMubGVuZ3RoO1wiW29iamVjdCBCb29sZWFuXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50c1swXSkmJihlPWFyZ3VtZW50c1swXSxpKyspO2Zvcih2YXIgcz1mdW5jdGlvbihpKXtmb3IodmFyIG4gaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxuKSYmKGUmJlwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaVtuXSk/dFtuXT1iKCEwLHRbbl0saVtuXSk6dFtuXT1pW25dKX07aTxuO2krKyl7cyhhcmd1bWVudHNbaV0pfXJldHVybiB0fXkubGlnaHRib3hIdG1sPSc8ZGl2IGlkPVwiZ2xpZ2h0Ym94LWJvZHlcIiBjbGFzcz1cImdsaWdodGJveC1jb250YWluZXJcIj5cXG4gICAgPGRpdiBjbGFzcz1cImdsb2FkZXIgdmlzaWJsZVwiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwiZ292ZXJsYXlcIj48L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImdjb250YWluZXJcIj5cXG4gICAgPGRpdiBpZD1cImdsaWdodGJveC1zbGlkZXJcIiBjbGFzcz1cImdzbGlkZXJcIj48L2Rpdj5cXG4gICAgPGJ1dHRvbiBjbGFzcz1cImduZXh0IGdidG5cIiB0YWJpbmRleD1cIjBcIj57bmV4dFNWR308L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiBjbGFzcz1cImdwcmV2IGdidG5cIiB0YWJpbmRleD1cIjFcIj57cHJldlNWR308L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiBjbGFzcz1cImdjbG9zZSBnYnRuXCIgdGFiaW5kZXg9XCIyXCI+e2Nsb3NlU1ZHfTwvYnV0dG9uPlxcbjwvZGl2PlxcbjwvZGl2Pic7dmFyIHg9e2lzRnVuY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH0saXNTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9LGlzTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5ub2RlVHlwZXx8MSE9dC5ub2RlVHlwZSl9LGlzQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl9LGlzQXJyYXlMaWtlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aCYmaXNGaW5pdGUodC5sZW5ndGgpfSxpc09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT09dChlKSYmbnVsbCE9ZSYmIXguaXNGdW5jdGlvbihlKSYmIXguaXNBcnJheShlKX0saXNOaWw6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXR9LGhhczpmdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT09dCYmaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxzaXplOmZ1bmN0aW9uKHQpe2lmKHguaXNPYmplY3QodCkpe2lmKHQua2V5cylyZXR1cm4gdC5rZXlzKCkubGVuZ3RoO3ZhciBlPTA7Zm9yKHZhciBpIGluIHQpeC5oYXModCxpKSYmZSsrO3JldHVybiBlfXJldHVybiB0Lmxlbmd0aH0saXNOdW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodCkpJiZpc0Zpbml0ZSh0KX19O2Z1bmN0aW9uIHcodCxlKXtpZigoeC5pc05vZGUodCl8fHQ9PT13aW5kb3d8fHQ9PT1kb2N1bWVudCkmJih0PVt0XSkseC5pc0FycmF5TGlrZSh0KXx8eC5pc09iamVjdCh0KXx8KHQ9W3RdKSwwIT14LnNpemUodCkpaWYoeC5pc0FycmF5TGlrZSh0KSYmIXguaXNPYmplY3QodCkpZm9yKHZhciBpPXQubGVuZ3RoLG49MDtuPGkmJiExIT09ZS5jYWxsKHRbbl0sdFtuXSxuLHQpO24rKyk7ZWxzZSBpZih4LmlzT2JqZWN0KHQpKWZvcih2YXIgcyBpbiB0KWlmKHguaGFzKHQscykmJiExPT09ZS5jYWxsKHRbc10sdFtzXSxzLHQpKWJyZWFrfWZ1bmN0aW9uIFModCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxuPXRbZl09dFtmXXx8W10scz17YWxsOm4sZXZ0Om51bGwsZm91bmQ6bnVsbH07cmV0dXJuIGUmJmkmJnguc2l6ZShuKT4wJiZ3KG4sKGZ1bmN0aW9uKHQsbil7aWYodC5ldmVudE5hbWU9PWUmJnQuZm4udG9TdHJpbmcoKT09aS50b1N0cmluZygpKXJldHVybiBzLmZvdW5kPSEwLHMuZXZ0PW4sITF9KSksc31mdW5jdGlvbiBUKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPWUub25FbGVtZW50LG49ZS53aXRoQ2FsbGJhY2sscz1lLmF2b2lkRHVwbGljYXRlLG89dm9pZCAwPT09c3x8cyxsPWUub25jZSxyPXZvaWQgMCE9PWwmJmwsYT1lLnVzZUNhcHR1cmUsaD12b2lkIDAhPT1hJiZhLGM9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsdT1pfHxbXTtmdW5jdGlvbiBkKHQpe3guaXNGdW5jdGlvbihuKSYmbi5jYWxsKGMsdCx0aGlzKSxyJiZkLmRlc3Ryb3koKX1yZXR1cm4geC5pc1N0cmluZyh1KSYmKHU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh1KSksZC5kZXN0cm95PWZ1bmN0aW9uKCl7dyh1LChmdW5jdGlvbihlKXt2YXIgaT1TKGUsdCxkKTtpLmZvdW5kJiZpLmFsbC5zcGxpY2UoaS5ldnQsMSksZS5yZW1vdmVFdmVudExpc3RlbmVyJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxkLGgpfSkpfSx3KHUsKGZ1bmN0aW9uKGUpe3ZhciBpPVMoZSx0LGQpOyhlLmFkZEV2ZW50TGlzdGVuZXImJm8mJiFpLmZvdW5kfHwhbykmJihlLmFkZEV2ZW50TGlzdGVuZXIodCxkLGgpLGkuYWxsLnB1c2goe2V2ZW50TmFtZTp0LGZuOmR9KSl9KSksZH1mdW5jdGlvbiBrKHQsZSl7dyhlLnNwbGl0KFwiIFwiKSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2xhc3NMaXN0LmFkZChlKX0pKX1mdW5jdGlvbiBFKHQsZSl7dyhlLnNwbGl0KFwiIFwiKSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2xhc3NMaXN0LnJlbW92ZShlKX0pKX1mdW5jdGlvbiBBKHQsZSl7cmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpfWZ1bmN0aW9uIEModCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCIsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKCF0fHxcIlwiPT09ZSlyZXR1cm4hMTtpZihcIm5vbmVcIj09ZSlyZXR1cm4geC5pc0Z1bmN0aW9uKGkpJiZpKCksITE7dmFyIG49ZS5zcGxpdChcIiBcIik7dyhuLChmdW5jdGlvbihlKXtrKHQsXCJnXCIrZSl9KSksVCh2LHtvbkVsZW1lbnQ6dCxhdm9pZER1cGxpY2F0ZTohMSxvbmNlOiEwLHdpdGhDYWxsYmFjazpmdW5jdGlvbih0LGUpe3cobiwoZnVuY3Rpb24odCl7RShlLFwiZ1wiK3QpfSkpLHguaXNGdW5jdGlvbihpKSYmaSgpfX0pfWZ1bmN0aW9uIEwodCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmb3IoaS5pbm5lckhUTUw9dDtpLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoaS5maXJzdENoaWxkKTtyZXR1cm4gZX1mdW5jdGlvbiBNKHQsZSl7Zm9yKDt0IT09ZG9jdW1lbnQuYm9keTspe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9dC5wYXJlbnRFbGVtZW50KS5tYXRjaGVzP3QubWF0Y2hlcyhlKTp0Lm1zTWF0Y2hlc1NlbGVjdG9yKGUpKXJldHVybiB0fX1mdW5jdGlvbiBPKHQpe3Quc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9ZnVuY3Rpb24geih0KXt0LnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9ZnVuY3Rpb24gcSgpe3JldHVybnt3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLGhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fX1mdW5jdGlvbiBOKHQpe2lmKEEodC50YXJnZXQsXCJwbHlyLS1odG1sNVwiKSl7dmFyIGU9TSh0LnRhcmdldCxcIi5nc2xpZGUtbWVkaWFcIik7XCJlbnRlcmZ1bGxzY3JlZW5cIj09dC50eXBlJiZrKGUsXCJmdWxsc2NyZWVuXCIpLFwiZXhpdGZ1bGxzY3JlZW5cIj09dC50eXBlJiZFKGUsXCJmdWxsc2NyZWVuXCIpfX12YXIgST1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT17aHJlZjpcIlwiLHRpdGxlOlwiXCIsdHlwZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIsZGVzY1Bvc2l0aW9uOmUuZGVzY1Bvc2l0aW9uLGVmZmVjdDpcIlwiLHdpZHRoOlwiXCIsaGVpZ2h0OlwiXCIsbm9kZTp0fTtpZih4LmlzT2JqZWN0KHQpJiYheC5pc05vZGUodCkpcmV0dXJuIGIoaSx0KTt2YXIgbj1cIlwiLHM9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWdsaWdodGJveFwiKSxvPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcImFcIj09PW8mJihuPXQuaHJlZiksXCJpbWdcIj09PW8mJihuPXQuc3JjKSxpLmhyZWY9bix3KGksKGZ1bmN0aW9uKG4scyl7eC5oYXMoZSxzKSYmXCJ3aWR0aFwiIT09cyYmKGlbc109ZVtzXSk7dmFyIG89dC5kYXRhc2V0W3NdO3guaXNOaWwobyl8fChpW3NdPW8pfSkpLGkudHlwZXx8KGkudHlwZT1XKG4pKSx4LmlzTmlsKHMpKXtpZihcImFcIj09byl7dmFyIGw9dC50aXRsZTt4LmlzTmlsKGwpfHxcIlwiPT09bHx8KGkudGl0bGU9bCl9aWYoXCJpbWdcIj09byl7dmFyIHI9dC5hbHQ7eC5pc05pbChyKXx8XCJcIj09PXJ8fChpLnRpdGxlPXIpfXZhciBhPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kZXNjcmlwdGlvblwiKTt4LmlzTmlsKGEpfHxcIlwiPT09YXx8KGkuZGVzY3JpcHRpb249YSl9ZWxzZXt2YXIgaD1bXTt3KGksKGZ1bmN0aW9uKHQsZSl7aC5wdXNoKFwiO1xcXFxzP1wiK2UpfSkpLGg9aC5qb2luKFwiXFxcXHM/OnxcIiksXCJcIiE9PXMudHJpbSgpJiZ3KGksKGZ1bmN0aW9uKHQsZSl7dmFyIG49cyxvPW5ldyBSZWdFeHAoXCJzP1wiK2UrXCJzPzpzPyguKj8pKFwiK2grXCJzPzp8JClcIiksbD1uLm1hdGNoKG8pO2lmKGwmJmwubGVuZ3RoJiZsWzFdKXt2YXIgcj1sWzFdLnRyaW0oKS5yZXBsYWNlKC87XFxzKiQvLFwiXCIpO2lbZV09cn19KSl9aWYoaS5kZXNjcmlwdGlvbiYmXCIuXCI9PWkuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsMSkmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaS5kZXNjcmlwdGlvbikpaS5kZXNjcmlwdGlvbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGkuZGVzY3JpcHRpb24pLmlubmVySFRNTDtlbHNle3ZhciBjPXQucXVlcnlTZWxlY3RvcihcIi5nbGlnaHRib3gtZGVzY1wiKTtjJiYoaS5kZXNjcmlwdGlvbj1jLmlubmVySFRNTCl9dmFyIHU9XCJ2aWRlb1wiPT1pLnR5cGU/ZS52aWRlb3NXaWR0aDplLndpZHRoLGQ9ZS5oZWlnaHQ7cmV0dXJuIGkud2lkdGg9eC5oYXMoaSxcIndpZHRoXCIpJiZcIlwiIT09aS53aWR0aD9pLndpZHRoOnUsaS5oZWlnaHQ9eC5oYXMoaSxcImhlaWdodFwiKSYmXCJcIiE9PWkuaGVpZ2h0P2kuaGVpZ2h0OmQsaX0sRD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoQShlLFwibG9hZGVkXCIpKXJldHVybiExO3guaXNGdW5jdGlvbih0aGlzLnNldHRpbmdzLmJlZm9yZVNsaWRlTG9hZCkmJnRoaXMuc2V0dGluZ3MuYmVmb3JlU2xpZGVMb2FkKGUsaSk7dmFyIHM9aS50eXBlLG89aS5kZXNjUG9zaXRpb24sbD1lLnF1ZXJ5U2VsZWN0b3IoXCIuZ3NsaWRlLW1lZGlhXCIpLHI9ZS5xdWVyeVNlbGVjdG9yKFwiLmdzbGlkZS10aXRsZVwiKSxhPWUucXVlcnlTZWxlY3RvcihcIi5nc2xpZGUtZGVzY1wiKSxoPWUucXVlcnlTZWxlY3RvcihcIi5nZGVzYy1pbm5lclwiKSxkPW47aWYoeC5pc0Z1bmN0aW9uKHRoaXMuc2V0dGluZ3MuYWZ0ZXJTbGlkZUxvYWQpJiYoZD1mdW5jdGlvbigpe3guaXNGdW5jdGlvbihuKSYmbigpLHQuc2V0dGluZ3MuYWZ0ZXJTbGlkZUxvYWQoZSxpKX0pLFwiXCI9PWkudGl0bGUmJlwiXCI9PWkuZGVzY3JpcHRpb24/aCYmaC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaC5wYXJlbnROb2RlKToociYmXCJcIiE9PWkudGl0bGU/ci5pbm5lckhUTUw9aS50aXRsZTpyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQociksYSYmXCJcIiE9PWkuZGVzY3JpcHRpb24/dSYmdGhpcy5zZXR0aW5ncy5tb3JlTGVuZ3RoPjA/KGkuc21hbGxEZXNjcmlwdGlvbj1HKGkuZGVzY3JpcHRpb24sdGhpcy5zZXR0aW5ncy5tb3JlTGVuZ3RoLHRoaXMuc2V0dGluZ3MubW9yZVRleHQpLGEuaW5uZXJIVE1MPWkuc21hbGxEZXNjcmlwdGlvbixaLmFwcGx5KHRoaXMsW2EsaV0pKTphLmlubmVySFRNTD1pLmRlc2NyaXB0aW9uOmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxrKGwucGFyZW50Tm9kZSxcImRlc2MtXCIuY29uY2F0KG8pKSxrKGgucGFyZW50Tm9kZSxcImRlc2NyaXB0aW9uLVwiLmNvbmNhdChvKSkpLGsobCxcImdzbGlkZS1cIi5jb25jYXQocykpLGsoZSxcImxvYWRlZFwiKSxcInZpZGVvXCI9PT1zKXJldHVybiBrKGwucGFyZW50Tm9kZSxcImd2aWRlby1jb250YWluZXJcIiksbC5pbnNlcnRCZWZvcmUoTCgnPGRpdiBjbGFzcz1cImd2aWRlby13cmFwcGVyXCI+PC9kaXY+JyksbC5maXJzdENoaWxkKSx2b2lkIFguYXBwbHkodGhpcyxbZSxpLGRdKTtpZihcImV4dGVybmFsXCI9PT1zKXt2YXIgZz1ZKHt1cmw6aS5ocmVmLHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LGNhbGxiYWNrOmR9KTtyZXR1cm4gbC5wYXJlbnROb2RlLnN0eWxlLm1heFdpZHRoPVwiXCIuY29uY2F0KGkud2lkdGgsXCJweFwiKSx2b2lkIGwuYXBwZW5kQ2hpbGQoZyl9aWYoXCJpbmxpbmVcIiE9PXMpe2lmKFwiaW1hZ2VcIj09PXMpe3ZhciBwPW5ldyBJbWFnZTtyZXR1cm4gcC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLChmdW5jdGlvbigpeyF1JiZwLm5hdHVyYWxXaWR0aD5wLm9mZnNldFdpZHRoJiYoayhwLFwiem9vbWFibGVcIiksbmV3IGMocCxlLChmdW5jdGlvbigpe3QucmVzaXplKGUpfSkpKSx4LmlzRnVuY3Rpb24oZCkmJmQoKX0pLCExKSxwLnNyYz1pLmhyZWYsdm9pZCBsLmluc2VydEJlZm9yZShwLGwuZmlyc3RDaGlsZCl9eC5pc0Z1bmN0aW9uKGQpJiZkKCl9ZWxzZSBQLmFwcGx5KHRoaXMsW2UsaSxkXSl9O2Z1bmN0aW9uIFgodCxlLGkpe3ZhciBuPXRoaXMscz1cImd2aWRlb1wiK2UuaW5kZXgsbz10LnF1ZXJ5U2VsZWN0b3IoXCIuZ3ZpZGVvLXdyYXBwZXJcIik7Qih0aGlzLnNldHRpbmdzLnBseXIuY3NzKTt2YXIgbD1lLmhyZWYscj1sb2NhdGlvbi5wcm90b2NvbC5yZXBsYWNlKFwiOlwiLFwiXCIpLGE9XCJcIixoPVwiXCIsYz0hMTtcImZpbGVcIj09ciYmKHI9XCJodHRwXCIpLG8ucGFyZW50Tm9kZS5zdHlsZS5tYXhXaWR0aD1cIlwiLmNvbmNhdChlLndpZHRoLFwicHhcIiksQih0aGlzLnNldHRpbmdzLnBseXIuanMsXCJQbHlyXCIsKGZ1bmN0aW9uKCl7aWYobC5tYXRjaCgvdmltZW9cXC5jb21cXC8oWzAtOV0qKS8pKXt2YXIgdD0vdmltZW8uKlxcLyhcXGQrKS9pLmV4ZWMobCk7YT1cInZpbWVvXCIsaD10WzFdfWlmKGwubWF0Y2goLyh5b3V0dWJlXFwuY29tfHlvdXR1YmUtbm9jb29raWVcXC5jb20pXFwvd2F0Y2hcXD92PShbYS16QS1aMC05XFwtX10rKS8pfHxsLm1hdGNoKC95b3V0dVxcLmJlXFwvKFthLXpBLVowLTlcXC1fXSspLyl8fGwubWF0Y2goLyh5b3V0dWJlXFwuY29tfHlvdXR1YmUtbm9jb29raWVcXC5jb20pXFwvZW1iZWRcXC8oW2EtekEtWjAtOVxcLV9dKykvKSl7dmFyIHI9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIjtlPXZvaWQgMCE9PSh0PXQucmVwbGFjZSgvKD58PCkvZ2ksXCJcIikuc3BsaXQoLyh2aVxcL3x2PXxcXC92XFwvfHlvdXR1XFwuYmVcXC98XFwvZW1iZWRcXC8pLykpWzJdPyhlPXRbMl0uc3BsaXQoL1teMC05YS16X1xcLV0vaSkpWzBdOnQ7cmV0dXJuIGV9KGwpO2E9XCJ5b3V0dWJlXCIsaD1yfWlmKG51bGwhPT1sLm1hdGNoKC9cXC4obXA0fG9nZ3x3ZWJtfG1vdikkLykpe2E9XCJsb2NhbFwiO3ZhciB1PSc8dmlkZW8gaWQ9XCInK3MrJ1wiICc7dSs9J3N0eWxlPVwiYmFja2dyb3VuZDojMDAwOyBtYXgtd2lkdGg6ICcuY29uY2F0KGUud2lkdGgsJ3B4O1wiICcpLHUrPSdwcmVsb2FkPVwibWV0YWRhdGFcIiAnLHUrPSd4LXdlYmtpdC1haXJwbGF5PVwiYWxsb3dcIiAnLHUrPSd3ZWJraXQtcGxheXNpbmxpbmU9XCJcIiAnLHUrPVwiY29udHJvbHMgXCIsdSs9J2NsYXNzPVwiZ3ZpZGVvLWxvY2FsXCI+Jzt2YXIgZD1sLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIuXCIpLnBvcCgpLGc9e21wNDpcIlwiLG9nZzpcIlwiLHdlYm06XCJcIn07Zm9yKHZhciBwIGluIGdbZD1cIm1vdlwiPT1kP1wibXA0XCI6ZF09bCxnKWlmKGcuaGFzT3duUHJvcGVydHkocCkpe3ZhciB2PWdbcF07ZS5oYXNPd25Qcm9wZXJ0eShwKSYmKHY9ZVtwXSksXCJcIiE9PXYmJih1Kz0nPHNvdXJjZSBzcmM9XCInLmNvbmNhdCh2LCdcIiB0eXBlPVwidmlkZW8vJykuY29uY2F0KHAsJ1wiPicpKX1jPUwodSs9XCI8L3ZpZGVvPlwiKX12YXIgZj1jfHxMKCc8ZGl2IGlkPVwiJy5jb25jYXQocywnXCIgZGF0YS1wbHlyLXByb3ZpZGVyPVwiJykuY29uY2F0KGEsJ1wiIGRhdGEtcGx5ci1lbWJlZC1pZD1cIicpLmNvbmNhdChoLCdcIj48L2Rpdj4nKSk7ayhvLFwiXCIuY29uY2F0KGEsXCItdmlkZW8gZ3ZpZGVvXCIpKSxvLmFwcGVuZENoaWxkKGYpLG8uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLHMpO3ZhciB5PXguaGFzKG4uc2V0dGluZ3MucGx5cixcImNvbmZpZ1wiKT9uLnNldHRpbmdzLnBseXIuY29uZmlnOnt9LGI9bmV3IFBseXIoXCIjXCIrcyx5KTtiLm9uKFwicmVhZHlcIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5kZXRhaWwucGx5cjttW3NdPWUseC5pc0Z1bmN0aW9uKGkpJiZpKCl9KSksYi5vbihcImVudGVyZnVsbHNjcmVlblwiLE4pLGIub24oXCJleGl0ZnVsbHNjcmVlblwiLE4pfSkpfWZ1bmN0aW9uIFkodCl7dmFyIGU9dC51cmwsaT10LndpZHRoLG49dC5oZWlnaHQscz10LmFsbG93LG89dC5jYWxsYmFjayxsPXQuYXBwZW5kVG8scj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLGE9d2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtyZXR1cm4gci5jbGFzc05hbWU9XCJ2aW1lby12aWRlbyBndmlkZW9cIixyLnNyYz1lLG4mJihyLnN0eWxlLmhlaWdodD11JiZhPDc2Nz9cIlwiOlwiXCIuY29uY2F0KG4sXCJweFwiKSksaSYmKHIuc3R5bGUud2lkdGg9XCJcIi5jb25jYXQoaSxcInB4XCIpKSxzJiZyLnNldEF0dHJpYnV0ZShcImFsbG93XCIscyksci5vbmxvYWQ9ZnVuY3Rpb24oKXtrKHIsXCJub2RlLXJlYWR5XCIpLHguaXNGdW5jdGlvbihvKSYmbygpfSxsJiZsLmFwcGVuZENoaWxkKHIpLHJ9ZnVuY3Rpb24gQih0LGUsaSl7aWYoeC5pc05pbCh0KSljb25zb2xlLmVycm9yKFwiSW5qZWN0IHZpZGVvcyBhcGkgZXJyb3JcIik7ZWxzZXt2YXIgbjtpZih4LmlzRnVuY3Rpb24oZSkmJihpPWUsZT0hMSksLTEhPT10LmluZGV4T2YoXCIuY3NzXCIpKXtpZigobj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW2hyZWY9XCInK3QrJ1wiXScpKSYmbi5sZW5ndGg+MClyZXR1cm4gdm9pZCh4LmlzRnVuY3Rpb24oaSkmJmkoKSk7dmFyIHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLG89cy5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl0nKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO3JldHVybiBsLnJlbD1cInN0eWxlc2hlZXRcIixsLnR5cGU9XCJ0ZXh0L2Nzc1wiLGwuaHJlZj10LGwubWVkaWE9XCJhbGxcIixvP3MuaW5zZXJ0QmVmb3JlKGwsb1swXSk6cy5hcHBlbmRDaGlsZChsKSx2b2lkKHguaXNGdW5jdGlvbihpKSYmaSgpKX1pZigobj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHRbc3JjPVwiJyt0KydcIl0nKSkmJm4ubGVuZ3RoPjApe2lmKHguaXNGdW5jdGlvbihpKSl7aWYoeC5pc1N0cmluZyhlKSlyZXR1cm4gRigoZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09d2luZG93W2VdfSksKGZ1bmN0aW9uKCl7aSgpfSkpLCExO2koKX19ZWxzZXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3IudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLHIuc3JjPXQsci5vbmxvYWQ9ZnVuY3Rpb24oKXtpZih4LmlzRnVuY3Rpb24oaSkpe2lmKHguaXNTdHJpbmcoZSkpcmV0dXJuIEYoKGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXdpbmRvd1tlXX0pLChmdW5jdGlvbigpe2koKX0pKSwhMTtpKCl9fSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpfX19ZnVuY3Rpb24gRih0LGUsaSxuKXtpZih0KCkpZSgpO2Vsc2V7dmFyIHM7aXx8KGk9MTAwKTt2YXIgbz1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt0KCkmJihjbGVhckludGVydmFsKG8pLHMmJmNsZWFyVGltZW91dChzKSxlKCkpfSksaSk7biYmKHM9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtjbGVhckludGVydmFsKG8pfSksbikpfX1mdW5jdGlvbiBQKHQsZSxpKXt2YXIgbj10aGlzLHM9dC5xdWVyeVNlbGVjdG9yKFwiLmdzbGlkZS1tZWRpYVwiKSxvPWUuaHJlZi5zcGxpdChcIiNcIikucG9wKCkudHJpbSgpLGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobyk7aWYoIWwpcmV0dXJuITE7dmFyIHI9bC5jbG9uZU5vZGUoITApO3Iuc3R5bGUuaGVpZ2h0PXguaXNOdW1iZXIoZS5oZWlnaHQpP1wiXCIuY29uY2F0KGUuaGVpZ2h0LFwicHhcIik6ZS5oZWlnaHQsci5zdHlsZS5tYXhXaWR0aD14LmlzTnVtYmVyKGUud2lkdGgpP1wiXCIuY29uY2F0KGUud2lkdGgsXCJweFwiKTplLndpZHRoLGsocixcImdpbmxpbmVkLWNvbnRlbnRcIikscy5hcHBlbmRDaGlsZChyKSx0aGlzLmV2ZW50c1tcImlubGluZWNsb3NlXCIrb109VChcImNsaWNrXCIse29uRWxlbWVudDpzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ3RyaWdnZXItY2xvc2VcIiksd2l0aENhbGxiYWNrOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxuLmNsb3NlKCl9fSkseC5pc0Z1bmN0aW9uKGkpJiZpKCl9dmFyIFc9ZnVuY3Rpb24odCl7dmFyIGU9dDtpZihudWxsIT09KHQ9dC50b0xvd2VyQ2FzZSgpKS5tYXRjaCgvXFwuKGpwZWd8anBnfGpwZXxnaWZ8cG5nfGFwbnx3ZWJwfHN2ZykkLykpcmV0dXJuXCJpbWFnZVwiO2lmKHQubWF0Y2goLyh5b3V0dWJlXFwuY29tfHlvdXR1YmUtbm9jb29raWVcXC5jb20pXFwvd2F0Y2hcXD92PShbYS16QS1aMC05XFwtX10rKS8pfHx0Lm1hdGNoKC95b3V0dVxcLmJlXFwvKFthLXpBLVowLTlcXC1fXSspLyl8fHQubWF0Y2goLyh5b3V0dWJlXFwuY29tfHlvdXR1YmUtbm9jb29raWVcXC5jb20pXFwvZW1iZWRcXC8oW2EtekEtWjAtOVxcLV9dKykvKSlyZXR1cm5cInZpZGVvXCI7aWYodC5tYXRjaCgvdmltZW9cXC5jb21cXC8oWzAtOV0qKS8pKXJldHVyblwidmlkZW9cIjtpZihudWxsIT09dC5tYXRjaCgvXFwuKG1wNHxvZ2d8d2VibXxtb3YpJC8pKXJldHVyblwidmlkZW9cIjtpZih0LmluZGV4T2YoXCIjXCIpPi0xJiZcIlwiIT09ZS5zcGxpdChcIiNcIikucG9wKCkudHJpbSgpKXJldHVyblwiaW5saW5lXCI7cmV0dXJuIHQuaW5jbHVkZXMoXCJnYWpheD10cnVlXCIpP1wiYWpheFwiOlwiZXh0ZXJuYWxcIn07ZnVuY3Rpb24gXygpe3ZhciB0PXRoaXM7aWYodGhpcy5ldmVudHMuaGFzT3duUHJvcGVydHkoXCJrZXlib2FyZFwiKSlyZXR1cm4hMTt0aGlzLmV2ZW50cy5rZXlib2FyZD1UKFwia2V5ZG93blwiLHtvbkVsZW1lbnQ6d2luZG93LHdpdGhDYWxsYmFjazpmdW5jdGlvbihlLGkpe3ZhciBuPShlPWV8fHdpbmRvdy5ldmVudCkua2V5Q29kZTtpZig5PT1uKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYnRuXCIpO2lmKCFvfHxvLmxlbmd0aDw9MClyZXR1cm47dmFyIGw9cyhvKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBBKHQsXCJmb2N1c2VkXCIpfSkpO2lmKCFsLmxlbmd0aCl7dmFyIHI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdidG5bdGFiaW5kZXg9XCIwXCJdJyk7cmV0dXJuIHZvaWQociYmKHIuZm9jdXMoKSxrKHIsXCJmb2N1c2VkXCIpKSl9by5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gRSh0LFwiZm9jdXNlZFwiKX0pKTt2YXIgYT1sWzBdLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpO2E9YXx8XCIwXCI7dmFyIGg9cGFyc2VJbnQoYSkrMTtoPm8ubGVuZ3RoLTEmJihoPVwiMFwiKTt2YXIgYz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2J0blt0YWJpbmRleD1cIicuY29uY2F0KGgsJ1wiXScpKTtjJiYoYy5mb2N1cygpLGsoYyxcImZvY3VzZWRcIikpfTM5PT1uJiZ0Lm5leHRTbGlkZSgpLDM3PT1uJiZ0LnByZXZTbGlkZSgpLDI3PT1uJiZ0LmNsb3NlKCl9fSl9ZnVuY3Rpb24gaigpe3ZhciB0PXRoaXM7aWYodGhpcy5ldmVudHMuaGFzT3duUHJvcGVydHkoXCJ0b3VjaFwiKSlyZXR1cm4hMTt2YXIgZSxpLG4scz1xKCksbz1zLndpZHRoLGw9cy5oZWlnaHQscj0hMSxhPW51bGwsYz1udWxsLHU9bnVsbCxkPSExLGc9MSxwPTEsdj0hMSxmPSExLG09bnVsbCx5PW51bGwsYj1udWxsLHg9bnVsbCx3PTAsUz0wLFQ9ITEsQz0hMSxMPXt9LE09e30sTz0wLHo9MCxOPXRoaXMsST1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdsaWdodGJveC1zbGlkZXJcIiksRD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdvdmVybGF5XCIpLFg9KHRoaXMubG9vcCgpLG5ldyBoKEkse3RvdWNoU3RhcnQ6ZnVuY3Rpb24odCl7aWYoQSh0LnRhcmdldFRvdWNoZXNbMF0udGFyZ2V0LFwiZ2lubmVyLWNvbnRhaW5lclwiKSlyZXR1cm4gcj0hMSwhMTtyPSEwLE09dC50YXJnZXRUb3VjaGVzWzBdLEwucGFnZVg9dC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYLEwucGFnZVk9dC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZLE89dC50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFgsej10LnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WSxhPU4uYWN0aXZlU2xpZGUsYz1hLnF1ZXJ5U2VsZWN0b3IoXCIuZ3NsaWRlLW1lZGlhXCIpLG49YS5xdWVyeVNlbGVjdG9yKFwiLmdzbGlkZS1pbmxpbmVcIiksdT1udWxsLEEoYyxcImdzbGlkZS1pbWFnZVwiKSYmKHU9Yy5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpKSxFKEQsXCJncmVzZXRcIil9LHRvdWNoTW92ZTpmdW5jdGlvbihzKXtpZihyJiYoTT1zLnRhcmdldFRvdWNoZXNbMF0sIXYmJiFmKSl7aWYobiYmbi5vZmZzZXRIZWlnaHQ+bCl7dmFyIGE9TC5wYWdlWC1NLnBhZ2VYO2lmKE1hdGguYWJzKGEpPD0xMylyZXR1cm4hMX1kPSEwO3ZhciBoLGc9cy50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFgscD1zLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WSxtPU8tZyx5PXotcDtpZihNYXRoLmFicyhtKT5NYXRoLmFicyh5KT8oVD0hMSxDPSEwKTooQz0hMSxUPSEwKSxlPU0ucGFnZVgtTC5wYWdlWCx3PTEwMCplL28saT1NLnBhZ2VZLUwucGFnZVksUz0xMDAqaS9sLFQmJnUmJihoPTEtTWF0aC5hYnMoaSkvbCxELnN0eWxlLm9wYWNpdHk9aCx0LnNldHRpbmdzLnRvdWNoRm9sbG93QXhpcyYmKHc9MCkpLEMmJihoPTEtTWF0aC5hYnMoZSkvbyxjLnN0eWxlLm9wYWNpdHk9aCx0LnNldHRpbmdzLnRvdWNoRm9sbG93QXhpcyYmKFM9MCkpLCF1KXJldHVybiBIKGMsXCJ0cmFuc2xhdGUzZChcIi5jb25jYXQodyxcIiUsIDAsIDApXCIpKTtIKGMsXCJ0cmFuc2xhdGUzZChcIi5jb25jYXQodyxcIiUsIFwiKS5jb25jYXQoUyxcIiUsIDApXCIpKX19LHRvdWNoRW5kOmZ1bmN0aW9uKCl7aWYocil7aWYoZD0hMSxmfHx2KXJldHVybiBiPW0sdm9pZCh4PXkpO3ZhciBlPU1hdGguYWJzKHBhcnNlSW50KFMpKSxpPU1hdGguYWJzKHBhcnNlSW50KHcpKTtpZighKGU+MjkmJnUpKXJldHVybiBlPDI5JiZpPDI1PyhrKEQsXCJncmVzZXRcIiksRC5zdHlsZS5vcGFjaXR5PTEsVihjKSk6dm9pZCAwO3QuY2xvc2UoKX19LG11bHRpcG9pbnRFbmQ6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3Y9ITF9KSw1MCl9LG11bHRpcG9pbnRTdGFydDpmdW5jdGlvbigpe3Y9ITAsZz1wfHwxfSxwaW5jaDpmdW5jdGlvbih0KXtpZighdXx8ZClyZXR1cm4hMTt2PSEwLHUuc2NhbGVYPXUuc2NhbGVZPWcqdC56b29tO3ZhciBlPWcqdC56b29tO2lmKGY9ITAsZTw9MSlyZXR1cm4gZj0hMSxlPTEseD1udWxsLGI9bnVsbCxtPW51bGwseT1udWxsLHZvaWQgdS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiXCIpO2U+NC41JiYoZT00LjUpLHUuc3R5bGUudHJhbnNmb3JtPVwic2NhbGUzZChcIi5jb25jYXQoZSxcIiwgXCIpLmNvbmNhdChlLFwiLCAxKVwiKSxwPWV9LHByZXNzTW92ZTpmdW5jdGlvbih0KXtpZihmJiYhdil7dmFyIGU9TS5wYWdlWC1MLnBhZ2VYLGk9TS5wYWdlWS1MLnBhZ2VZO2ImJihlKz1iKSx4JiYoaSs9eCksbT1lLHk9aTt2YXIgbj1cInRyYW5zbGF0ZTNkKFwiLmNvbmNhdChlLFwicHgsIFwiKS5jb25jYXQoaSxcInB4LCAwKVwiKTtwJiYobis9XCIgc2NhbGUzZChcIi5jb25jYXQocCxcIiwgXCIpLmNvbmNhdChwLFwiLCAxKVwiKSksSCh1LG4pfX0sc3dpcGU6ZnVuY3Rpb24oZSl7aWYoIWYpaWYodil2PSExO2Vsc2V7aWYoXCJMZWZ0XCI9PWUuZGlyZWN0aW9uKXtpZih0LmluZGV4PT10LmVsZW1lbnRzLmxlbmd0aC0xKXJldHVybiBWKGMpO3QubmV4dFNsaWRlKCl9aWYoXCJSaWdodFwiPT1lLmRpcmVjdGlvbil7aWYoMD09dC5pbmRleClyZXR1cm4gVihjKTt0LnByZXZTbGlkZSgpfX19fSkpO3RoaXMuZXZlbnRzLnRvdWNoPVh9ZnVuY3Rpb24gSCh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIjtpZihcIlwiPT1lKXJldHVybiB0LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cIlwiLHQuc3R5bGUuTW96VHJhbnNmb3JtPVwiXCIsdC5zdHlsZS5tc1RyYW5zZm9ybT1cIlwiLHQuc3R5bGUuT1RyYW5zZm9ybT1cIlwiLHQuc3R5bGUudHJhbnNmb3JtPVwiXCIsITE7dC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09ZSx0LnN0eWxlLk1velRyYW5zZm9ybT1lLHQuc3R5bGUubXNUcmFuc2Zvcm09ZSx0LnN0eWxlLk9UcmFuc2Zvcm09ZSx0LnN0eWxlLnRyYW5zZm9ybT1lfWZ1bmN0aW9uIFYodCl7dmFyIGU9QSh0LFwiZ3NsaWRlLW1lZGlhXCIpP3Q6dC5xdWVyeVNlbGVjdG9yKFwiLmdzbGlkZS1tZWRpYVwiKSxpPXQucXVlcnlTZWxlY3RvcihcIi5nc2xpZGUtZGVzY3JpcHRpb25cIik7ayhlLFwiZ3Jlc2V0XCIpLEgoZSxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXCIpO1QocCx7b25FbGVtZW50OmUsb25jZTohMCx3aXRoQ2FsbGJhY2s6ZnVuY3Rpb24odCxpKXtFKGUsXCJncmVzZXRcIil9fSk7ZS5zdHlsZS5vcGFjaXR5PVwiXCIsaSYmKGkuc3R5bGUub3BhY2l0eT1cIlwiKX1mdW5jdGlvbiBHKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1MCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbj1pO2lmKCh0PXQudHJpbSgpKS5sZW5ndGg8PWUpcmV0dXJuIHQ7dmFyIHM9dC5zdWJzdHIoMCxlLTEpO3JldHVybiBuP3MrJy4uLiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiZGVzYy1tb3JlXCI+JytpK1wiPC9hPlwiOnN9ZnVuY3Rpb24gWih0LGUpe3ZhciBpPXQucXVlcnlTZWxlY3RvcihcIi5kZXNjLW1vcmVcIik7aWYoIWkpcmV0dXJuITE7VChcImNsaWNrXCIse29uRWxlbWVudDppLHdpdGhDYWxsYmFjazpmdW5jdGlvbih0LGkpe3QucHJldmVudERlZmF1bHQoKTt2YXIgbj1kb2N1bWVudC5ib2R5LHM9TShpLFwiLmdzbGlkZS1kZXNjXCIpO2lmKCFzKXJldHVybiExO3MuaW5uZXJIVE1MPWUuZGVzY3JpcHRpb24sayhuLFwiZ2Rlc2Mtb3BlblwiKTt2YXIgbz1UKFwiY2xpY2tcIix7b25FbGVtZW50OltuLE0ocyxcIi5nc2xpZGUtZGVzY3JpcHRpb25cIildLHdpdGhDYWxsYmFjazpmdW5jdGlvbih0LGkpe1wiYVwiIT09dC50YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKEUobixcImdkZXNjLW9wZW5cIiksayhuLFwiZ2Rlc2MtY2xvc2VkXCIpLHMuaW5uZXJIVE1MPWUuc21hbGxEZXNjcmlwdGlvbixaKHMsZSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtFKG4sXCJnZGVzYy1jbG9zZWRcIil9KSw0MDApLG8uZGVzdHJveSgpKX19KX19KX12YXIgUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoaSl7ZSh0aGlzLHQpLHRoaXMuc2V0dGluZ3M9Yih5LGl8fHt9KSx0aGlzLmVmZmVjdHNDbGFzc2VzPXRoaXMuZ2V0QW5pbWF0aW9uQ2xhc3NlcygpLHRoaXMuc2xpZGVzRGF0YT17fX1yZXR1cm4gbih0LFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJhc2VFdmVudHM9VChcImNsaWNrXCIse29uRWxlbWVudDpcIi5cIi5jb25jYXQodGhpcy5zZXR0aW5ncy5zZWxlY3Rvciksd2l0aENhbGxiYWNrOmZ1bmN0aW9uKGUsaSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQub3BlbihpKX19KX19LHtrZXk6XCJvcGVuXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtpZih0aGlzLmVsZW1lbnRzPXRoaXMuZ2V0RWxlbWVudHModCksMD09dGhpcy5lbGVtZW50cy5sZW5ndGgpcmV0dXJuITE7dGhpcy5hY3RpdmVTbGlkZT1udWxsLHRoaXMucHJldkFjdGl2ZVNsaWRlSW5kZXg9bnVsbCx0aGlzLnByZXZBY3RpdmVTbGlkZT1udWxsO3ZhciBlPXRoaXMuc2V0dGluZ3Muc3RhcnRBdDt0JiZ4LmlzTmlsKGUpJiYoZT10aGlzLmVsZW1lbnRzLmluZGV4T2YodCkpPDAmJihlPTApLHguaXNOaWwoZSkmJihlPTApLHRoaXMuYnVpbGQoKSxDKHRoaXMub3ZlcmxheSxcIm5vbmVcIj09dGhpcy5zZXR0aW5ncy5vcGVuRWZmZWN0P1wibm9uZVwiOnRoaXMuc2V0dGluZ3MuY3NzRWZlY3RzLmZhZGUuaW4pO3ZhciBpPWRvY3VtZW50LmJvZHk7aWYoaS5zdHlsZS53aWR0aD1cIlwiLmNvbmNhdChpLm9mZnNldFdpZHRoLFwicHhcIiksayhpLFwiZ2xpZ2h0Ym94LW9wZW5cIiksayhnLFwiZ2xpZ2h0Ym94LW9wZW5cIiksdSYmKGsoZG9jdW1lbnQuYm9keSxcImdsaWdodGJveC1tb2JpbGVcIiksdGhpcy5zZXR0aW5ncy5zbGlkZUVmZmVjdD1cInNsaWRlXCIpLHRoaXMuc2hvd1NsaWRlKGUsITApLDE9PXRoaXMuZWxlbWVudHMubGVuZ3RoPyh6KHRoaXMucHJldkJ1dHRvbikseih0aGlzLm5leHRCdXR0b24pKTooTyh0aGlzLnByZXZCdXR0b24pLE8odGhpcy5uZXh0QnV0dG9uKSksdGhpcy5saWdodGJveE9wZW49ITAseC5pc0Z1bmN0aW9uKHRoaXMuc2V0dGluZ3Mub25PcGVuKSYmdGhpcy5zZXR0aW5ncy5vbk9wZW4oKSx1JiZkJiZ0aGlzLnNldHRpbmdzLnRvdWNoTmF2aWdhdGlvbilyZXR1cm4gai5hcHBseSh0aGlzKSwhMTt0aGlzLnNldHRpbmdzLmtleWJvYXJkTmF2aWdhdGlvbiYmXy5hcHBseSh0aGlzKX19LHtrZXk6XCJzaG93U2xpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07Tyh0aGlzLmxvYWRlciksdGhpcy5pbmRleD1wYXJzZUludChlKTt2YXIgbj10aGlzLnNsaWRlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmN1cnJlbnRcIik7biYmRShuLFwiY3VycmVudFwiKSx0aGlzLnNsaWRlQW5pbWF0ZU91dCgpO3ZhciBzPXRoaXMuc2xpZGVzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ3NsaWRlXCIpW2VdO2lmKEEocyxcImxvYWRlZFwiKSl0aGlzLnNsaWRlQW5pbWF0ZUluKHMsaSkseih0aGlzLmxvYWRlcik7ZWxzZXtPKHRoaXMubG9hZGVyKTt2YXIgbz1JKHRoaXMuZWxlbWVudHNbZV0sdGhpcy5zZXR0aW5ncyk7by5pbmRleD1lLHRoaXMuc2xpZGVzRGF0YVtlXT1vLEQuYXBwbHkodGhpcyxbcyxvLGZ1bmN0aW9uKCl7eih0LmxvYWRlciksdC5yZXNpemUoKSx0LnNsaWRlQW5pbWF0ZUluKHMsaSl9XSl9dGhpcy5zbGlkZURlc2NyaXB0aW9uPXMucXVlcnlTZWxlY3RvcihcIi5nc2xpZGUtZGVzY3JpcHRpb25cIiksdGhpcy5zbGlkZURlc2NyaXB0aW9uQ29udGFpbmVkPXRoaXMuc2xpZGVEZXNjcmlwdGlvbiYmQSh0aGlzLnNsaWRlRGVzY3JpcHRpb24ucGFyZW50Tm9kZSxcImdzbGlkZS1tZWRpYVwiKSx0aGlzLnByZWxvYWRTbGlkZShlKzEpLHRoaXMucHJlbG9hZFNsaWRlKGUtMSk7dmFyIGw9dGhpcy5sb29wKCk7RSh0aGlzLm5leHRCdXR0b24sXCJkaXNhYmxlZFwiKSxFKHRoaXMucHJldkJ1dHRvbixcImRpc2FibGVkXCIpLDAhPT1lfHxsP2UhPT10aGlzLmVsZW1lbnRzLmxlbmd0aC0xfHxsfHxrKHRoaXMubmV4dEJ1dHRvbixcImRpc2FibGVkXCIpOmsodGhpcy5wcmV2QnV0dG9uLFwiZGlzYWJsZWRcIiksdGhpcy5hY3RpdmVTbGlkZT1zfX0se2tleTpcInByZWxvYWRTbGlkZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodDwwfHx0PnRoaXMuZWxlbWVudHMubGVuZ3RoKXJldHVybiExO2lmKHguaXNOaWwodGhpcy5lbGVtZW50c1t0XSkpcmV0dXJuITE7dmFyIGk9dGhpcy5zbGlkZXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5nc2xpZGVcIilbdF07aWYoQShpLFwibG9hZGVkXCIpKXJldHVybiExO3ZhciBuPUkodGhpcy5lbGVtZW50c1t0XSx0aGlzLnNldHRpbmdzKTtuLmluZGV4PXQsdGhpcy5zbGlkZXNEYXRhW3RdPW47dmFyIHM9bi5zb3VyY2V0eXBlO1widmlkZW9cIj09c3x8XCJleHRlcm5hbFwiPT1zP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7RC5hcHBseShlLFtpLG5dKX0pLDIwMCk6RC5hcHBseSh0aGlzLFtpLG5dKX19LHtrZXk6XCJwcmV2U2xpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ29Ub1NsaWRlKHRoaXMuaW5kZXgtMSl9fSx7a2V5OlwibmV4dFNsaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdvVG9TbGlkZSh0aGlzLmluZGV4KzEpfX0se2tleTpcImdvVG9TbGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0aGlzLnByZXZBY3RpdmVTbGlkZT10aGlzLmFjdGl2ZVNsaWRlLHRoaXMucHJldkFjdGl2ZVNsaWRlSW5kZXg9dGhpcy5pbmRleDt2YXIgZT10aGlzLmxvb3AoKTtpZighZSYmKHQ8MHx8dD50aGlzLmVsZW1lbnRzLmxlbmd0aCkpcmV0dXJuITE7dDwwP3Q9dGhpcy5lbGVtZW50cy5sZW5ndGgtMTp0Pj10aGlzLmVsZW1lbnRzLmxlbmd0aCYmKHQ9MCksdGhpcy5zaG93U2xpZGUodCl9fSx7a2V5Olwic2xpZGVBbmltYXRlSW5cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbj10LnF1ZXJ5U2VsZWN0b3IoXCIuZ3NsaWRlLW1lZGlhXCIpLHM9dC5xdWVyeVNlbGVjdG9yKFwiLmdzbGlkZS1kZXNjcmlwdGlvblwiKSxvPXtpbmRleDp0aGlzLnByZXZBY3RpdmVTbGlkZUluZGV4LHNsaWRlOnRoaXMucHJldkFjdGl2ZVNsaWRlfSxsPXtpbmRleDp0aGlzLmluZGV4LHNsaWRlOnRoaXMuYWN0aXZlU2xpZGV9O2lmKG4ub2Zmc2V0V2lkdGg+MCYmcyYmKHoocykscy5zdHlsZS5kaXNwbGF5PVwiXCIpLEUodCx0aGlzLmVmZmVjdHNDbGFzc2VzKSxlKUModCx0aGlzLnNldHRpbmdzLm9wZW5FZmZlY3QsKGZ1bmN0aW9uKCl7IXUmJmkuc2V0dGluZ3MuYXV0b3BsYXlWaWRlb3MmJmkucGxheVNsaWRlVmlkZW8odCkseC5pc0Z1bmN0aW9uKGkuc2V0dGluZ3MuYWZ0ZXJTbGlkZUNoYW5nZSkmJmkuc2V0dGluZ3MuYWZ0ZXJTbGlkZUNoYW5nZS5hcHBseShpLFtvLGxdKX0pKTtlbHNle3ZhciByPXRoaXMuc2V0dGluZ3Muc2xpZGVFZmZlY3QsYT1cIm5vbmVcIiE9PXI/dGhpcy5zZXR0aW5ncy5jc3NFZmVjdHNbcl0uaW46cjt0aGlzLnByZXZBY3RpdmVTbGlkZUluZGV4PnRoaXMuaW5kZXgmJlwic2xpZGVcIj09dGhpcy5zZXR0aW5ncy5zbGlkZUVmZmVjdCYmKGE9dGhpcy5zZXR0aW5ncy5jc3NFZmVjdHMuc2xpZGVfYmFjay5pbiksQyh0LGEsKGZ1bmN0aW9uKCl7IXUmJmkuc2V0dGluZ3MuYXV0b3BsYXlWaWRlb3MmJmkucGxheVNsaWRlVmlkZW8odCkseC5pc0Z1bmN0aW9uKGkuc2V0dGluZ3MuYWZ0ZXJTbGlkZUNoYW5nZSkmJmkuc2V0dGluZ3MuYWZ0ZXJTbGlkZUNoYW5nZS5hcHBseShpLFtvLGxdKX0pKX1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2kucmVzaXplKHQpfSksMTAwKSxrKHQsXCJjdXJyZW50XCIpfX0se2tleTpcInNsaWRlQW5pbWF0ZU91dFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMucHJldkFjdGl2ZVNsaWRlKXJldHVybiExO3ZhciB0PXRoaXMucHJldkFjdGl2ZVNsaWRlO0UodCx0aGlzLmVmZmVjdHNDbGFzc2VzKSxrKHQsXCJwcmV2XCIpO3ZhciBlPXRoaXMuc2V0dGluZ3Muc2xpZGVFZmZlY3QsaT1cIm5vbmVcIiE9PWU/dGhpcy5zZXR0aW5ncy5jc3NFZmVjdHNbZV0ub3V0OmU7dGhpcy5zdG9wU2xpZGVWaWRlbyh0KSx4LmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5iZWZvcmVTbGlkZUNoYW5nZSkmJnRoaXMuc2V0dGluZ3MuYmVmb3JlU2xpZGVDaGFuZ2UuYXBwbHkodGhpcyxbe2luZGV4OnRoaXMucHJldkFjdGl2ZVNsaWRlSW5kZXgsc2xpZGU6dGhpcy5wcmV2QWN0aXZlU2xpZGV9LHtpbmRleDp0aGlzLmluZGV4LHNsaWRlOnRoaXMuYWN0aXZlU2xpZGV9XSksdGhpcy5wcmV2QWN0aXZlU2xpZGVJbmRleD50aGlzLmluZGV4JiZcInNsaWRlXCI9PXRoaXMuc2V0dGluZ3Muc2xpZGVFZmZlY3QmJihpPXRoaXMuc2V0dGluZ3MuY3NzRWZlY3RzLnNsaWRlX2JhY2sub3V0KSxDKHQsaSwoZnVuY3Rpb24oKXt2YXIgZT10LnF1ZXJ5U2VsZWN0b3IoXCIuZ3NsaWRlLW1lZGlhXCIpLGk9dC5xdWVyeVNlbGVjdG9yKFwiLmdzbGlkZS1kZXNjcmlwdGlvblwiKTtlLnN0eWxlLnRyYW5zZm9ybT1cIlwiLEUoZSxcImdyZXNldFwiKSxlLnN0eWxlLm9wYWNpdHk9XCJcIixpJiYoaS5zdHlsZS5vcGFjaXR5PVwiXCIpLEUodCxcInByZXZcIil9KSl9fSx7a2V5Olwic3RvcFNsaWRlVmlkZW9cIix2YWx1ZTpmdW5jdGlvbih0KXt4LmlzTnVtYmVyKHQpJiYodD10aGlzLnNsaWRlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiLmdzbGlkZVwiKVt0XSk7dmFyIGU9dD90LnF1ZXJ5U2VsZWN0b3IoXCIuZ3ZpZGVvXCIpOm51bGw7aWYoIWUpcmV0dXJuITE7dmFyIGk9ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpO2lmKG0mJnguaGFzKG0saSkpe3ZhciBuPW1baV07biYmbi5wbGF5JiZuLnBhdXNlKCl9fX0se2tleTpcInBsYXlTbGlkZVZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24odCl7eC5pc051bWJlcih0KSYmKHQ9dGhpcy5zbGlkZXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5nc2xpZGVcIilbdF0pO3ZhciBlPXQucXVlcnlTZWxlY3RvcihcIi5ndmlkZW9cIik7aWYoIWUpcmV0dXJuITE7dmFyIGk9ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpO2lmKG0mJnguaGFzKG0saSkpe3ZhciBuPW1baV07biYmbi5wbGF5JiZuLnBsYXkoKX19fSx7a2V5Olwic2V0RWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNldHRpbmdzLmVsZW1lbnRzPXR9fSx7a2V5OlwiZ2V0RWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2lmKHRoaXMuZWxlbWVudHM9W10sIXguaXNOaWwodGhpcy5zZXR0aW5ncy5lbGVtZW50cykmJnguaXNBcnJheSh0aGlzLnNldHRpbmdzLmVsZW1lbnRzKSlyZXR1cm4gdGhpcy5zZXR0aW5ncy5lbGVtZW50czt2YXIgZT0hMTtpZihudWxsIT09dCl7dmFyIGk9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWdhbGxlcnlcIik7aSYmXCJcIiE9PWkmJihlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWdhbGxlcnk9XCInLmNvbmNhdChpLCdcIl0nKSkpfXJldHVybiAwPT1lJiYoZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiLmNvbmNhdCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKSkpLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSl9fSx7a2V5OlwiZ2V0QWN0aXZlU2xpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWRlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiLmdzbGlkZVwiKVt0aGlzLmluZGV4XX19LHtrZXk6XCJnZXRBY3RpdmVTbGlkZUluZGV4XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleH19LHtrZXk6XCJnZXRBbmltYXRpb25DbGFzc2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gdGhpcy5zZXR0aW5ncy5jc3NFZmVjdHMpaWYodGhpcy5zZXR0aW5ncy5jc3NFZmVjdHMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBpPXRoaXMuc2V0dGluZ3MuY3NzRWZlY3RzW2VdO3QucHVzaChcImdcIi5jb25jYXQoaS5pbikpLHQucHVzaChcImdcIi5jb25jYXQoaS5vdXQpKX1yZXR1cm4gdC5qb2luKFwiIFwiKX19LHtrZXk6XCJidWlsZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmJ1aWx0KXJldHVybiExO3ZhciBlPXguaGFzKHRoaXMuc2V0dGluZ3Muc3ZnLFwibmV4dFwiKT90aGlzLnNldHRpbmdzLnN2Zy5uZXh0OlwiXCIsaT14Lmhhcyh0aGlzLnNldHRpbmdzLnN2ZyxcInByZXZcIik/dGhpcy5zZXR0aW5ncy5zdmcucHJldjpcIlwiLG49eC5oYXModGhpcy5zZXR0aW5ncy5zdmcsXCJjbG9zZVwiKT90aGlzLnNldHRpbmdzLnN2Zy5jbG9zZTpcIlwiLHM9dGhpcy5zZXR0aW5ncy5saWdodGJveEh0bWw7cz1MKHM9KHM9KHM9cy5yZXBsYWNlKC97bmV4dFNWR30vZyxlKSkucmVwbGFjZSgve3ByZXZTVkd9L2csaSkpLnJlcGxhY2UoL3tjbG9zZVNWR30vZyxuKSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTt2YXIgbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdsaWdodGJveC1ib2R5XCIpO3RoaXMubW9kYWw9bzt2YXIgbD1vLnF1ZXJ5U2VsZWN0b3IoXCIuZ2Nsb3NlXCIpO3RoaXMucHJldkJ1dHRvbj1vLnF1ZXJ5U2VsZWN0b3IoXCIuZ3ByZXZcIiksdGhpcy5uZXh0QnV0dG9uPW8ucXVlcnlTZWxlY3RvcihcIi5nbmV4dFwiKSx0aGlzLm92ZXJsYXk9by5xdWVyeVNlbGVjdG9yKFwiLmdvdmVybGF5XCIpLHRoaXMubG9hZGVyPW8ucXVlcnlTZWxlY3RvcihcIi5nbG9hZGVyXCIpLHRoaXMuc2xpZGVzQ29udGFpbmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2xpZ2h0Ym94LXNsaWRlclwiKSx0aGlzLmV2ZW50cz17fSxrKHRoaXMubW9kYWwsXCJnbGlnaHRib3gtXCIrdGhpcy5zZXR0aW5ncy5za2luKSx0aGlzLnNldHRpbmdzLmNsb3NlQnV0dG9uJiZsJiYodGhpcy5ldmVudHMuY2xvc2U9VChcImNsaWNrXCIse29uRWxlbWVudDpsLHdpdGhDYWxsYmFjazpmdW5jdGlvbihlLGkpe2UucHJldmVudERlZmF1bHQoKSx0LmNsb3NlKCl9fSkpLGwmJiF0aGlzLnNldHRpbmdzLmNsb3NlQnV0dG9uJiZsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCksdGhpcy5uZXh0QnV0dG9uJiYodGhpcy5ldmVudHMubmV4dD1UKFwiY2xpY2tcIix7b25FbGVtZW50OnRoaXMubmV4dEJ1dHRvbix3aXRoQ2FsbGJhY2s6ZnVuY3Rpb24oZSxpKXtlLnByZXZlbnREZWZhdWx0KCksdC5uZXh0U2xpZGUoKX19KSksdGhpcy5wcmV2QnV0dG9uJiYodGhpcy5ldmVudHMucHJldj1UKFwiY2xpY2tcIix7b25FbGVtZW50OnRoaXMucHJldkJ1dHRvbix3aXRoQ2FsbGJhY2s6ZnVuY3Rpb24oZSxpKXtlLnByZXZlbnREZWZhdWx0KCksdC5wcmV2U2xpZGUoKX19KSksdGhpcy5zZXR0aW5ncy5jbG9zZU9uT3V0c2lkZUNsaWNrJiYodGhpcy5ldmVudHMub3V0Q2xvc2U9VChcImNsaWNrXCIse29uRWxlbWVudDpvLHdpdGhDYWxsYmFjazpmdW5jdGlvbihlLGkpe0EoZG9jdW1lbnQuYm9keSxcImdsaWdodGJveC1tb2JpbGVcIil8fE0oZS50YXJnZXQsXCIuZ2lubmVyLWNvbnRhaW5lclwiKXx8TShlLnRhcmdldCxcIi5nYnRuXCIpfHxBKGUudGFyZ2V0LFwiZ25leHRcIil8fEEoZS50YXJnZXQsXCJncHJldlwiKXx8dC5jbG9zZSgpfX0pKSx3KHRoaXMuZWxlbWVudHMsKGZ1bmN0aW9uKCl7dmFyIGU9TCh0LnNldHRpbmdzLnNsaWRlSHRtbCk7dC5zbGlkZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZSl9KSksZCYmayhkb2N1bWVudC5ib2R5LFwiZ2xpZ2h0Ym94LXRvdWNoXCIpLHRoaXMuZXZlbnRzLnJlc2l6ZT1UKFwicmVzaXplXCIse29uRWxlbWVudDp3aW5kb3csd2l0aENhbGxiYWNrOmZ1bmN0aW9uKCl7dC5yZXNpemUoKX19KSx0aGlzLmJ1aWx0PSEwfX0se2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7aWYodD10fHx0aGlzLmFjdGl2ZVNsaWRlLGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGg9XCJcIixkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgsXCJweFwiKSx0JiYhQSh0LFwiem9vbWVkXCIpKXt2YXIgZT1xKCksaT10LnF1ZXJ5U2VsZWN0b3IoXCIuZ3ZpZGVvLXdyYXBwZXJcIiksbj10LnF1ZXJ5U2VsZWN0b3IoXCIuZ3NsaWRlLWltYWdlXCIpLHM9dGhpcy5zbGlkZURlc2NyaXB0aW9uLG89ZS53aWR0aCxsPWUuaGVpZ2h0O2lmKG88PTc2OD9rKGRvY3VtZW50LmJvZHksXCJnbGlnaHRib3gtbW9iaWxlXCIpOkUoZG9jdW1lbnQuYm9keSxcImdsaWdodGJveC1tb2JpbGVcIiksaXx8bil7dmFyIHI9ITE7aWYocyYmKEEocyxcImRlc2NyaXB0aW9uLWJvdHRvbVwiKXx8QShzLFwiZGVzY3JpcHRpb24tdG9wXCIpKSYmIUEocyxcImdhYnNvbHV0ZVwiKSYmKHI9ITApLG4paWYobzw9NzY4KXt2YXIgYT1uLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiXCIpfWVsc2UgaWYocil7dmFyIGg9cy5vZmZzZXRIZWlnaHQsYz10aGlzLnNsaWRlc0RhdGFbdGhpcy5pbmRleF0ud2lkdGg7Yz1jPD1vP2MrXCJweFwiOlwiMTAwJVwiO3ZhciB1PW4ucXVlcnlTZWxlY3RvcihcImltZ1wiKTt1LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gXCIuY29uY2F0KGgsXCJweClcIikpLHMuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIm1heC13aWR0aDogXCIuY29uY2F0KHUub2Zmc2V0V2lkdGgsXCJweDtcIikpfWlmKGkpe3ZhciBkPXRoaXMuc2V0dGluZ3MucGx5ci5yYXRpby5zcGxpdChcIjpcIiksZz10aGlzLnNsaWRlc0RhdGFbdGhpcy5pbmRleF0ud2lkdGgscD1nLyhwYXJzZUludChkWzBdKS9wYXJzZUludChkWzFdKSk7aWYocD1NYXRoLmZsb29yKHApLHImJihsLT1zLm9mZnNldEhlaWdodCksbDxwJiZvPmcpe3ZhciB2PWkub2Zmc2V0V2lkdGgsZj1pLm9mZnNldEhlaWdodCxtPWwvZix5PXt3aWR0aDp2Km0saGVpZ2h0OmYqbX07aS5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJtYXgtd2lkdGg6IFwiLmNvbmNhdCh5LndpZHRoLFwicHhcIikpLHImJnMuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIm1heC13aWR0aDogXCIuY29uY2F0KHkud2lkdGgsXCJweDtcIikpfWVsc2UgaS5wYXJlbnROb2RlLnN0eWxlLm1heFdpZHRoPVwiXCIuY29uY2F0KGcsXCJweFwiKSxyJiZzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJtYXgtd2lkdGg6IFwiLmNvbmNhdChnLFwicHg7XCIpKX19fX19LHtrZXk6XCJyZWxvYWRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdCgpfX0se2tleTpcImxvb3BcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXguaGFzKHRoaXMuc2V0dGluZ3MsXCJsb29wQXRFbmRcIik/dGhpcy5zZXR0aW5ncy5sb29wQXRFbmQ6bnVsbDtyZXR1cm4gdD14Lmhhcyh0aGlzLnNldHRpbmdzLFwibG9vcFwiKT90aGlzLnNldHRpbmdzLmxvb3A6dCx0fX0se2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuY2xvc2luZylyZXR1cm4hMTt0aGlzLmNsb3Npbmc9ITAsdGhpcy5zdG9wU2xpZGVWaWRlbyh0aGlzLmFjdGl2ZVNsaWRlKSxrKHRoaXMubW9kYWwsXCJnbGlnaHRib3gtY2xvc2luZ1wiKSxDKHRoaXMub3ZlcmxheSxcIm5vbmVcIj09dGhpcy5zZXR0aW5ncy5vcGVuRWZmZWN0P1wibm9uZVwiOnRoaXMuc2V0dGluZ3MuY3NzRWZlY3RzLmZhZGUub3V0KSxDKHRoaXMuYWN0aXZlU2xpZGUsdGhpcy5zZXR0aW5ncy5jbG9zZUVmZmVjdCwoZnVuY3Rpb24oKXtpZih0LmFjdGl2ZVNsaWRlPW51bGwsdC5wcmV2QWN0aXZlU2xpZGVJbmRleD1udWxsLHQucHJldkFjdGl2ZVNsaWRlPW51bGwsdC5idWlsdD0hMSx0LmV2ZW50cyl7Zm9yKHZhciBlIGluIHQuZXZlbnRzKXQuZXZlbnRzLmhhc093blByb3BlcnR5KGUpJiZ0LmV2ZW50c1tlXS5kZXN0cm95KCk7dC5ldmVudHM9bnVsbH12YXIgaT1kb2N1bWVudC5ib2R5O0UoZyxcImdsaWdodGJveC1vcGVuXCIpLEUoaSxcImdsaWdodGJveC1vcGVuIHRvdWNoaW5nIGdkZXNjLW9wZW4gZ2xpZ2h0Ym94LXRvdWNoIGdsaWdodGJveC1tb2JpbGVcIiksaS5zdHlsZS53aWR0aD1cIlwiLHQubW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0Lm1vZGFsKSx4LmlzRnVuY3Rpb24odC5zZXR0aW5ncy5vbkNsb3NlKSYmdC5zZXR0aW5ncy5vbkNsb3NlKCksdC5jbG9zaW5nPW51bGx9KSl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuYmFzZUV2ZW50cy5kZXN0cm95KCl9fV0pLHR9KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9bmV3IFIodCk7cmV0dXJuIGUuaW5pdCgpLGV9fSkpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(56);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hbi1vYmplY3QuanM/Y2I3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n")},function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global) {!function(e,t){ true?module.exports=t():undefined}(this,function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t="Expected a function",n=NaN,o="[object Symbol]",i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,l=u||d||Function("return this")(),f=Object.prototype.toString,m=Math.max,p=Math.min,b=function(){return l.Date.now()};function v(e,n,o){var i,a,r,c,s,u,d=0,l=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError(t);function y(t){var n=i,o=a;return i=a=void 0,d=t,c=e.apply(o,n)}function h(e){var t=e-u;return void 0===u||t>=n||t<0||f&&e-d>=r}function k(){var e=b();if(h(e))return x(e);s=setTimeout(k,function(e){var t=n-(e-u);return f?p(t,r-(e-d)):t}(e))}function x(e){return s=void 0,v&&i?y(e):(i=a=void 0,c)}function O(){var e=b(),t=h(e);if(i=arguments,a=this,u=e,t){if(void 0===s)return function(e){return d=e,s=setTimeout(k,n),l?y(e):c}(u);if(f)return s=setTimeout(k,n),y(u)}return void 0===s&&(s=setTimeout(k,n)),c}return n=w(n)||0,g(o)&&(l=!!o.leading,r=(f="maxWait"in o)?m(w(o.maxWait)||0,n):r,v="trailing"in o?!!o.trailing:v),O.cancel=function(){void 0!==s&&clearTimeout(s),d=0,i=u=a=s=void 0},O.flush=function(){return void 0===s?c:x(b())},O}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==o}(e))return n;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var u=r.test(e);return u||c.test(e)?s(e.slice(2),u?2:8):a.test(e)?n:+e}var y=function(e,n,o){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(t);return g(o)&&(i="leading"in o?!!o.leading:i,a="trailing"in o?!!o.trailing:a),v(e,n,{leading:i,maxWait:n,trailing:a})},h="Expected a function",k=NaN,x="[object Symbol]",O=/^\\s+|\\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,N=/^0o[0-7]+$/i,z=parseInt,C="object"==typeof e&&e&&e.Object===Object&&e,A="object"==typeof self&&self&&self.Object===Object&&self,q=C||A||Function("return this")(),L=Object.prototype.toString,T=Math.max,M=Math.min,S=function(){return q.Date.now()};function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function H(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&L.call(e)==x}(e))return k;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(O,"");var n=E.test(e);return n||N.test(e)?z(e.slice(2),n?2:8):j.test(e)?k:+e}var $=function(e,t,n){var o,i,a,r,c,s,u=0,d=!1,l=!1,f=!0;if("function"!=typeof e)throw new TypeError(h);function m(t){var n=o,a=i;return o=i=void 0,u=t,r=e.apply(a,n)}function p(e){var n=e-s;return void 0===s||n>=t||n<0||l&&e-u>=a}function b(){var e=S();if(p(e))return v(e);c=setTimeout(b,function(e){var n=t-(e-s);return l?M(n,a-(e-u)):n}(e))}function v(e){return c=void 0,f&&o?m(e):(o=i=void 0,r)}function g(){var e=S(),n=p(e);if(o=arguments,i=this,s=e,n){if(void 0===c)return function(e){return u=e,c=setTimeout(b,t),d?m(e):r}(s);if(l)return c=setTimeout(b,t),m(s)}return void 0===c&&(c=setTimeout(b,t)),r}return t=H(t)||0,D(n)&&(d=!!n.leading,a=(l="maxWait"in n)?T(H(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==c&&clearTimeout(c),u=0,o=s=i=c=void 0},g.flush=function(){return void 0===c?r:v(S())},g},W=function(){};function P(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);if(function e(t){var n=void 0,o=void 0;for(n=0;n<t.length;n+=1){if((o=t[n]).dataset&&o.dataset.aos)return!0;if(o.children&&e(o.children))return!0}return!1}(t.concat(n)))return W()})}function Y(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}var _={isSupported:function(){return!!Y()},ready:function(e,t){var n=window.document,o=new(Y())(P);W=t,o.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}},B=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},K=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,G=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,J=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Q=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i;function R(){return navigator.userAgent||navigator.vendor||window.opera||""}var U=new(function(){function e(){B(this,e)}return F(e,[{key:"phone",value:function(){var e=R();return!(!K.test(e)&&!G.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=R();return!(!J.test(e)&&!Q.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),e}()),V=function(e,t){var n=void 0;return U.ie11()?(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,{detail:t}):n=new CustomEvent(e,{detail:t}),document.dispatchEvent(n)},X=function(e){return e.forEach(function(e,t){return function(e,t){var n=e.options,o=e.position,i=e.node,a=(e.data,function(){e.animated&&(function(e,t){t&&t.forEach(function(t){return e.classList.remove(t)})}(i,n.animatedClassNames),V("aos:out",i),e.options.id&&V("aos:in:"+e.options.id,i),e.animated=!1)});n.mirror&&t>=o.out&&!n.once?a():t>=o.in?e.animated||(function(e,t){t&&t.forEach(function(t){return e.classList.add(t)})}(i,n.animatedClassNames),V("aos:in",i),e.options.id&&V("aos:in:"+e.options.id,i),e.animated=!0):e.animated&&!n.once&&a()}(e,window.pageYOffset)})},Z=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}},ee=function(e,t,n){var o=e.getAttribute("data-aos-"+t);if(void 0!==o){if("true"===o)return!0;if("false"===o)return!1}return o||n},te=function(e,t){return e.forEach(function(e,n){var o=ee(e.node,"mirror",t.mirror),i=ee(e.node,"once",t.once),a=ee(e.node,"id"),r=t.useClassNames&&e.node.getAttribute("data-aos"),c=[t.animatedClassName].concat(r?r.split(" "):[]).filter(function(e){return"string"==typeof e});t.initClassName&&e.node.classList.add(t.initClassName),e.position={in:function(e,t,n){var o=window.innerHeight,i=ee(e,"anchor"),a=ee(e,"anchor-placement"),r=Number(ee(e,"offset",a?0:t)),c=a||n,s=e;i&&document.querySelectorAll(i)&&(s=document.querySelectorAll(i)[0]);var u=Z(s).top-o;switch(c){case"top-bottom":break;case"center-bottom":u+=s.offsetHeight/2;break;case"bottom-bottom":u+=s.offsetHeight;break;case"top-center":u+=o/2;break;case"center-center":u+=o/2+s.offsetHeight/2;break;case"bottom-center":u+=o/2+s.offsetHeight;break;case"top-top":u+=o;break;case"bottom-top":u+=o+s.offsetHeight;break;case"center-top":u+=o+s.offsetHeight/2}return u+r}(e.node,t.offset,t.anchorPlacement),out:o&&function(e,t){window.innerHeight;var n=ee(e,"anchor"),o=ee(e,"offset",t),i=e;return n&&document.querySelectorAll(n)&&(i=document.querySelectorAll(n)[0]),Z(i).top+i.offsetHeight-o}(e.node,t.offset)},e.options={once:i,mirror:o,animatedClassNames:c,id:a}}),e},ne=function(){var e=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(e,function(e){return{node:e}})},oe=[],ie=!1,ae={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},re=function(){return document.all&&!window.atob},ce=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(ie=!0),ie&&(oe=te(oe,ae),X(oe),window.addEventListener("scroll",y(function(){X(oe,ae.once)},ae.throttleDelay)))},se=function(){if(oe=ne(),de(ae.disable)||re())return ue();ce()},ue=function(){oe.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay"),ae.initClassName&&e.node.classList.remove(ae.initClassName),ae.animatedClassName&&e.node.classList.remove(ae.animatedClassName)})},de=function(e){return!0===e||"mobile"===e&&U.mobile()||"phone"===e&&U.phone()||"tablet"===e&&U.tablet()||"function"==typeof e&&!0===e()};return{init:function(e){return ae=I(ae,e),oe=ne(),ae.disableMutationObserver||_.isSupported()||(console.info(\'\\n      aos: MutationObserver is not supported on this browser,\\n      code mutations observing has been disabled.\\n      You may have to call "refreshHard()" by yourself.\\n    \'),ae.disableMutationObserver=!0),ae.disableMutationObserver||_.ready("[data-aos]",se),de(ae.disable)||re()?ue():(document.querySelector("body").setAttribute("data-aos-easing",ae.easing),document.querySelector("body").setAttribute("data-aos-duration",ae.duration),document.querySelector("body").setAttribute("data-aos-delay",ae.delay),-1===["DOMContentLoaded","load"].indexOf(ae.startEvent)?document.addEventListener(ae.startEvent,function(){ce(!0)}):window.addEventListener("load",function(){ce(!0)}),"DOMContentLoaded"===ae.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1&&ce(!0),window.addEventListener("resize",$(ce,ae.debounceDelay,!0)),window.addEventListener("orientationchange",$(ce,ae.debounceDelay,!0)),oe)},refresh:ce,refreshHard:se}});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(110)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW9zL2Rpc3QvYW9zLmpzP2Y1YWYiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6ZS5BT1M9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSx0PVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLG49TmFOLG89XCJbb2JqZWN0IFN5bWJvbF1cIixpPS9eXFxzK3xcXHMrJC9nLGE9L15bLStdMHhbMC05YS1mXSskL2kscj0vXjBiWzAxXSskL2ksYz0vXjBvWzAtN10rJC9pLHM9cGFyc2VJbnQsdT1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5PYmplY3Q9PT1PYmplY3QmJmUsZD1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbD11fHxkfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksZj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLG09TWF0aC5tYXgscD1NYXRoLm1pbixiPWZ1bmN0aW9uKCl7cmV0dXJuIGwuRGF0ZS5ub3coKX07ZnVuY3Rpb24gdihlLG4sbyl7dmFyIGksYSxyLGMscyx1LGQ9MCxsPSExLGY9ITEsdj0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IodCk7ZnVuY3Rpb24geSh0KXt2YXIgbj1pLG89YTtyZXR1cm4gaT1hPXZvaWQgMCxkPXQsYz1lLmFwcGx5KG8sbil9ZnVuY3Rpb24gaChlKXt2YXIgdD1lLXU7cmV0dXJuIHZvaWQgMD09PXV8fHQ+PW58fHQ8MHx8ZiYmZS1kPj1yfWZ1bmN0aW9uIGsoKXt2YXIgZT1iKCk7aWYoaChlKSlyZXR1cm4geChlKTtzPXNldFRpbWVvdXQoayxmdW5jdGlvbihlKXt2YXIgdD1uLShlLXUpO3JldHVybiBmP3AodCxyLShlLWQpKTp0fShlKSl9ZnVuY3Rpb24geChlKXtyZXR1cm4gcz12b2lkIDAsdiYmaT95KGUpOihpPWE9dm9pZCAwLGMpfWZ1bmN0aW9uIE8oKXt2YXIgZT1iKCksdD1oKGUpO2lmKGk9YXJndW1lbnRzLGE9dGhpcyx1PWUsdCl7aWYodm9pZCAwPT09cylyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGQ9ZSxzPXNldFRpbWVvdXQoayxuKSxsP3koZSk6Y30odSk7aWYoZilyZXR1cm4gcz1zZXRUaW1lb3V0KGssbikseSh1KX1yZXR1cm4gdm9pZCAwPT09cyYmKHM9c2V0VGltZW91dChrLG4pKSxjfXJldHVybiBuPXcobil8fDAsZyhvKSYmKGw9ISFvLmxlYWRpbmcscj0oZj1cIm1heFdhaXRcImluIG8pP20odyhvLm1heFdhaXQpfHwwLG4pOnIsdj1cInRyYWlsaW5nXCJpbiBvPyEhby50cmFpbGluZzp2KSxPLmNhbmNlbD1mdW5jdGlvbigpe3ZvaWQgMCE9PXMmJmNsZWFyVGltZW91dChzKSxkPTAsaT11PWE9cz12b2lkIDB9LE8uZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09cz9jOngoYigpKX0sT31mdW5jdGlvbiBnKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiEhZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gdyhlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihmdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZXx8ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZX0oZSkmJmYuY2FsbChlKT09b30oZSkpcmV0dXJuIG47aWYoZyhlKSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mP2UudmFsdWVPZigpOmU7ZT1nKHQpP3QrXCJcIjp0fWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiAwPT09ZT9lOitlO2U9ZS5yZXBsYWNlKGksXCJcIik7dmFyIHU9ci50ZXN0KGUpO3JldHVybiB1fHxjLnRlc3QoZSk/cyhlLnNsaWNlKDIpLHU/Mjo4KTphLnRlc3QoZSk/bjorZX12YXIgeT1mdW5jdGlvbihlLG4sbyl7dmFyIGk9ITAsYT0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IodCk7cmV0dXJuIGcobykmJihpPVwibGVhZGluZ1wiaW4gbz8hIW8ubGVhZGluZzppLGE9XCJ0cmFpbGluZ1wiaW4gbz8hIW8udHJhaWxpbmc6YSksdihlLG4se2xlYWRpbmc6aSxtYXhXYWl0Om4sdHJhaWxpbmc6YX0pfSxoPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLGs9TmFOLHg9XCJbb2JqZWN0IFN5bWJvbF1cIixPPS9eXFxzK3xcXHMrJC9nLGo9L15bLStdMHhbMC05YS1mXSskL2ksRT0vXjBiWzAxXSskL2ksTj0vXjBvWzAtN10rJC9pLHo9cGFyc2VJbnQsQz1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5PYmplY3Q9PT1PYmplY3QmJmUsQT1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYscT1DfHxBfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksTD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFQ9TWF0aC5tYXgsTT1NYXRoLm1pbixTPWZ1bmN0aW9uKCl7cmV0dXJuIHEuRGF0ZS5ub3coKX07ZnVuY3Rpb24gRChlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4hIWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIEgoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoZnVuY3Rpb24oZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV8fGZ1bmN0aW9uKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9KGUpJiZMLmNhbGwoZSk9PXh9KGUpKXJldHVybiBrO2lmKEQoZSkpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZj9lLnZhbHVlT2YoKTplO2U9RCh0KT90K1wiXCI6dH1pZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShPLFwiXCIpO3ZhciBuPUUudGVzdChlKTtyZXR1cm4gbnx8Ti50ZXN0KGUpP3ooZS5zbGljZSgyKSxuPzI6OCk6ai50ZXN0KGUpP2s6K2V9dmFyICQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLGksYSxyLGMscyx1PTAsZD0hMSxsPSExLGY9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKGgpO2Z1bmN0aW9uIG0odCl7dmFyIG49byxhPWk7cmV0dXJuIG89aT12b2lkIDAsdT10LHI9ZS5hcHBseShhLG4pfWZ1bmN0aW9uIHAoZSl7dmFyIG49ZS1zO3JldHVybiB2b2lkIDA9PT1zfHxuPj10fHxuPDB8fGwmJmUtdT49YX1mdW5jdGlvbiBiKCl7dmFyIGU9UygpO2lmKHAoZSkpcmV0dXJuIHYoZSk7Yz1zZXRUaW1lb3V0KGIsZnVuY3Rpb24oZSl7dmFyIG49dC0oZS1zKTtyZXR1cm4gbD9NKG4sYS0oZS11KSk6bn0oZSkpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGM9dm9pZCAwLGYmJm8/bShlKToobz1pPXZvaWQgMCxyKX1mdW5jdGlvbiBnKCl7dmFyIGU9UygpLG49cChlKTtpZihvPWFyZ3VtZW50cyxpPXRoaXMscz1lLG4pe2lmKHZvaWQgMD09PWMpcmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1PWUsYz1zZXRUaW1lb3V0KGIsdCksZD9tKGUpOnJ9KHMpO2lmKGwpcmV0dXJuIGM9c2V0VGltZW91dChiLHQpLG0ocyl9cmV0dXJuIHZvaWQgMD09PWMmJihjPXNldFRpbWVvdXQoYix0KSkscn1yZXR1cm4gdD1IKHQpfHwwLEQobikmJihkPSEhbi5sZWFkaW5nLGE9KGw9XCJtYXhXYWl0XCJpbiBuKT9UKEgobi5tYXhXYWl0KXx8MCx0KTphLGY9XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6ZiksZy5jYW5jZWw9ZnVuY3Rpb24oKXt2b2lkIDAhPT1jJiZjbGVhclRpbWVvdXQoYyksdT0wLG89cz1pPWM9dm9pZCAwfSxnLmZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWM/cjp2KFMoKSl9LGd9LFc9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIFAoZSl7ZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuYWRkZWROb2Rlcyksbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnJlbW92ZWROb2Rlcyk7aWYoZnVuY3Rpb24gZSh0KXt2YXIgbj12b2lkIDAsbz12b2lkIDA7Zm9yKG49MDtuPHQubGVuZ3RoO24rPTEpe2lmKChvPXRbbl0pLmRhdGFzZXQmJm8uZGF0YXNldC5hb3MpcmV0dXJuITA7aWYoby5jaGlsZHJlbiYmZShvLmNoaWxkcmVuKSlyZXR1cm4hMH1yZXR1cm4hMX0odC5jb25jYXQobikpKXJldHVybiBXKCl9KX1mdW5jdGlvbiBZKCl7cmV0dXJuIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXJ9dmFyIF89e2lzU3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuISFZKCl9LHJlYWR5OmZ1bmN0aW9uKGUsdCl7dmFyIG49d2luZG93LmRvY3VtZW50LG89bmV3KFkoKSkoUCk7Vz10LG8ub2JzZXJ2ZShuLmRvY3VtZW50RWxlbWVudCx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITAscmVtb3ZlZE5vZGVzOiEwfSl9fSxCPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0sRj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLEk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgbyBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pJiYoZVtvXT1uW29dKX1yZXR1cm4gZX0sSz0vKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2ksRz0vMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaSxKPS8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaSxRPS8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pO2Z1bmN0aW9uIFIoKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhfHxcIlwifXZhciBVPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtCKHRoaXMsZSl9cmV0dXJuIEYoZSxbe2tleTpcInBob25lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1SKCk7cmV0dXJuISghSy50ZXN0KGUpJiYhRy50ZXN0KGUuc3Vic3RyKDAsNCkpKX19LHtrZXk6XCJtb2JpbGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVIoKTtyZXR1cm4hKCFKLnRlc3QoZSkmJiFRLnRlc3QoZS5zdWJzdHIoMCw0KSkpfX0se2tleTpcInRhYmxldFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9iaWxlKCkmJiF0aGlzLnBob25lKCl9fSx7a2V5OlwiaWUxMVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCItbXMtc2Nyb2xsLWxpbWl0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJlwiLW1zLWltZS1hbGlnblwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlfX1dKSxlfSgpKSxWPWZ1bmN0aW9uKGUsdCl7dmFyIG49dm9pZCAwO3JldHVybiBVLmllMTEoKT8obj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpKS5pbml0Q3VzdG9tRXZlbnQoZSwhMCwhMCx7ZGV0YWlsOnR9KTpuPW5ldyBDdXN0b21FdmVudChlLHtkZXRhaWw6dH0pLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobil9LFg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPWUub3B0aW9ucyxvPWUucG9zaXRpb24saT1lLm5vZGUsYT0oZS5kYXRhLGZ1bmN0aW9uKCl7ZS5hbmltYXRlZCYmKGZ1bmN0aW9uKGUsdCl7dCYmdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNsYXNzTGlzdC5yZW1vdmUodCl9KX0oaSxuLmFuaW1hdGVkQ2xhc3NOYW1lcyksVihcImFvczpvdXRcIixpKSxlLm9wdGlvbnMuaWQmJlYoXCJhb3M6aW46XCIrZS5vcHRpb25zLmlkLGkpLGUuYW5pbWF0ZWQ9ITEpfSk7bi5taXJyb3ImJnQ+PW8ub3V0JiYhbi5vbmNlP2EoKTp0Pj1vLmluP2UuYW5pbWF0ZWR8fChmdW5jdGlvbihlLHQpe3QmJnQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5jbGFzc0xpc3QuYWRkKHQpfSl9KGksbi5hbmltYXRlZENsYXNzTmFtZXMpLFYoXCJhb3M6aW5cIixpKSxlLm9wdGlvbnMuaWQmJlYoXCJhb3M6aW46XCIrZS5vcHRpb25zLmlkLGkpLGUuYW5pbWF0ZWQ9ITApOmUuYW5pbWF0ZWQmJiFuLm9uY2UmJmEoKX0oZSx3aW5kb3cucGFnZVlPZmZzZXQpfSl9LFo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj0wO2UmJiFpc05hTihlLm9mZnNldExlZnQpJiYhaXNOYU4oZS5vZmZzZXRUb3ApOyl0Kz1lLm9mZnNldExlZnQtKFwiQk9EWVwiIT1lLnRhZ05hbWU/ZS5zY3JvbGxMZWZ0OjApLG4rPWUub2Zmc2V0VG9wLShcIkJPRFlcIiE9ZS50YWdOYW1lP2Uuc2Nyb2xsVG9wOjApLGU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJue3RvcDpuLGxlZnQ6dH19LGVlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lLmdldEF0dHJpYnV0ZShcImRhdGEtYW9zLVwiK3QpO2lmKHZvaWQgMCE9PW8pe2lmKFwidHJ1ZVwiPT09bylyZXR1cm4hMDtpZihcImZhbHNlXCI9PT1vKXJldHVybiExfXJldHVybiBvfHxufSx0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxuKXt2YXIgbz1lZShlLm5vZGUsXCJtaXJyb3JcIix0Lm1pcnJvciksaT1lZShlLm5vZGUsXCJvbmNlXCIsdC5vbmNlKSxhPWVlKGUubm9kZSxcImlkXCIpLHI9dC51c2VDbGFzc05hbWVzJiZlLm5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hb3NcIiksYz1bdC5hbmltYXRlZENsYXNzTmFtZV0uY29uY2F0KHI/ci5zcGxpdChcIiBcIik6W10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0pO3QuaW5pdENsYXNzTmFtZSYmZS5ub2RlLmNsYXNzTGlzdC5hZGQodC5pbml0Q2xhc3NOYW1lKSxlLnBvc2l0aW9uPXtpbjpmdW5jdGlvbihlLHQsbil7dmFyIG89d2luZG93LmlubmVySGVpZ2h0LGk9ZWUoZSxcImFuY2hvclwiKSxhPWVlKGUsXCJhbmNob3ItcGxhY2VtZW50XCIpLHI9TnVtYmVyKGVlKGUsXCJvZmZzZXRcIixhPzA6dCkpLGM9YXx8bixzPWU7aSYmZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChpKSYmKHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChpKVswXSk7dmFyIHU9WihzKS50b3Atbztzd2l0Y2goYyl7Y2FzZVwidG9wLWJvdHRvbVwiOmJyZWFrO2Nhc2VcImNlbnRlci1ib3R0b21cIjp1Kz1zLm9mZnNldEhlaWdodC8yO2JyZWFrO2Nhc2VcImJvdHRvbS1ib3R0b21cIjp1Kz1zLm9mZnNldEhlaWdodDticmVhaztjYXNlXCJ0b3AtY2VudGVyXCI6dSs9by8yO2JyZWFrO2Nhc2VcImNlbnRlci1jZW50ZXJcIjp1Kz1vLzIrcy5vZmZzZXRIZWlnaHQvMjticmVhaztjYXNlXCJib3R0b20tY2VudGVyXCI6dSs9by8yK3Mub2Zmc2V0SGVpZ2h0O2JyZWFrO2Nhc2VcInRvcC10b3BcIjp1Kz1vO2JyZWFrO2Nhc2VcImJvdHRvbS10b3BcIjp1Kz1vK3Mub2Zmc2V0SGVpZ2h0O2JyZWFrO2Nhc2VcImNlbnRlci10b3BcIjp1Kz1vK3Mub2Zmc2V0SGVpZ2h0LzJ9cmV0dXJuIHUrcn0oZS5ub2RlLHQub2Zmc2V0LHQuYW5jaG9yUGxhY2VtZW50KSxvdXQ6byYmZnVuY3Rpb24oZSx0KXt3aW5kb3cuaW5uZXJIZWlnaHQ7dmFyIG49ZWUoZSxcImFuY2hvclwiKSxvPWVlKGUsXCJvZmZzZXRcIix0KSxpPWU7cmV0dXJuIG4mJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobikmJihpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobilbMF0pLFooaSkudG9wK2kub2Zmc2V0SGVpZ2h0LW99KGUubm9kZSx0Lm9mZnNldCl9LGUub3B0aW9ucz17b25jZTppLG1pcnJvcjpvLGFuaW1hdGVkQ2xhc3NOYW1lczpjLGlkOmF9fSksZX0sbmU9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW9zXVwiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGUsZnVuY3Rpb24oZSl7cmV0dXJue25vZGU6ZX19KX0sb2U9W10saWU9ITEsYWU9e29mZnNldDoxMjAsZGVsYXk6MCxlYXNpbmc6XCJlYXNlXCIsZHVyYXRpb246NDAwLGRpc2FibGU6ITEsb25jZTohMSxtaXJyb3I6ITEsYW5jaG9yUGxhY2VtZW50OlwidG9wLWJvdHRvbVwiLHN0YXJ0RXZlbnQ6XCJET01Db250ZW50TG9hZGVkXCIsYW5pbWF0ZWRDbGFzc05hbWU6XCJhb3MtYW5pbWF0ZVwiLGluaXRDbGFzc05hbWU6XCJhb3MtaW5pdFwiLHVzZUNsYXNzTmFtZXM6ITEsZGlzYWJsZU11dGF0aW9uT2JzZXJ2ZXI6ITEsdGhyb3R0bGVEZWxheTo5OSxkZWJvdW5jZURlbGF5OjUwfSxyZT1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYn0sY2U9ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdJiYoaWU9ITApLGllJiYob2U9dGUob2UsYWUpLFgob2UpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIseShmdW5jdGlvbigpe1gob2UsYWUub25jZSl9LGFlLnRocm90dGxlRGVsYXkpKSl9LHNlPWZ1bmN0aW9uKCl7aWYob2U9bmUoKSxkZShhZS5kaXNhYmxlKXx8cmUoKSlyZXR1cm4gdWUoKTtjZSgpfSx1ZT1mdW5jdGlvbigpe29lLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3NcIiksZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zLWVhc2luZ1wiKSxlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3MtZHVyYXRpb25cIiksZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zLWRlbGF5XCIpLGFlLmluaXRDbGFzc05hbWUmJmUubm9kZS5jbGFzc0xpc3QucmVtb3ZlKGFlLmluaXRDbGFzc05hbWUpLGFlLmFuaW1hdGVkQ2xhc3NOYW1lJiZlLm5vZGUuY2xhc3NMaXN0LnJlbW92ZShhZS5hbmltYXRlZENsYXNzTmFtZSl9KX0sZGU9ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lfHxcIm1vYmlsZVwiPT09ZSYmVS5tb2JpbGUoKXx8XCJwaG9uZVwiPT09ZSYmVS5waG9uZSgpfHxcInRhYmxldFwiPT09ZSYmVS50YWJsZXQoKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmITA9PT1lKCl9O3JldHVybntpbml0OmZ1bmN0aW9uKGUpe3JldHVybiBhZT1JKGFlLGUpLG9lPW5lKCksYWUuZGlzYWJsZU11dGF0aW9uT2JzZXJ2ZXJ8fF8uaXNTdXBwb3J0ZWQoKXx8KGNvbnNvbGUuaW5mbygnXFxuICAgICAgYW9zOiBNdXRhdGlvbk9ic2VydmVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLFxcbiAgICAgIGNvZGUgbXV0YXRpb25zIG9ic2VydmluZyBoYXMgYmVlbiBkaXNhYmxlZC5cXG4gICAgICBZb3UgbWF5IGhhdmUgdG8gY2FsbCBcInJlZnJlc2hIYXJkKClcIiBieSB5b3Vyc2VsZi5cXG4gICAgJyksYWUuZGlzYWJsZU11dGF0aW9uT2JzZXJ2ZXI9ITApLGFlLmRpc2FibGVNdXRhdGlvbk9ic2VydmVyfHxfLnJlYWR5KFwiW2RhdGEtYW9zXVwiLHNlKSxkZShhZS5kaXNhYmxlKXx8cmUoKT91ZSgpOihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1lYXNpbmdcIixhZS5lYXNpbmcpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnNldEF0dHJpYnV0ZShcImRhdGEtYW9zLWR1cmF0aW9uXCIsYWUuZHVyYXRpb24pLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnNldEF0dHJpYnV0ZShcImRhdGEtYW9zLWRlbGF5XCIsYWUuZGVsYXkpLC0xPT09W1wiRE9NQ29udGVudExvYWRlZFwiLFwibG9hZFwiXS5pbmRleE9mKGFlLnN0YXJ0RXZlbnQpP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYWUuc3RhcnRFdmVudCxmdW5jdGlvbigpe2NlKCEwKX0pOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKCl7Y2UoITApfSksXCJET01Db250ZW50TG9hZGVkXCI9PT1hZS5zdGFydEV2ZW50JiZbXCJjb21wbGV0ZVwiLFwiaW50ZXJhY3RpdmVcIl0uaW5kZXhPZihkb2N1bWVudC5yZWFkeVN0YXRlKT4tMSYmY2UoITApLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsJChjZSxhZS5kZWJvdW5jZURlbGF5LCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCQoY2UsYWUuZGVib3VuY2VEZWxheSwhMCkpLG9lKX0scmVmcmVzaDpjZSxyZWZyZXNoSGFyZDpzZX19KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar isRegExp = __webpack_require__(125);\nvar anObject = __webpack_require__(11);\nvar speciesConstructor = __webpack_require__(154);\nvar advanceStringIndex = __webpack_require__(104);\nvar toLength = __webpack_require__(65);\nvar callRegExpExec = __webpack_require__(84);\nvar regexpExec = __webpack_require__(105);\nvar fails = __webpack_require__(26);\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\n__webpack_require__(85)('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQuanM/MjhhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBpc1JlZ0V4cCA9IHJlcXVpcmUoJy4vX2lzLXJlZ2V4cCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4vX2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjYWxsUmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyICRtaW4gPSBNYXRoLm1pbjtcbnZhciAkcHVzaCA9IFtdLnB1c2g7XG52YXIgJFNQTElUID0gJ3NwbGl0JztcbnZhciBMRU5HVEggPSAnbGVuZ3RoJztcbnZhciBMQVNUX0lOREVYID0gJ2xhc3RJbmRleCc7XG52YXIgTUFYX1VJTlQzMiA9IDB4ZmZmZmZmZmY7XG5cbi8vIGJhYmVsLW1pbmlmeSB0cmFuc3BpbGVzIFJlZ0V4cCgneCcsICd5JykgLT4gL3gveSBhbmQgaXQgY2F1c2VzIFN5bnRheEVycm9yXG52YXIgU1VQUE9SVFNfWSA9ICFmYWlscyhmdW5jdGlvbiAoKSB7IFJlZ0V4cChNQVhfVUlOVDMyLCAneScpOyB9KTtcblxuLy8gQEBzcGxpdCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdzcGxpdCcsIDIsIGZ1bmN0aW9uIChkZWZpbmVkLCBTUExJVCwgJHNwbGl0LCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgdmFyIGludGVybmFsU3BsaXQ7XG4gIGlmIChcbiAgICAnYWJiYydbJFNQTElUXSgvKGIpKi8pWzFdID09ICdjJyB8fFxuICAgICd0ZXN0J1skU1BMSVRdKC8oPzopLywgLTEpW0xFTkdUSF0gIT0gNCB8fFxuICAgICdhYidbJFNQTElUXSgvKD86YWIpKi8pW0xFTkdUSF0gIT0gMiB8fFxuICAgICcuJ1skU1BMSVRdKC8oLj8pKC4/KS8pW0xFTkdUSF0gIT0gNCB8fFxuICAgICcuJ1skU1BMSVRdKC8oKSgpLylbTEVOR1RIXSA+IDEgfHxcbiAgICAnJ1skU1BMSVRdKC8uPy8pW0xFTkdUSF1cbiAgKSB7XG4gICAgLy8gYmFzZWQgb24gZXM1LXNoaW0gaW1wbGVtZW50YXRpb24sIG5lZWQgdG8gcmV3b3JrIGl0XG4gICAgaW50ZXJuYWxTcGxpdCA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICB2YXIgc3RyaW5nID0gU3RyaW5nKHRoaXMpO1xuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkICYmIGxpbWl0ID09PSAwKSByZXR1cm4gW107XG4gICAgICAvLyBJZiBgc2VwYXJhdG9yYCBpcyBub3QgYSByZWdleCwgdXNlIG5hdGl2ZSBzcGxpdFxuICAgICAgaWYgKCFpc1JlZ0V4cChzZXBhcmF0b3IpKSByZXR1cm4gJHNwbGl0LmNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgIHZhciBmbGFncyA9IChzZXBhcmF0b3IuaWdub3JlQ2FzZSA/ICdpJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLm11bHRpbGluZSA/ICdtJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5zdGlja3kgPyAneScgOiAnJyk7XG4gICAgICB2YXIgbGFzdExhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgc3BsaXRMaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfVUlOVDMyIDogbGltaXQgPj4+IDA7XG4gICAgICAvLyBNYWtlIGBnbG9iYWxgIGFuZCBhdm9pZCBgbGFzdEluZGV4YCBpc3N1ZXMgYnkgd29ya2luZyB3aXRoIGEgY29weVxuICAgICAgdmFyIHNlcGFyYXRvckNvcHkgPSBuZXcgUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIGZsYWdzICsgJ2cnKTtcbiAgICAgIHZhciBtYXRjaCwgbGFzdEluZGV4LCBsYXN0TGVuZ3RoO1xuICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXhwRXhlYy5jYWxsKHNlcGFyYXRvckNvcHksIHN0cmluZykpIHtcbiAgICAgICAgbGFzdEluZGV4ID0gc2VwYXJhdG9yQ29weVtMQVNUX0lOREVYXTtcbiAgICAgICAgaWYgKGxhc3RJbmRleCA+IGxhc3RMYXN0SW5kZXgpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmcuc2xpY2UobGFzdExhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcbiAgICAgICAgICBpZiAobWF0Y2hbTEVOR1RIXSA+IDEgJiYgbWF0Y2guaW5kZXggPCBzdHJpbmdbTEVOR1RIXSkgJHB1c2guYXBwbHkob3V0cHV0LCBtYXRjaC5zbGljZSgxKSk7XG4gICAgICAgICAgbGFzdExlbmd0aCA9IG1hdGNoWzBdW0xFTkdUSF07XG4gICAgICAgICAgbGFzdExhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgICBpZiAob3V0cHV0W0xFTkdUSF0gPj0gc3BsaXRMaW1pdCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcGFyYXRvckNvcHlbTEFTVF9JTkRFWF0gPT09IG1hdGNoLmluZGV4KSBzZXBhcmF0b3JDb3B5W0xBU1RfSU5ERVhdKys7IC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0TGFzdEluZGV4ID09PSBzdHJpbmdbTEVOR1RIXSkge1xuICAgICAgICBpZiAobGFzdExlbmd0aCB8fCAhc2VwYXJhdG9yQ29weS50ZXN0KCcnKSkgb3V0cHV0LnB1c2goJycpO1xuICAgICAgfSBlbHNlIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4KSk7XG4gICAgICByZXR1cm4gb3V0cHV0W0xFTkdUSF0gPiBzcGxpdExpbWl0ID8gb3V0cHV0LnNsaWNlKDAsIHNwbGl0TGltaXQpIDogb3V0cHV0O1xuICAgIH07XG4gIC8vIENoYWtyYSwgVjhcbiAgfSBlbHNlIGlmICgnMCdbJFNQTElUXSh1bmRlZmluZWQsIDApW0xFTkdUSF0pIHtcbiAgICBpbnRlcm5hbFNwbGl0ID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIHJldHVybiBzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCAmJiBsaW1pdCA9PT0gMCA/IFtdIDogJHNwbGl0LmNhbGwodGhpcywgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBpbnRlcm5hbFNwbGl0ID0gJHNwbGl0O1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5zcGxpdGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5zcGxpdFxuICAgIGZ1bmN0aW9uIHNwbGl0KHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIHZhciBPID0gZGVmaW5lZCh0aGlzKTtcbiAgICAgIHZhciBzcGxpdHRlciA9IHNlcGFyYXRvciA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBzZXBhcmF0b3JbU1BMSVRdO1xuICAgICAgcmV0dXJuIHNwbGl0dGVyICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBzcGxpdHRlci5jYWxsKHNlcGFyYXRvciwgTywgbGltaXQpXG4gICAgICAgIDogaW50ZXJuYWxTcGxpdC5jYWxsKFN0cmluZyhPKSwgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQHNwbGl0XWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQHNwbGl0XG4gICAgLy9cbiAgICAvLyBOT1RFOiBUaGlzIGNhbm5vdCBiZSBwcm9wZXJseSBwb2x5ZmlsbGVkIGluIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0XG4gICAgLy8gdGhlICd5JyBmbGFnLlxuICAgIGZ1bmN0aW9uIChyZWdleHAsIGxpbWl0KSB7XG4gICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKGludGVybmFsU3BsaXQsIHJlZ2V4cCwgdGhpcywgbGltaXQsIGludGVybmFsU3BsaXQgIT09ICRzcGxpdCk7XG4gICAgICBpZiAocmVzLmRvbmUpIHJldHVybiByZXMudmFsdWU7XG5cbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHJlZ2V4cCk7XG4gICAgICB2YXIgUyA9IFN0cmluZyh0aGlzKTtcbiAgICAgIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHJ4LCBSZWdFeHApO1xuXG4gICAgICB2YXIgdW5pY29kZU1hdGNoaW5nID0gcngudW5pY29kZTtcbiAgICAgIHZhciBmbGFncyA9IChyeC5pZ25vcmVDYXNlID8gJ2knIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyeC5tdWx0aWxpbmUgPyAnbScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJ4LnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKFNVUFBPUlRTX1kgPyAneScgOiAnZycpO1xuXG4gICAgICAvLyBeKD8gKyByeCArICkgaXMgbmVlZGVkLCBpbiBjb21iaW5hdGlvbiB3aXRoIHNvbWUgUyBzbGljaW5nLCB0b1xuICAgICAgLy8gc2ltdWxhdGUgdGhlICd5JyBmbGFnLlxuICAgICAgdmFyIHNwbGl0dGVyID0gbmV3IEMoU1VQUE9SVFNfWSA/IHJ4IDogJ14oPzonICsgcnguc291cmNlICsgJyknLCBmbGFncyk7XG4gICAgICB2YXIgbGltID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9VSU5UMzIgOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmIChsaW0gPT09IDApIHJldHVybiBbXTtcbiAgICAgIGlmIChTLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNhbGxSZWdFeHBFeGVjKHNwbGl0dGVyLCBTKSA9PT0gbnVsbCA/IFtTXSA6IFtdO1xuICAgICAgdmFyIHAgPSAwO1xuICAgICAgdmFyIHEgPSAwO1xuICAgICAgdmFyIEEgPSBbXTtcbiAgICAgIHdoaWxlIChxIDwgUy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXR0ZXIubGFzdEluZGV4ID0gU1VQUE9SVFNfWSA/IHEgOiAwO1xuICAgICAgICB2YXIgeiA9IGNhbGxSZWdFeHBFeGVjKHNwbGl0dGVyLCBTVVBQT1JUU19ZID8gUyA6IFMuc2xpY2UocSkpO1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHogPT09IG51bGwgfHxcbiAgICAgICAgICAoZSA9ICRtaW4odG9MZW5ndGgoc3BsaXR0ZXIubGFzdEluZGV4ICsgKFNVUFBPUlRTX1kgPyAwIDogcSkpLCBTLmxlbmd0aCkpID09PSBwXG4gICAgICAgICkge1xuICAgICAgICAgIHEgPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgcSwgdW5pY29kZU1hdGNoaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBLnB1c2goUy5zbGljZShwLCBxKSk7XG4gICAgICAgICAgaWYgKEEubGVuZ3RoID09PSBsaW0pIHJldHVybiBBO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHoubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBBLnB1c2goeltpXSk7XG4gICAgICAgICAgICBpZiAoQS5sZW5ndGggPT09IGxpbSkgcmV0dXJuIEE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHEgPSBwID0gZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQS5wdXNoKFMuc2xpY2UocCkpO1xuICAgICAgcmV0dXJuIEE7XG4gICAgfVxuICBdO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n")},,function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(11);\nvar IE8_DOM_DEFINE = __webpack_require__(111);\nvar toPrimitive = __webpack_require__(97);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(16) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZHAuanM/ODZjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n")},function(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(26)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcz85ZTFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n")},function(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19nbG9iYWwuanM/NzcyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n")},,,,,,,,,function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19mYWlscy5qcz83OWU1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(15);\nvar createDesc = __webpack_require__(61);\nmodule.exports = __webpack_require__(16) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oaWRlLmpzPzMyZTkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ2xpZ2h0Ym94L2Rpc3QvY3NzL2dsaWdodGJveC5jc3M/YWZhNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///28\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(150);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ResponsiveAutoHeight = function () {\n  function ResponsiveAutoHeight(selector, options) {\n    var _this = this;\n\n    _classCallCheck(this, ResponsiveAutoHeight);\n\n    this.selector = selector;\n    this.elements = typeof selector === 'string' ? document.querySelectorAll(selector) : selector;\n    this.options = options;\n    window.addEventListener('resize', function () {\n      _this.run();\n    });\n    this.run();\n  }\n\n  _createClass(ResponsiveAutoHeight, [{\n    key: 'recalc',\n    value: function recalc() {\n      this.elements = document.querySelectorAll(this.selector);\n      this.run();\n    }\n  }, {\n    key: 'makeGroups',\n    value: function makeGroups(elements) {\n      var group = [];\n      [].forEach.call(elements, function (element) {\n        element.style.height = '1px';\n        element.style.overflow = 'hidden';\n      });\n      var idx = 0;\n      var height = (0, _util.getOffset)(elements[0]).top;\n      group[0] = [];\n      [].forEach.call(elements, function (element) {\n        if ((0, _util.getOffset)(element).top !== height) {\n          height = (0, _util.getOffset)(element).top;\n          idx += 1;\n          group[idx] = [];\n        }\n        group[idx].push(element);\n      });\n      [].forEach.call(elements, function (element) {\n        element.style.height = '';\n        element.style.overflow = '';\n      });\n      return group;\n    }\n  }, {\n    key: 'autoHeight',\n    value: function autoHeight(group) {\n      var heights = group.map(function (element) {\n        var computedStyle = getComputedStyle(element);\n        var boxSizing = computedStyle.boxSizing;\n        if (boxSizing === 'border-box') {\n          return element.offsetHeight;\n        }\n        return element.offsetHeight - parseFloat(computedStyle.paddingTop) - parseFloat(computedStyle.paddingBottom);\n      });\n      var maxHeight = Math.max.apply(Math, _toConsumableArray(heights));\n      group.forEach(function (element) {\n        element.style.height = maxHeight + 'px';\n      });\n    }\n  }, {\n    key: 'run',\n    value: function run() {\n      var _this2 = this;\n\n      var elements = this.elements;\n\n      var groups = this.makeGroups(elements);\n      groups.forEach(function (group) {\n        _this2.autoHeight(group);\n      });\n    }\n  }]);\n\n  return ResponsiveAutoHeight;\n}();\n\nexports.default = ResponsiveAutoHeight;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzcG9uc2l2ZS1hdXRvLWhlaWdodC9saWIvaW5kZXguanM/Y2FiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJlc3BvbnNpdmVBdXRvSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZXNwb25zaXZlQXV0b0hlaWdodChzZWxlY3Rvciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzcG9uc2l2ZUF1dG9IZWlnaHQpO1xuXG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIHRoaXMuZWxlbWVudHMgPSB0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikgOiBzZWxlY3RvcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5ydW4oKTtcbiAgICB9KTtcbiAgICB0aGlzLnJ1bigpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc3BvbnNpdmVBdXRvSGVpZ2h0LCBbe1xuICAgIGtleTogJ3JlY2FsYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY2FsYygpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpO1xuICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtYWtlR3JvdXBzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUdyb3VwcyhlbGVtZW50cykge1xuICAgICAgdmFyIGdyb3VwID0gW107XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzFweCc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIH0pO1xuICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICB2YXIgaGVpZ2h0ID0gKDAsIF91dGlsLmdldE9mZnNldCkoZWxlbWVudHNbMF0pLnRvcDtcbiAgICAgIGdyb3VwWzBdID0gW107XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICgoMCwgX3V0aWwuZ2V0T2Zmc2V0KShlbGVtZW50KS50b3AgIT09IGhlaWdodCkge1xuICAgICAgICAgIGhlaWdodCA9ICgwLCBfdXRpbC5nZXRPZmZzZXQpKGVsZW1lbnQpLnRvcDtcbiAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICBncm91cFtpZHhdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBbaWR4XS5wdXNoKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2F1dG9IZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRvSGVpZ2h0KGdyb3VwKSB7XG4gICAgICB2YXIgaGVpZ2h0cyA9IGdyb3VwLm1hcChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgIHZhciBib3hTaXppbmcgPSBjb21wdXRlZFN0eWxlLmJveFNpemluZztcbiAgICAgICAgaWYgKGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodCAtIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5wYWRkaW5nVG9wKSAtIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5wYWRkaW5nQm90dG9tKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG1heEhlaWdodCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheShoZWlnaHRzKSk7XG4gICAgICBncm91cC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gbWF4SGVpZ2h0ICsgJ3B4JztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3J1bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJ1bigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzO1xuXG4gICAgICB2YXIgZ3JvdXBzID0gdGhpcy5tYWtlR3JvdXBzKGVsZW1lbnRzKTtcbiAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICBfdGhpczIuYXV0b0hlaWdodChncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzcG9uc2l2ZUF1dG9IZWlnaHQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlc3BvbnNpdmVBdXRvSGVpZ2h0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29\n")},function(module,exports,__webpack_require__){"use strict";eval("/*! npm.im/object-fit-images 3.2.4 */\n\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {style: {'object-position': 1}} : new Image();\nvar supportsObjectFit = 'object-fit' in testImg.style;\nvar supportsObjectPosition = 'object-position' in testImg.style;\nvar supportsOFI = 'background-size' in testImg.style;\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n\treturn (\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\");\n}\n\nfunction polyfillCurrentSrc(el) {\n\tif (el.srcset && !supportsCurrentSrc && window.picturefill) {\n\t\tvar pf = window.picturefill._;\n\t\t// parse srcset with picturefill where currentSrc isn't available\n\t\tif (!el[pf.ns] || !el[pf.ns].evaled) {\n\t\t\t// force synchronous srcset parsing\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\tif (!el[pf.ns].curSrc) {\n\t\t\t// force picturefill to parse srcset\n\t\t\tel[pf.ns].supported = false;\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\t// retrieve parsed currentSrc, if any\n\t\tel.currentSrc = el[pf.ns].curSrc || el.src;\n\t}\n}\n\nfunction getStyle(el) {\n\tvar style = getComputedStyle(el).fontFamily;\n\tvar parsed;\n\tvar props = {};\n\twhile ((parsed = propRegex.exec(style)) !== null) {\n\t\tprops[parsed[1]] = parsed[2];\n\t}\n\treturn props;\n}\n\nfunction setPlaceholder(img, width, height) {\n\t// Default: fill width, no height\n\tvar placeholder = createPlaceholder(width || 1, height || 0);\n\n\t// Only set placeholder if it's different\n\tif (nativeGetAttribute.call(img, 'src') !== placeholder) {\n\t\tnativeSetAttribute.call(img, 'src', placeholder);\n\t}\n}\n\nfunction onImageReady(img, callback) {\n\t// naturalWidth is only available when the image headers are loaded,\n\t// this loop will poll it every 100ms.\n\tif (img.naturalWidth) {\n\t\tcallback(img);\n\t} else {\n\t\tsetTimeout(onImageReady, 100, img, callback);\n\t}\n}\n\nfunction fixOne(el) {\n\tvar style = getStyle(el);\n\tvar ofi = el[OFI];\n\tstyle['object-fit'] = style['object-fit'] || 'fill'; // default value\n\n\t// Avoid running where unnecessary, unless OFI had already done its deed\n\tif (!ofi.img) {\n\t\t// fill is the default behavior so no action is necessary\n\t\tif (style['object-fit'] === 'fill') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Where object-fit is supported and object-position isn't (Safari < 10)\n\t\tif (\n\t\t\t!ofi.skipTest && // unless user wants to apply regardless of browser support\n\t\t\tsupportsObjectFit && // if browser already supports object-fit\n\t\t\t!style['object-position'] // unless object-position is used\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// keep a clone in memory while resetting the original to a blank\n\tif (!ofi.img) {\n\t\tofi.img = new Image(el.width, el.height);\n\t\tofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n\t\tofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src;\n\n\t\t// preserve for any future cloneNode calls\n\t\t// https://github.com/bfred-it/object-fit-images/issues/53\n\t\tnativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\t\tif (el.srcset) {\n\t\t\tnativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n\t\t}\n\n\t\tsetPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height);\n\n\t\t// remove srcset because it overrides src\n\t\tif (el.srcset) {\n\t\t\tel.srcset = '';\n\t\t}\n\t\ttry {\n\t\t\tkeepSrcUsable(el);\n\t\t} catch (err) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.warn('https://bit.ly/ofi-old-browser');\n\t\t\t}\n\t\t}\n\t}\n\n\tpolyfillCurrentSrc(ofi.img);\n\n\tel.style.backgroundImage = \"url(\\\"\" + ((ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"')) + \"\\\")\";\n\tel.style.backgroundPosition = style['object-position'] || 'center';\n\tel.style.backgroundRepeat = 'no-repeat';\n\tel.style.backgroundOrigin = 'content-box';\n\n\tif (/scale-down/.test(style['object-fit'])) {\n\t\tonImageReady(ofi.img, function () {\n\t\t\tif (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n\t\t\t\tel.style.backgroundSize = 'contain';\n\t\t\t} else {\n\t\t\t\tel.style.backgroundSize = 'auto';\n\t\t\t}\n\t\t});\n\t} else {\n\t\tel.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n\t}\n\n\tonImageReady(ofi.img, function (img) {\n\t\tsetPlaceholder(el, img.naturalWidth, img.naturalHeight);\n\t});\n}\n\nfunction keepSrcUsable(el) {\n\tvar descriptors = {\n\t\tget: function get(prop) {\n\t\t\treturn el[OFI].img[prop ? prop : 'src'];\n\t\t},\n\t\tset: function set(value, prop) {\n\t\t\tel[OFI].img[prop ? prop : 'src'] = value;\n\t\t\tnativeSetAttribute.call(el, (\"data-ofi-\" + prop), value); // preserve for any future cloneNode\n\t\t\tfixOne(el);\n\t\t\treturn value;\n\t\t}\n\t};\n\tObject.defineProperty(el, 'src', descriptors);\n\tObject.defineProperty(el, 'currentSrc', {\n\t\tget: function () { return descriptors.get('currentSrc'); }\n\t});\n\tObject.defineProperty(el, 'srcset', {\n\t\tget: function () { return descriptors.get('srcset'); },\n\t\tset: function (ss) { return descriptors.set(ss, 'srcset'); }\n\t});\n}\n\nfunction hijackAttributes() {\n\tfunction getOfiImageMaybe(el, name) {\n\t\treturn el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n\t}\n\tif (!supportsObjectPosition) {\n\t\tHTMLImageElement.prototype.getAttribute = function (name) {\n\t\t\treturn nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n\t\t};\n\n\t\tHTMLImageElement.prototype.setAttribute = function (name, value) {\n\t\t\treturn nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n\t\t};\n\t}\n}\n\nfunction fix(imgs, opts) {\n\tvar startAutoMode = !autoModeEnabled && !imgs;\n\topts = opts || {};\n\timgs = imgs || 'img';\n\n\tif ((supportsObjectPosition && !opts.skipTest) || !supportsOFI) {\n\t\treturn false;\n\t}\n\n\t// use imgs as a selector or just select all images\n\tif (imgs === 'img') {\n\t\timgs = document.getElementsByTagName('img');\n\t} else if (typeof imgs === 'string') {\n\t\timgs = document.querySelectorAll(imgs);\n\t} else if (!('length' in imgs)) {\n\t\timgs = [imgs];\n\t}\n\n\t// apply fix to all\n\tfor (var i = 0; i < imgs.length; i++) {\n\t\timgs[i][OFI] = imgs[i][OFI] || {\n\t\t\tskipTest: opts.skipTest\n\t\t};\n\t\tfixOne(imgs[i]);\n\t}\n\n\tif (startAutoMode) {\n\t\tdocument.body.addEventListener('load', function (e) {\n\t\t\tif (e.target.tagName === 'IMG') {\n\t\t\t\tfix(e.target, {\n\t\t\t\t\tskipTest: opts.skipTest\n\t\t\t\t});\n\t\t\t}\n\t\t}, true);\n\t\tautoModeEnabled = true;\n\t\timgs = 'img'; // reset to a generic selector for watchMQ\n\t}\n\n\t// if requested, watch media queries for object-fit change\n\tif (opts.watchMQ) {\n\t\twindow.addEventListener('resize', fix.bind(null, imgs, {\n\t\t\tskipTest: opts.skipTest\n\t\t}));\n\t}\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\n\nhijackAttributes();\n\nmodule.exports = fix;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LWZpdC1pbWFnZXMvZGlzdC9vZmkuY29tbW9uLWpzLmpzPzBiN2QiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIG5wbS5pbS9vYmplY3QtZml0LWltYWdlcyAzLjIuNCAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgT0ZJID0gJ2JmcmVkLWl0Om9iamVjdC1maXQtaW1hZ2VzJztcbnZhciBwcm9wUmVnZXggPSAvKG9iamVjdC1maXR8b2JqZWN0LXBvc2l0aW9uKVxccyo6XFxzKihbLS5cXHdcXHMlXSspL2c7XG52YXIgdGVzdEltZyA9IHR5cGVvZiBJbWFnZSA9PT0gJ3VuZGVmaW5lZCcgPyB7c3R5bGU6IHsnb2JqZWN0LXBvc2l0aW9uJzogMX19IDogbmV3IEltYWdlKCk7XG52YXIgc3VwcG9ydHNPYmplY3RGaXQgPSAnb2JqZWN0LWZpdCcgaW4gdGVzdEltZy5zdHlsZTtcbnZhciBzdXBwb3J0c09iamVjdFBvc2l0aW9uID0gJ29iamVjdC1wb3NpdGlvbicgaW4gdGVzdEltZy5zdHlsZTtcbnZhciBzdXBwb3J0c09GSSA9ICdiYWNrZ3JvdW5kLXNpemUnIGluIHRlc3RJbWcuc3R5bGU7XG52YXIgc3VwcG9ydHNDdXJyZW50U3JjID0gdHlwZW9mIHRlc3RJbWcuY3VycmVudFNyYyA9PT0gJ3N0cmluZyc7XG52YXIgbmF0aXZlR2V0QXR0cmlidXRlID0gdGVzdEltZy5nZXRBdHRyaWJ1dGU7XG52YXIgbmF0aXZlU2V0QXR0cmlidXRlID0gdGVzdEltZy5zZXRBdHRyaWJ1dGU7XG52YXIgYXV0b01vZGVFbmFibGVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGNyZWF0ZVBsYWNlaG9sZGVyKHcsIGgpIHtcblx0cmV0dXJuIChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nXCIgKyB3ICsgXCInIGhlaWdodD0nXCIgKyBoICsgXCInJTNFJTNDL3N2ZyUzRVwiKTtcbn1cblxuZnVuY3Rpb24gcG9seWZpbGxDdXJyZW50U3JjKGVsKSB7XG5cdGlmIChlbC5zcmNzZXQgJiYgIXN1cHBvcnRzQ3VycmVudFNyYyAmJiB3aW5kb3cucGljdHVyZWZpbGwpIHtcblx0XHR2YXIgcGYgPSB3aW5kb3cucGljdHVyZWZpbGwuXztcblx0XHQvLyBwYXJzZSBzcmNzZXQgd2l0aCBwaWN0dXJlZmlsbCB3aGVyZSBjdXJyZW50U3JjIGlzbid0IGF2YWlsYWJsZVxuXHRcdGlmICghZWxbcGYubnNdIHx8ICFlbFtwZi5uc10uZXZhbGVkKSB7XG5cdFx0XHQvLyBmb3JjZSBzeW5jaHJvbm91cyBzcmNzZXQgcGFyc2luZ1xuXHRcdFx0cGYuZmlsbEltZyhlbCwge3Jlc2VsZWN0OiB0cnVlfSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFlbFtwZi5uc10uY3VyU3JjKSB7XG5cdFx0XHQvLyBmb3JjZSBwaWN0dXJlZmlsbCB0byBwYXJzZSBzcmNzZXRcblx0XHRcdGVsW3BmLm5zXS5zdXBwb3J0ZWQgPSBmYWxzZTtcblx0XHRcdHBmLmZpbGxJbWcoZWwsIHtyZXNlbGVjdDogdHJ1ZX0pO1xuXHRcdH1cblxuXHRcdC8vIHJldHJpZXZlIHBhcnNlZCBjdXJyZW50U3JjLCBpZiBhbnlcblx0XHRlbC5jdXJyZW50U3JjID0gZWxbcGYubnNdLmN1clNyYyB8fCBlbC5zcmM7XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0U3R5bGUoZWwpIHtcblx0dmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZm9udEZhbWlseTtcblx0dmFyIHBhcnNlZDtcblx0dmFyIHByb3BzID0ge307XG5cdHdoaWxlICgocGFyc2VkID0gcHJvcFJlZ2V4LmV4ZWMoc3R5bGUpKSAhPT0gbnVsbCkge1xuXHRcdHByb3BzW3BhcnNlZFsxXV0gPSBwYXJzZWRbMl07XG5cdH1cblx0cmV0dXJuIHByb3BzO1xufVxuXG5mdW5jdGlvbiBzZXRQbGFjZWhvbGRlcihpbWcsIHdpZHRoLCBoZWlnaHQpIHtcblx0Ly8gRGVmYXVsdDogZmlsbCB3aWR0aCwgbm8gaGVpZ2h0XG5cdHZhciBwbGFjZWhvbGRlciA9IGNyZWF0ZVBsYWNlaG9sZGVyKHdpZHRoIHx8IDEsIGhlaWdodCB8fCAwKTtcblxuXHQvLyBPbmx5IHNldCBwbGFjZWhvbGRlciBpZiBpdCdzIGRpZmZlcmVudFxuXHRpZiAobmF0aXZlR2V0QXR0cmlidXRlLmNhbGwoaW1nLCAnc3JjJykgIT09IHBsYWNlaG9sZGVyKSB7XG5cdFx0bmF0aXZlU2V0QXR0cmlidXRlLmNhbGwoaW1nLCAnc3JjJywgcGxhY2Vob2xkZXIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIG9uSW1hZ2VSZWFkeShpbWcsIGNhbGxiYWNrKSB7XG5cdC8vIG5hdHVyYWxXaWR0aCBpcyBvbmx5IGF2YWlsYWJsZSB3aGVuIHRoZSBpbWFnZSBoZWFkZXJzIGFyZSBsb2FkZWQsXG5cdC8vIHRoaXMgbG9vcCB3aWxsIHBvbGwgaXQgZXZlcnkgMTAwbXMuXG5cdGlmIChpbWcubmF0dXJhbFdpZHRoKSB7XG5cdFx0Y2FsbGJhY2soaW1nKTtcblx0fSBlbHNlIHtcblx0XHRzZXRUaW1lb3V0KG9uSW1hZ2VSZWFkeSwgMTAwLCBpbWcsIGNhbGxiYWNrKTtcblx0fVxufVxuXG5mdW5jdGlvbiBmaXhPbmUoZWwpIHtcblx0dmFyIHN0eWxlID0gZ2V0U3R5bGUoZWwpO1xuXHR2YXIgb2ZpID0gZWxbT0ZJXTtcblx0c3R5bGVbJ29iamVjdC1maXQnXSA9IHN0eWxlWydvYmplY3QtZml0J10gfHwgJ2ZpbGwnOyAvLyBkZWZhdWx0IHZhbHVlXG5cblx0Ly8gQXZvaWQgcnVubmluZyB3aGVyZSB1bm5lY2Vzc2FyeSwgdW5sZXNzIE9GSSBoYWQgYWxyZWFkeSBkb25lIGl0cyBkZWVkXG5cdGlmICghb2ZpLmltZykge1xuXHRcdC8vIGZpbGwgaXMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igc28gbm8gYWN0aW9uIGlzIG5lY2Vzc2FyeVxuXHRcdGlmIChzdHlsZVsnb2JqZWN0LWZpdCddID09PSAnZmlsbCcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBXaGVyZSBvYmplY3QtZml0IGlzIHN1cHBvcnRlZCBhbmQgb2JqZWN0LXBvc2l0aW9uIGlzbid0IChTYWZhcmkgPCAxMClcblx0XHRpZiAoXG5cdFx0XHQhb2ZpLnNraXBUZXN0ICYmIC8vIHVubGVzcyB1c2VyIHdhbnRzIHRvIGFwcGx5IHJlZ2FyZGxlc3Mgb2YgYnJvd3NlciBzdXBwb3J0XG5cdFx0XHRzdXBwb3J0c09iamVjdEZpdCAmJiAvLyBpZiBicm93c2VyIGFscmVhZHkgc3VwcG9ydHMgb2JqZWN0LWZpdFxuXHRcdFx0IXN0eWxlWydvYmplY3QtcG9zaXRpb24nXSAvLyB1bmxlc3Mgb2JqZWN0LXBvc2l0aW9uIGlzIHVzZWRcblx0XHQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblxuXHQvLyBrZWVwIGEgY2xvbmUgaW4gbWVtb3J5IHdoaWxlIHJlc2V0dGluZyB0aGUgb3JpZ2luYWwgdG8gYSBibGFua1xuXHRpZiAoIW9maS5pbWcpIHtcblx0XHRvZmkuaW1nID0gbmV3IEltYWdlKGVsLndpZHRoLCBlbC5oZWlnaHQpO1xuXHRcdG9maS5pbWcuc3Jjc2V0ID0gbmF0aXZlR2V0QXR0cmlidXRlLmNhbGwoZWwsIFwiZGF0YS1vZmktc3Jjc2V0XCIpIHx8IGVsLnNyY3NldDtcblx0XHRvZmkuaW1nLnNyYyA9IG5hdGl2ZUdldEF0dHJpYnV0ZS5jYWxsKGVsLCBcImRhdGEtb2ZpLXNyY1wiKSB8fCBlbC5zcmM7XG5cblx0XHQvLyBwcmVzZXJ2ZSBmb3IgYW55IGZ1dHVyZSBjbG9uZU5vZGUgY2FsbHNcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vYmZyZWQtaXQvb2JqZWN0LWZpdC1pbWFnZXMvaXNzdWVzLzUzXG5cdFx0bmF0aXZlU2V0QXR0cmlidXRlLmNhbGwoZWwsIFwiZGF0YS1vZmktc3JjXCIsIGVsLnNyYyk7XG5cdFx0aWYgKGVsLnNyY3NldCkge1xuXHRcdFx0bmF0aXZlU2V0QXR0cmlidXRlLmNhbGwoZWwsIFwiZGF0YS1vZmktc3Jjc2V0XCIsIGVsLnNyY3NldCk7XG5cdFx0fVxuXG5cdFx0c2V0UGxhY2Vob2xkZXIoZWwsIGVsLm5hdHVyYWxXaWR0aCB8fCBlbC53aWR0aCwgZWwubmF0dXJhbEhlaWdodCB8fCBlbC5oZWlnaHQpO1xuXG5cdFx0Ly8gcmVtb3ZlIHNyY3NldCBiZWNhdXNlIGl0IG92ZXJyaWRlcyBzcmNcblx0XHRpZiAoZWwuc3Jjc2V0KSB7XG5cdFx0XHRlbC5zcmNzZXQgPSAnJztcblx0XHR9XG5cdFx0dHJ5IHtcblx0XHRcdGtlZXBTcmNVc2FibGUoZWwpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0aWYgKHdpbmRvdy5jb25zb2xlKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybignaHR0cHM6Ly9iaXQubHkvb2ZpLW9sZC1icm93c2VyJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cG9seWZpbGxDdXJyZW50U3JjKG9maS5pbWcpO1xuXG5cdGVsLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFxcXCJcIiArICgob2ZpLmltZy5jdXJyZW50U3JjIHx8IG9maS5pbWcuc3JjKS5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykpICsgXCJcXFwiKVwiO1xuXHRlbC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBzdHlsZVsnb2JqZWN0LXBvc2l0aW9uJ10gfHwgJ2NlbnRlcic7XG5cdGVsLnN0eWxlLmJhY2tncm91bmRSZXBlYXQgPSAnbm8tcmVwZWF0Jztcblx0ZWwuc3R5bGUuYmFja2dyb3VuZE9yaWdpbiA9ICdjb250ZW50LWJveCc7XG5cblx0aWYgKC9zY2FsZS1kb3duLy50ZXN0KHN0eWxlWydvYmplY3QtZml0J10pKSB7XG5cdFx0b25JbWFnZVJlYWR5KG9maS5pbWcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmIChvZmkuaW1nLm5hdHVyYWxXaWR0aCA+IGVsLndpZHRoIHx8IG9maS5pbWcubmF0dXJhbEhlaWdodCA+IGVsLmhlaWdodCkge1xuXHRcdFx0XHRlbC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdjb250YWluJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsLnN0eWxlLmJhY2tncm91bmRTaXplID0gJ2F1dG8nO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGVsLnN0eWxlLmJhY2tncm91bmRTaXplID0gc3R5bGVbJ29iamVjdC1maXQnXS5yZXBsYWNlKCdub25lJywgJ2F1dG8nKS5yZXBsYWNlKCdmaWxsJywgJzEwMCUgMTAwJScpO1xuXHR9XG5cblx0b25JbWFnZVJlYWR5KG9maS5pbWcsIGZ1bmN0aW9uIChpbWcpIHtcblx0XHRzZXRQbGFjZWhvbGRlcihlbCwgaW1nLm5hdHVyYWxXaWR0aCwgaW1nLm5hdHVyYWxIZWlnaHQpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24ga2VlcFNyY1VzYWJsZShlbCkge1xuXHR2YXIgZGVzY3JpcHRvcnMgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiBnZXQocHJvcCkge1xuXHRcdFx0cmV0dXJuIGVsW09GSV0uaW1nW3Byb3AgPyBwcm9wIDogJ3NyYyddO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiBzZXQodmFsdWUsIHByb3ApIHtcblx0XHRcdGVsW09GSV0uaW1nW3Byb3AgPyBwcm9wIDogJ3NyYyddID0gdmFsdWU7XG5cdFx0XHRuYXRpdmVTZXRBdHRyaWJ1dGUuY2FsbChlbCwgKFwiZGF0YS1vZmktXCIgKyBwcm9wKSwgdmFsdWUpOyAvLyBwcmVzZXJ2ZSBmb3IgYW55IGZ1dHVyZSBjbG9uZU5vZGVcblx0XHRcdGZpeE9uZShlbCk7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdzcmMnLCBkZXNjcmlwdG9ycyk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ2N1cnJlbnRTcmMnLCB7XG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXNjcmlwdG9ycy5nZXQoJ2N1cnJlbnRTcmMnKTsgfVxuXHR9KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnc3Jjc2V0Jywge1xuXHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVzY3JpcHRvcnMuZ2V0KCdzcmNzZXQnKTsgfSxcblx0XHRzZXQ6IGZ1bmN0aW9uIChzcykgeyByZXR1cm4gZGVzY3JpcHRvcnMuc2V0KHNzLCAnc3Jjc2V0Jyk7IH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIGhpamFja0F0dHJpYnV0ZXMoKSB7XG5cdGZ1bmN0aW9uIGdldE9maUltYWdlTWF5YmUoZWwsIG5hbWUpIHtcblx0XHRyZXR1cm4gZWxbT0ZJXSAmJiBlbFtPRkldLmltZyAmJiAobmFtZSA9PT0gJ3NyYycgfHwgbmFtZSA9PT0gJ3NyY3NldCcpID8gZWxbT0ZJXS5pbWcgOiBlbDtcblx0fVxuXHRpZiAoIXN1cHBvcnRzT2JqZWN0UG9zaXRpb24pIHtcblx0XHRIVE1MSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0cmV0dXJuIG5hdGl2ZUdldEF0dHJpYnV0ZS5jYWxsKGdldE9maUltYWdlTWF5YmUodGhpcywgbmFtZSksIG5hbWUpO1xuXHRcdH07XG5cblx0XHRIVE1MSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdHJldHVybiBuYXRpdmVTZXRBdHRyaWJ1dGUuY2FsbChnZXRPZmlJbWFnZU1heWJlKHRoaXMsIG5hbWUpLCBuYW1lLCBTdHJpbmcodmFsdWUpKTtcblx0XHR9O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZpeChpbWdzLCBvcHRzKSB7XG5cdHZhciBzdGFydEF1dG9Nb2RlID0gIWF1dG9Nb2RlRW5hYmxlZCAmJiAhaW1ncztcblx0b3B0cyA9IG9wdHMgfHwge307XG5cdGltZ3MgPSBpbWdzIHx8ICdpbWcnO1xuXG5cdGlmICgoc3VwcG9ydHNPYmplY3RQb3NpdGlvbiAmJiAhb3B0cy5za2lwVGVzdCkgfHwgIXN1cHBvcnRzT0ZJKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gdXNlIGltZ3MgYXMgYSBzZWxlY3RvciBvciBqdXN0IHNlbGVjdCBhbGwgaW1hZ2VzXG5cdGlmIChpbWdzID09PSAnaW1nJykge1xuXHRcdGltZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGltZ3MgPT09ICdzdHJpbmcnKSB7XG5cdFx0aW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW1ncyk7XG5cdH0gZWxzZSBpZiAoISgnbGVuZ3RoJyBpbiBpbWdzKSkge1xuXHRcdGltZ3MgPSBbaW1nc107XG5cdH1cblxuXHQvLyBhcHBseSBmaXggdG8gYWxsXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgaW1ncy5sZW5ndGg7IGkrKykge1xuXHRcdGltZ3NbaV1bT0ZJXSA9IGltZ3NbaV1bT0ZJXSB8fCB7XG5cdFx0XHRza2lwVGVzdDogb3B0cy5za2lwVGVzdFxuXHRcdH07XG5cdFx0Zml4T25lKGltZ3NbaV0pO1xuXHR9XG5cblx0aWYgKHN0YXJ0QXV0b01vZGUpIHtcblx0XHRkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnKSB7XG5cdFx0XHRcdGZpeChlLnRhcmdldCwge1xuXHRcdFx0XHRcdHNraXBUZXN0OiBvcHRzLnNraXBUZXN0XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sIHRydWUpO1xuXHRcdGF1dG9Nb2RlRW5hYmxlZCA9IHRydWU7XG5cdFx0aW1ncyA9ICdpbWcnOyAvLyByZXNldCB0byBhIGdlbmVyaWMgc2VsZWN0b3IgZm9yIHdhdGNoTVFcblx0fVxuXG5cdC8vIGlmIHJlcXVlc3RlZCwgd2F0Y2ggbWVkaWEgcXVlcmllcyBmb3Igb2JqZWN0LWZpdCBjaGFuZ2Vcblx0aWYgKG9wdHMud2F0Y2hNUSkge1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmaXguYmluZChudWxsLCBpbWdzLCB7XG5cdFx0XHRza2lwVGVzdDogb3B0cy5za2lwVGVzdFxuXHRcdH0pKTtcblx0fVxufVxuXG5maXguc3VwcG9ydHNPYmplY3RGaXQgPSBzdXBwb3J0c09iamVjdEZpdDtcbmZpeC5zdXBwb3J0c09iamVjdFBvc2l0aW9uID0gc3VwcG9ydHNPYmplY3RQb3NpdGlvbjtcblxuaGlqYWNrQXR0cmlidXRlcygpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZpeDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){eval("/* smoothscroll v0.4.4 - 2019 - Dustan Kasten, Jeremias Menichelli - MIT License */\n(function () {\n  'use strict';\n\n  // polyfill\n  function polyfill() {\n    // aliases\n    var w = window;\n    var d = document;\n\n    // return if scroll behavior is supported and polyfill is not forced\n    if (\n      'scrollBehavior' in d.documentElement.style &&\n      w.__forceSmoothScrollPolyfill__ !== true\n    ) {\n      return;\n    }\n\n    // globals\n    var Element = w.HTMLElement || w.Element;\n    var SCROLL_TIME = 468;\n\n    // object gathering original scroll methods\n    var original = {\n      scroll: w.scroll || w.scrollTo,\n      scrollBy: w.scrollBy,\n      elementScroll: Element.prototype.scroll || scrollElement,\n      scrollIntoView: Element.prototype.scrollIntoView\n    };\n\n    // define timing method\n    var now =\n      w.performance && w.performance.now\n        ? w.performance.now.bind(w.performance)\n        : Date.now;\n\n    /**\n     * indicates if a the current browser is made by Microsoft\n     * @method isMicrosoftBrowser\n     * @param {String} userAgent\n     * @returns {Boolean}\n     */\n    function isMicrosoftBrowser(userAgent) {\n      var userAgentPatterns = ['MSIE ', 'Trident/', 'Edge/'];\n\n      return new RegExp(userAgentPatterns.join('|')).test(userAgent);\n    }\n\n    /*\n     * IE has rounding bug rounding down clientHeight and clientWidth and\n     * rounding up scrollHeight and scrollWidth causing false positives\n     * on hasScrollableSpace\n     */\n    var ROUNDING_TOLERANCE = isMicrosoftBrowser(w.navigator.userAgent) ? 1 : 0;\n\n    /**\n     * changes scroll position inside an element\n     * @method scrollElement\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function scrollElement(x, y) {\n      this.scrollLeft = x;\n      this.scrollTop = y;\n    }\n\n    /**\n     * returns result of applying ease math function to a number\n     * @method ease\n     * @param {Number} k\n     * @returns {Number}\n     */\n    function ease(k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n\n    /**\n     * indicates if a smooth behavior should be applied\n     * @method shouldBailOut\n     * @param {Number|Object} firstArg\n     * @returns {Boolean}\n     */\n    function shouldBailOut(firstArg) {\n      if (\n        firstArg === null ||\n        typeof firstArg !== 'object' ||\n        firstArg.behavior === undefined ||\n        firstArg.behavior === 'auto' ||\n        firstArg.behavior === 'instant'\n      ) {\n        // first argument is not an object/null\n        // or behavior is auto, instant or undefined\n        return true;\n      }\n\n      if (typeof firstArg === 'object' && firstArg.behavior === 'smooth') {\n        // first argument is an object and behavior is smooth\n        return false;\n      }\n\n      // throw error when behavior is not supported\n      throw new TypeError(\n        'behavior member of ScrollOptions ' +\n          firstArg.behavior +\n          ' is not a valid value for enumeration ScrollBehavior.'\n      );\n    }\n\n    /**\n     * indicates if an element has scrollable space in the provided axis\n     * @method hasScrollableSpace\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function hasScrollableSpace(el, axis) {\n      if (axis === 'Y') {\n        return el.clientHeight + ROUNDING_TOLERANCE < el.scrollHeight;\n      }\n\n      if (axis === 'X') {\n        return el.clientWidth + ROUNDING_TOLERANCE < el.scrollWidth;\n      }\n    }\n\n    /**\n     * indicates if an element has a scrollable overflow property in the axis\n     * @method canOverflow\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function canOverflow(el, axis) {\n      var overflowValue = w.getComputedStyle(el, null)['overflow' + axis];\n\n      return overflowValue === 'auto' || overflowValue === 'scroll';\n    }\n\n    /**\n     * indicates if an element can be scrolled in either axis\n     * @method isScrollable\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function isScrollable(el) {\n      var isScrollableY = hasScrollableSpace(el, 'Y') && canOverflow(el, 'Y');\n      var isScrollableX = hasScrollableSpace(el, 'X') && canOverflow(el, 'X');\n\n      return isScrollableY || isScrollableX;\n    }\n\n    /**\n     * finds scrollable parent of an element\n     * @method findScrollableParent\n     * @param {Node} el\n     * @returns {Node} el\n     */\n    function findScrollableParent(el) {\n      while (el !== d.body && isScrollable(el) === false) {\n        el = el.parentNode || el.host;\n      }\n\n      return el;\n    }\n\n    /**\n     * self invoked function that, given a context, steps through scrolling\n     * @method step\n     * @param {Object} context\n     * @returns {undefined}\n     */\n    function step(context) {\n      var time = now();\n      var value;\n      var currentX;\n      var currentY;\n      var elapsed = (time - context.startTime) / SCROLL_TIME;\n\n      // avoid elapsed times higher than one\n      elapsed = elapsed > 1 ? 1 : elapsed;\n\n      // apply easing to elapsed time\n      value = ease(elapsed);\n\n      currentX = context.startX + (context.x - context.startX) * value;\n      currentY = context.startY + (context.y - context.startY) * value;\n\n      context.method.call(context.scrollable, currentX, currentY);\n\n      // scroll more if we have not reached our destination\n      if (currentX !== context.x || currentY !== context.y) {\n        w.requestAnimationFrame(step.bind(w, context));\n      }\n    }\n\n    /**\n     * scrolls window or element with a smooth behavior\n     * @method smoothScroll\n     * @param {Object|Node} el\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function smoothScroll(el, x, y) {\n      var scrollable;\n      var startX;\n      var startY;\n      var method;\n      var startTime = now();\n\n      // define scroll context\n      if (el === d.body) {\n        scrollable = w;\n        startX = w.scrollX || w.pageXOffset;\n        startY = w.scrollY || w.pageYOffset;\n        method = original.scroll;\n      } else {\n        scrollable = el;\n        startX = el.scrollLeft;\n        startY = el.scrollTop;\n        method = scrollElement;\n      }\n\n      // scroll looping over a frame\n      step({\n        scrollable: scrollable,\n        method: method,\n        startTime: startTime,\n        startX: startX,\n        startY: startY,\n        x: x,\n        y: y\n      });\n    }\n\n    // ORIGINAL METHODS OVERRIDES\n    // w.scroll and w.scrollTo\n    w.scroll = w.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scroll.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object'\n              ? arguments[0]\n              : w.scrollX || w.pageXOffset,\n          // use top prop, second argument if present or fallback to scrollY\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined\n              ? arguments[1]\n              : w.scrollY || w.pageYOffset\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        arguments[0].left !== undefined\n          ? ~~arguments[0].left\n          : w.scrollX || w.pageXOffset,\n        arguments[0].top !== undefined\n          ? ~~arguments[0].top\n          : w.scrollY || w.pageYOffset\n      );\n    };\n\n    // w.scrollBy\n    w.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.scrollBy.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object' ? arguments[0] : 0,\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined ? arguments[1] : 0\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        ~~arguments[0].left + (w.scrollX || w.pageXOffset),\n        ~~arguments[0].top + (w.scrollY || w.pageYOffset)\n      );\n    };\n\n    // Element.prototype.scroll and Element.prototype.scrollTo\n    Element.prototype.scroll = Element.prototype.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        // if one number is passed, throw error to match Firefox implementation\n        if (typeof arguments[0] === 'number' && arguments[1] === undefined) {\n          throw new SyntaxError('Value could not be converted');\n        }\n\n        original.elementScroll.call(\n          this,\n          // use left prop, first number argument or fallback to scrollLeft\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left\n            : typeof arguments[0] !== 'object' ? ~~arguments[0] : this.scrollLeft,\n          // use top prop, second argument or fallback to scrollTop\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top\n            : arguments[1] !== undefined ? ~~arguments[1] : this.scrollTop\n        );\n\n        return;\n      }\n\n      var left = arguments[0].left;\n      var top = arguments[0].top;\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        this,\n        this,\n        typeof left === 'undefined' ? this.scrollLeft : ~~left,\n        typeof top === 'undefined' ? this.scrollTop : ~~top\n      );\n    };\n\n    // Element.prototype.scrollBy\n    Element.prototype.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.elementScroll.call(\n          this,\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left + this.scrollLeft\n            : ~~arguments[0] + this.scrollLeft,\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top + this.scrollTop\n            : ~~arguments[1] + this.scrollTop\n        );\n\n        return;\n      }\n\n      this.scroll({\n        left: ~~arguments[0].left + this.scrollLeft,\n        top: ~~arguments[0].top + this.scrollTop,\n        behavior: arguments[0].behavior\n      });\n    };\n\n    // Element.prototype.scrollIntoView\n    Element.prototype.scrollIntoView = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scrollIntoView.call(\n          this,\n          arguments[0] === undefined ? true : arguments[0]\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      var scrollableParent = findScrollableParent(this);\n      var parentRects = scrollableParent.getBoundingClientRect();\n      var clientRects = this.getBoundingClientRect();\n\n      if (scrollableParent !== d.body) {\n        // reveal element inside parent\n        smoothScroll.call(\n          this,\n          scrollableParent,\n          scrollableParent.scrollLeft + clientRects.left - parentRects.left,\n          scrollableParent.scrollTop + clientRects.top - parentRects.top\n        );\n\n        // reveal parent in viewport unless is fixed\n        if (w.getComputedStyle(scrollableParent).position !== 'fixed') {\n          w.scrollBy({\n            left: parentRects.left,\n            top: parentRects.top,\n            behavior: 'smooth'\n          });\n        }\n      } else {\n        // reveal element in viewport\n        w.scrollBy({\n          left: clientRects.left,\n          top: clientRects.top,\n          behavior: 'smooth'\n        });\n      }\n    };\n  }\n\n  if (true) {\n    // commonjs\n    module.exports = { polyfill: polyfill };\n  } else {}\n\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21vb3Roc2Nyb2xsLXBvbHlmaWxsL2Rpc3Qvc21vb3Roc2Nyb2xsLmpzPzc3MDciXSwic291cmNlc0NvbnRlbnQiOlsiLyogc21vb3Roc2Nyb2xsIHYwLjQuNCAtIDIwMTkgLSBEdXN0YW4gS2FzdGVuLCBKZXJlbWlhcyBNZW5pY2hlbGxpIC0gTUlUIExpY2Vuc2UgKi9cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBwb2x5ZmlsbFxuICBmdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgICAvLyBhbGlhc2VzXG4gICAgdmFyIHcgPSB3aW5kb3c7XG4gICAgdmFyIGQgPSBkb2N1bWVudDtcblxuICAgIC8vIHJldHVybiBpZiBzY3JvbGwgYmVoYXZpb3IgaXMgc3VwcG9ydGVkIGFuZCBwb2x5ZmlsbCBpcyBub3QgZm9yY2VkXG4gICAgaWYgKFxuICAgICAgJ3Njcm9sbEJlaGF2aW9yJyBpbiBkLmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJlxuICAgICAgdy5fX2ZvcmNlU21vb3RoU2Nyb2xsUG9seWZpbGxfXyAhPT0gdHJ1ZVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdsb2JhbHNcbiAgICB2YXIgRWxlbWVudCA9IHcuSFRNTEVsZW1lbnQgfHwgdy5FbGVtZW50O1xuICAgIHZhciBTQ1JPTExfVElNRSA9IDQ2ODtcblxuICAgIC8vIG9iamVjdCBnYXRoZXJpbmcgb3JpZ2luYWwgc2Nyb2xsIG1ldGhvZHNcbiAgICB2YXIgb3JpZ2luYWwgPSB7XG4gICAgICBzY3JvbGw6IHcuc2Nyb2xsIHx8IHcuc2Nyb2xsVG8sXG4gICAgICBzY3JvbGxCeTogdy5zY3JvbGxCeSxcbiAgICAgIGVsZW1lbnRTY3JvbGw6IEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbCB8fCBzY3JvbGxFbGVtZW50LFxuICAgICAgc2Nyb2xsSW50b1ZpZXc6IEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3XG4gICAgfTtcblxuICAgIC8vIGRlZmluZSB0aW1pbmcgbWV0aG9kXG4gICAgdmFyIG5vdyA9XG4gICAgICB3LnBlcmZvcm1hbmNlICYmIHcucGVyZm9ybWFuY2Uubm93XG4gICAgICAgID8gdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3LnBlcmZvcm1hbmNlKVxuICAgICAgICA6IERhdGUubm93O1xuXG4gICAgLyoqXG4gICAgICogaW5kaWNhdGVzIGlmIGEgdGhlIGN1cnJlbnQgYnJvd3NlciBpcyBtYWRlIGJ5IE1pY3Jvc29mdFxuICAgICAqIEBtZXRob2QgaXNNaWNyb3NvZnRCcm93c2VyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVzZXJBZ2VudFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWljcm9zb2Z0QnJvd3Nlcih1c2VyQWdlbnQpIHtcbiAgICAgIHZhciB1c2VyQWdlbnRQYXR0ZXJucyA9IFsnTVNJRSAnLCAnVHJpZGVudC8nLCAnRWRnZS8nXTtcblxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodXNlckFnZW50UGF0dGVybnMuam9pbignfCcpKS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBJRSBoYXMgcm91bmRpbmcgYnVnIHJvdW5kaW5nIGRvd24gY2xpZW50SGVpZ2h0IGFuZCBjbGllbnRXaWR0aCBhbmRcbiAgICAgKiByb3VuZGluZyB1cCBzY3JvbGxIZWlnaHQgYW5kIHNjcm9sbFdpZHRoIGNhdXNpbmcgZmFsc2UgcG9zaXRpdmVzXG4gICAgICogb24gaGFzU2Nyb2xsYWJsZVNwYWNlXG4gICAgICovXG4gICAgdmFyIFJPVU5ESU5HX1RPTEVSQU5DRSA9IGlzTWljcm9zb2Z0QnJvd3Nlcih3Lm5hdmlnYXRvci51c2VyQWdlbnQpID8gMSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBjaGFuZ2VzIHNjcm9sbCBwb3NpdGlvbiBpbnNpZGUgYW4gZWxlbWVudFxuICAgICAqIEBtZXRob2Qgc2Nyb2xsRWxlbWVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjcm9sbEVsZW1lbnQoeCwgeSkge1xuICAgICAgdGhpcy5zY3JvbGxMZWZ0ID0geDtcbiAgICAgIHRoaXMuc2Nyb2xsVG9wID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHJlc3VsdCBvZiBhcHBseWluZyBlYXNlIG1hdGggZnVuY3Rpb24gdG8gYSBudW1iZXJcbiAgICAgKiBAbWV0aG9kIGVhc2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0ga1xuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZWFzZShrKSB7XG4gICAgICByZXR1cm4gMC41ICogKDEgLSBNYXRoLmNvcyhNYXRoLlBJICogaykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluZGljYXRlcyBpZiBhIHNtb290aCBiZWhhdmlvciBzaG91bGQgYmUgYXBwbGllZFxuICAgICAqIEBtZXRob2Qgc2hvdWxkQmFpbE91dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gZmlyc3RBcmdcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG91bGRCYWlsT3V0KGZpcnN0QXJnKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGZpcnN0QXJnID09PSBudWxsIHx8XG4gICAgICAgIHR5cGVvZiBmaXJzdEFyZyAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgZmlyc3RBcmcuYmVoYXZpb3IgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBmaXJzdEFyZy5iZWhhdmlvciA9PT0gJ2F1dG8nIHx8XG4gICAgICAgIGZpcnN0QXJnLmJlaGF2aW9yID09PSAnaW5zdGFudCdcbiAgICAgICkge1xuICAgICAgICAvLyBmaXJzdCBhcmd1bWVudCBpcyBub3QgYW4gb2JqZWN0L251bGxcbiAgICAgICAgLy8gb3IgYmVoYXZpb3IgaXMgYXV0bywgaW5zdGFudCBvciB1bmRlZmluZWRcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZmlyc3RBcmcgPT09ICdvYmplY3QnICYmIGZpcnN0QXJnLmJlaGF2aW9yID09PSAnc21vb3RoJykge1xuICAgICAgICAvLyBmaXJzdCBhcmd1bWVudCBpcyBhbiBvYmplY3QgYW5kIGJlaGF2aW9yIGlzIHNtb290aFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIHRocm93IGVycm9yIHdoZW4gYmVoYXZpb3IgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ2JlaGF2aW9yIG1lbWJlciBvZiBTY3JvbGxPcHRpb25zICcgK1xuICAgICAgICAgIGZpcnN0QXJnLmJlaGF2aW9yICtcbiAgICAgICAgICAnIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBlbnVtZXJhdGlvbiBTY3JvbGxCZWhhdmlvci4nXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluZGljYXRlcyBpZiBhbiBlbGVtZW50IGhhcyBzY3JvbGxhYmxlIHNwYWNlIGluIHRoZSBwcm92aWRlZCBheGlzXG4gICAgICogQG1ldGhvZCBoYXNTY3JvbGxhYmxlU3BhY2VcbiAgICAgKiBAcGFyYW0ge05vZGV9IGVsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF4aXNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNTY3JvbGxhYmxlU3BhY2UoZWwsIGF4aXMpIHtcbiAgICAgIGlmIChheGlzID09PSAnWScpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsaWVudEhlaWdodCArIFJPVU5ESU5HX1RPTEVSQU5DRSA8IGVsLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKGF4aXMgPT09ICdYJykge1xuICAgICAgICByZXR1cm4gZWwuY2xpZW50V2lkdGggKyBST1VORElOR19UT0xFUkFOQ0UgPCBlbC5zY3JvbGxXaWR0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbmRpY2F0ZXMgaWYgYW4gZWxlbWVudCBoYXMgYSBzY3JvbGxhYmxlIG92ZXJmbG93IHByb3BlcnR5IGluIHRoZSBheGlzXG4gICAgICogQG1ldGhvZCBjYW5PdmVyZmxvd1xuICAgICAqIEBwYXJhbSB7Tm9kZX0gZWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXhpc1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhbk92ZXJmbG93KGVsLCBheGlzKSB7XG4gICAgICB2YXIgb3ZlcmZsb3dWYWx1ZSA9IHcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbClbJ292ZXJmbG93JyArIGF4aXNdO1xuXG4gICAgICByZXR1cm4gb3ZlcmZsb3dWYWx1ZSA9PT0gJ2F1dG8nIHx8IG92ZXJmbG93VmFsdWUgPT09ICdzY3JvbGwnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluZGljYXRlcyBpZiBhbiBlbGVtZW50IGNhbiBiZSBzY3JvbGxlZCBpbiBlaXRoZXIgYXhpc1xuICAgICAqIEBtZXRob2QgaXNTY3JvbGxhYmxlXG4gICAgICogQHBhcmFtIHtOb2RlfSBlbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTY3JvbGxhYmxlKGVsKSB7XG4gICAgICB2YXIgaXNTY3JvbGxhYmxlWSA9IGhhc1Njcm9sbGFibGVTcGFjZShlbCwgJ1knKSAmJiBjYW5PdmVyZmxvdyhlbCwgJ1knKTtcbiAgICAgIHZhciBpc1Njcm9sbGFibGVYID0gaGFzU2Nyb2xsYWJsZVNwYWNlKGVsLCAnWCcpICYmIGNhbk92ZXJmbG93KGVsLCAnWCcpO1xuXG4gICAgICByZXR1cm4gaXNTY3JvbGxhYmxlWSB8fCBpc1Njcm9sbGFibGVYO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGZpbmRzIHNjcm9sbGFibGUgcGFyZW50IG9mIGFuIGVsZW1lbnRcbiAgICAgKiBAbWV0aG9kIGZpbmRTY3JvbGxhYmxlUGFyZW50XG4gICAgICogQHBhcmFtIHtOb2RlfSBlbFxuICAgICAqIEByZXR1cm5zIHtOb2RlfSBlbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRTY3JvbGxhYmxlUGFyZW50KGVsKSB7XG4gICAgICB3aGlsZSAoZWwgIT09IGQuYm9keSAmJiBpc1Njcm9sbGFibGUoZWwpID09PSBmYWxzZSkge1xuICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGUgfHwgZWwuaG9zdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNlbGYgaW52b2tlZCBmdW5jdGlvbiB0aGF0LCBnaXZlbiBhIGNvbnRleHQsIHN0ZXBzIHRocm91Z2ggc2Nyb2xsaW5nXG4gICAgICogQG1ldGhvZCBzdGVwXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0ZXAoY29udGV4dCkge1xuICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIHZhciBjdXJyZW50WDtcbiAgICAgIHZhciBjdXJyZW50WTtcbiAgICAgIHZhciBlbGFwc2VkID0gKHRpbWUgLSBjb250ZXh0LnN0YXJ0VGltZSkgLyBTQ1JPTExfVElNRTtcblxuICAgICAgLy8gYXZvaWQgZWxhcHNlZCB0aW1lcyBoaWdoZXIgdGhhbiBvbmVcbiAgICAgIGVsYXBzZWQgPSBlbGFwc2VkID4gMSA/IDEgOiBlbGFwc2VkO1xuXG4gICAgICAvLyBhcHBseSBlYXNpbmcgdG8gZWxhcHNlZCB0aW1lXG4gICAgICB2YWx1ZSA9IGVhc2UoZWxhcHNlZCk7XG5cbiAgICAgIGN1cnJlbnRYID0gY29udGV4dC5zdGFydFggKyAoY29udGV4dC54IC0gY29udGV4dC5zdGFydFgpICogdmFsdWU7XG4gICAgICBjdXJyZW50WSA9IGNvbnRleHQuc3RhcnRZICsgKGNvbnRleHQueSAtIGNvbnRleHQuc3RhcnRZKSAqIHZhbHVlO1xuXG4gICAgICBjb250ZXh0Lm1ldGhvZC5jYWxsKGNvbnRleHQuc2Nyb2xsYWJsZSwgY3VycmVudFgsIGN1cnJlbnRZKTtcblxuICAgICAgLy8gc2Nyb2xsIG1vcmUgaWYgd2UgaGF2ZSBub3QgcmVhY2hlZCBvdXIgZGVzdGluYXRpb25cbiAgICAgIGlmIChjdXJyZW50WCAhPT0gY29udGV4dC54IHx8IGN1cnJlbnRZICE9PSBjb250ZXh0LnkpIHtcbiAgICAgICAgdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcC5iaW5kKHcsIGNvbnRleHQpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzY3JvbGxzIHdpbmRvdyBvciBlbGVtZW50IHdpdGggYSBzbW9vdGggYmVoYXZpb3JcbiAgICAgKiBAbWV0aG9kIHNtb290aFNjcm9sbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fE5vZGV9IGVsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKGVsLCB4LCB5KSB7XG4gICAgICB2YXIgc2Nyb2xsYWJsZTtcbiAgICAgIHZhciBzdGFydFg7XG4gICAgICB2YXIgc3RhcnRZO1xuICAgICAgdmFyIG1ldGhvZDtcbiAgICAgIHZhciBzdGFydFRpbWUgPSBub3coKTtcblxuICAgICAgLy8gZGVmaW5lIHNjcm9sbCBjb250ZXh0XG4gICAgICBpZiAoZWwgPT09IGQuYm9keSkge1xuICAgICAgICBzY3JvbGxhYmxlID0gdztcbiAgICAgICAgc3RhcnRYID0gdy5zY3JvbGxYIHx8IHcucGFnZVhPZmZzZXQ7XG4gICAgICAgIHN0YXJ0WSA9IHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0O1xuICAgICAgICBtZXRob2QgPSBvcmlnaW5hbC5zY3JvbGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY3JvbGxhYmxlID0gZWw7XG4gICAgICAgIHN0YXJ0WCA9IGVsLnNjcm9sbExlZnQ7XG4gICAgICAgIHN0YXJ0WSA9IGVsLnNjcm9sbFRvcDtcbiAgICAgICAgbWV0aG9kID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgLy8gc2Nyb2xsIGxvb3Bpbmcgb3ZlciBhIGZyYW1lXG4gICAgICBzdGVwKHtcbiAgICAgICAgc2Nyb2xsYWJsZTogc2Nyb2xsYWJsZSxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICBzdGFydFg6IHN0YXJ0WCxcbiAgICAgICAgc3RhcnRZOiBzdGFydFksXG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9SSUdJTkFMIE1FVEhPRFMgT1ZFUlJJREVTXG4gICAgLy8gdy5zY3JvbGwgYW5kIHcuc2Nyb2xsVG9cbiAgICB3LnNjcm9sbCA9IHcuc2Nyb2xsVG8gPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGF2b2lkIGFjdGlvbiB3aGVuIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkXG4gICAgICBpZiAoYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBhdm9pZCBzbW9vdGggYmVoYXZpb3IgaWYgbm90IHJlcXVpcmVkXG4gICAgICBpZiAoc2hvdWxkQmFpbE91dChhcmd1bWVudHNbMF0pID09PSB0cnVlKSB7XG4gICAgICAgIG9yaWdpbmFsLnNjcm9sbC5jYWxsKFxuICAgICAgICAgIHcsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF0ubGVmdFxuICAgICAgICAgICAgOiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnb2JqZWN0J1xuICAgICAgICAgICAgICA/IGFyZ3VtZW50c1swXVxuICAgICAgICAgICAgICA6IHcuc2Nyb2xsWCB8fCB3LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgIC8vIHVzZSB0b3AgcHJvcCwgc2Vjb25kIGFyZ3VtZW50IGlmIHByZXNlbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsWVxuICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF0udG9wXG4gICAgICAgICAgICA6IGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gYXJndW1lbnRzWzFdXG4gICAgICAgICAgICAgIDogdy5zY3JvbGxZIHx8IHcucGFnZVlPZmZzZXRcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIExFVCBUSEUgU01PT1RITkVTUyBCRUdJTiFcbiAgICAgIHNtb290aFNjcm9sbC5jYWxsKFxuICAgICAgICB3LFxuICAgICAgICBkLmJvZHksXG4gICAgICAgIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLmxlZnRcbiAgICAgICAgICA6IHcuc2Nyb2xsWCB8fCB3LnBhZ2VYT2Zmc2V0LFxuICAgICAgICBhcmd1bWVudHNbMF0udG9wICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLnRvcFxuICAgICAgICAgIDogdy5zY3JvbGxZIHx8IHcucGFnZVlPZmZzZXRcbiAgICAgICk7XG4gICAgfTtcblxuICAgIC8vIHcuc2Nyb2xsQnlcbiAgICB3LnNjcm9sbEJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICBvcmlnaW5hbC5zY3JvbGxCeS5jYWxsKFxuICAgICAgICAgIHcsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF0ubGVmdFxuICAgICAgICAgICAgOiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnb2JqZWN0JyA/IGFyZ3VtZW50c1swXSA6IDAsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGFyZ3VtZW50c1swXS50b3BcbiAgICAgICAgICAgIDogYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBMRVQgVEhFIFNNT09USE5FU1MgQkVHSU4hXG4gICAgICBzbW9vdGhTY3JvbGwuY2FsbChcbiAgICAgICAgdyxcbiAgICAgICAgZC5ib2R5LFxuICAgICAgICB+fmFyZ3VtZW50c1swXS5sZWZ0ICsgKHcuc2Nyb2xsWCB8fCB3LnBhZ2VYT2Zmc2V0KSxcbiAgICAgICAgfn5hcmd1bWVudHNbMF0udG9wICsgKHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0KVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgLy8gRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsIGFuZCBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxUb1xuICAgIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbCA9IEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbFRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBpZiBvbmUgbnVtYmVyIGlzIHBhc3NlZCwgdGhyb3cgZXJyb3IgdG8gbWF0Y2ggRmlyZWZveCBpbXBsZW1lbnRhdGlvblxuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ251bWJlcicgJiYgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1ZhbHVlIGNvdWxkIG5vdCBiZSBjb252ZXJ0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9yaWdpbmFsLmVsZW1lbnRTY3JvbGwuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIC8vIHVzZSBsZWZ0IHByb3AsIGZpcnN0IG51bWJlciBhcmd1bWVudCBvciBmYWxsYmFjayB0byBzY3JvbGxMZWZ0XG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB+fmFyZ3VtZW50c1swXS5sZWZ0XG4gICAgICAgICAgICA6IHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdvYmplY3QnID8gfn5hcmd1bWVudHNbMF0gOiB0aGlzLnNjcm9sbExlZnQsXG4gICAgICAgICAgLy8gdXNlIHRvcCBwcm9wLCBzZWNvbmQgYXJndW1lbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsVG9wXG4gICAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLnRvcFxuICAgICAgICAgICAgOiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IH5+YXJndW1lbnRzWzFdIDogdGhpcy5zY3JvbGxUb3BcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzWzBdLmxlZnQ7XG4gICAgICB2YXIgdG9wID0gYXJndW1lbnRzWzBdLnRvcDtcblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHR5cGVvZiBsZWZ0ID09PSAndW5kZWZpbmVkJyA/IHRoaXMuc2Nyb2xsTGVmdCA6IH5+bGVmdCxcbiAgICAgICAgdHlwZW9mIHRvcCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNjcm9sbFRvcCA6IH5+dG9wXG4gICAgICApO1xuICAgIH07XG5cbiAgICAvLyBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxCeVxuICAgIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSA9PT0gdHJ1ZSkge1xuICAgICAgICBvcmlnaW5hbC5lbGVtZW50U2Nyb2xsLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBhcmd1bWVudHNbMF0ubGVmdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLmxlZnQgKyB0aGlzLnNjcm9sbExlZnRcbiAgICAgICAgICAgIDogfn5hcmd1bWVudHNbMF0gKyB0aGlzLnNjcm9sbExlZnQsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLnRvcCArIHRoaXMuc2Nyb2xsVG9wXG4gICAgICAgICAgICA6IH5+YXJndW1lbnRzWzFdICsgdGhpcy5zY3JvbGxUb3BcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2Nyb2xsKHtcbiAgICAgICAgbGVmdDogfn5hcmd1bWVudHNbMF0ubGVmdCArIHRoaXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgdG9wOiB+fmFyZ3VtZW50c1swXS50b3AgKyB0aGlzLnNjcm9sbFRvcCxcbiAgICAgICAgYmVoYXZpb3I6IGFyZ3VtZW50c1swXS5iZWhhdmlvclxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3XG4gICAgRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGF2b2lkIHNtb290aCBiZWhhdmlvciBpZiBub3QgcmVxdWlyZWRcbiAgICAgIGlmIChzaG91bGRCYWlsT3V0KGFyZ3VtZW50c1swXSkgPT09IHRydWUpIHtcbiAgICAgICAgb3JpZ2luYWwuc2Nyb2xsSW50b1ZpZXcuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1swXVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgdmFyIHNjcm9sbGFibGVQYXJlbnQgPSBmaW5kU2Nyb2xsYWJsZVBhcmVudCh0aGlzKTtcbiAgICAgIHZhciBwYXJlbnRSZWN0cyA9IHNjcm9sbGFibGVQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgY2xpZW50UmVjdHMgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBpZiAoc2Nyb2xsYWJsZVBhcmVudCAhPT0gZC5ib2R5KSB7XG4gICAgICAgIC8vIHJldmVhbCBlbGVtZW50IGluc2lkZSBwYXJlbnRcbiAgICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50LFxuICAgICAgICAgIHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsTGVmdCArIGNsaWVudFJlY3RzLmxlZnQgLSBwYXJlbnRSZWN0cy5sZWZ0LFxuICAgICAgICAgIHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsVG9wICsgY2xpZW50UmVjdHMudG9wIC0gcGFyZW50UmVjdHMudG9wXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcmV2ZWFsIHBhcmVudCBpbiB2aWV3cG9ydCB1bmxlc3MgaXMgZml4ZWRcbiAgICAgICAgaWYgKHcuZ2V0Q29tcHV0ZWRTdHlsZShzY3JvbGxhYmxlUGFyZW50KS5wb3NpdGlvbiAhPT0gJ2ZpeGVkJykge1xuICAgICAgICAgIHcuc2Nyb2xsQnkoe1xuICAgICAgICAgICAgbGVmdDogcGFyZW50UmVjdHMubGVmdCxcbiAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdHMudG9wLFxuICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJldmVhbCBlbGVtZW50IGluIHZpZXdwb3J0XG4gICAgICAgIHcuc2Nyb2xsQnkoe1xuICAgICAgICAgIGxlZnQ6IGNsaWVudFJlY3RzLmxlZnQsXG4gICAgICAgICAgdG9wOiBjbGllbnRSZWN0cy50b3AsXG4gICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gY29tbW9uanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHsgcG9seWZpbGw6IHBvbHlmaWxsIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gZ2xvYmFsXG4gICAgcG9seWZpbGwoKTtcbiAgfVxuXG59KCkpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBR0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///31\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/*\n * anime.js v3.2.0\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (anime);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanM/MTIwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogYW5pbWUuanMgdjMuMi4wXG4gKiAoYykgMjAyMCBKdWxpYW4gR2FybmllclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBhbmltZWpzLmNvbVxuICovXG5cbi8vIERlZmF1bHRzXG5cbnZhciBkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncyA9IHtcbiAgdXBkYXRlOiBudWxsLFxuICBiZWdpbjogbnVsbCxcbiAgbG9vcEJlZ2luOiBudWxsLFxuICBjaGFuZ2VCZWdpbjogbnVsbCxcbiAgY2hhbmdlOiBudWxsLFxuICBjaGFuZ2VDb21wbGV0ZTogbnVsbCxcbiAgbG9vcENvbXBsZXRlOiBudWxsLFxuICBjb21wbGV0ZTogbnVsbCxcbiAgbG9vcDogMSxcbiAgZGlyZWN0aW9uOiAnbm9ybWFsJyxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIHRpbWVsaW5lT2Zmc2V0OiAwXG59O1xuXG52YXIgZGVmYXVsdFR3ZWVuU2V0dGluZ3MgPSB7XG4gIGR1cmF0aW9uOiAxMDAwLFxuICBkZWxheTogMCxcbiAgZW5kRGVsYXk6IDAsXG4gIGVhc2luZzogJ2Vhc2VPdXRFbGFzdGljKDEsIC41KScsXG4gIHJvdW5kOiAwXG59O1xuXG52YXIgdmFsaWRUcmFuc2Zvcm1zID0gWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAndHJhbnNsYXRlWicsICdyb3RhdGUnLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3JvdGF0ZVonLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdzY2FsZVonLCAnc2tldycsICdza2V3WCcsICdza2V3WScsICdwZXJzcGVjdGl2ZScsICdtYXRyaXgnLCAnbWF0cml4M2QnXTtcblxuLy8gQ2FjaGluZ1xuXG52YXIgY2FjaGUgPSB7XG4gIENTUzoge30sXG4gIHNwcmluZ3M6IHt9XG59O1xuXG4vLyBVdGlsc1xuXG5mdW5jdGlvbiBtaW5NYXgodmFsLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdDb250YWlucyhzdHIsIHRleHQpIHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKHRleHQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QXJndW1lbnRzKGZ1bmMsIGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbnZhciBpcyA9IHtcbiAgYXJyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhKTsgfSxcbiAgb2JqOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gc3RyaW5nQ29udGFpbnMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLCAnT2JqZWN0Jyk7IH0sXG4gIHB0aDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLm9iaihhKSAmJiBhLmhhc093blByb3BlcnR5KCd0b3RhbExlbmd0aCcpOyB9LFxuICBzdmc6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudDsgfSxcbiAgaW5wOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQ7IH0sXG4gIGRvbTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubm9kZVR5cGUgfHwgaXMuc3ZnKGEpOyB9LFxuICBzdHI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZyc7IH0sXG4gIGZuYzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nOyB9LFxuICB1bmQ6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCc7IH0sXG4gIGhleDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC8oXiNbMC05QS1GXXs2fSQpfCheI1swLTlBLUZdezN9JCkvaS50ZXN0KGEpOyB9LFxuICByZ2I6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXnJnYi8udGVzdChhKTsgfSxcbiAgaHNsOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15oc2wvLnRlc3QoYSk7IH0sXG4gIGNvbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIChpcy5oZXgoYSkgfHwgaXMucmdiKGEpIHx8IGlzLmhzbChhKSk7IH0sXG4gIGtleTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiAhZGVmYXVsdFR3ZWVuU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgYSAhPT0gJ3RhcmdldHMnICYmIGEgIT09ICdrZXlmcmFtZXMnOyB9XG59O1xuXG4vLyBFYXNpbmdzXG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gL1xcKChbXildKylcXCkvLmV4ZWMoc3RyaW5nKTtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBhcnNlRmxvYXQocCk7IH0pIDogW107XG59XG5cbi8vIFNwcmluZyBzb2x2ZXIgaW5zcGlyZWQgYnkgV2Via2l0IENvcHlyaWdodCDCqSAyMDE2IEFwcGxlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gaHR0cHM6Ly93ZWJraXQub3JnL2RlbW9zL3NwcmluZy9zcHJpbmcuanNcblxuZnVuY3Rpb24gc3ByaW5nKHN0cmluZywgZHVyYXRpb24pIHtcblxuICB2YXIgcGFyYW1zID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZyk7XG4gIHZhciBtYXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMF0pID8gMSA6IHBhcmFtc1swXSwgLjEsIDEwMCk7XG4gIHZhciBzdGlmZm5lc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1sxXSkgPyAxMDAgOiBwYXJhbXNbMV0sIC4xLCAxMDApO1xuICB2YXIgZGFtcGluZyA9IG1pbk1heChpcy51bmQocGFyYW1zWzJdKSA/IDEwIDogcGFyYW1zWzJdLCAuMSwgMTAwKTtcbiAgdmFyIHZlbG9jaXR5ID0gIG1pbk1heChpcy51bmQocGFyYW1zWzNdKSA/IDAgOiBwYXJhbXNbM10sIC4xLCAxMDApO1xuICB2YXIgdzAgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcyk7XG4gIHZhciB6ZXRhID0gZGFtcGluZyAvICgyICogTWF0aC5zcXJ0KHN0aWZmbmVzcyAqIG1hc3MpKTtcbiAgdmFyIHdkID0gemV0YSA8IDEgPyB3MCAqIE1hdGguc3FydCgxIC0gemV0YSAqIHpldGEpIDogMDtcbiAgdmFyIGEgPSAxO1xuICB2YXIgYiA9IHpldGEgPCAxID8gKHpldGEgKiB3MCArIC12ZWxvY2l0eSkgLyB3ZCA6IC12ZWxvY2l0eSArIHcwO1xuXG4gIGZ1bmN0aW9uIHNvbHZlcih0KSB7XG4gICAgdmFyIHByb2dyZXNzID0gZHVyYXRpb24gPyAoZHVyYXRpb24gKiB0KSAvIDEwMDAgOiB0O1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgcHJvZ3Jlc3MgPSBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB6ZXRhICogdzApICogKGEgKiBNYXRoLmNvcyh3ZCAqIHByb2dyZXNzKSArIGIgKiBNYXRoLnNpbih3ZCAqIHByb2dyZXNzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzID0gKGEgKyBiICogcHJvZ3Jlc3MpICogTWF0aC5leHAoLXByb2dyZXNzICogdzApO1xuICAgIH1cbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7IHJldHVybiB0OyB9XG4gICAgcmV0dXJuIDEgLSBwcm9ncmVzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgIHZhciBjYWNoZWQgPSBjYWNoZS5zcHJpbmdzW3N0cmluZ107XG4gICAgaWYgKGNhY2hlZCkgeyByZXR1cm4gY2FjaGVkOyB9XG4gICAgdmFyIGZyYW1lID0gMS82O1xuICAgIHZhciBlbGFwc2VkID0gMDtcbiAgICB2YXIgcmVzdCA9IDA7XG4gICAgd2hpbGUodHJ1ZSkge1xuICAgICAgZWxhcHNlZCArPSBmcmFtZTtcbiAgICAgIGlmIChzb2x2ZXIoZWxhcHNlZCkgPT09IDEpIHtcbiAgICAgICAgcmVzdCsrO1xuICAgICAgICBpZiAocmVzdCA+PSAxNikgeyBicmVhazsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkdXJhdGlvbiA9IGVsYXBzZWQgKiBmcmFtZSAqIDEwMDA7XG4gICAgY2FjaGUuc3ByaW5nc1tzdHJpbmddID0gZHVyYXRpb247XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGR1cmF0aW9uID8gc29sdmVyIDogZ2V0RHVyYXRpb247XG5cbn1cblxuLy8gQmFzaWMgc3RlcHMgZWFzaW5nIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2ZyL2RvY3MvV2ViL0NTUy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuXG5mdW5jdGlvbiBzdGVwcyhzdGVwcykge1xuICBpZiAoIHN0ZXBzID09PSB2b2lkIDAgKSBzdGVwcyA9IDEwO1xuXG4gIHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5jZWlsKChtaW5NYXgodCwgMC4wMDAwMDEsIDEpKSAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpOyB9O1xufVxuXG4vLyBCZXppZXJFYXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG5cbnZhciBiZXppZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG4gIHZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikgeyByZXR1cm4gMy4wICogYUEyIC0gNi4wICogYUExIH1cbiAgZnVuY3Rpb24gQyhhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExIH1cblxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikgeyByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQgfVxuICBmdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSkgfVxuXG4gIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCLCBtWDEsIG1YMikge1xuICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7IGFCID0gY3VycmVudFQ7IH0gZWxzZSB7IGFBID0gY3VycmVudFQ7IH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiAwLjAwMDAwMDEgJiYgKytpIDwgMTApO1xuICAgIHJldHVybiBjdXJyZW50VDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7IHJldHVybiBhR3Vlc3NUOyB9XG4gICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICB9XG4gICAgcmV0dXJuIGFHdWVzc1Q7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG5cbiAgICBpZiAoISgwIDw9IG1YMSAmJiBtWDEgPD0gMSAmJiAwIDw9IG1YMiAmJiBtWDIgPD0gMSkpIHsgcmV0dXJuOyB9XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG5cbiAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG5cbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuXG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcblxuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSAwLjAwMSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHsgcmV0dXJuIHg7IH1cbiAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IDEpIHsgcmV0dXJuIHg7IH1cbiAgICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gYmV6aWVyO1xuXG59KSgpO1xuXG52YXIgcGVubmVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAvLyBCYXNlZCBvbiBqUXVlcnkgVUkncyBpbXBsZW1lbmF0aW9uIG9mIGVhc2luZyBlcXVhdGlvbnMgZnJvbSBSb2JlcnQgUGVubmVyIChodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nKVxuXG4gIHZhciBlYXNlcyA9IHsgbGluZWFyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfTsgfSB9O1xuXG4gIHZhciBmdW5jdGlvbkVhc2luZ3MgPSB7XG4gICAgU2luZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogTWF0aC5QSSAvIDIpOyB9OyB9LFxuICAgIENpcmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7IH07IH0sXG4gICAgQmFjazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKiB0ICogKDMgKiB0IC0gMik7IH07IH0sXG4gICAgQm91bmNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIHBvdzIsIGIgPSA0O1xuICAgICAgd2hpbGUgKHQgPCAoKCBwb3cyID0gTWF0aC5wb3coMiwgLS1iKSkgLSAxKSAvIDExKSB7fVxuICAgICAgcmV0dXJuIDEgLyBNYXRoLnBvdyg0LCAzIC0gYikgLSA3LjU2MjUgKiBNYXRoLnBvdygoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSB0LCAyKVxuICAgIH07IH0sXG4gICAgRWxhc3RpYzogZnVuY3Rpb24gKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICBpZiAoIGFtcGxpdHVkZSA9PT0gdm9pZCAwICkgYW1wbGl0dWRlID0gMTtcbiAgICAgIGlmICggcGVyaW9kID09PSB2b2lkIDAgKSBwZXJpb2QgPSAuNTtcblxuICAgICAgdmFyIGEgPSBtaW5NYXgoYW1wbGl0dWRlLCAxLCAxMCk7XG4gICAgICB2YXIgcCA9IG1pbk1heChwZXJpb2QsIC4xLCAyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gKHQgPT09IDAgfHwgdCA9PT0gMSkgPyB0IDogXG4gICAgICAgICAgLWEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICogTWF0aC5zaW4oKCgodCAtIDEpIC0gKHAgLyAoTWF0aC5QSSAqIDIpICogTWF0aC5hc2luKDEgLyBhKSkpICogKE1hdGguUEkgKiAyKSkgLyBwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGJhc2VFYXNpbmdzID0gWydRdWFkJywgJ0N1YmljJywgJ1F1YXJ0JywgJ1F1aW50JywgJ0V4cG8nXTtcblxuICBiYXNlRWFzaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpKSB7XG4gICAgZnVuY3Rpb25FYXNpbmdzW25hbWVdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGgucG93KHQsIGkgKyAyKTsgfTsgfTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoZnVuY3Rpb25FYXNpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGVhc2VJbiA9IGZ1bmN0aW9uRWFzaW5nc1tuYW1lXTtcbiAgICBlYXNlc1snZWFzZUluJyArIG5hbWVdID0gZWFzZUluO1xuICAgIGVhc2VzWydlYXNlT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gZWFzZUluKGEsIGIpKDEgLSB0KTsgfTsgfTtcbiAgICBlYXNlc1snZWFzZUluT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gZWFzZUluKGEsIGIpKHQgKiAyKSAvIDIgOiBcbiAgICAgIDEgLSBlYXNlSW4oYSwgYikodCAqIC0yICsgMikgLyAyOyB9OyB9O1xuICB9KTtcblxuICByZXR1cm4gZWFzZXM7XG5cbn0pKCk7XG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5ncyhlYXNpbmcsIGR1cmF0aW9uKSB7XG4gIGlmIChpcy5mbmMoZWFzaW5nKSkgeyByZXR1cm4gZWFzaW5nOyB9XG4gIHZhciBuYW1lID0gZWFzaW5nLnNwbGl0KCcoJylbMF07XG4gIHZhciBlYXNlID0gcGVubmVyW25hbWVdO1xuICB2YXIgYXJncyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhlYXNpbmcpO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdzcHJpbmcnIDogcmV0dXJuIHNwcmluZyhlYXNpbmcsIGR1cmF0aW9uKTtcbiAgICBjYXNlICdjdWJpY0JlemllcicgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoYmV6aWVyLCBhcmdzKTtcbiAgICBjYXNlICdzdGVwcycgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoc3RlcHMsIGFyZ3MpO1xuICAgIGRlZmF1bHQgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoZWFzZSwgYXJncyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nc1xuXG5mdW5jdGlvbiBzZWxlY3RTdHJpbmcoc3RyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzdHIpO1xuICAgIHJldHVybiBub2RlcztcbiAgfSBjYXRjaChlKSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIEFycmF5c1xuXG5mdW5jdGlvbiBmaWx0ZXJBcnJheShhcnIsIGNhbGxiYWNrKSB7XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyKSB7XG4gICAgICB2YXIgdmFsID0gYXJyW2ldO1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsLCBpLCBhcnIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShhcnIpIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGlzLmFycihiKSA/IGZsYXR0ZW5BcnJheShiKSA6IGIpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkobykge1xuICBpZiAoaXMuYXJyKG8pKSB7IHJldHVybiBvOyB9XG4gIGlmIChpcy5zdHIobykpIHsgbyA9IHNlbGVjdFN0cmluZyhvKSB8fCBvOyB9XG4gIGlmIChvIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgbyBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7IHJldHVybiBbXS5zbGljZS5jYWxsKG8pOyB9XG4gIHJldHVybiBbb107XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5zb21lKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSB2YWw7IH0pO1xufVxuXG4vLyBPYmplY3RzXG5cbmZ1bmN0aW9uIGNsb25lT2JqZWN0KG8pIHtcbiAgdmFyIGNsb25lID0ge307XG4gIGZvciAodmFyIHAgaW4gbykgeyBjbG9uZVtwXSA9IG9bcF07IH1cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8xKSB7IG9bcF0gPSBvMi5oYXNPd25Qcm9wZXJ0eShwKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzIpIHsgb1twXSA9IGlzLnVuZChvMVtwXSkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG4vLyBDb2xvcnNcblxuZnVuY3Rpb24gcmdiVG9SZ2JhKHJnYlZhbHVlKSB7XG4gIHZhciByZ2IgPSAvcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMocmdiVmFsdWUpO1xuICByZXR1cm4gcmdiID8gKFwicmdiYShcIiArIChyZ2JbMV0pICsgXCIsMSlcIikgOiByZ2JWYWx1ZTtcbn1cblxuZnVuY3Rpb24gaGV4VG9SZ2JhKGhleFZhbHVlKSB7XG4gIHZhciByZ3ggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xuICB2YXIgaGV4ID0gaGV4VmFsdWUucmVwbGFjZShyZ3gsIGZ1bmN0aW9uIChtLCByLCBnLCBiKSB7IHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7IH0gKTtcbiAgdmFyIHJnYiA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICB2YXIgciA9IHBhcnNlSW50KHJnYlsxXSwgMTYpO1xuICB2YXIgZyA9IHBhcnNlSW50KHJnYlsyXSwgMTYpO1xuICB2YXIgYiA9IHBhcnNlSW50KHJnYlszXSwgMTYpO1xuICByZXR1cm4gKFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIiwxKVwiKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2JhKGhzbFZhbHVlKSB7XG4gIHZhciBoc2wgPSAvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhoc2xWYWx1ZSkgfHwgL2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMoaHNsVmFsdWUpO1xuICB2YXIgaCA9IHBhcnNlSW50KGhzbFsxXSwgMTApIC8gMzYwO1xuICB2YXIgcyA9IHBhcnNlSW50KGhzbFsyXSwgMTApIC8gMTAwO1xuICB2YXIgbCA9IHBhcnNlSW50KGhzbFszXSwgMTApIC8gMTAwO1xuICB2YXIgYSA9IGhzbFs0XSB8fCAxO1xuICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHsgdCArPSAxOyB9XG4gICAgaWYgKHQgPiAxKSB7IHQgLT0gMTsgfVxuICAgIGlmICh0IDwgMS82KSB7IHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0OyB9XG4gICAgaWYgKHQgPCAxLzIpIHsgcmV0dXJuIHE7IH1cbiAgICBpZiAodCA8IDIvMykgeyByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2OyB9XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgdmFyIHIsIGcsIGI7XG4gIGlmIChzID09IDApIHtcbiAgICByID0gZyA9IGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMS8zKTtcbiAgfVxuICByZXR1cm4gKFwicmdiYShcIiArIChyICogMjU1KSArIFwiLFwiICsgKGcgKiAyNTUpICsgXCIsXCIgKyAoYiAqIDI1NSkgKyBcIixcIiArIGEgKyBcIilcIik7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2IodmFsKSB7XG4gIGlmIChpcy5yZ2IodmFsKSkgeyByZXR1cm4gcmdiVG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhleCh2YWwpKSB7IHJldHVybiBoZXhUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaHNsKHZhbCkpIHsgcmV0dXJuIGhzbFRvUmdiYSh2YWwpOyB9XG59XG5cbi8vIFVuaXRzXG5cbmZ1bmN0aW9uIGdldFVuaXQodmFsKSB7XG4gIHZhciBzcGxpdCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKHZhbCk7XG4gIGlmIChzcGxpdCkgeyByZXR1cm4gc3BsaXRbMV07IH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSkge1xuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICd0cmFuc2xhdGUnKSB8fCBwcm9wTmFtZSA9PT0gJ3BlcnNwZWN0aXZlJykgeyByZXR1cm4gJ3B4JzsgfVxuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NrZXcnKSkgeyByZXR1cm4gJ2RlZyc7IH1cbn1cblxuLy8gVmFsdWVzXG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUodmFsLCBhbmltYXRhYmxlKSB7XG4gIGlmICghaXMuZm5jKHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICByZXR1cm4gdmFsKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltYXRhYmxlLmlkLCBhbmltYXRhYmxlLnRvdGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIHtcbiAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICBpZiAoYXJyYXlDb250YWlucyhbdW5pdCwgJ2RlZycsICdyYWQnLCAndHVybiddLCB2YWx1ZVVuaXQpKSB7IHJldHVybiB2YWx1ZTsgfVxuICB2YXIgY2FjaGVkID0gY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF07XG4gIGlmICghaXMudW5kKGNhY2hlZCkpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICB2YXIgYmFzZWxpbmUgPSAxMDA7XG4gIHZhciB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsLnRhZ05hbWUpO1xuICB2YXIgcGFyZW50RWwgPSAoZWwucGFyZW50Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQpKSA/IGVsLnBhcmVudE5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0ZW1wRWwuc3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gIHZhciBmYWN0b3IgPSBiYXNlbGluZSAvIHRlbXBFbC5vZmZzZXRXaWR0aDtcbiAgcGFyZW50RWwucmVtb3ZlQ2hpbGQodGVtcEVsKTtcbiAgdmFyIGNvbnZlcnRlZFVuaXQgPSBmYWN0b3IgKiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF0gPSBjb252ZXJ0ZWRVbml0O1xuICByZXR1cm4gY29udmVydGVkVW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZWwsIHByb3AsIHVuaXQpIHtcbiAgaWYgKHByb3AgaW4gZWwuc3R5bGUpIHtcbiAgICB2YXIgdXBwZXJjYXNlUHJvcE5hbWUgPSBwcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHZhbHVlID0gZWwuc3R5bGVbcHJvcF0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh1cHBlcmNhc2VQcm9wTmFtZSkgfHwgJzAnO1xuICAgIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGVsLCBwcm9wKSB7XG4gIGlmIChpcy5kb20oZWwpICYmICFpcy5pbnAoZWwpICYmIChnZXRBdHRyaWJ1dGUoZWwsIHByb3ApIHx8IChpcy5zdmcoZWwpICYmIGVsW3Byb3BdKSkpIHsgcmV0dXJuICdhdHRyaWJ1dGUnOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIGFycmF5Q29udGFpbnModmFsaWRUcmFuc2Zvcm1zLCBwcm9wKSkgeyByZXR1cm4gJ3RyYW5zZm9ybSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgKHByb3AgIT09ICd0cmFuc2Zvcm0nICYmIGdldENTU1ZhbHVlKGVsLCBwcm9wKSkpIHsgcmV0dXJuICdjc3MnOyB9XG4gIGlmIChlbFtwcm9wXSAhPSBudWxsKSB7IHJldHVybiAnb2JqZWN0JzsgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkge1xuICBpZiAoIWlzLmRvbShlbCkpIHsgcmV0dXJuOyB9XG4gIHZhciBzdHIgPSBlbC5zdHlsZS50cmFuc2Zvcm0gfHwgJyc7XG4gIHZhciByZWcgID0gLyhcXHcrKVxcKChbXildKilcXCkvZztcbiAgdmFyIHRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG4gIHZhciBtOyB3aGlsZSAobSA9IHJlZy5leGVjKHN0cikpIHsgdHJhbnNmb3Jtcy5zZXQobVsxXSwgbVsyXSk7IH1cbiAgcmV0dXJuIHRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKGVsLCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCkge1xuICB2YXIgZGVmYXVsdFZhbCA9IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2NhbGUnKSA/IDEgOiAwICsgZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSk7XG4gIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRWYWw7XG4gIGlmIChhbmltYXRhYmxlKSB7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLmxpc3Quc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zWydsYXN0J10gPSBwcm9wTmFtZTtcbiAgfVxuICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCwgYW5pbWF0YWJsZSkge1xuICBzd2l0Y2ggKGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICBjYXNlICd0cmFuc2Zvcm0nOiByZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCk7XG4gICAgY2FzZSAnY3NzJzogcmV0dXJuIGdldENTU1ZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQpO1xuICAgIGNhc2UgJ2F0dHJpYnV0ZSc6IHJldHVybiBnZXRBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHRhcmdldFtwcm9wTmFtZV0gfHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSB7XG4gIHZhciBvcGVyYXRvciA9IC9eKFxcKj18XFwrPXwtPSkvLmV4ZWModG8pO1xuICBpZiAoIW9wZXJhdG9yKSB7IHJldHVybiB0bzsgfVxuICB2YXIgdSA9IGdldFVuaXQodG8pIHx8IDA7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHRvLnJlcGxhY2Uob3BlcmF0b3JbMF0sICcnKSk7XG4gIHN3aXRjaCAob3BlcmF0b3JbMF1bMF0pIHtcbiAgICBjYXNlICcrJzogcmV0dXJuIHggKyB5ICsgdTtcbiAgICBjYXNlICctJzogcmV0dXJuIHggLSB5ICsgdTtcbiAgICBjYXNlICcqJzogcmV0dXJuIHggKiB5ICsgdTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZhbHVlKHZhbCwgdW5pdCkge1xuICBpZiAoaXMuY29sKHZhbCkpIHsgcmV0dXJuIGNvbG9yVG9SZ2IodmFsKTsgfVxuICBpZiAoL1xccy9nLnRlc3QodmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHZhciBvcmlnaW5hbFVuaXQgPSBnZXRVbml0KHZhbCk7XG4gIHZhciB1bml0TGVzcyA9IG9yaWdpbmFsVW5pdCA/IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIG9yaWdpbmFsVW5pdC5sZW5ndGgpIDogdmFsO1xuICBpZiAodW5pdCkgeyByZXR1cm4gdW5pdExlc3MgKyB1bml0OyB9XG4gIHJldHVybiB1bml0TGVzcztcbn1cblxuLy8gZ2V0VG90YWxMZW5ndGgoKSBlcXVpdmFsZW50IGZvciBjaXJjbGUsIHJlY3QsIHBvbHlsaW5lLCBwb2x5Z29uIGFuZCBsaW5lIHNoYXBlc1xuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1NlYkxhbWJsYS8zZTA1NTBjNDk2YzIzNjcwOTc0NFxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikpO1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjbGVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIE1hdGguUEkgKiAyICogZ2V0QXR0cmlidXRlKGVsLCAncicpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0TGVuZ3RoKGVsKSB7XG4gIHJldHVybiAoZ2V0QXR0cmlidXRlKGVsLCAnd2lkdGgnKSAqIDIpICsgKGdldEF0dHJpYnV0ZShlbCwgJ2hlaWdodCcpICogMik7XG59XG5cbmZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIGdldERpc3RhbmNlKFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MScpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MScpfSwgXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gyJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kyJyl9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHZhciB0b3RhbExlbmd0aCA9IDA7XG4gIHZhciBwcmV2aW91c1BvcztcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgcG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgIHZhciBjdXJyZW50UG9zID0gcG9pbnRzLmdldEl0ZW0oaSk7XG4gICAgaWYgKGkgPiAwKSB7IHRvdGFsTGVuZ3RoICs9IGdldERpc3RhbmNlKHByZXZpb3VzUG9zLCBjdXJyZW50UG9zKTsgfVxuICAgIHByZXZpb3VzUG9zID0gY3VycmVudFBvcztcbiAgfVxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSArIGdldERpc3RhbmNlKHBvaW50cy5nZXRJdGVtKHBvaW50cy5udW1iZXJPZkl0ZW1zIC0gMSksIHBvaW50cy5nZXRJdGVtKDApKTtcbn1cblxuLy8gUGF0aCBhbmltYXRpb25cblxuZnVuY3Rpb24gZ2V0VG90YWxMZW5ndGgoZWwpIHtcbiAgaWYgKGVsLmdldFRvdGFsTGVuZ3RoKSB7IHJldHVybiBlbC5nZXRUb3RhbExlbmd0aCgpOyB9XG4gIHN3aXRjaChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdyZWN0JzogcmV0dXJuIGdldFJlY3RMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gZ2V0TGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWxpbmUnOiByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlnb24nOiByZXR1cm4gZ2V0UG9seWdvbkxlbmd0aChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGFzaG9mZnNldChlbCkge1xuICB2YXIgcGF0aExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgcGF0aExlbmd0aCk7XG4gIHJldHVybiBwYXRoTGVuZ3RoO1xufVxuXG4vLyBNb3Rpb24gcGF0aFxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmdFbChlbCkge1xuICB2YXIgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICB3aGlsZSAoaXMuc3ZnKHBhcmVudEVsKSkge1xuICAgIGlmICghaXMuc3ZnKHBhcmVudEVsLnBhcmVudE5vZGUpKSB7IGJyZWFrOyB9XG4gICAgcGFyZW50RWwgPSBwYXJlbnRFbC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBwYXJlbnRFbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKHBhdGhFbCwgc3ZnRGF0YSkge1xuICB2YXIgc3ZnID0gc3ZnRGF0YSB8fCB7fTtcbiAgdmFyIHBhcmVudFN2Z0VsID0gc3ZnLmVsIHx8IGdldFBhcmVudFN2Z0VsKHBhdGhFbCk7XG4gIHZhciByZWN0ID0gcGFyZW50U3ZnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB2aWV3Qm94QXR0ciA9IGdldEF0dHJpYnV0ZShwYXJlbnRTdmdFbCwgJ3ZpZXdCb3gnKTtcbiAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICB2YXIgdmlld0JveCA9IHN2Zy52aWV3Qm94IHx8ICh2aWV3Qm94QXR0ciA/IHZpZXdCb3hBdHRyLnNwbGl0KCcgJykgOiBbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICByZXR1cm4ge1xuICAgIGVsOiBwYXJlbnRTdmdFbCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHg6IHZpZXdCb3hbMF0gLyAxLFxuICAgIHk6IHZpZXdCb3hbMV0gLyAxLFxuICAgIHc6IHdpZHRoIC8gdmlld0JveFsyXSxcbiAgICBoOiBoZWlnaHQgLyB2aWV3Qm94WzNdXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aChwYXRoLCBwZXJjZW50KSB7XG4gIHZhciBwYXRoRWwgPSBpcy5zdHIocGF0aCkgPyBzZWxlY3RTdHJpbmcocGF0aClbMF0gOiBwYXRoO1xuICB2YXIgcCA9IHBlcmNlbnQgfHwgMTAwO1xuICByZXR1cm4gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgZWw6IHBhdGhFbCxcbiAgICAgIHN2ZzogZ2V0UGFyZW50U3ZnKHBhdGhFbCksXG4gICAgICB0b3RhbExlbmd0aDogZ2V0VG90YWxMZW5ndGgocGF0aEVsKSAqIChwIC8gMTAwKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoUHJvZ3Jlc3MocGF0aCwgcHJvZ3Jlc3MpIHtcbiAgZnVuY3Rpb24gcG9pbnQob2Zmc2V0KSB7XG4gICAgaWYgKCBvZmZzZXQgPT09IHZvaWQgMCApIG9mZnNldCA9IDA7XG5cbiAgICB2YXIgbCA9IHByb2dyZXNzICsgb2Zmc2V0ID49IDEgPyBwcm9ncmVzcyArIG9mZnNldCA6IDA7XG4gICAgcmV0dXJuIHBhdGguZWwuZ2V0UG9pbnRBdExlbmd0aChsKTtcbiAgfVxuICB2YXIgc3ZnID0gZ2V0UGFyZW50U3ZnKHBhdGguZWwsIHBhdGguc3ZnKTtcbiAgdmFyIHAgPSBwb2ludCgpO1xuICB2YXIgcDAgPSBwb2ludCgtMSk7XG4gIHZhciBwMSA9IHBvaW50KCsxKTtcbiAgc3dpdGNoIChwYXRoLnByb3BlcnR5KSB7XG4gICAgY2FzZSAneCc6IHJldHVybiAocC54IC0gc3ZnLngpICogc3ZnLnc7XG4gICAgY2FzZSAneSc6IHJldHVybiAocC55IC0gc3ZnLnkpICogc3ZnLmg7XG4gICAgY2FzZSAnYW5nbGUnOiByZXR1cm4gTWF0aC5hdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gTWF0aC5QSTtcbiAgfVxufVxuXG4vLyBEZWNvbXBvc2UgdmFsdWVcblxuZnVuY3Rpb24gZGVjb21wb3NlVmFsdWUodmFsLCB1bml0KSB7XG4gIC8vIGNvbnN0IHJneCA9IC8tP1xcZCpcXC4/XFxkKy9nOyAvLyBoYW5kbGVzIGJhc2ljIG51bWJlcnNcbiAgLy8gY29uc3Qgcmd4ID0gL1srLV0/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgcmd4ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciB2YWx1ZSA9IHZhbGlkYXRlVmFsdWUoKGlzLnB0aCh2YWwpID8gdmFsLnRvdGFsTGVuZ3RoIDogdmFsKSwgdW5pdCkgKyAnJztcbiAgcmV0dXJuIHtcbiAgICBvcmlnaW5hbDogdmFsdWUsXG4gICAgbnVtYmVyczogdmFsdWUubWF0Y2gocmd4KSA/IHZhbHVlLm1hdGNoKHJneCkubWFwKE51bWJlcikgOiBbMF0sXG4gICAgc3RyaW5nczogKGlzLnN0cih2YWwpIHx8IHVuaXQpID8gdmFsdWUuc3BsaXQocmd4KSA6IFtdXG4gIH1cbn1cblxuLy8gQW5pbWF0YWJsZXNcblxuZnVuY3Rpb24gcGFyc2VUYXJnZXRzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHRhcmdldHMgPyAoZmxhdHRlbkFycmF5KGlzLmFycih0YXJnZXRzKSA/IHRhcmdldHMubWFwKHRvQXJyYXkpIDogdG9BcnJheSh0YXJnZXRzKSkpIDogW107XG4gIHJldHVybiBmaWx0ZXJBcnJheSh0YXJnZXRzQXJyYXksIGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHsgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gcG9zOyB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cykge1xuICB2YXIgcGFyc2VkID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICByZXR1cm4gcGFyc2VkLm1hcChmdW5jdGlvbiAodCwgaSkge1xuICAgIHJldHVybiB7dGFyZ2V0OiB0LCBpZDogaSwgdG90YWw6IHBhcnNlZC5sZW5ndGgsIHRyYW5zZm9ybXM6IHsgbGlzdDogZ2V0RWxlbWVudFRyYW5zZm9ybXModCkgfSB9O1xuICB9KTtcbn1cblxuLy8gUHJvcGVydGllc1xuXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwcm9wLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IGNsb25lT2JqZWN0KHR3ZWVuU2V0dGluZ3MpO1xuICAvLyBPdmVycmlkZSBkdXJhdGlvbiBpZiBlYXNpbmcgaXMgYSBzcHJpbmdcbiAgaWYgKC9ec3ByaW5nLy50ZXN0KHNldHRpbmdzLmVhc2luZykpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSBzcHJpbmcoc2V0dGluZ3MuZWFzaW5nKTsgfVxuICBpZiAoaXMuYXJyKHByb3ApKSB7XG4gICAgdmFyIGwgPSBwcm9wLmxlbmd0aDtcbiAgICB2YXIgaXNGcm9tVG8gPSAobCA9PT0gMiAmJiAhaXMub2JqKHByb3BbMF0pKTtcbiAgICBpZiAoIWlzRnJvbVRvKSB7XG4gICAgICAvLyBEdXJhdGlvbiBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2YgdHdlZW5zXG4gICAgICBpZiAoIWlzLmZuYyh0d2VlblNldHRpbmdzLmR1cmF0aW9uKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24gLyBsOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBbZnJvbSwgdG9dIHZhbHVlcyBzaG9ydGhhbmQgdG8gYSB2YWxpZCB0d2VlbiB2YWx1ZVxuICAgICAgcHJvcCA9IHt2YWx1ZTogcHJvcH07XG4gICAgfVxuICB9XG4gIHZhciBwcm9wQXJyYXkgPSBpcy5hcnIocHJvcCkgPyBwcm9wIDogW3Byb3BdO1xuICByZXR1cm4gcHJvcEFycmF5Lm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgIHZhciBvYmogPSAoaXMub2JqKHYpICYmICFpcy5wdGgodikpID8gdiA6IHt2YWx1ZTogdn07XG4gICAgLy8gRGVmYXVsdCBkZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBmaXJzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmRlbGF5KSkgeyBvYmouZGVsYXkgPSAhaSA/IHR3ZWVuU2V0dGluZ3MuZGVsYXkgOiAwOyB9XG4gICAgLy8gRGVmYXVsdCBlbmREZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBsYXN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZW5kRGVsYXkpKSB7IG9iai5lbmREZWxheSA9IGkgPT09IHByb3BBcnJheS5sZW5ndGggLSAxID8gdHdlZW5TZXR0aW5ncy5lbmREZWxheSA6IDA7IH1cbiAgICByZXR1cm4gb2JqO1xuICB9KS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG1lcmdlT2JqZWN0cyhrLCBzZXR0aW5ncyk7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gT2JqZWN0LmtleXMoa2V5KTsgfSkpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gaXMua2V5KHApOyB9KVxuICAucmVkdWNlKGZ1bmN0aW9uIChhLGIpIHsgaWYgKGEuaW5kZXhPZihiKSA8IDApIHsgYS5wdXNoKGIpOyB9IHJldHVybiBhOyB9LCBbXSk7XG4gIHZhciBwcm9wZXJ0aWVzID0ge307XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgcHJvcGVydGllc1twcm9wTmFtZV0gPSBrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBuZXdLZXkgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4ga2V5KSB7XG4gICAgICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgICAgICBpZiAocCA9PSBwcm9wTmFtZSkgeyBuZXdLZXkudmFsdWUgPSBrZXlbcF07IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdLZXlbcF0gPSBrZXlbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcykge1xuICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICB2YXIga2V5ZnJhbWVzID0gcGFyYW1zLmtleWZyYW1lcztcbiAgaWYgKGtleWZyYW1lcykgeyBwYXJhbXMgPSBtZXJnZU9iamVjdHMoZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpLCBwYXJhbXMpOyB9XG4gIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogcCxcbiAgICAgICAgdHdlZW5zOiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwYXJhbXNbcF0sIHR3ZWVuU2V0dGluZ3MpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbi8vIFR3ZWVuc1xuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlblZhbHVlcyh0d2VlbiwgYW5pbWF0YWJsZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHR3ZWVuKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZSh0d2VlbltwXSwgYW5pbWF0YWJsZSk7XG4gICAgaWYgKGlzLmFycih2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBnZXRGdW5jdGlvblZhbHVlKHYsIGFuaW1hdGFibGUpOyB9KTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsgdmFsdWUgPSB2YWx1ZVswXTsgfVxuICAgIH1cbiAgICB0W3BdID0gdmFsdWU7XG4gIH1cbiAgdC5kdXJhdGlvbiA9IHBhcnNlRmxvYXQodC5kdXJhdGlvbik7XG4gIHQuZGVsYXkgPSBwYXJzZUZsb2F0KHQuZGVsYXkpO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpIHtcbiAgdmFyIHByZXZpb3VzVHdlZW47XG4gIHJldHVybiBwcm9wLnR3ZWVucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgdHdlZW4gPSBub3JtYWxpemVUd2VlblZhbHVlcyh0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgdHdlZW5WYWx1ZSA9IHR3ZWVuLnZhbHVlO1xuICAgIHZhciB0byA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMV0gOiB0d2VlblZhbHVlO1xuICAgIHZhciB0b1VuaXQgPSBnZXRVbml0KHRvKTtcbiAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSwgdG9Vbml0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLnRvLm9yaWdpbmFsIDogb3JpZ2luYWxWYWx1ZTtcbiAgICB2YXIgZnJvbSA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMF0gOiBwcmV2aW91c1ZhbHVlO1xuICAgIHZhciBmcm9tVW5pdCA9IGdldFVuaXQoZnJvbSkgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICB2YXIgdW5pdCA9IHRvVW5pdCB8fCBmcm9tVW5pdDtcbiAgICBpZiAoaXMudW5kKHRvKSkgeyB0byA9IHByZXZpb3VzVmFsdWU7IH1cbiAgICB0d2Vlbi5mcm9tID0gZGVjb21wb3NlVmFsdWUoZnJvbSwgdW5pdCk7XG4gICAgdHdlZW4udG8gPSBkZWNvbXBvc2VWYWx1ZShnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSwgdW5pdCk7XG4gICAgdHdlZW4uc3RhcnQgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi5lbmQgOiAwO1xuICAgIHR3ZWVuLmVuZCA9IHR3ZWVuLnN0YXJ0ICsgdHdlZW4uZGVsYXkgKyB0d2Vlbi5kdXJhdGlvbiArIHR3ZWVuLmVuZERlbGF5O1xuICAgIHR3ZWVuLmVhc2luZyA9IHBhcnNlRWFzaW5ncyh0d2Vlbi5lYXNpbmcsIHR3ZWVuLmR1cmF0aW9uKTtcbiAgICB0d2Vlbi5pc1BhdGggPSBpcy5wdGgodHdlZW5WYWx1ZSk7XG4gICAgdHdlZW4uaXNDb2xvciA9IGlzLmNvbCh0d2Vlbi5mcm9tLm9yaWdpbmFsKTtcbiAgICBpZiAodHdlZW4uaXNDb2xvcikgeyB0d2Vlbi5yb3VuZCA9IDE7IH1cbiAgICBwcmV2aW91c1R3ZWVuID0gdHdlZW47XG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9KTtcbn1cblxuLy8gVHdlZW4gcHJvZ3Jlc3NcblxudmFyIHNldFByb2dyZXNzVmFsdWUgPSB7XG4gIGNzczogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc3R5bGVbcF0gPSB2OyB9LFxuICBhdHRyaWJ1dGU6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnNldEF0dHJpYnV0ZShwLCB2KTsgfSxcbiAgb2JqZWN0OiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdFtwXSA9IHY7IH0sXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24gKHQsIHAsIHYsIHRyYW5zZm9ybXMsIG1hbnVhbCkge1xuICAgIHRyYW5zZm9ybXMubGlzdC5zZXQocCwgdik7XG4gICAgaWYgKHAgPT09IHRyYW5zZm9ybXMubGFzdCB8fCBtYW51YWwpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgIHRyYW5zZm9ybXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkgeyBzdHIgKz0gcHJvcCArIFwiKFwiICsgdmFsdWUgKyBcIikgXCI7IH0pO1xuICAgICAgdC5zdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgfVxuICB9XG59O1xuXG4vLyBTZXQgVmFsdWUgaGVscGVyXG5cbmZ1bmN0aW9uIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHRhcmdldHMpO1xuICBhbmltYXRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShwcm9wZXJ0aWVzW3Byb3BlcnR5XSwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdGFyZ2V0ID0gYW5pbWF0YWJsZS50YXJnZXQ7XG4gICAgICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWVVbml0LCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB1bml0ID0gdmFsdWVVbml0IHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgdG8gPSBnZXRSZWxhdGl2ZVZhbHVlKHZhbGlkYXRlVmFsdWUodmFsdWUsIHVuaXQpLCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW1UeXBlXSh0YXJnZXQsIHByb3BlcnR5LCB0bywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLCB0cnVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBbmltYXRpb25zXG5cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKSB7XG4gIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSk7XG4gIGlmIChhbmltVHlwZSkge1xuICAgIHZhciB0d2VlbnMgPSBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIGxhc3RUd2VlbiA9IHR3ZWVuc1t0d2VlbnMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFuaW1UeXBlLFxuICAgICAgcHJvcGVydHk6IHByb3AubmFtZSxcbiAgICAgIGFuaW1hdGFibGU6IGFuaW1hdGFibGUsXG4gICAgICB0d2VlbnM6IHR3ZWVucyxcbiAgICAgIGR1cmF0aW9uOiBsYXN0VHdlZW4uZW5kLFxuICAgICAgZGVsYXk6IHR3ZWVuc1swXS5kZWxheSxcbiAgICAgIGVuZERlbGF5OiBsYXN0VHdlZW4uZW5kRGVsYXlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcykge1xuICByZXR1cm4gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGFuaW1hdGFibGVzLm1hcChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKTtcbiAgICB9KTtcbiAgfSkpLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWlzLnVuZChhKTsgfSk7XG59XG5cbi8vIENyZWF0ZSBJbnN0YW5jZVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgYW5pbUxlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICB2YXIgZ2V0VGxPZmZzZXQgPSBmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gYW5pbS50aW1lbGluZU9mZnNldCA/IGFuaW0udGltZWxpbmVPZmZzZXQgOiAwOyB9O1xuICB2YXIgdGltaW5ncyA9IHt9O1xuICB0aW1pbmdzLmR1cmF0aW9uID0gYW5pbUxlbmd0aCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb247IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb247XG4gIHRpbWluZ3MuZGVsYXkgPSBhbmltTGVuZ3RoID8gTWF0aC5taW4uYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5kZWxheTtcbiAgdGltaW5ncy5lbmREZWxheSA9IGFuaW1MZW5ndGggPyB0aW1pbmdzLmR1cmF0aW9uIC0gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbiAtIGFuaW0uZW5kRGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXk7XG4gIHJldHVybiB0aW1pbmdzO1xufVxuXG52YXIgaW5zdGFuY2VJRCA9IDA7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcykge1xuICB2YXIgaW5zdGFuY2VTZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHR3ZWVuU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyhwYXJhbXMudGFyZ2V0cyk7XG4gIHZhciBhbmltYXRpb25zID0gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcyk7XG4gIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpO1xuICB2YXIgaWQgPSBpbnN0YW5jZUlEO1xuICBpbnN0YW5jZUlEKys7XG4gIHJldHVybiBtZXJnZU9iamVjdHMoaW5zdGFuY2VTZXR0aW5ncywge1xuICAgIGlkOiBpZCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgYW5pbWF0YWJsZXM6IGFuaW1hdGFibGVzLFxuICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgZHVyYXRpb246IHRpbWluZ3MuZHVyYXRpb24sXG4gICAgZGVsYXk6IHRpbWluZ3MuZGVsYXksXG4gICAgZW5kRGVsYXk6IHRpbWluZ3MuZW5kRGVsYXlcbiAgfSk7XG59XG5cbi8vIENvcmVcblxudmFyIGFjdGl2ZUluc3RhbmNlcyA9IFtdO1xudmFyIHBhdXNlZEluc3RhbmNlcyA9IFtdO1xudmFyIHJhZjtcblxudmFyIGVuZ2luZSA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHBsYXkoKSB7IFxuICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgfVxuICBmdW5jdGlvbiBzdGVwKHQpIHtcbiAgICB2YXIgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDtcbiAgICBpZiAoYWN0aXZlSW5zdGFuY2VzTGVuZ3RoKSB7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGFjdGl2ZUluc3RhbmNlc0xlbmd0aCkge1xuICAgICAgICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgICAgIGlmICghYWN0aXZlSW5zdGFuY2UucGF1c2VkKSB7XG4gICAgICAgICAgYWN0aXZlSW5zdGFuY2UudGljayh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaW5zdGFuY2VJbmRleCA9IGFjdGl2ZUluc3RhbmNlcy5pbmRleE9mKGFjdGl2ZUluc3RhbmNlKTtcbiAgICAgICAgICBpZiAoaW5zdGFuY2VJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKGluc3RhbmNlSW5kZXgsIDEpO1xuICAgICAgICAgICAgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgcGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByYWYgPSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGxheTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICBhY3RpdmVJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zKSB7IHJldHVybiBpbnMucGF1c2UoKTsgfSk7XG4gICAgcGF1c2VkSW5zdGFuY2VzID0gYWN0aXZlSW5zdGFuY2VzLnNsaWNlKDApO1xuICAgIGFuaW1lLnJ1bm5pbmcgPSBhY3RpdmVJbnN0YW5jZXMgPSBbXTtcbiAgfSBlbHNlIHtcbiAgICBwYXVzZWRJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zKSB7IHJldHVybiBpbnMucGxheSgpOyB9KTtcbiAgfVxufVxuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG59XG5cbi8vIFB1YmxpYyBJbnN0YW5jZVxuXG5mdW5jdGlvbiBhbmltZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG5cbiAgdmFyIHN0YXJ0VGltZSA9IDAsIGxhc3RUaW1lID0gMCwgbm93ID0gMDtcbiAgdmFyIGNoaWxkcmVuLCBjaGlsZHJlbkxlbmd0aCA9IDA7XG4gIHZhciByZXNvbHZlID0gbnVsbDtcblxuICBmdW5jdGlvbiBtYWtlUHJvbWlzZShpbnN0YW5jZSkge1xuICAgIHZhciBwcm9taXNlID0gd2luZG93LlByb21pc2UgJiYgbmV3IFByb21pc2UoZnVuY3Rpb24gKF9yZXNvbHZlKSB7IHJldHVybiByZXNvbHZlID0gX3Jlc29sdmU7IH0pO1xuICAgIGluc3RhbmNlLmZpbmlzaGVkID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcyk7XG4gIHZhciBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgIGluc3RhbmNlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbiAhPT0gJ25vcm1hbCcgPyAnbm9ybWFsJyA6ICdyZXZlcnNlJztcbiAgICB9XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSAhaW5zdGFuY2UucmV2ZXJzZWQ7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLnJldmVyc2VkID0gaW5zdGFuY2UucmV2ZXJzZWQ7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0VGltZSh0aW1lKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gLSB0aW1lIDogdGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZSgpIHtcbiAgICBzdGFydFRpbWUgPSAwO1xuICAgIGxhc3RUaW1lID0gYWRqdXN0VGltZShpbnN0YW5jZS5jdXJyZW50VGltZSkgKiAoMSAvIGFuaW1lLnNwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlZWtDaGlsZCh0aW1lLCBjaGlsZCkge1xuICAgIGlmIChjaGlsZCkgeyBjaGlsZC5zZWVrKHRpbWUgLSBjaGlsZC50aW1lbGluZU9mZnNldCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNJbnN0YW5jZUNoaWxkcmVuKHRpbWUpIHtcbiAgICBpZiAoIWluc3RhbmNlLnJldmVyc2VQbGF5YmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpXSk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSQxID0gY2hpbGRyZW5MZW5ndGg7IGkkMS0tOykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baSQxXSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gICAgdmFyIGFuaW1hdGlvbnNMZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnNMZW5ndGgpIHtcbiAgICAgIHZhciBhbmltID0gYW5pbWF0aW9uc1tpXTtcbiAgICAgIHZhciBhbmltYXRhYmxlID0gYW5pbS5hbmltYXRhYmxlO1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW0udHdlZW5zO1xuICAgICAgdmFyIHR3ZWVuTGVuZ3RoID0gdHdlZW5zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbdHdlZW5MZW5ndGhdO1xuICAgICAgLy8gT25seSBjaGVjayBmb3Iga2V5ZnJhbWVzIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgdHdlZW5cbiAgICAgIGlmICh0d2Vlbkxlbmd0aCkgeyB0d2VlbiA9IGZpbHRlckFycmF5KHR3ZWVucywgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIChpbnNUaW1lIDwgdC5lbmQpOyB9KVswXSB8fCB0d2VlbjsgfVxuICAgICAgdmFyIGVsYXBzZWQgPSBtaW5NYXgoaW5zVGltZSAtIHR3ZWVuLnN0YXJ0IC0gdHdlZW4uZGVsYXksIDAsIHR3ZWVuLmR1cmF0aW9uKSAvIHR3ZWVuLmR1cmF0aW9uO1xuICAgICAgdmFyIGVhc2VkID0gaXNOYU4oZWxhcHNlZCkgPyAxIDogdHdlZW4uZWFzaW5nKGVsYXBzZWQpO1xuICAgICAgdmFyIHN0cmluZ3MgPSB0d2Vlbi50by5zdHJpbmdzO1xuICAgICAgdmFyIHJvdW5kID0gdHdlZW4ucm91bmQ7XG4gICAgICB2YXIgbnVtYmVycyA9IFtdO1xuICAgICAgdmFyIHRvTnVtYmVyc0xlbmd0aCA9IHR3ZWVuLnRvLm51bWJlcnMubGVuZ3RoO1xuICAgICAgdmFyIHByb2dyZXNzID0gKHZvaWQgMCk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRvTnVtYmVyc0xlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICh2b2lkIDApO1xuICAgICAgICB2YXIgdG9OdW1iZXIgPSB0d2Vlbi50by5udW1iZXJzW25dO1xuICAgICAgICB2YXIgZnJvbU51bWJlciA9IHR3ZWVuLmZyb20ubnVtYmVyc1tuXSB8fCAwO1xuICAgICAgICBpZiAoIXR3ZWVuLmlzUGF0aCkge1xuICAgICAgICAgIHZhbHVlID0gZnJvbU51bWJlciArIChlYXNlZCAqICh0b051bWJlciAtIGZyb21OdW1iZXIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldFBhdGhQcm9ncmVzcyh0d2Vlbi52YWx1ZSwgZWFzZWQgKiB0b051bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgaWYgKCEodHdlZW4uaXNDb2xvciAmJiBuID4gMikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIHJvdW5kKSAvIHJvdW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBudW1iZXJzLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWFudWFsIEFycmF5LnJlZHVjZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlc1xuICAgICAgdmFyIHN0cmluZ3NMZW5ndGggPSBzdHJpbmdzLmxlbmd0aDtcbiAgICAgIGlmICghc3RyaW5nc0xlbmd0aCkge1xuICAgICAgICBwcm9ncmVzcyA9IG51bWJlcnNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9ncmVzcyA9IHN0cmluZ3NbMF07XG4gICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc3RyaW5nc0xlbmd0aDsgcysrKSB7XG4gICAgICAgICAgdmFyIGEgPSBzdHJpbmdzW3NdO1xuICAgICAgICAgIHZhciBiID0gc3RyaW5nc1tzICsgMV07XG4gICAgICAgICAgdmFyIG4kMSA9IG51bWJlcnNbc107XG4gICAgICAgICAgaWYgKCFpc05hTihuJDEpKSB7XG4gICAgICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgJyAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbS50eXBlXShhbmltYXRhYmxlLnRhcmdldCwgYW5pbS5wcm9wZXJ0eSwgcHJvZ3Jlc3MsIGFuaW1hdGFibGUudHJhbnNmb3Jtcyk7XG4gICAgICBhbmltLmN1cnJlbnRWYWx1ZSA9IHByb2dyZXNzO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENhbGxiYWNrKGNiKSB7XG4gICAgaWYgKGluc3RhbmNlW2NiXSAmJiAhaW5zdGFuY2UucGFzc1Rocm91Z2gpIHsgaW5zdGFuY2VbY2JdKGluc3RhbmNlKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gY291bnRJdGVyYXRpb24oKSB7XG4gICAgaWYgKGluc3RhbmNlLnJlbWFpbmluZyAmJiBpbnN0YW5jZS5yZW1haW5pbmcgIT09IHRydWUpIHtcbiAgICAgIGluc3RhbmNlLnJlbWFpbmluZy0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluc3RhbmNlUHJvZ3Jlc3MoZW5naW5lVGltZSkge1xuICAgIHZhciBpbnNEdXJhdGlvbiA9IGluc3RhbmNlLmR1cmF0aW9uO1xuICAgIHZhciBpbnNEZWxheSA9IGluc3RhbmNlLmRlbGF5O1xuICAgIHZhciBpbnNFbmREZWxheSA9IGluc0R1cmF0aW9uIC0gaW5zdGFuY2UuZW5kRGVsYXk7XG4gICAgdmFyIGluc1RpbWUgPSBhZGp1c3RUaW1lKGVuZ2luZVRpbWUpO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gbWluTWF4KChpbnNUaW1lIC8gaW5zRHVyYXRpb24pICogMTAwLCAwLCAxMDApO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGluc1RpbWUgPCBpbnN0YW5jZS5jdXJyZW50VGltZTtcbiAgICBpZiAoY2hpbGRyZW4pIHsgc3luY0luc3RhbmNlQ2hpbGRyZW4oaW5zVGltZSk7IH1cbiAgICBpZiAoIWluc3RhbmNlLmJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UuYmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2JlZ2luJyk7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UubG9vcEJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdsb29wQmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPD0gaW5zRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IDApIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcygwKTtcbiAgICB9XG4gICAgaWYgKChpbnNUaW1lID49IGluc0VuZERlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSBpbnNEdXJhdGlvbikgfHwgIWluc0R1cmF0aW9uKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zRHVyYXRpb24pO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA+IGluc0RlbGF5ICYmIGluc1RpbWUgPCBpbnNFbmREZWxheSkge1xuICAgICAgaWYgKCFpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQmVnaW4nKTtcbiAgICAgIH1cbiAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2UnKTtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VDb21wbGV0ZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IG1pbk1heChpbnNUaW1lLCAwLCBpbnNEdXJhdGlvbik7XG4gICAgaWYgKGluc3RhbmNlLmJlZ2FuKSB7IHNldENhbGxiYWNrKCd1cGRhdGUnKTsgfVxuICAgIGlmIChlbmdpbmVUaW1lID49IGluc0R1cmF0aW9uKSB7XG4gICAgICBsYXN0VGltZSA9IDA7XG4gICAgICBjb3VudEl0ZXJhdGlvbigpO1xuICAgICAgaWYgKCFpbnN0YW5jZS5yZW1haW5pbmcpIHtcbiAgICAgICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5jb21wbGV0ZWQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnY29tcGxldGUnKTtcbiAgICAgICAgICBpZiAoIWluc3RhbmNlLnBhc3NUaHJvdWdoICYmICdQcm9taXNlJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydFRpbWUgPSBub3c7XG4gICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZS5kaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICAgICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluc3RhbmNlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpbnN0YW5jZS5wYXNzVGhyb3VnaCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gMDtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IDA7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS5iZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSBkaXJlY3Rpb24gPT09ICdyZXZlcnNlJztcbiAgICBpbnN0YW5jZS5yZW1haW5pbmcgPSBpbnN0YW5jZS5sb29wO1xuICAgIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gICAgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuTGVuZ3RoOyBpLS07KSB7IGluc3RhbmNlLmNoaWxkcmVuW2ldLnJlc2V0KCk7IH1cbiAgICBpZiAoaW5zdGFuY2UucmV2ZXJzZWQgJiYgaW5zdGFuY2UubG9vcCAhPT0gdHJ1ZSB8fCAoZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJyAmJiBpbnN0YW5jZS5sb29wID09PSAxKSkgeyBpbnN0YW5jZS5yZW1haW5pbmcrKzsgfVxuICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIDogMCk7XG4gIH07XG5cbiAgLy8gU2V0IFZhbHVlIGhlbHBlclxuXG4gIGluc3RhbmNlLnNldCA9IGZ1bmN0aW9uKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgICBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcyk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIGluc3RhbmNlLnRpY2sgPSBmdW5jdGlvbih0KSB7XG4gICAgbm93ID0gdDtcbiAgICBpZiAoIXN0YXJ0VGltZSkgeyBzdGFydFRpbWUgPSBub3c7IH1cbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKChub3cgKyAobGFzdFRpbWUgLSBzdGFydFRpbWUpKSAqIGFuaW1lLnNwZWVkKTtcbiAgfTtcblxuICBpbnN0YW5jZS5zZWVrID0gZnVuY3Rpb24odGltZSkge1xuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoYWRqdXN0VGltZSh0aW1lKSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWluc3RhbmNlLnBhdXNlZCkgeyByZXR1cm47IH1cbiAgICBpZiAoaW5zdGFuY2UuY29tcGxldGVkKSB7IGluc3RhbmNlLnJlc2V0KCk7IH1cbiAgICBpbnN0YW5jZS5wYXVzZWQgPSBmYWxzZTtcbiAgICBhY3RpdmVJbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgcmVzZXRUaW1lKCk7XG4gICAgaWYgKCFyYWYpIHsgZW5naW5lKCk7IH1cbiAgfTtcblxuICBpbnN0YW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBpbnN0YW5jZS5yZXZlcnNlZCA/IGZhbHNlIDogdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucmVzZXQoKTtcbiAgICBpbnN0YW5jZS5wbGF5KCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzZXQoKTtcblxuICBpZiAoaW5zdGFuY2UuYXV0b3BsYXkpIHsgaW5zdGFuY2UucGxheSgpOyB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xuXG59XG5cbi8vIFJlbW92ZSB0YXJnZXRzIGZyb20gYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpIHtcbiAgZm9yICh2YXIgYSA9IGFuaW1hdGlvbnMubGVuZ3RoOyBhLS07KSB7XG4gICAgaWYgKGFycmF5Q29udGFpbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zW2FdLmFuaW1hdGFibGUudGFyZ2V0KSkge1xuICAgICAgYW5pbWF0aW9ucy5zcGxpY2UoYSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBmb3IgKHZhciBpID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDsgaS0tOykge1xuICAgIHZhciBpbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gICAgdmFyIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucyk7XG4gICAgZm9yICh2YXIgYyA9IGNoaWxkcmVuLmxlbmd0aDsgYy0tOykge1xuICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bY107XG4gICAgICB2YXIgY2hpbGRBbmltYXRpb25zID0gY2hpbGQuYW5pbWF0aW9ucztcbiAgICAgIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGNoaWxkQW5pbWF0aW9ucyk7XG4gICAgICBpZiAoIWNoaWxkQW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgeyBjaGlsZHJlbi5zcGxpY2UoYywgMSk7IH1cbiAgICB9XG4gICAgaWYgKCFhbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGRyZW4ubGVuZ3RoKSB7IGluc3RhbmNlLnBhdXNlKCk7IH1cbiAgfVxufVxuXG4vLyBTdGFnZ2VyIGhlbHBlcnNcblxuZnVuY3Rpb24gc3RhZ2dlcih2YWwsIHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIGRpcmVjdGlvbiA9IHBhcmFtcy5kaXJlY3Rpb24gfHwgJ25vcm1hbCc7XG4gIHZhciBlYXNpbmcgPSBwYXJhbXMuZWFzaW5nID8gcGFyc2VFYXNpbmdzKHBhcmFtcy5lYXNpbmcpIDogbnVsbDtcbiAgdmFyIGdyaWQgPSBwYXJhbXMuZ3JpZDtcbiAgdmFyIGF4aXMgPSBwYXJhbXMuYXhpcztcbiAgdmFyIGZyb21JbmRleCA9IHBhcmFtcy5mcm9tIHx8IDA7XG4gIHZhciBmcm9tRmlyc3QgPSBmcm9tSW5kZXggPT09ICdmaXJzdCc7XG4gIHZhciBmcm9tQ2VudGVyID0gZnJvbUluZGV4ID09PSAnY2VudGVyJztcbiAgdmFyIGZyb21MYXN0ID0gZnJvbUluZGV4ID09PSAnbGFzdCc7XG4gIHZhciBpc1JhbmdlID0gaXMuYXJyKHZhbCk7XG4gIHZhciB2YWwxID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzBdKSA6IHBhcnNlRmxvYXQodmFsKTtcbiAgdmFyIHZhbDIgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMV0pIDogMDtcbiAgdmFyIHVuaXQgPSBnZXRVbml0KGlzUmFuZ2UgPyB2YWxbMV0gOiB2YWwpIHx8IDA7XG4gIHZhciBzdGFydCA9IHBhcmFtcy5zdGFydCB8fCAwICsgKGlzUmFuZ2UgPyB2YWwxIDogMCk7XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgdmFyIG1heFZhbHVlID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgaSwgdCkge1xuICAgIGlmIChmcm9tRmlyc3QpIHsgZnJvbUluZGV4ID0gMDsgfVxuICAgIGlmIChmcm9tQ2VudGVyKSB7IGZyb21JbmRleCA9ICh0IC0gMSkgLyAyOyB9XG4gICAgaWYgKGZyb21MYXN0KSB7IGZyb21JbmRleCA9IHQgLSAxOyB9XG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoIWdyaWQpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChNYXRoLmFicyhmcm9tSW5kZXggLSBpbmRleCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBmcm9tWCA9ICFmcm9tQ2VudGVyID8gZnJvbUluZGV4JWdyaWRbMF0gOiAoZ3JpZFswXS0xKS8yO1xuICAgICAgICAgIHZhciBmcm9tWSA9ICFmcm9tQ2VudGVyID8gTWF0aC5mbG9vcihmcm9tSW5kZXgvZ3JpZFswXSkgOiAoZ3JpZFsxXS0xKS8yO1xuICAgICAgICAgIHZhciB0b1ggPSBpbmRleCVncmlkWzBdO1xuICAgICAgICAgIHZhciB0b1kgPSBNYXRoLmZsb29yKGluZGV4L2dyaWRbMF0pO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVggPSBmcm9tWCAtIHRvWDtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VZID0gZnJvbVkgLSB0b1k7XG4gICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5zcXJ0KGRpc3RhbmNlWCAqIGRpc3RhbmNlWCArIGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd4JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVg7IH1cbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3knKSB7IHZhbHVlID0gLWRpc3RhbmNlWTsgfVxuICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhWYWx1ZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoZWFzaW5nKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gZWFzaW5nKHZhbCAvIG1heFZhbHVlKSAqIG1heFZhbHVlOyB9KTsgfVxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gYXhpcyA/ICh2YWwgPCAwKSA/IHZhbCAqIC0xIDogLXZhbCA6IE1hdGguYWJzKG1heFZhbHVlIC0gdmFsKTsgfSk7IH1cbiAgICB9XG4gICAgdmFyIHNwYWNpbmcgPSBpc1JhbmdlID8gKHZhbDIgLSB2YWwxKSAvIG1heFZhbHVlIDogdmFsMTtcbiAgICByZXR1cm4gc3RhcnQgKyAoc3BhY2luZyAqIChNYXRoLnJvdW5kKHZhbHVlc1tpXSAqIDEwMCkgLyAxMDApKSArIHVuaXQ7XG4gIH1cbn1cblxuLy8gVGltZWxpbmVcblxuZnVuY3Rpb24gdGltZWxpbmUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgdGwgPSBhbmltZShwYXJhbXMpO1xuICB0bC5kdXJhdGlvbiA9IDA7XG4gIHRsLmFkZCA9IGZ1bmN0aW9uKGluc3RhbmNlUGFyYW1zLCB0aW1lbGluZU9mZnNldCkge1xuICAgIHZhciB0bEluZGV4ID0gYWN0aXZlSW5zdGFuY2VzLmluZGV4T2YodGwpO1xuICAgIHZhciBjaGlsZHJlbiA9IHRsLmNoaWxkcmVuO1xuICAgIGlmICh0bEluZGV4ID4gLTEpIHsgYWN0aXZlSW5zdGFuY2VzLnNwbGljZSh0bEluZGV4LCAxKTsgfVxuICAgIGZ1bmN0aW9uIHBhc3NUaHJvdWdoKGlucykgeyBpbnMucGFzc1Rocm91Z2ggPSB0cnVlOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgeyBwYXNzVGhyb3VnaChjaGlsZHJlbltpXSk7IH1cbiAgICB2YXIgaW5zUGFyYW1zID0gbWVyZ2VPYmplY3RzKGluc3RhbmNlUGFyYW1zLCByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcykpO1xuICAgIGluc1BhcmFtcy50YXJnZXRzID0gaW5zUGFyYW1zLnRhcmdldHMgfHwgcGFyYW1zLnRhcmdldHM7XG4gICAgdmFyIHRsRHVyYXRpb24gPSB0bC5kdXJhdGlvbjtcbiAgICBpbnNQYXJhbXMuYXV0b3BsYXkgPSBmYWxzZTtcbiAgICBpbnNQYXJhbXMuZGlyZWN0aW9uID0gdGwuZGlyZWN0aW9uO1xuICAgIGluc1BhcmFtcy50aW1lbGluZU9mZnNldCA9IGlzLnVuZCh0aW1lbGluZU9mZnNldCkgPyB0bER1cmF0aW9uIDogZ2V0UmVsYXRpdmVWYWx1ZSh0aW1lbGluZU9mZnNldCwgdGxEdXJhdGlvbik7XG4gICAgcGFzc1Rocm91Z2godGwpO1xuICAgIHRsLnNlZWsoaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0KTtcbiAgICB2YXIgaW5zID0gYW5pbWUoaW5zUGFyYW1zKTtcbiAgICBwYXNzVGhyb3VnaChpbnMpO1xuICAgIGNoaWxkcmVuLnB1c2goaW5zKTtcbiAgICB2YXIgdGltaW5ncyA9IGdldEluc3RhbmNlVGltaW5ncyhjaGlsZHJlbiwgcGFyYW1zKTtcbiAgICB0bC5kZWxheSA9IHRpbWluZ3MuZGVsYXk7XG4gICAgdGwuZW5kRGVsYXkgPSB0aW1pbmdzLmVuZERlbGF5O1xuICAgIHRsLmR1cmF0aW9uID0gdGltaW5ncy5kdXJhdGlvbjtcbiAgICB0bC5zZWVrKDApO1xuICAgIHRsLnJlc2V0KCk7XG4gICAgaWYgKHRsLmF1dG9wbGF5KSB7IHRsLnBsYXkoKTsgfVxuICAgIHJldHVybiB0bDtcbiAgfTtcbiAgcmV0dXJuIHRsO1xufVxuXG5hbmltZS52ZXJzaW9uID0gJzMuMi4wJztcbmFuaW1lLnNwZWVkID0gMTtcbmFuaW1lLnJ1bm5pbmcgPSBhY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5yZW1vdmUgPSByZW1vdmVUYXJnZXRzO1xuYW5pbWUuZ2V0ID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZTtcbmFuaW1lLnNldCA9IHNldFRhcmdldHNWYWx1ZTtcbmFuaW1lLmNvbnZlcnRQeCA9IGNvbnZlcnRQeFRvVW5pdDtcbmFuaW1lLnBhdGggPSBnZXRQYXRoO1xuYW5pbWUuc2V0RGFzaG9mZnNldCA9IHNldERhc2hvZmZzZXQ7XG5hbmltZS5zdGFnZ2VyID0gc3RhZ2dlcjtcbmFuaW1lLnRpbWVsaW5lID0gdGltZWxpbmU7XG5hbmltZS5lYXNpbmcgPSBwYXJzZUVhc2luZ3M7XG5hbmltZS5wZW5uZXIgPSBwZW5uZXI7XG5hbmltZS5yYW5kb20gPSBmdW5jdGlvbiAobWluLCBtYXgpIHsgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1lO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32\n")},,function(module,exports,__webpack_require__){eval("var global = __webpack_require__(17);\nvar hide = __webpack_require__(27);\nvar has = __webpack_require__(35);\nvar SRC = __webpack_require__(62)('src');\nvar $toString = __webpack_require__(131);\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\n__webpack_require__(63).inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19yZWRlZmluZS5qcz8yYWJhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFNSQyA9IHJlcXVpcmUoJy4vX3VpZCcpKCdzcmMnKTtcbnZhciAkdG9TdHJpbmcgPSByZXF1aXJlKCcuL19mdW5jdGlvbi10by1zdHJpbmcnKTtcbnZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xudmFyIFRQTCA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi9fY29yZScpLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuICR0b1N0cmluZy5jYWxsKGl0KTtcbn07XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbCwgc2FmZSkge1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJztcbiAgaWYgKGlzRnVuY3Rpb24pIGhhcyh2YWwsICduYW1lJykgfHwgaGlkZSh2YWwsICduYW1lJywga2V5KTtcbiAgaWYgKE9ba2V5XSA9PT0gdmFsKSByZXR1cm47XG4gIGlmIChpc0Z1bmN0aW9uKSBoYXModmFsLCBTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIGlmICghc2FmZSkge1xuICAgIGRlbGV0ZSBPW2tleV07XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH0gZWxzZSBpZiAoT1trZXldKSB7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICB9XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgJiYgdGhpc1tTUkNdIHx8ICR0b1N0cmluZy5jYWxsKHRoaXMpO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34\n")},function(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oYXMuanM/NjlhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(17);\nvar core = __webpack_require__(63);\nvar hide = __webpack_require__(27);\nvar redefine = __webpack_require__(34);\nvar ctx = __webpack_require__(115);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19leHBvcnQuanM/NWNhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXTtcbiAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSk7XG4gIHZhciBrZXksIG93biwgb3V0LCBleHA7XG4gIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSAob3duID8gdGFyZ2V0IDogc291cmNlKVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgZXhwID0gSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIGlmICh0YXJnZXQpIHJlZGVmaW5lKHRhcmdldCwga2V5LCBvdXQsIHR5cGUgJiAkZXhwb3J0LlUpO1xuICAgIC8vIGV4cG9ydFxuICAgIGlmIChleHBvcnRzW2tleV0gIT0gb3V0KSBoaWRlKGV4cG9ydHMsIGtleSwgZXhwKTtcbiAgICBpZiAoSVNfUFJPVE8gJiYgZXhwUHJvdG9ba2V5XSAhPSBvdXQpIGV4cFByb3RvW2tleV0gPSBvdXQ7XG4gIH1cbn07XG5nbG9iYWwuY29yZSA9IGNvcmU7XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36\n")},,,,,,,,,,,,,,,,,,,,function(module,exports){eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pcy1vYmplY3QuanM/ZDNmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56\n")},function(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kZWZpbmVkLmpzP2JlMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///57\n')},function(module,exports,__webpack_require__){eval("// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(134);\nvar defined = __webpack_require__(57);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1pb2JqZWN0LmpzPzY4MjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///58\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// https://github.com/tc39/Array.prototype.includes\nvar $export = __webpack_require__(36);\nvar $includes = __webpack_require__(119)(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n__webpack_require__(120)('includes');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5hcnJheS5pbmNsdWRlcy5qcz82NzYyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L0FycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciAkaW5jbHVkZXMgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKHRydWUpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCwgJ0FycmF5Jywge1xuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoZWwgLyogLCBmcm9tSW5kZXggPSAwICovKSB7XG4gICAgcmV0dXJuICRpbmNsdWRlcyh0aGlzLCBlbCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxucmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJykoJ2luY2x1ZGVzJyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///59\n")},function(module,exports,__webpack_require__){"use strict";eval("// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n\nvar $export = __webpack_require__(36);\nvar context = __webpack_require__(158);\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * __webpack_require__(159)(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaW5jbHVkZXMuanM/MmZkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAyMS4xLjMuNyBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzKHNlYXJjaFN0cmluZywgcG9zaXRpb24gPSAwKVxuJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb250ZXh0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWNvbnRleHQnKTtcbnZhciBJTkNMVURFUyA9ICdpbmNsdWRlcyc7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogcmVxdWlyZSgnLi9fZmFpbHMtaXMtcmVnZXhwJykoSU5DTFVERVMpLCAnU3RyaW5nJywge1xuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoU3RyaW5nIC8qICwgcG9zaXRpb24gPSAwICovKSB7XG4gICAgcmV0dXJuICEhfmNvbnRleHQodGhpcywgc2VhcmNoU3RyaW5nLCBJTkNMVURFUylcbiAgICAgIC5pbmRleE9mKHNlYXJjaFN0cmluZywgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///60\n")},function(module,exports){eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzPzQ2MzAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///61\n")},function(module,exports){eval("var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL191aWQuanM/Y2E1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///62\n")},function(module,exports){eval("var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jb3JlLmpzPzgzNzgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHsgdmVyc2lvbjogJzIuNi4xMScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///63\n")},function(module,exports){eval("module.exports = {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pdGVyYXRvcnMuanM/ODRmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///64\n")},function(module,exports,__webpack_require__){eval("// 7.1.15 ToLength\nvar toInteger = __webpack_require__(77);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1sZW5ndGguanM/OWRlZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///65\n")},function(module,exports,__webpack_require__){eval("(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif( true && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes, lazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\tcfg: lazySizesCfg,\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || (getCSS(elem.parentNode, 'visibility') != 'hidden' && getCSS(elem, 'visibility') != 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, 'ls-is-cached');\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGF6eXNpemVzL2xhenlzaXplcy5qcz9iM2U5Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbih3aW5kb3csIGZhY3RvcnkpIHtcblx0dmFyIGxhenlTaXplcyA9IGZhY3Rvcnkod2luZG93LCB3aW5kb3cuZG9jdW1lbnQpO1xuXHR3aW5kb3cubGF6eVNpemVzID0gbGF6eVNpemVzO1xuXHRpZih0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGxhenlTaXplcztcblx0fVxufSh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID9cbiAgICAgIHdpbmRvdyA6IHt9LCBmdW5jdGlvbiBsKHdpbmRvdywgZG9jdW1lbnQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHQvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuXG5cdHZhciBsYXp5c2l6ZXMsIGxhenlTaXplc0NmZztcblxuXHQoZnVuY3Rpb24oKXtcblx0XHR2YXIgcHJvcDtcblxuXHRcdHZhciBsYXp5U2l6ZXNEZWZhdWx0cyA9IHtcblx0XHRcdGxhenlDbGFzczogJ2xhenlsb2FkJyxcblx0XHRcdGxvYWRlZENsYXNzOiAnbGF6eWxvYWRlZCcsXG5cdFx0XHRsb2FkaW5nQ2xhc3M6ICdsYXp5bG9hZGluZycsXG5cdFx0XHRwcmVsb2FkQ2xhc3M6ICdsYXp5cHJlbG9hZCcsXG5cdFx0XHRlcnJvckNsYXNzOiAnbGF6eWVycm9yJyxcblx0XHRcdC8vc3RyaWN0Q2xhc3M6ICdsYXp5c3RyaWN0Jyxcblx0XHRcdGF1dG9zaXplc0NsYXNzOiAnbGF6eWF1dG9zaXplcycsXG5cdFx0XHRzcmNBdHRyOiAnZGF0YS1zcmMnLFxuXHRcdFx0c3Jjc2V0QXR0cjogJ2RhdGEtc3Jjc2V0Jyxcblx0XHRcdHNpemVzQXR0cjogJ2RhdGEtc2l6ZXMnLFxuXHRcdFx0Ly9wcmVsb2FkQWZ0ZXJMb2FkOiBmYWxzZSxcblx0XHRcdG1pblNpemU6IDQwLFxuXHRcdFx0Y3VzdG9tTWVkaWE6IHt9LFxuXHRcdFx0aW5pdDogdHJ1ZSxcblx0XHRcdGV4cEZhY3RvcjogMS41LFxuXHRcdFx0aEZhYzogMC44LFxuXHRcdFx0bG9hZE1vZGU6IDIsXG5cdFx0XHRsb2FkSGlkZGVuOiB0cnVlLFxuXHRcdFx0cmljVGltZW91dDogMCxcblx0XHRcdHRocm90dGxlRGVsYXk6IDEyNSxcblx0XHR9O1xuXG5cdFx0bGF6eVNpemVzQ2ZnID0gd2luZG93LmxhenlTaXplc0NvbmZpZyB8fCB3aW5kb3cubGF6eXNpemVzQ29uZmlnIHx8IHt9O1xuXG5cdFx0Zm9yKHByb3AgaW4gbGF6eVNpemVzRGVmYXVsdHMpe1xuXHRcdFx0aWYoIShwcm9wIGluIGxhenlTaXplc0NmZykpe1xuXHRcdFx0XHRsYXp5U2l6ZXNDZmdbcHJvcF0gPSBsYXp5U2l6ZXNEZWZhdWx0c1twcm9wXTtcblx0XHRcdH1cblx0XHR9XG5cdH0pKCk7XG5cblx0aWYgKCFkb2N1bWVudCB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpbml0OiBmdW5jdGlvbiAoKSB7fSxcblx0XHRcdGNmZzogbGF6eVNpemVzQ2ZnLFxuXHRcdFx0bm9TdXBwb3J0OiB0cnVlLFxuXHRcdH07XG5cdH1cblxuXHR2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXHR2YXIgRGF0ZSA9IHdpbmRvdy5EYXRlO1xuXG5cdHZhciBzdXBwb3J0UGljdHVyZSA9IHdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQ7XG5cblx0dmFyIF9hZGRFdmVudExpc3RlbmVyID0gJ2FkZEV2ZW50TGlzdGVuZXInO1xuXG5cdHZhciBfZ2V0QXR0cmlidXRlID0gJ2dldEF0dHJpYnV0ZSc7XG5cblx0dmFyIGFkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3dbX2FkZEV2ZW50TGlzdGVuZXJdO1xuXG5cdHZhciBzZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQ7XG5cblx0dmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgc2V0VGltZW91dDtcblxuXHR2YXIgcmVxdWVzdElkbGVDYWxsYmFjayA9IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrO1xuXG5cdHZhciByZWdQaWN0dXJlID0gL15waWN0dXJlJC9pO1xuXG5cdHZhciBsb2FkRXZlbnRzID0gWydsb2FkJywgJ2Vycm9yJywgJ2xhenlpbmNsdWRlZCcsICdfbGF6eWxvYWRlZCddO1xuXG5cdHZhciByZWdDbGFzc0NhY2hlID0ge307XG5cblx0dmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaDtcblxuXHR2YXIgaGFzQ2xhc3MgPSBmdW5jdGlvbihlbGUsIGNscykge1xuXHRcdGlmKCFyZWdDbGFzc0NhY2hlW2Nsc10pe1xuXHRcdFx0cmVnQ2xhc3NDYWNoZVtjbHNdID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytjbHMrJyhcXFxcc3wkKScpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVnQ2xhc3NDYWNoZVtjbHNdLnRlc3QoZWxlW19nZXRBdHRyaWJ1dGVdKCdjbGFzcycpIHx8ICcnKSAmJiByZWdDbGFzc0NhY2hlW2Nsc107XG5cdH07XG5cblx0dmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWxlLCBjbHMpIHtcblx0XHRpZiAoIWhhc0NsYXNzKGVsZSwgY2xzKSl7XG5cdFx0XHRlbGUuc2V0QXR0cmlidXRlKCdjbGFzcycsIChlbGVbX2dldEF0dHJpYnV0ZV0oJ2NsYXNzJykgfHwgJycpLnRyaW0oKSArICcgJyArIGNscyk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsZSwgY2xzKSB7XG5cdFx0dmFyIHJlZztcblx0XHRpZiAoKHJlZyA9IGhhc0NsYXNzKGVsZSxjbHMpKSkge1xuXHRcdFx0ZWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoZWxlW19nZXRBdHRyaWJ1dGVdKCdjbGFzcycpIHx8ICcnKS5yZXBsYWNlKHJlZywgJyAnKSk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBhZGRSZW1vdmVMb2FkRXZlbnRzID0gZnVuY3Rpb24oZG9tLCBmbiwgYWRkKXtcblx0XHR2YXIgYWN0aW9uID0gYWRkID8gX2FkZEV2ZW50TGlzdGVuZXIgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cdFx0aWYoYWRkKXtcblx0XHRcdGFkZFJlbW92ZUxvYWRFdmVudHMoZG9tLCBmbik7XG5cdFx0fVxuXHRcdGxvYWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbihldnQpe1xuXHRcdFx0ZG9tW2FjdGlvbl0oZXZ0LCBmbik7XG5cdFx0fSk7XG5cdH07XG5cblx0dmFyIHRyaWdnZXJFdmVudCA9IGZ1bmN0aW9uKGVsZW0sIG5hbWUsIGRldGFpbCwgbm9CdWJibGVzLCBub0NhbmNlbGFibGUpe1xuXHRcdHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXG5cdFx0aWYoIWRldGFpbCl7XG5cdFx0XHRkZXRhaWwgPSB7fTtcblx0XHR9XG5cblx0XHRkZXRhaWwuaW5zdGFuY2UgPSBsYXp5c2l6ZXM7XG5cblx0XHRldmVudC5pbml0RXZlbnQobmFtZSwgIW5vQnViYmxlcywgIW5vQ2FuY2VsYWJsZSk7XG5cblx0XHRldmVudC5kZXRhaWwgPSBkZXRhaWw7XG5cblx0XHRlbGVtLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdHJldHVybiBldmVudDtcblx0fTtcblxuXHR2YXIgdXBkYXRlUG9seWZpbGwgPSBmdW5jdGlvbiAoZWwsIGZ1bGwpe1xuXHRcdHZhciBwb2x5ZmlsbDtcblx0XHRpZiggIXN1cHBvcnRQaWN0dXJlICYmICggcG9seWZpbGwgPSAod2luZG93LnBpY3R1cmVmaWxsIHx8IGxhenlTaXplc0NmZy5wZikgKSApe1xuXHRcdFx0aWYoZnVsbCAmJiBmdWxsLnNyYyAmJiAhZWxbX2dldEF0dHJpYnV0ZV0oJ3NyY3NldCcpKXtcblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKCdzcmNzZXQnLCBmdWxsLnNyYyk7XG5cdFx0XHR9XG5cdFx0XHRwb2x5ZmlsbCh7cmVldmFsdWF0ZTogdHJ1ZSwgZWxlbWVudHM6IFtlbF19KTtcblx0XHR9IGVsc2UgaWYoZnVsbCAmJiBmdWxsLnNyYyl7XG5cdFx0XHRlbC5zcmMgPSBmdWxsLnNyYztcblx0XHR9XG5cdH07XG5cblx0dmFyIGdldENTUyA9IGZ1bmN0aW9uIChlbGVtLCBzdHlsZSl7XG5cdFx0cmV0dXJuIChnZXRDb21wdXRlZFN0eWxlKGVsZW0sIG51bGwpIHx8IHt9KVtzdHlsZV07XG5cdH07XG5cblx0dmFyIGdldFdpZHRoID0gZnVuY3Rpb24oZWxlbSwgcGFyZW50LCB3aWR0aCl7XG5cdFx0d2lkdGggPSB3aWR0aCB8fCBlbGVtLm9mZnNldFdpZHRoO1xuXG5cdFx0d2hpbGUod2lkdGggPCBsYXp5U2l6ZXNDZmcubWluU2l6ZSAmJiBwYXJlbnQgJiYgIWVsZW0uX2xhenlzaXplc1dpZHRoKXtcblx0XHRcdHdpZHRoID0gIHBhcmVudC5vZmZzZXRXaWR0aDtcblx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiB3aWR0aDtcblx0fTtcblxuXHR2YXIgckFGID0gKGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHJ1bm5pbmcsIHdhaXRpbmc7XG5cdFx0dmFyIGZpcnN0Rm5zID0gW107XG5cdFx0dmFyIHNlY29uZEZucyA9IFtdO1xuXHRcdHZhciBmbnMgPSBmaXJzdEZucztcblxuXHRcdHZhciBydW4gPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHJ1bkZucyA9IGZucztcblxuXHRcdFx0Zm5zID0gZmlyc3RGbnMubGVuZ3RoID8gc2Vjb25kRm5zIDogZmlyc3RGbnM7XG5cblx0XHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdFx0d2FpdGluZyA9IGZhbHNlO1xuXG5cdFx0XHR3aGlsZShydW5GbnMubGVuZ3RoKXtcblx0XHRcdFx0cnVuRm5zLnNoaWZ0KCkoKTtcblx0XHRcdH1cblxuXHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdH07XG5cblx0XHR2YXIgcmFmQmF0Y2ggPSBmdW5jdGlvbihmbiwgcXVldWUpe1xuXHRcdFx0aWYocnVubmluZyAmJiAhcXVldWUpe1xuXHRcdFx0XHRmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm5zLnB1c2goZm4pO1xuXG5cdFx0XHRcdGlmKCF3YWl0aW5nKXtcblx0XHRcdFx0XHR3YWl0aW5nID0gdHJ1ZTtcblx0XHRcdFx0XHQoZG9jdW1lbnQuaGlkZGVuID8gc2V0VGltZW91dCA6IHJlcXVlc3RBbmltYXRpb25GcmFtZSkocnVuKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyYWZCYXRjaC5fbHNGbHVzaCA9IHJ1bjtcblxuXHRcdHJldHVybiByYWZCYXRjaDtcblx0fSkoKTtcblxuXHR2YXIgckFGSXQgPSBmdW5jdGlvbihmbiwgc2ltcGxlKXtcblx0XHRyZXR1cm4gc2ltcGxlID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyQUYoZm4pO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0XHRyQUYoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRmbi5hcHBseSh0aGF0LCBhcmdzKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0O1xuXHR9O1xuXG5cdHZhciB0aHJvdHRsZSA9IGZ1bmN0aW9uKGZuKXtcblx0XHR2YXIgcnVubmluZztcblx0XHR2YXIgbGFzdFRpbWUgPSAwO1xuXHRcdHZhciBnRGVsYXkgPSBsYXp5U2l6ZXNDZmcudGhyb3R0bGVEZWxheTtcblx0XHR2YXIgcklDVGltZW91dCA9IGxhenlTaXplc0NmZy5yaWNUaW1lb3V0O1xuXHRcdHZhciBydW4gPSBmdW5jdGlvbigpe1xuXHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0bGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHRcdHZhciBpZGxlQ2FsbGJhY2sgPSByZXF1ZXN0SWRsZUNhbGxiYWNrICYmIHJJQ1RpbWVvdXQgPiA0OSA/XG5cdFx0XHRmdW5jdGlvbigpe1xuXHRcdFx0XHRyZXF1ZXN0SWRsZUNhbGxiYWNrKHJ1biwge3RpbWVvdXQ6IHJJQ1RpbWVvdXR9KTtcblxuXHRcdFx0XHRpZihySUNUaW1lb3V0ICE9PSBsYXp5U2l6ZXNDZmcucmljVGltZW91dCl7XG5cdFx0XHRcdFx0cklDVGltZW91dCA9IGxhenlTaXplc0NmZy5yaWNUaW1lb3V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IDpcblx0XHRcdHJBRkl0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHNldFRpbWVvdXQocnVuKTtcblx0XHRcdH0sIHRydWUpXG5cdFx0O1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGlzUHJpb3JpdHkpe1xuXHRcdFx0dmFyIGRlbGF5O1xuXG5cdFx0XHRpZigoaXNQcmlvcml0eSA9IGlzUHJpb3JpdHkgPT09IHRydWUpKXtcblx0XHRcdFx0cklDVGltZW91dCA9IDMzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihydW5uaW5nKXtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRydW5uaW5nID0gIHRydWU7XG5cblx0XHRcdGRlbGF5ID0gZ0RlbGF5IC0gKERhdGUubm93KCkgLSBsYXN0VGltZSk7XG5cblx0XHRcdGlmKGRlbGF5IDwgMCl7XG5cdFx0XHRcdGRlbGF5ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0aWYoaXNQcmlvcml0eSB8fCBkZWxheSA8IDkpe1xuXHRcdFx0XHRpZGxlQ2FsbGJhY2soKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldFRpbWVvdXQoaWRsZUNhbGxiYWNrLCBkZWxheSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblxuXHQvL2Jhc2VkIG9uIGh0dHA6Ly9tb2Rlcm5qYXZhc2NyaXB0LmJsb2dzcG90LmRlLzIwMTMvMDgvYnVpbGRpbmctYmV0dGVyLWRlYm91bmNlLmh0bWxcblx0dmFyIGRlYm91bmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHRcdHZhciB0aW1lb3V0LCB0aW1lc3RhbXA7XG5cdFx0dmFyIHdhaXQgPSA5OTtcblx0XHR2YXIgcnVuID0gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVvdXQgPSBudWxsO1xuXHRcdFx0ZnVuYygpO1xuXHRcdH07XG5cdFx0dmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbGFzdCA9IERhdGUubm93KCkgLSB0aW1lc3RhbXA7XG5cblx0XHRcdGlmIChsYXN0IDwgd2FpdCkge1xuXHRcdFx0XHRzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQocmVxdWVzdElkbGVDYWxsYmFjayB8fCBydW4pKHJ1bik7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cblx0XHRcdGlmICghdGltZW91dCkge1xuXHRcdFx0XHR0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblxuXHR2YXIgbG9hZGVyID0gKGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHByZWxvYWRFbGVtcywgaXNDb21wbGV0ZWQsIHJlc2V0UHJlbG9hZGluZ1RpbWVyLCBsb2FkTW9kZSwgc3RhcnRlZDtcblxuXHRcdHZhciBlTHZXLCBlbHZILCBlTHRvcCwgZUxsZWZ0LCBlTHJpZ2h0LCBlTGJvdHRvbSwgaXNCb2R5SGlkZGVuO1xuXG5cdFx0dmFyIHJlZ0ltZyA9IC9eaW1nJC9pO1xuXHRcdHZhciByZWdJZnJhbWUgPSAvXmlmcmFtZSQvaTtcblxuXHRcdHZhciBzdXBwb3J0U2Nyb2xsID0gKCdvbnNjcm9sbCcgaW4gd2luZG93KSAmJiAhKC8oZ2xlfGluZylib3QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO1xuXG5cdFx0dmFyIHNocmlua0V4cGFuZCA9IDA7XG5cdFx0dmFyIGN1cnJlbnRFeHBhbmQgPSAwO1xuXG5cdFx0dmFyIGlzTG9hZGluZyA9IDA7XG5cdFx0dmFyIGxvd1J1bnMgPSAtMTtcblxuXHRcdHZhciByZXNldFByZWxvYWRpbmcgPSBmdW5jdGlvbihlKXtcblx0XHRcdGlzTG9hZGluZy0tO1xuXHRcdFx0aWYoIWUgfHwgaXNMb2FkaW5nIDwgMCB8fCAhZS50YXJnZXQpe1xuXHRcdFx0XHRpc0xvYWRpbmcgPSAwO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gKGVsZW0pIHtcblx0XHRcdGlmIChpc0JvZHlIaWRkZW4gPT0gbnVsbCkge1xuXHRcdFx0XHRpc0JvZHlIaWRkZW4gPSBnZXRDU1MoZG9jdW1lbnQuYm9keSwgJ3Zpc2liaWxpdHknKSA9PSAnaGlkZGVuJztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGlzQm9keUhpZGRlbiB8fCAoZ2V0Q1NTKGVsZW0ucGFyZW50Tm9kZSwgJ3Zpc2liaWxpdHknKSAhPSAnaGlkZGVuJyAmJiBnZXRDU1MoZWxlbSwgJ3Zpc2liaWxpdHknKSAhPSAnaGlkZGVuJyk7XG5cdFx0fTtcblxuXHRcdHZhciBpc05lc3RlZFZpc2libGUgPSBmdW5jdGlvbihlbGVtLCBlbGVtRXhwYW5kKXtcblx0XHRcdHZhciBvdXRlclJlY3Q7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbTtcblx0XHRcdHZhciB2aXNpYmxlID0gaXNWaXNpYmxlKGVsZW0pO1xuXG5cdFx0XHRlTHRvcCAtPSBlbGVtRXhwYW5kO1xuXHRcdFx0ZUxib3R0b20gKz0gZWxlbUV4cGFuZDtcblx0XHRcdGVMbGVmdCAtPSBlbGVtRXhwYW5kO1xuXHRcdFx0ZUxyaWdodCArPSBlbGVtRXhwYW5kO1xuXG5cdFx0XHR3aGlsZSh2aXNpYmxlICYmIChwYXJlbnQgPSBwYXJlbnQub2Zmc2V0UGFyZW50KSAmJiBwYXJlbnQgIT0gZG9jdW1lbnQuYm9keSAmJiBwYXJlbnQgIT0gZG9jRWxlbSl7XG5cdFx0XHRcdHZpc2libGUgPSAoKGdldENTUyhwYXJlbnQsICdvcGFjaXR5JykgfHwgMSkgPiAwKTtcblxuXHRcdFx0XHRpZih2aXNpYmxlICYmIGdldENTUyhwYXJlbnQsICdvdmVyZmxvdycpICE9ICd2aXNpYmxlJyl7XG5cdFx0XHRcdFx0b3V0ZXJSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdHZpc2libGUgPSBlTHJpZ2h0ID4gb3V0ZXJSZWN0LmxlZnQgJiZcblx0XHRcdFx0XHRcdGVMbGVmdCA8IG91dGVyUmVjdC5yaWdodCAmJlxuXHRcdFx0XHRcdFx0ZUxib3R0b20gPiBvdXRlclJlY3QudG9wIC0gMSAmJlxuXHRcdFx0XHRcdFx0ZUx0b3AgPCBvdXRlclJlY3QuYm90dG9tICsgMVxuXHRcdFx0XHRcdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmlzaWJsZTtcblx0XHR9O1xuXG5cdFx0dmFyIGNoZWNrRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlTGxlbiwgaSwgcmVjdCwgYXV0b0xvYWRFbGVtLCBsb2FkZWRTb21ldGhpbmcsIGVsZW1FeHBhbmQsIGVsZW1OZWdhdGl2ZUV4cGFuZCwgZWxlbUV4cGFuZFZhbCxcblx0XHRcdFx0YmVmb3JlRXhwYW5kVmFsLCBkZWZhdWx0RXhwYW5kLCBwcmVsb2FkRXhwYW5kLCBoRmFjO1xuXHRcdFx0dmFyIGxhenlsb2FkRWxlbXMgPSBsYXp5c2l6ZXMuZWxlbWVudHM7XG5cblx0XHRcdGlmKChsb2FkTW9kZSA9IGxhenlTaXplc0NmZy5sb2FkTW9kZSkgJiYgaXNMb2FkaW5nIDwgOCAmJiAoZUxsZW4gPSBsYXp5bG9hZEVsZW1zLmxlbmd0aCkpe1xuXG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdGxvd1J1bnMrKztcblxuXHRcdFx0XHRmb3IoOyBpIDwgZUxsZW47IGkrKyl7XG5cblx0XHRcdFx0XHRpZighbGF6eWxvYWRFbGVtc1tpXSB8fCBsYXp5bG9hZEVsZW1zW2ldLl9sYXp5UmFjZSl7Y29udGludWU7fVxuXG5cdFx0XHRcdFx0aWYoIXN1cHBvcnRTY3JvbGwgfHwgKGxhenlzaXplcy5wcmVtYXR1cmVVbnZlaWwgJiYgbGF6eXNpemVzLnByZW1hdHVyZVVudmVpbChsYXp5bG9hZEVsZW1zW2ldKSkpe3VudmVpbEVsZW1lbnQobGF6eWxvYWRFbGVtc1tpXSk7Y29udGludWU7fVxuXG5cdFx0XHRcdFx0aWYoIShlbGVtRXhwYW5kVmFsID0gbGF6eWxvYWRFbGVtc1tpXVtfZ2V0QXR0cmlidXRlXSgnZGF0YS1leHBhbmQnKSkgfHwgIShlbGVtRXhwYW5kID0gZWxlbUV4cGFuZFZhbCAqIDEpKXtcblx0XHRcdFx0XHRcdGVsZW1FeHBhbmQgPSBjdXJyZW50RXhwYW5kO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghZGVmYXVsdEV4cGFuZCkge1xuXHRcdFx0XHRcdFx0ZGVmYXVsdEV4cGFuZCA9ICghbGF6eVNpemVzQ2ZnLmV4cGFuZCB8fCBsYXp5U2l6ZXNDZmcuZXhwYW5kIDwgMSkgP1xuXHRcdFx0XHRcdFx0XHRkb2NFbGVtLmNsaWVudEhlaWdodCA+IDUwMCAmJiBkb2NFbGVtLmNsaWVudFdpZHRoID4gNTAwID8gNTAwIDogMzcwIDpcblx0XHRcdFx0XHRcdFx0bGF6eVNpemVzQ2ZnLmV4cGFuZDtcblxuXHRcdFx0XHRcdFx0bGF6eXNpemVzLl9kZWZFeCA9IGRlZmF1bHRFeHBhbmQ7XG5cblx0XHRcdFx0XHRcdHByZWxvYWRFeHBhbmQgPSBkZWZhdWx0RXhwYW5kICogbGF6eVNpemVzQ2ZnLmV4cEZhY3Rvcjtcblx0XHRcdFx0XHRcdGhGYWMgPSBsYXp5U2l6ZXNDZmcuaEZhYztcblx0XHRcdFx0XHRcdGlzQm9keUhpZGRlbiA9IG51bGw7XG5cblx0XHRcdFx0XHRcdGlmKGN1cnJlbnRFeHBhbmQgPCBwcmVsb2FkRXhwYW5kICYmIGlzTG9hZGluZyA8IDEgJiYgbG93UnVucyA+IDIgJiYgbG9hZE1vZGUgPiAyICYmICFkb2N1bWVudC5oaWRkZW4pe1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50RXhwYW5kID0gcHJlbG9hZEV4cGFuZDtcblx0XHRcdFx0XHRcdFx0bG93UnVucyA9IDA7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYobG9hZE1vZGUgPiAxICYmIGxvd1J1bnMgPiAxICYmIGlzTG9hZGluZyA8IDYpe1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50RXhwYW5kID0gZGVmYXVsdEV4cGFuZDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRFeHBhbmQgPSBzaHJpbmtFeHBhbmQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoYmVmb3JlRXhwYW5kVmFsICE9PSBlbGVtRXhwYW5kKXtcblx0XHRcdFx0XHRcdGVMdlcgPSBpbm5lcldpZHRoICsgKGVsZW1FeHBhbmQgKiBoRmFjKTtcblx0XHRcdFx0XHRcdGVsdkggPSBpbm5lckhlaWdodCArIGVsZW1FeHBhbmQ7XG5cdFx0XHRcdFx0XHRlbGVtTmVnYXRpdmVFeHBhbmQgPSBlbGVtRXhwYW5kICogLTE7XG5cdFx0XHRcdFx0XHRiZWZvcmVFeHBhbmRWYWwgPSBlbGVtRXhwYW5kO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlY3QgPSBsYXp5bG9hZEVsZW1zW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdFx0aWYgKChlTGJvdHRvbSA9IHJlY3QuYm90dG9tKSA+PSBlbGVtTmVnYXRpdmVFeHBhbmQgJiZcblx0XHRcdFx0XHRcdChlTHRvcCA9IHJlY3QudG9wKSA8PSBlbHZIICYmXG5cdFx0XHRcdFx0XHQoZUxyaWdodCA9IHJlY3QucmlnaHQpID49IGVsZW1OZWdhdGl2ZUV4cGFuZCAqIGhGYWMgJiZcblx0XHRcdFx0XHRcdChlTGxlZnQgPSByZWN0LmxlZnQpIDw9IGVMdlcgJiZcblx0XHRcdFx0XHRcdChlTGJvdHRvbSB8fCBlTHJpZ2h0IHx8IGVMbGVmdCB8fCBlTHRvcCkgJiZcblx0XHRcdFx0XHRcdChsYXp5U2l6ZXNDZmcubG9hZEhpZGRlbiB8fCBpc1Zpc2libGUobGF6eWxvYWRFbGVtc1tpXSkpICYmXG5cdFx0XHRcdFx0XHQoKGlzQ29tcGxldGVkICYmIGlzTG9hZGluZyA8IDMgJiYgIWVsZW1FeHBhbmRWYWwgJiYgKGxvYWRNb2RlIDwgMyB8fCBsb3dSdW5zIDwgNCkpIHx8IGlzTmVzdGVkVmlzaWJsZShsYXp5bG9hZEVsZW1zW2ldLCBlbGVtRXhwYW5kKSkpe1xuXHRcdFx0XHRcdFx0dW52ZWlsRWxlbWVudChsYXp5bG9hZEVsZW1zW2ldKTtcblx0XHRcdFx0XHRcdGxvYWRlZFNvbWV0aGluZyA9IHRydWU7XG5cdFx0XHRcdFx0XHRpZihpc0xvYWRpbmcgPiA5KXticmVhazt9XG5cdFx0XHRcdFx0fSBlbHNlIGlmKCFsb2FkZWRTb21ldGhpbmcgJiYgaXNDb21wbGV0ZWQgJiYgIWF1dG9Mb2FkRWxlbSAmJlxuXHRcdFx0XHRcdFx0aXNMb2FkaW5nIDwgNCAmJiBsb3dSdW5zIDwgNCAmJiBsb2FkTW9kZSA+IDIgJiZcblx0XHRcdFx0XHRcdChwcmVsb2FkRWxlbXNbMF0gfHwgbGF6eVNpemVzQ2ZnLnByZWxvYWRBZnRlckxvYWQpICYmXG5cdFx0XHRcdFx0XHQocHJlbG9hZEVsZW1zWzBdIHx8ICghZWxlbUV4cGFuZFZhbCAmJiAoKGVMYm90dG9tIHx8IGVMcmlnaHQgfHwgZUxsZWZ0IHx8IGVMdG9wKSB8fCBsYXp5bG9hZEVsZW1zW2ldW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NmZy5zaXplc0F0dHIpICE9ICdhdXRvJykpKSl7XG5cdFx0XHRcdFx0XHRhdXRvTG9hZEVsZW0gPSBwcmVsb2FkRWxlbXNbMF0gfHwgbGF6eWxvYWRFbGVtc1tpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihhdXRvTG9hZEVsZW0gJiYgIWxvYWRlZFNvbWV0aGluZyl7XG5cdFx0XHRcdFx0dW52ZWlsRWxlbWVudChhdXRvTG9hZEVsZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciB0aHJvdHRsZWRDaGVja0VsZW1lbnRzID0gdGhyb3R0bGUoY2hlY2tFbGVtZW50cyk7XG5cblx0XHR2YXIgc3dpdGNoTG9hZGluZ0NsYXNzID0gZnVuY3Rpb24oZSl7XG5cdFx0XHR2YXIgZWxlbSA9IGUudGFyZ2V0O1xuXG5cdFx0XHRpZiAoZWxlbS5fbGF6eUNhY2hlKSB7XG5cdFx0XHRcdGRlbGV0ZSBlbGVtLl9sYXp5Q2FjaGU7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0cmVzZXRQcmVsb2FkaW5nKGUpO1xuXHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmxvYWRlZENsYXNzKTtcblx0XHRcdHJlbW92ZUNsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5sb2FkaW5nQ2xhc3MpO1xuXHRcdFx0YWRkUmVtb3ZlTG9hZEV2ZW50cyhlbGVtLCByYWZTd2l0Y2hMb2FkaW5nQ2xhc3MpO1xuXHRcdFx0dHJpZ2dlckV2ZW50KGVsZW0sICdsYXp5bG9hZGVkJyk7XG5cdFx0fTtcblx0XHR2YXIgcmFmZWRTd2l0Y2hMb2FkaW5nQ2xhc3MgPSByQUZJdChzd2l0Y2hMb2FkaW5nQ2xhc3MpO1xuXHRcdHZhciByYWZTd2l0Y2hMb2FkaW5nQ2xhc3MgPSBmdW5jdGlvbihlKXtcblx0XHRcdHJhZmVkU3dpdGNoTG9hZGluZ0NsYXNzKHt0YXJnZXQ6IGUudGFyZ2V0fSk7XG5cdFx0fTtcblxuXHRcdHZhciBjaGFuZ2VJZnJhbWVTcmMgPSBmdW5jdGlvbihlbGVtLCBzcmMpe1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZWxlbS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlcGxhY2Uoc3JjKTtcblx0XHRcdH0gY2F0Y2goZSl7XG5cdFx0XHRcdGVsZW0uc3JjID0gc3JjO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgaGFuZGxlU291cmNlcyA9IGZ1bmN0aW9uKHNvdXJjZSl7XG5cdFx0XHR2YXIgY3VzdG9tTWVkaWE7XG5cblx0XHRcdHZhciBzb3VyY2VTcmNzZXQgPSBzb3VyY2VbX2dldEF0dHJpYnV0ZV0obGF6eVNpemVzQ2ZnLnNyY3NldEF0dHIpO1xuXG5cdFx0XHRpZiggKGN1c3RvbU1lZGlhID0gbGF6eVNpemVzQ2ZnLmN1c3RvbU1lZGlhW3NvdXJjZVtfZ2V0QXR0cmlidXRlXSgnZGF0YS1tZWRpYScpIHx8IHNvdXJjZVtfZ2V0QXR0cmlidXRlXSgnbWVkaWEnKV0pICl7XG5cdFx0XHRcdHNvdXJjZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgY3VzdG9tTWVkaWEpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihzb3VyY2VTcmNzZXQpe1xuXHRcdFx0XHRzb3VyY2Uuc2V0QXR0cmlidXRlKCdzcmNzZXQnLCBzb3VyY2VTcmNzZXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgbGF6eVVudmVpbCA9IHJBRkl0KGZ1bmN0aW9uIChlbGVtLCBkZXRhaWwsIGlzQXV0bywgc2l6ZXMsIGlzSW1nKXtcblx0XHRcdHZhciBzcmMsIHNyY3NldCwgcGFyZW50LCBpc1BpY3R1cmUsIGV2ZW50LCBmaXJlc0xvYWQ7XG5cblx0XHRcdGlmKCEoZXZlbnQgPSB0cmlnZ2VyRXZlbnQoZWxlbSwgJ2xhenliZWZvcmV1bnZlaWwnLCBkZXRhaWwpKS5kZWZhdWx0UHJldmVudGVkKXtcblxuXHRcdFx0XHRpZihzaXplcyl7XG5cdFx0XHRcdFx0aWYoaXNBdXRvKXtcblx0XHRcdFx0XHRcdGFkZENsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5hdXRvc2l6ZXNDbGFzcyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCdzaXplcycsIHNpemVzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzcmNzZXQgPSBlbGVtW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NmZy5zcmNzZXRBdHRyKTtcblx0XHRcdFx0c3JjID0gZWxlbVtfZ2V0QXR0cmlidXRlXShsYXp5U2l6ZXNDZmcuc3JjQXR0cik7XG5cblx0XHRcdFx0aWYoaXNJbWcpIHtcblx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0aXNQaWN0dXJlID0gcGFyZW50ICYmIHJlZ1BpY3R1cmUudGVzdChwYXJlbnQubm9kZU5hbWUgfHwgJycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZmlyZXNMb2FkID0gZGV0YWlsLmZpcmVzTG9hZCB8fCAoKCdzcmMnIGluIGVsZW0pICYmIChzcmNzZXQgfHwgc3JjIHx8IGlzUGljdHVyZSkpO1xuXG5cdFx0XHRcdGV2ZW50ID0ge3RhcmdldDogZWxlbX07XG5cblx0XHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmxvYWRpbmdDbGFzcyk7XG5cblx0XHRcdFx0aWYoZmlyZXNMb2FkKXtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQocmVzZXRQcmVsb2FkaW5nVGltZXIpO1xuXHRcdFx0XHRcdHJlc2V0UHJlbG9hZGluZ1RpbWVyID0gc2V0VGltZW91dChyZXNldFByZWxvYWRpbmcsIDI1MDApO1xuXHRcdFx0XHRcdGFkZFJlbW92ZUxvYWRFdmVudHMoZWxlbSwgcmFmU3dpdGNoTG9hZGluZ0NsYXNzLCB0cnVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKGlzUGljdHVyZSl7XG5cdFx0XHRcdFx0Zm9yRWFjaC5jYWxsKHBhcmVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc291cmNlJyksIGhhbmRsZVNvdXJjZXMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoc3Jjc2V0KXtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSgnc3Jjc2V0Jywgc3Jjc2V0KTtcblx0XHRcdFx0fSBlbHNlIGlmKHNyYyAmJiAhaXNQaWN0dXJlKXtcblx0XHRcdFx0XHRpZihyZWdJZnJhbWUudGVzdChlbGVtLm5vZGVOYW1lKSl7XG5cdFx0XHRcdFx0XHRjaGFuZ2VJZnJhbWVTcmMoZWxlbSwgc3JjKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWxlbS5zcmMgPSBzcmM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoaXNJbWcgJiYgKHNyY3NldCB8fCBpc1BpY3R1cmUpKXtcblx0XHRcdFx0XHR1cGRhdGVQb2x5ZmlsbChlbGVtLCB7c3JjOiBzcmN9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZihlbGVtLl9sYXp5UmFjZSl7XG5cdFx0XHRcdGRlbGV0ZSBlbGVtLl9sYXp5UmFjZTtcblx0XHRcdH1cblx0XHRcdHJlbW92ZUNsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5sYXp5Q2xhc3MpO1xuXG5cdFx0XHRyQUYoZnVuY3Rpb24oKXtcblx0XHRcdFx0Ly8gUGFydCBvZiB0aGlzIGNhbiBiZSByZW1vdmVkIGFzIHNvb24gYXMgdGhpcyBmaXggaXMgb2xkZXI6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc3MzEgKDIwMTUpXG5cdFx0XHRcdHZhciBpc0xvYWRlZCA9IGVsZW0uY29tcGxldGUgJiYgZWxlbS5uYXR1cmFsV2lkdGggPiAxO1xuXG5cdFx0XHRcdGlmKCAhZmlyZXNMb2FkIHx8IGlzTG9hZGVkKXtcblx0XHRcdFx0XHRpZiAoaXNMb2FkZWQpIHtcblx0XHRcdFx0XHRcdGFkZENsYXNzKGVsZW0sICdscy1pcy1jYWNoZWQnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3dpdGNoTG9hZGluZ0NsYXNzKGV2ZW50KTtcblx0XHRcdFx0XHRlbGVtLl9sYXp5Q2FjaGUgPSB0cnVlO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdGlmICgnX2xhenlDYWNoZScgaW4gZWxlbSkge1xuXHRcdFx0XHRcdFx0XHRkZWxldGUgZWxlbS5fbGF6eUNhY2hlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIDkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChlbGVtLmxvYWRpbmcgPT0gJ2xhenknKSB7XG5cdFx0XHRcdFx0aXNMb2FkaW5nLS07XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRydWUpO1xuXHRcdH0pO1xuXG5cdFx0dmFyIHVudmVpbEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbSl7XG5cdFx0XHRpZiAoZWxlbS5fbGF6eVJhY2UpIHtyZXR1cm47fVxuXHRcdFx0dmFyIGRldGFpbDtcblxuXHRcdFx0dmFyIGlzSW1nID0gcmVnSW1nLnRlc3QoZWxlbS5ub2RlTmFtZSk7XG5cblx0XHRcdC8vYWxsb3cgdXNpbmcgc2l6ZXM9XCJhdXRvXCIsIGJ1dCBkb24ndCB1c2UuIGl0J3MgaW52YWxpZC4gVXNlIGRhdGEtc2l6ZXM9XCJhdXRvXCIgb3IgYSB2YWxpZCB2YWx1ZSBmb3Igc2l6ZXMgaW5zdGVhZCAoaS5lLjogc2l6ZXM9XCI4MHZ3XCIpXG5cdFx0XHR2YXIgc2l6ZXMgPSBpc0ltZyAmJiAoZWxlbVtfZ2V0QXR0cmlidXRlXShsYXp5U2l6ZXNDZmcuc2l6ZXNBdHRyKSB8fCBlbGVtW19nZXRBdHRyaWJ1dGVdKCdzaXplcycpKTtcblx0XHRcdHZhciBpc0F1dG8gPSBzaXplcyA9PSAnYXV0byc7XG5cblx0XHRcdGlmKCAoaXNBdXRvIHx8ICFpc0NvbXBsZXRlZCkgJiYgaXNJbWcgJiYgKGVsZW1bX2dldEF0dHJpYnV0ZV0oJ3NyYycpIHx8IGVsZW0uc3Jjc2V0KSAmJiAhZWxlbS5jb21wbGV0ZSAmJiAhaGFzQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmVycm9yQ2xhc3MpICYmIGhhc0NsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5sYXp5Q2xhc3MpKXtyZXR1cm47fVxuXG5cdFx0XHRkZXRhaWwgPSB0cmlnZ2VyRXZlbnQoZWxlbSwgJ2xhenl1bnZlaWxyZWFkJykuZGV0YWlsO1xuXG5cdFx0XHRpZihpc0F1dG8pe1xuXHRcdFx0XHQgYXV0b1NpemVyLnVwZGF0ZUVsZW0oZWxlbSwgdHJ1ZSwgZWxlbS5vZmZzZXRXaWR0aCk7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uX2xhenlSYWNlID0gdHJ1ZTtcblx0XHRcdGlzTG9hZGluZysrO1xuXG5cdFx0XHRsYXp5VW52ZWlsKGVsZW0sIGRldGFpbCwgaXNBdXRvLCBzaXplcywgaXNJbWcpO1xuXHRcdH07XG5cblx0XHR2YXIgYWZ0ZXJTY3JvbGwgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdFx0bGF6eVNpemVzQ2ZnLmxvYWRNb2RlID0gMztcblx0XHRcdHRocm90dGxlZENoZWNrRWxlbWVudHMoKTtcblx0XHR9KTtcblxuXHRcdHZhciBhbHRMb2FkbW9kZVNjcm9sbExpc3RuZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0aWYobGF6eVNpemVzQ2ZnLmxvYWRNb2RlID09IDMpe1xuXHRcdFx0XHRsYXp5U2l6ZXNDZmcubG9hZE1vZGUgPSAyO1xuXHRcdFx0fVxuXHRcdFx0YWZ0ZXJTY3JvbGwoKTtcblx0XHR9O1xuXG5cdFx0dmFyIG9ubG9hZCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRpZihpc0NvbXBsZXRlZCl7cmV0dXJuO31cblx0XHRcdGlmKERhdGUubm93KCkgLSBzdGFydGVkIDwgOTk5KXtcblx0XHRcdFx0c2V0VGltZW91dChvbmxvYWQsIDk5OSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXG5cdFx0XHRpc0NvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdGxhenlTaXplc0NmZy5sb2FkTW9kZSA9IDM7XG5cblx0XHRcdHRocm90dGxlZENoZWNrRWxlbWVudHMoKTtcblxuXHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYWx0TG9hZG1vZGVTY3JvbGxMaXN0bmVyLCB0cnVlKTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdF86IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHN0YXJ0ZWQgPSBEYXRlLm5vdygpO1xuXG5cdFx0XHRcdGxhenlzaXplcy5lbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobGF6eVNpemVzQ2ZnLmxhenlDbGFzcyk7XG5cdFx0XHRcdHByZWxvYWRFbGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobGF6eVNpemVzQ2ZnLmxhenlDbGFzcyArICcgJyArIGxhenlTaXplc0NmZy5wcmVsb2FkQ2xhc3MpO1xuXG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXG5cdFx0XHRcdGlmKHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0XHRuZXcgTXV0YXRpb25PYnNlcnZlciggdGhyb3R0bGVkQ2hlY2tFbGVtZW50cyApLm9ic2VydmUoIGRvY0VsZW0sIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUsIGF0dHJpYnV0ZXM6IHRydWV9ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZG9jRWxlbVtfYWRkRXZlbnRMaXN0ZW5lcl0oJ0RPTU5vZGVJbnNlcnRlZCcsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXHRcdFx0XHRcdGRvY0VsZW1bX2FkZEV2ZW50TGlzdGVuZXJdKCdET01BdHRyTW9kaWZpZWQnLCB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLCB0cnVlKTtcblx0XHRcdFx0XHRzZXRJbnRlcnZhbCh0aHJvdHRsZWRDaGVja0VsZW1lbnRzLCA5OTkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXG5cdFx0XHRcdC8vLCAnZnVsbHNjcmVlbmNoYW5nZSdcblx0XHRcdFx0Wydmb2N1cycsICdtb3VzZW92ZXInLCAnY2xpY2snLCAnbG9hZCcsICd0cmFuc2l0aW9uZW5kJywgJ2FuaW1hdGlvbmVuZCddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdFx0ZG9jdW1lbnRbX2FkZEV2ZW50TGlzdGVuZXJdKG5hbWUsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZigoL2QkfF5jLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSl7XG5cdFx0XHRcdFx0b25sb2FkKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9ubG9hZCk7XG5cdFx0XHRcdFx0ZG9jdW1lbnRbX2FkZEV2ZW50TGlzdGVuZXJdKCdET01Db250ZW50TG9hZGVkJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cyk7XG5cdFx0XHRcdFx0c2V0VGltZW91dChvbmxvYWQsIDIwMDAwKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKGxhenlzaXplcy5lbGVtZW50cy5sZW5ndGgpe1xuXHRcdFx0XHRcdGNoZWNrRWxlbWVudHMoKTtcblx0XHRcdFx0XHRyQUYuX2xzRmx1c2goKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdHRsZWRDaGVja0VsZW1lbnRzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjaGVja0VsZW1zOiB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLFxuXHRcdFx0dW52ZWlsOiB1bnZlaWxFbGVtZW50LFxuXHRcdFx0X2FMU0w6IGFsdExvYWRtb2RlU2Nyb2xsTGlzdG5lcixcblx0XHR9O1xuXHR9KSgpO1xuXG5cblx0dmFyIGF1dG9TaXplciA9IChmdW5jdGlvbigpe1xuXHRcdHZhciBhdXRvc2l6ZXNFbGVtcztcblxuXHRcdHZhciBzaXplRWxlbWVudCA9IHJBRkl0KGZ1bmN0aW9uKGVsZW0sIHBhcmVudCwgZXZlbnQsIHdpZHRoKXtcblx0XHRcdHZhciBzb3VyY2VzLCBpLCBsZW47XG5cdFx0XHRlbGVtLl9sYXp5c2l6ZXNXaWR0aCA9IHdpZHRoO1xuXHRcdFx0d2lkdGggKz0gJ3B4JztcblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgd2lkdGgpO1xuXG5cdFx0XHRpZihyZWdQaWN0dXJlLnRlc3QocGFyZW50Lm5vZGVOYW1lIHx8ICcnKSl7XG5cdFx0XHRcdHNvdXJjZXMgPSBwYXJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NvdXJjZScpO1xuXHRcdFx0XHRmb3IoaSA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0XHRcdHNvdXJjZXNbaV0uc2V0QXR0cmlidXRlKCdzaXplcycsIHdpZHRoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZighZXZlbnQuZGV0YWlsLmRhdGFBdHRyKXtcblx0XHRcdFx0dXBkYXRlUG9seWZpbGwoZWxlbSwgZXZlbnQuZGV0YWlsKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgZ2V0U2l6ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbSwgZGF0YUF0dHIsIHdpZHRoKXtcblx0XHRcdHZhciBldmVudDtcblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cblx0XHRcdGlmKHBhcmVudCl7XG5cdFx0XHRcdHdpZHRoID0gZ2V0V2lkdGgoZWxlbSwgcGFyZW50LCB3aWR0aCk7XG5cdFx0XHRcdGV2ZW50ID0gdHJpZ2dlckV2ZW50KGVsZW0sICdsYXp5YmVmb3Jlc2l6ZXMnLCB7d2lkdGg6IHdpZHRoLCBkYXRhQXR0cjogISFkYXRhQXR0cn0pO1xuXG5cdFx0XHRcdGlmKCFldmVudC5kZWZhdWx0UHJldmVudGVkKXtcblx0XHRcdFx0XHR3aWR0aCA9IGV2ZW50LmRldGFpbC53aWR0aDtcblxuXHRcdFx0XHRcdGlmKHdpZHRoICYmIHdpZHRoICE9PSBlbGVtLl9sYXp5c2l6ZXNXaWR0aCl7XG5cdFx0XHRcdFx0XHRzaXplRWxlbWVudChlbGVtLCBwYXJlbnQsIGV2ZW50LCB3aWR0aCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciB1cGRhdGVFbGVtZW50c1NpemVzID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBpO1xuXHRcdFx0dmFyIGxlbiA9IGF1dG9zaXplc0VsZW1zLmxlbmd0aDtcblx0XHRcdGlmKGxlbil7XG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdGZvcig7IGkgPCBsZW47IGkrKyl7XG5cdFx0XHRcdFx0Z2V0U2l6ZUVsZW1lbnQoYXV0b3NpemVzRWxlbXNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBkZWJvdW5jZWRVcGRhdGVFbGVtZW50c1NpemVzID0gZGVib3VuY2UodXBkYXRlRWxlbWVudHNTaXplcyk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0XzogZnVuY3Rpb24oKXtcblx0XHRcdFx0YXV0b3NpemVzRWxlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGxhenlTaXplc0NmZy5hdXRvc2l6ZXNDbGFzcyk7XG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlZFVwZGF0ZUVsZW1lbnRzU2l6ZXMpO1xuXHRcdFx0fSxcblx0XHRcdGNoZWNrRWxlbXM6IGRlYm91bmNlZFVwZGF0ZUVsZW1lbnRzU2l6ZXMsXG5cdFx0XHR1cGRhdGVFbGVtOiBnZXRTaXplRWxlbWVudFxuXHRcdH07XG5cdH0pKCk7XG5cblx0dmFyIGluaXQgPSBmdW5jdGlvbigpe1xuXHRcdGlmKCFpbml0LmkgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7XG5cdFx0XHRpbml0LmkgPSB0cnVlO1xuXHRcdFx0YXV0b1NpemVyLl8oKTtcblx0XHRcdGxvYWRlci5fKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRpZihsYXp5U2l6ZXNDZmcuaW5pdCl7XG5cdFx0XHRpbml0KCk7XG5cdFx0fVxuXHR9KTtcblxuXHRsYXp5c2l6ZXMgPSB7XG5cdFx0Y2ZnOiBsYXp5U2l6ZXNDZmcsXG5cdFx0YXV0b1NpemVyOiBhdXRvU2l6ZXIsXG5cdFx0bG9hZGVyOiBsb2FkZXIsXG5cdFx0aW5pdDogaW5pdCxcblx0XHR1UDogdXBkYXRlUG9seWZpbGwsXG5cdFx0YUM6IGFkZENsYXNzLFxuXHRcdHJDOiByZW1vdmVDbGFzcyxcblx0XHRoQzogaGFzQ2xhc3MsXG5cdFx0ZmlyZTogdHJpZ2dlckV2ZW50LFxuXHRcdGdXOiBnZXRXaWR0aCxcblx0XHRyQUY6IHJBRixcblx0fTtcblxuXHRyZXR1cm4gbGF6eXNpemVzO1xufVxuKSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///66\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar anObject = __webpack_require__(11);\nvar toObject = __webpack_require__(79);\nvar toLength = __webpack_require__(65);\nvar toInteger = __webpack_require__(77);\nvar advanceStringIndex = __webpack_require__(104);\nvar regExpExec = __webpack_require__(84);\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\n__webpack_require__(85)('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZS5qcz9hNDgxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBhZHZhbmNlU3RyaW5nSW5kZXggPSByZXF1aXJlKCcuL19hZHZhbmNlLXN0cmluZy1pbmRleCcpO1xudmFyIHJlZ0V4cEV4ZWMgPSByZXF1aXJlKCcuL19yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbnZhciBTVUJTVElUVVRJT05fU1lNQk9MUyA9IC9cXCQoWyQmYCddfFxcZFxcZD98PFtePl0qPikvZztcbnZhciBTVUJTVElUVVRJT05fU1lNQk9MU19OT19OQU1FRCA9IC9cXCQoWyQmYCddfFxcZFxcZD8pL2c7XG5cbnZhciBtYXliZVRvU3RyaW5nID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gaXQgOiBTdHJpbmcoaXQpO1xufTtcblxuLy8gQEByZXBsYWNlIGxvZ2ljXG5yZXF1aXJlKCcuL19maXgtcmUtd2tzJykoJ3JlcGxhY2UnLCAyLCBmdW5jdGlvbiAoZGVmaW5lZCwgUkVQTEFDRSwgJHJlcGxhY2UsIG1heWJlQ2FsbE5hdGl2ZSkge1xuICByZXR1cm4gW1xuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUucmVwbGFjZVxuICAgIGZ1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgICAgdmFyIGZuID0gc2VhcmNoVmFsdWUgPT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogc2VhcmNoVmFsdWVbUkVQTEFDRV07XG4gICAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGZuLmNhbGwoc2VhcmNoVmFsdWUsIE8sIHJlcGxhY2VWYWx1ZSlcbiAgICAgICAgOiAkcmVwbGFjZS5jYWxsKFN0cmluZyhPKSwgc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQHJlcGxhY2VdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAcmVwbGFjZVxuICAgIGZ1bmN0aW9uIChyZWdleHAsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgdmFyIHJlcyA9IG1heWJlQ2FsbE5hdGl2ZSgkcmVwbGFjZSwgcmVnZXhwLCB0aGlzLCByZXBsYWNlVmFsdWUpO1xuICAgICAgaWYgKHJlcy5kb25lKSByZXR1cm4gcmVzLnZhbHVlO1xuXG4gICAgICB2YXIgcnggPSBhbk9iamVjdChyZWdleHApO1xuICAgICAgdmFyIFMgPSBTdHJpbmcodGhpcyk7XG4gICAgICB2YXIgZnVuY3Rpb25hbFJlcGxhY2UgPSB0eXBlb2YgcmVwbGFjZVZhbHVlID09PSAnZnVuY3Rpb24nO1xuICAgICAgaWYgKCFmdW5jdGlvbmFsUmVwbGFjZSkgcmVwbGFjZVZhbHVlID0gU3RyaW5nKHJlcGxhY2VWYWx1ZSk7XG4gICAgICB2YXIgZ2xvYmFsID0gcnguZ2xvYmFsO1xuICAgICAgaWYgKGdsb2JhbCkge1xuICAgICAgICB2YXIgZnVsbFVuaWNvZGUgPSByeC51bmljb2RlO1xuICAgICAgICByeC5sYXN0SW5kZXggPSAwO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWdFeHBFeGVjKHJ4LCBTKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkgYnJlYWs7XG4gICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICBpZiAoIWdsb2JhbCkgYnJlYWs7XG4gICAgICAgIHZhciBtYXRjaFN0ciA9IFN0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICBpZiAobWF0Y2hTdHIgPT09ICcnKSByeC5sYXN0SW5kZXggPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgdG9MZW5ndGgocngubGFzdEluZGV4KSwgZnVsbFVuaWNvZGUpO1xuICAgICAgfVxuICAgICAgdmFyIGFjY3VtdWxhdGVkUmVzdWx0ID0gJyc7XG4gICAgICB2YXIgbmV4dFNvdXJjZVBvc2l0aW9uID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHRzW2ldO1xuICAgICAgICB2YXIgbWF0Y2hlZCA9IFN0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXgobWluKHRvSW50ZWdlcihyZXN1bHQuaW5kZXgpLCBTLmxlbmd0aCksIDApO1xuICAgICAgICB2YXIgY2FwdHVyZXMgPSBbXTtcbiAgICAgICAgLy8gTk9URTogVGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gICAgICAgIC8vICAgY2FwdHVyZXMgPSByZXN1bHQuc2xpY2UoMSkubWFwKG1heWJlVG9TdHJpbmcpXG4gICAgICAgIC8vIGJ1dCBmb3Igc29tZSByZWFzb24gYG5hdGl2ZVNsaWNlLmNhbGwocmVzdWx0LCAxLCByZXN1bHQubGVuZ3RoKWAgKGNhbGxlZCBpblxuICAgICAgICAvLyB0aGUgc2xpY2UgcG9seWZpbGwgd2hlbiBzbGljaW5nIG5hdGl2ZSBhcnJheXMpIFwiZG9lc24ndCB3b3JrXCIgaW4gc2FmYXJpIDkgYW5kXG4gICAgICAgIC8vIGNhdXNlcyBhIGNyYXNoIChodHRwczovL3Bhc3RlYmluLmNvbS9OMjFRemVRQSkgd2hlbiB0cnlpbmcgdG8gZGVidWcgaXQuXG4gICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcmVzdWx0Lmxlbmd0aDsgaisrKSBjYXB0dXJlcy5wdXNoKG1heWJlVG9TdHJpbmcocmVzdWx0W2pdKSk7XG4gICAgICAgIHZhciBuYW1lZENhcHR1cmVzID0gcmVzdWx0Lmdyb3VwcztcbiAgICAgICAgaWYgKGZ1bmN0aW9uYWxSZXBsYWNlKSB7XG4gICAgICAgICAgdmFyIHJlcGxhY2VyQXJncyA9IFttYXRjaGVkXS5jb25jYXQoY2FwdHVyZXMsIHBvc2l0aW9uLCBTKTtcbiAgICAgICAgICBpZiAobmFtZWRDYXB0dXJlcyAhPT0gdW5kZWZpbmVkKSByZXBsYWNlckFyZ3MucHVzaChuYW1lZENhcHR1cmVzKTtcbiAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSBTdHJpbmcocmVwbGFjZVZhbHVlLmFwcGx5KHVuZGVmaW5lZCwgcmVwbGFjZXJBcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwbGFjZW1lbnQgPSBnZXRTdWJzdGl0dXRpb24obWF0Y2hlZCwgUywgcG9zaXRpb24sIGNhcHR1cmVzLCBuYW1lZENhcHR1cmVzLCByZXBsYWNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA+PSBuZXh0U291cmNlUG9zaXRpb24pIHtcbiAgICAgICAgICBhY2N1bXVsYXRlZFJlc3VsdCArPSBTLnNsaWNlKG5leHRTb3VyY2VQb3NpdGlvbiwgcG9zaXRpb24pICsgcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgbmV4dFNvdXJjZVBvc2l0aW9uID0gcG9zaXRpb24gKyBtYXRjaGVkLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY3VtdWxhdGVkUmVzdWx0ICsgUy5zbGljZShuZXh0U291cmNlUG9zaXRpb24pO1xuICAgIH1cbiAgXTtcblxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWdldHN1YnN0aXR1dGlvblxuICBmdW5jdGlvbiBnZXRTdWJzdGl0dXRpb24obWF0Y2hlZCwgc3RyLCBwb3NpdGlvbiwgY2FwdHVyZXMsIG5hbWVkQ2FwdHVyZXMsIHJlcGxhY2VtZW50KSB7XG4gICAgdmFyIHRhaWxQb3MgPSBwb3NpdGlvbiArIG1hdGNoZWQubGVuZ3RoO1xuICAgIHZhciBtID0gY2FwdHVyZXMubGVuZ3RoO1xuICAgIHZhciBzeW1ib2xzID0gU1VCU1RJVFVUSU9OX1NZTUJPTFNfTk9fTkFNRUQ7XG4gICAgaWYgKG5hbWVkQ2FwdHVyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbmFtZWRDYXB0dXJlcyA9IHRvT2JqZWN0KG5hbWVkQ2FwdHVyZXMpO1xuICAgICAgc3ltYm9scyA9IFNVQlNUSVRVVElPTl9TWU1CT0xTO1xuICAgIH1cbiAgICByZXR1cm4gJHJlcGxhY2UuY2FsbChyZXBsYWNlbWVudCwgc3ltYm9scywgZnVuY3Rpb24gKG1hdGNoLCBjaCkge1xuICAgICAgdmFyIGNhcHR1cmU7XG4gICAgICBzd2l0Y2ggKGNoLmNoYXJBdCgwKSkge1xuICAgICAgICBjYXNlICckJzogcmV0dXJuICckJztcbiAgICAgICAgY2FzZSAnJic6IHJldHVybiBtYXRjaGVkO1xuICAgICAgICBjYXNlICdgJzogcmV0dXJuIHN0ci5zbGljZSgwLCBwb3NpdGlvbik7XG4gICAgICAgIGNhc2UgXCInXCI6IHJldHVybiBzdHIuc2xpY2UodGFpbFBvcyk7XG4gICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgIGNhcHR1cmUgPSBuYW1lZENhcHR1cmVzW2NoLnNsaWNlKDEsIC0xKV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IC8vIFxcZFxcZD9cbiAgICAgICAgICB2YXIgbiA9ICtjaDtcbiAgICAgICAgICBpZiAobiA9PT0gMCkgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgIGlmIChuID4gbSkge1xuICAgICAgICAgICAgdmFyIGYgPSBmbG9vcihuIC8gMTApO1xuICAgICAgICAgICAgaWYgKGYgPT09IDApIHJldHVybiBtYXRjaDtcbiAgICAgICAgICAgIGlmIChmIDw9IG0pIHJldHVybiBjYXB0dXJlc1tmIC0gMV0gPT09IHVuZGVmaW5lZCA/IGNoLmNoYXJBdCgxKSA6IGNhcHR1cmVzW2YgLSAxXSArIGNoLmNoYXJBdCgxKTtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FwdHVyZSA9IGNhcHR1cmVzW24gLSAxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYXB0dXJlID09PSB1bmRlZmluZWQgPyAnJyA6IGNhcHR1cmU7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///67\n")},,,,,,function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Native Javascript for Bootstrap 4 v2.0.27 | © dnp_theme | MIT-License\n(function (root, factory) {\n  if (true) {\n    // AMD support:\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var bsn; }\n}(this, function () {\n  \n  /* Native Javascript for Bootstrap 4 | Internal Utility Functions\n  ----------------------------------------------------------------*/\n  \"use strict\";\n  \n  // globals\n  var globalObject = typeof global !== 'undefined' ? global : this||window,\n    DOC = document, HTML = DOC.documentElement, body = 'body', // allow the library to be used in <head>\n  \n    // Native Javascript for Bootstrap Global Object\n    BSN = globalObject.BSN = {},\n    supports = BSN.supports = [],\n  \n    // function toggle attributes\n    dataToggle    = 'data-toggle',\n    dataDismiss   = 'data-dismiss',\n    dataSpy       = 'data-spy',\n    dataRide      = 'data-ride',\n  \n    // components\n    stringAlert     = 'Alert',\n    stringButton    = 'Button',\n    stringCarousel  = 'Carousel',\n    stringCollapse  = 'Collapse',\n    stringDropdown  = 'Dropdown',\n    stringModal     = 'Modal',\n    stringPopover   = 'Popover',\n    stringScrollSpy = 'ScrollSpy',\n    stringTab       = 'Tab',\n    stringTooltip   = 'Tooltip',\n    stringToast     = 'Toast',\n  \n    // options DATA API\n    dataAutohide      = 'data-autohide',\n    databackdrop      = 'data-backdrop',\n    dataKeyboard      = 'data-keyboard',\n    dataTarget        = 'data-target',\n    dataInterval      = 'data-interval',\n    dataHeight        = 'data-height',\n    dataPause         = 'data-pause',\n    dataTitle         = 'data-title',\n    dataOriginalTitle = 'data-original-title',\n    dataDismissible   = 'data-dismissible',\n    dataTrigger       = 'data-trigger',\n    dataAnimation     = 'data-animation',\n    dataContainer     = 'data-container',\n    dataPlacement     = 'data-placement',\n    dataDelay         = 'data-delay',\n  \n    // option keys\n    backdrop = 'backdrop', keyboard = 'keyboard', delay = 'delay',\n    content = 'content', target = 'target', currentTarget = 'currentTarget',\n    interval = 'interval', pause = 'pause', animation = 'animation',\n    placement = 'placement', container = 'container',\n  \n    // box model\n    offsetTop    = 'offsetTop',      offsetBottom   = 'offsetBottom',\n    offsetLeft   = 'offsetLeft',\n    scrollTop    = 'scrollTop',      scrollLeft     = 'scrollLeft',\n    clientWidth  = 'clientWidth',    clientHeight   = 'clientHeight',\n    offsetWidth  = 'offsetWidth',    offsetHeight   = 'offsetHeight',\n    innerWidth   = 'innerWidth',     innerHeight    = 'innerHeight',\n    scrollHeight = 'scrollHeight',   scrollWidth    = 'scrollWidth',\n    height         = 'height',\n  \n    // aria\n    ariaExpanded = 'aria-expanded',\n    ariaHidden   = 'aria-hidden',\n    ariaSelected = 'aria-selected',\n  \n    // event names\n    clickEvent    = 'click',\n    focusEvent    = 'focus',\n    hoverEvent    = 'hover',\n    keydownEvent  = 'keydown',\n    keyupEvent    = 'keyup',\n    resizeEvent   = 'resize', // passive\n    scrollEvent   = 'scroll', // passive\n    mouseHover = ('onmouseleave' in DOC) ? [ 'mouseenter', 'mouseleave'] : [ 'mouseover', 'mouseout' ],\n    // touch since 2.0.26\n    touchEvents = { start: 'touchstart', end: 'touchend', move:'touchmove' }, // passive\n    // originalEvents\n    showEvent     = 'show',\n    shownEvent    = 'shown',\n    hideEvent     = 'hide',\n    hiddenEvent   = 'hidden',\n    closeEvent    = 'close',\n    closedEvent   = 'closed',\n    slidEvent     = 'slid',\n    slideEvent    = 'slide',\n    changeEvent   = 'change',\n  \n    // other\n    getAttribute           = 'getAttribute',\n    setAttribute           = 'setAttribute',\n    hasAttribute           = 'hasAttribute',\n    createElement          = 'createElement',\n    appendChild            = 'appendChild',\n    innerHTML              = 'innerHTML',\n    getElementsByTagName   = 'getElementsByTagName',\n    preventDefault         = 'preventDefault',\n    getBoundingClientRect  = 'getBoundingClientRect',\n    querySelectorAll       = 'querySelectorAll',\n    getElementsByCLASSNAME = 'getElementsByClassName',\n    getComputedStyle       = 'getComputedStyle',  \n  \n    indexOf      = 'indexOf',\n    parentNode   = 'parentNode',\n    length       = 'length',\n    toLowerCase  = 'toLowerCase',\n    Transition   = 'Transition',\n    Duration     = 'Duration',\n    Webkit       = 'Webkit',\n    style        = 'style',\n    push         = 'push',\n    tabindex     = 'tabindex',\n    contains     = 'contains',\n  \n    active     = 'active',\n    showClass  = 'show',\n    collapsing = 'collapsing',\n    disabled   = 'disabled',\n    loading    = 'loading',\n    left       = 'left',\n    right      = 'right',\n    top        = 'top',\n    bottom     = 'bottom',\n  \n    // tooltip / popover\n    tipPositions = /\\b(top|bottom|left|right)+/,\n  \n    // modal\n    modalOverlay = 0,\n    fixedTop = 'fixed-top',\n    fixedBottom = 'fixed-bottom',\n  \n    // transitionEnd since 2.0.4\n    supportTransitions = Webkit+Transition in HTML[style] || Transition[toLowerCase]() in HTML[style],\n    transitionEndEvent = Webkit+Transition in HTML[style] ? Webkit[toLowerCase]()+Transition+'End' : Transition[toLowerCase]()+'end',\n    transitionDuration = Webkit+Duration in HTML[style] ? Webkit[toLowerCase]()+Transition+Duration : Transition[toLowerCase]()+Duration,\n  \n    // set new focus element since 2.0.3\n    setFocus = function(element){\n      element.focus ? element.focus() : element.setActive();\n    },\n  \n    // class manipulation, since 2.0.0 requires polyfill.js\n    addClass = function(element,classNAME) {\n      element.classList.add(classNAME);\n    },\n    removeClass = function(element,classNAME) {\n      element.classList.remove(classNAME);\n    },\n    hasClass = function(element,classNAME){ // since 2.0.0\n      return element.classList[contains](classNAME);\n    },\n  \n    // selection methods\n    getElementsByClassName = function(element,classNAME) { // returns Array\n      return [].slice.call(element[getElementsByCLASSNAME]( classNAME ));\n    },\n    queryElement = function (selector, parent) {\n      var lookUp = parent ? parent : DOC;\n      return typeof selector === 'object' ? selector : lookUp.querySelector(selector);\n    },\n    getClosest = function (element, selector) { //element is the element and selector is for the closest parent element to find\n      // source http://gomakethings.com/climbing-up-and-down-the-dom-tree-with-vanilla-javascript/\n      var firstChar = selector.charAt(0), selectorSubstring = selector.substr(1);\n      if ( firstChar === '.' ) {// If selector is a class\n        for ( ; element && element !== DOC; element = element[parentNode] ) { // Get closest match\n          if ( queryElement(selector,element[parentNode]) !== null && hasClass(element,selectorSubstring) ) { return element; }\n        }\n      } else if ( firstChar === '#' ) { // If selector is an ID\n        for ( ; element && element !== DOC; element = element[parentNode] ) { // Get closest match\n          if ( element.id === selectorSubstring ) { return element; }\n        }\n      }\n      return false;\n    },\n  \n    // event attach jQuery style / trigger  since 1.2.0\n    on = function (element, event, handler, options) {\n      options = options || false;\n      element.addEventListener(event, handler, options);\n    },\n    off = function(element, event, handler, options) {\n      options = options || false;\n      element.removeEventListener(event, handler, options);\n    },\n    one = function (element, event, handler, options) { // one since 2.0.4\n      on(element, event, function handlerWrapper(e){\n        handler(e);\n        off(element, event, handlerWrapper, options);\n      }, options);\n    },\n    // determine support for passive events\n    supportPassive = (function(){\n      // Test via a getter in the options object to see if the passive property is accessed\n      var result = false;\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          get: function() {\n            result = true;\n          }\n        });\n        one(globalObject, 'testPassive', null, opts);\n      } catch (e) {}\n  \n      return result;\n    }()),\n    // event options\n    // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n    passiveHandler = supportPassive ? { passive: true } : false,\n    // transitions\n    getTransitionDurationFromElement = function(element) {\n      var duration = supportTransitions ? globalObject[getComputedStyle](element)[transitionDuration] : 0;\n      duration = parseFloat(duration);\n      duration = typeof duration === 'number' && !isNaN(duration) ? duration * 1000 : 0;\n      return duration; // we take a short offset to make sure we fire on the next frame after animation\n    },\n    emulateTransitionEnd = function(element,handler){ // emulateTransitionEnd since 2.0.4\n      var called = 0, duration = getTransitionDurationFromElement(element);\n      duration ? one(element, transitionEndEvent, function(e){ !called && handler(e), called = 1; })\n               : setTimeout(function() { !called && handler(), called = 1; }, 17);\n    },\n    bootstrapCustomEvent = function (eventName, componentName, related) {\n      var OriginalCustomEvent = new CustomEvent( eventName + '.bs.' + componentName);\n      OriginalCustomEvent.relatedTarget = related;\n      this.dispatchEvent(OriginalCustomEvent);\n    },\n  \n    // tooltip / popover stuff\n    getScroll = function() { // also Affix and ScrollSpy uses it\n      return {\n        y : globalObject.pageYOffset || HTML[scrollTop],\n        x : globalObject.pageXOffset || HTML[scrollLeft]\n      }\n    },\n    styleTip = function(link,element,position,parent) { // both popovers and tooltips (target,tooltip,placement,elementToAppendTo)\n      var elementDimensions = { w : element[offsetWidth], h: element[offsetHeight] },\n          windowWidth = (HTML[clientWidth] || DOC[body][clientWidth]),\n          windowHeight = (HTML[clientHeight] || DOC[body][clientHeight]),\n          rect = link[getBoundingClientRect](),\n          scroll = parent === DOC[body] ? getScroll() : { x: parent[offsetLeft] + parent[scrollLeft], y: parent[offsetTop] + parent[scrollTop] },\n          linkDimensions = { w: rect[right] - rect[left], h: rect[bottom] - rect[top] },\n          isPopover = hasClass(element,'popover'),\n          topPosition, leftPosition,\n  \n          arrow = queryElement('.arrow',element),\n          arrowTop, arrowLeft, arrowWidth, arrowHeight,\n  \n          halfTopExceed = rect[top] + linkDimensions.h/2 - elementDimensions.h/2 < 0,\n          halfLeftExceed = rect[left] + linkDimensions.w/2 - elementDimensions.w/2 < 0,\n          halfRightExceed = rect[left] + elementDimensions.w/2 + linkDimensions.w/2 >= windowWidth,\n          halfBottomExceed = rect[top] + elementDimensions.h/2 + linkDimensions.h/2 >= windowHeight,\n          topExceed = rect[top] - elementDimensions.h < 0,\n          leftExceed = rect[left] - elementDimensions.w < 0,\n          bottomExceed = rect[top] + elementDimensions.h + linkDimensions.h >= windowHeight,\n          rightExceed = rect[left] + elementDimensions.w + linkDimensions.w >= windowWidth;\n  \n      // recompute position\n      position = (position === left || position === right) && leftExceed && rightExceed ? top : position; // first, when both left and right limits are exceeded, we fall back to top|bottom\n      position = position === top && topExceed ? bottom : position;\n      position = position === bottom && bottomExceed ? top : position;\n      position = position === left && leftExceed ? right : position;\n      position = position === right && rightExceed ? left : position;\n  \n      // update tooltip/popover class\n      element.className[indexOf](position) === -1 && (element.className = element.className.replace(tipPositions,position));\n  \n      // we check the computed width & height and update here\n      arrowWidth = arrow[offsetWidth]; arrowHeight = arrow[offsetHeight];\n  \n      // apply styling to tooltip or popover\n      if ( position === left || position === right ) { // secondary|side positions\n        if ( position === left ) { // LEFT\n          leftPosition = rect[left] + scroll.x - elementDimensions.w - ( isPopover ? arrowWidth : 0 );\n        } else { // RIGHT\n          leftPosition = rect[left] + scroll.x + linkDimensions.w;\n        }\n  \n        // adjust top and arrow\n        if (halfTopExceed) {\n          topPosition = rect[top] + scroll.y;\n          arrowTop = linkDimensions.h/2 - arrowWidth;\n        } else if (halfBottomExceed) {\n          topPosition = rect[top] + scroll.y - elementDimensions.h + linkDimensions.h;\n          arrowTop = elementDimensions.h - linkDimensions.h/2 - arrowWidth;\n        } else {\n          topPosition = rect[top] + scroll.y - elementDimensions.h/2 + linkDimensions.h/2;\n          arrowTop = elementDimensions.h/2 - (isPopover ? arrowHeight*0.9 : arrowHeight/2);\n        }\n      } else if ( position === top || position === bottom ) { // primary|vertical positions\n        if ( position === top) { // TOP\n          topPosition =  rect[top] + scroll.y - elementDimensions.h - ( isPopover ? arrowHeight : 0 );\n        } else { // BOTTOM\n          topPosition = rect[top] + scroll.y + linkDimensions.h;\n        }\n        // adjust left | right and also the arrow\n        if (halfLeftExceed) {\n          leftPosition = 0;\n          arrowLeft = rect[left] + linkDimensions.w/2 - arrowWidth;\n        } else if (halfRightExceed) {\n          leftPosition = windowWidth - elementDimensions.w*1.01;\n          arrowLeft = elementDimensions.w - ( windowWidth - rect[left] ) + linkDimensions.w/2 - arrowWidth/2;\n        } else {\n          leftPosition = rect[left] + scroll.x - elementDimensions.w/2 + linkDimensions.w/2;\n          arrowLeft = elementDimensions.w/2 - ( isPopover ? arrowWidth : arrowWidth/2 );\n        }\n      }\n  \n      // apply style to tooltip/popover and its arrow\n      element[style][top] = topPosition + 'px';\n      element[style][left] = leftPosition + 'px';\n  \n      arrowTop && (arrow[style][top] = arrowTop + 'px');\n      arrowLeft && (arrow[style][left] = arrowLeft + 'px');\n    };\n  \n  BSN.version = '2.0.27';\n  \n  /* Native Javascript for Bootstrap 4 | Dropdown\n  ----------------------------------------------*/\n  \n  // DROPDOWN DEFINITION\n  // ===================\n  var Dropdown = function( element, option ) {\n      \n    // initialization element\n    element = queryElement(element);\n  \n    // set option\n    this.persist = option === true || element[getAttribute]('data-persist') === 'true' || false;\n  \n    // constants, event targets, strings\n    var self = this, children = 'children',\n      parent = element[parentNode],\n      component = 'dropdown', open = 'open',\n      relatedTarget = null,\n      menu = queryElement('.dropdown-menu', parent),\n      menuItems = (function(){\n        var set = menu[children], newSet = [];\n        for ( var i=0; i<set[length]; i++ ){\n          set[i][children][length] && (set[i][children][0].tagName === 'A' && newSet[push](set[i][children][0]));\n          set[i].tagName === 'A' && newSet[push](set[i]);\n        }\n        return newSet;\n      })(),\n  \n      // preventDefault on empty anchor links\n      preventEmptyAnchor = function(anchor){\n        (anchor.href && anchor.href.slice(-1) === '#' || anchor[parentNode] && anchor[parentNode].href \n          && anchor[parentNode].href.slice(-1) === '#') && this[preventDefault]();    \n      },\n  \n      // toggle dismissible events\n      toggleDismiss = function(){\n        var type = element[open] ? on : off;\n        type(DOC, clickEvent, dismissHandler); \n        type(DOC, keydownEvent, preventScroll);\n        type(DOC, keyupEvent, keyHandler);\n        type(DOC, focusEvent, dismissHandler, true);\n      },\n  \n      // handlers\n      dismissHandler = function(e) {\n        var eventTarget = e[target], hasData = eventTarget && (eventTarget[getAttribute](dataToggle) \n                              || eventTarget[parentNode] && getAttribute in eventTarget[parentNode] \n                              && eventTarget[parentNode][getAttribute](dataToggle));\n        if ( e.type === focusEvent && (eventTarget === element || eventTarget === menu || menu[contains](eventTarget) ) ) {\n          return;\n        }\n        if ( (eventTarget === menu || menu[contains](eventTarget)) && (self.persist || hasData) ) { return; }\n        else {\n          relatedTarget = eventTarget === element || element[contains](eventTarget) ? element : null;\n          hide();\n        }\n        preventEmptyAnchor.call(e,eventTarget);\n      },\n      clickHandler = function(e) {\n        relatedTarget = element;\n        show();\n        preventEmptyAnchor.call(e,e[target]);\n      },\n      preventScroll = function(e){\n        var key = e.which || e.keyCode;\n        if( key === 38 || key === 40 ) { e[preventDefault](); }\n      },\n      keyHandler = function(e){\n        var key = e.which || e.keyCode,\n          activeItem = DOC.activeElement,\n          idx = menuItems[indexOf](activeItem),\n          isSameElement = activeItem === element,\n          isInsideMenu = menu[contains](activeItem),\n          isMenuItem = activeItem[parentNode] === menu || activeItem[parentNode][parentNode] === menu;          \n  \n        if ( isMenuItem ) { // navigate up | down\n          idx = isSameElement ? 0 \n                              : key === 38 ? (idx>1?idx-1:0)\n                              : key === 40 ? (idx<menuItems[length]-1?idx+1:idx) : idx;\n          menuItems[idx] && setFocus(menuItems[idx]);\n        }\n        if ( (menuItems[length] && isMenuItem // menu has items\n              || !menuItems[length] && (isInsideMenu || isSameElement)  // menu might be a form\n              || !isInsideMenu ) // or the focused element is not in the menu at all\n              && element[open] && key === 27  // menu must be open\n        ) {\n          self.toggle();\n          relatedTarget = null;\n        }\n      },\n  \n      // private methods\n      show = function() {\n        bootstrapCustomEvent.call(parent, showEvent, component, relatedTarget);\n        addClass(menu,showClass);\n        addClass(parent,showClass);\n        element[setAttribute](ariaExpanded,true);\n        bootstrapCustomEvent.call(parent, shownEvent, component, relatedTarget);\n        element[open] = true;\n        off(element, clickEvent, clickHandler);\n        setTimeout(function(){\n          setFocus( menu[getElementsByTagName]('INPUT')[0] || element ); // focus the first input item | element\n          toggleDismiss();\n        },1);\n      },\n      hide = function() {\n        bootstrapCustomEvent.call(parent, hideEvent, component, relatedTarget);\n        removeClass(menu,showClass);\n        removeClass(parent,showClass);\n        element[setAttribute](ariaExpanded,false);\n        bootstrapCustomEvent.call(parent, hiddenEvent, component, relatedTarget);\n        element[open] = false;\n        toggleDismiss();\n        setFocus(element);\n        setTimeout(function(){ on(element, clickEvent, clickHandler); },1);\n      };\n  \n    // set initial state to closed\n    element[open] = false;\n  \n    // public methods\n    this.toggle = function() {\n      if (hasClass(parent,showClass) && element[open]) { hide(); } \n      else { show(); }\n    };\n  \n    // init\n    if ( !(stringDropdown in element) ) { // prevent adding event handlers twice\n      !tabindex in menu && menu[setAttribute](tabindex, '0'); // Fix onblur on Chrome | Safari\n      on(element, clickEvent, clickHandler);\n    }\n  \n    element[stringDropdown] = self;\n  };\n  \n  // DROPDOWN DATA API\n  // =================\n  supports[push]( [stringDropdown, Dropdown, '['+dataToggle+'=\"dropdown\"]'] );\n  \n  \n  /* Native Javascript for Bootstrap 4 | Collapse\n  -----------------------------------------------*/\n  \n  // COLLAPSE DEFINITION\n  // ===================\n  var Collapse = function( element, options ) {\n  \n    // initialization element\n    element = queryElement(element);\n  \n    // set options\n    options = options || {};\n  \n    // event targets and constants\n    var accordion = null, collapse = null, self = this, \n      accordionData = element[getAttribute]('data-parent'),\n      activeCollapse, activeElement,\n  \n      // component strings\n      component = 'collapse',\n      collapsed = 'collapsed',\n      isAnimating = 'isAnimating',\n  \n      // private methods\n      openAction = function(collapseElement,toggle) {\n        bootstrapCustomEvent.call(collapseElement, showEvent, component);\n        collapseElement[isAnimating] = true;\n        addClass(collapseElement,collapsing);\n        removeClass(collapseElement,component);\n        collapseElement[style][height] = collapseElement[scrollHeight] + 'px';\n        \n        emulateTransitionEnd(collapseElement, function() {\n          collapseElement[isAnimating] = false;\n          collapseElement[setAttribute](ariaExpanded,'true');\n          toggle[setAttribute](ariaExpanded,'true');\n          removeClass(collapseElement,collapsing);\n          addClass(collapseElement, component);\n          addClass(collapseElement,showClass);\n          collapseElement[style][height] = '';\n          bootstrapCustomEvent.call(collapseElement, shownEvent, component);\n        });\n      },\n      closeAction = function(collapseElement,toggle) {\n        bootstrapCustomEvent.call(collapseElement, hideEvent, component);\n        collapseElement[isAnimating] = true;\n        collapseElement[style][height] = collapseElement[scrollHeight] + 'px'; // set height first\n        removeClass(collapseElement,component);\n        removeClass(collapseElement,showClass);\n        addClass(collapseElement,collapsing);\n        collapseElement[offsetWidth]; // force reflow to enable transition\n        collapseElement[style][height] = '0px';\n        \n        emulateTransitionEnd(collapseElement, function() {\n          collapseElement[isAnimating] = false;\n          collapseElement[setAttribute](ariaExpanded,'false');\n          toggle[setAttribute](ariaExpanded,'false');\n          removeClass(collapseElement,collapsing);\n          addClass(collapseElement,component);\n          collapseElement[style][height] = '';\n          bootstrapCustomEvent.call(collapseElement, hiddenEvent, component);\n        });\n      },\n      getTarget = function() {\n        var href = element.href && element[getAttribute]('href'),\n          parent = element[getAttribute](dataTarget),\n          id = href || ( parent && parent.charAt(0) === '#' ) && parent;\n        return id && queryElement(id);\n      };\n    \n    // public methods\n    this.toggle = function(e) {\n      e[preventDefault]();\n      if (!hasClass(collapse,showClass)) { self.show(); } \n      else { self.hide(); }\n    };\n    this.hide = function() {\n      if ( collapse[isAnimating] ) return;    \n      closeAction(collapse,element);\n      addClass(element,collapsed);\n    };\n    this.show = function() {\n      if ( accordion ) {\n        activeCollapse = queryElement('.'+component+'.'+showClass,accordion);\n        activeElement = activeCollapse && (queryElement('['+dataTarget+'=\"#'+activeCollapse.id+'\"]',accordion)\n                      || queryElement('[href=\"#'+activeCollapse.id+'\"]',accordion) );\n      }\n  \n      if ( !collapse[isAnimating] || activeCollapse && !activeCollapse[isAnimating] ) {\n        if ( activeElement && activeCollapse !== collapse ) {\n          closeAction(activeCollapse,activeElement); \n          addClass(activeElement,collapsed);\n        }\n        openAction(collapse,element);\n        removeClass(element,collapsed);\n      }\n    };\n  \n    // init\n    if ( !(stringCollapse in element ) ) { // prevent adding event handlers twice\n      on(element, clickEvent, self.toggle);\n    }\n    collapse = getTarget();\n    collapse[isAnimating] = false;  // when true it will prevent click handlers  \n    accordion = queryElement(options.parent) || accordionData && getClosest(element, accordionData);\n    element[stringCollapse] = self;\n  };\n  \n  // COLLAPSE DATA API\n  // =================\n  supports[push]( [ stringCollapse, Collapse, '['+dataToggle+'=\"collapse\"]' ] );\n  \n  \n  /* Native Javascript for Bootstrap 4 | Tab\n  -----------------------------------------*/\n  \n  // TAB DEFINITION\n  // ==============\n  var Tab = function( element, options ) {\n  \n    // initialization element\n    element = queryElement(element);\n  \n    // DATA API\n    var heightData = element[getAttribute](dataHeight),\n      \n        // strings\n        component = 'tab', height = 'height', float = 'float', isAnimating = 'isAnimating';\n        \n    // set options\n    options = options || {};\n    this[height] = supportTransitions ? (options[height] || heightData === 'true') : false;\n  \n    // bind, event targets\n    var self = this, next,\n      tabs = getClosest(element,'.nav'),\n      tabsContentContainer = false,\n      dropdown = tabs && queryElement('.dropdown-toggle',tabs),\n      activeTab, activeContent, nextContent, containerHeight, equalContents, nextHeight,\n      \n      // trigger\n      triggerEnd = function(){\n        tabsContentContainer[style][height] = '';\n        removeClass(tabsContentContainer,collapsing);\n        tabs[isAnimating] = false;\n      },\n      triggerShow = function() {\n        if (tabsContentContainer) { // height animation\n          if ( equalContents ) {\n            triggerEnd();\n          } else {\n            setTimeout(function(){ // enables height animation\n              tabsContentContainer[style][height] = nextHeight + 'px'; // height animation\n              tabsContentContainer[offsetWidth];\n              emulateTransitionEnd(tabsContentContainer, triggerEnd);\n            },50);\n          }\n        } else {\n          tabs[isAnimating] = false; \n        }\n        bootstrapCustomEvent.call(next, shownEvent, component, activeTab);\n      },\n      triggerHide = function() {\n        if (tabsContentContainer) {\n          activeContent[style][float] = left;\n          nextContent[style][float] = left;        \n          containerHeight = activeContent[scrollHeight];\n        }\n          \n        addClass(nextContent,active);\n        bootstrapCustomEvent.call(next, showEvent, component, activeTab);\n  \n        removeClass(activeContent,active);\n        bootstrapCustomEvent.call(activeTab, hiddenEvent, component, next);\n        \n        if (tabsContentContainer) {\n          nextHeight = nextContent[scrollHeight];\n          equalContents = nextHeight === containerHeight;\n          addClass(tabsContentContainer,collapsing);\n          tabsContentContainer[style][height] = containerHeight + 'px'; // height animation\n          tabsContentContainer[offsetHeight];\n          activeContent[style][float] = '';\n          nextContent[style][float] = '';\n        }\n  \n        if ( hasClass(nextContent, 'fade') ) {\n          setTimeout(function(){\n            addClass(nextContent,showClass);\n            emulateTransitionEnd(nextContent,triggerShow);\n          },20);\n        } else { triggerShow(); }        \n      };\n  \n    if (!tabs) return; // invalidate\n  \n    // set default animation state\n    tabs[isAnimating] = false;    \n          \n    // private methods\n    var getActiveTab = function() {\n        var activeTabs = getElementsByClassName(tabs,active), activeTab;\n        if ( activeTabs[length] === 1 && !hasClass(activeTabs[0][parentNode],'dropdown') ) {\n          activeTab = activeTabs[0];\n        } else if ( activeTabs[length] > 1 ) {\n          activeTab = activeTabs[activeTabs[length]-1];\n        }\n        return activeTab;\n      },\n      getActiveContent = function() {\n        return queryElement(getActiveTab()[getAttribute]('href'));\n      },\n      // handler \n      clickHandler = function(e) {\n        e[preventDefault]();\n        next = e[currentTarget];\n        !tabs[isAnimating] && !hasClass(next,active) && self.show();\n      };\n  \n    // public method\n    this.show = function() { // the tab we clicked is now the next tab\n      next = next || element;\n      nextContent = queryElement(next[getAttribute]('href')); //this is the actual object, the next tab content to activate\n      activeTab = getActiveTab(); \n      activeContent = getActiveContent();\n      \n      tabs[isAnimating] = true;\n      removeClass(activeTab,active);\n      activeTab[setAttribute](ariaSelected,'false');\n      addClass(next,active);\n      next[setAttribute](ariaSelected,'true');    \n  \n      if ( dropdown ) {\n        if ( !hasClass(element[parentNode],'dropdown-menu') ) {\n          if (hasClass(dropdown,active)) removeClass(dropdown,active);\n        } else {\n          if (!hasClass(dropdown,active)) addClass(dropdown,active);\n        }\n      }\n      \n      bootstrapCustomEvent.call(activeTab, hideEvent, component, next);\n  \n      if (hasClass(activeContent, 'fade')) {\n        removeClass(activeContent,showClass);\n        emulateTransitionEnd(activeContent, triggerHide);\n      } else { triggerHide(); }\n    };\n  \n    // init\n    if ( !(stringTab in element) ) { // prevent adding event handlers twice\n      on(element, clickEvent, clickHandler);\n    }\n    if (self[height]) { tabsContentContainer = getActiveContent()[parentNode]; }\n    element[stringTab] = self;\n  };\n  \n  // TAB DATA API\n  // ============\n  supports[push]( [ stringTab, Tab, '['+dataToggle+'=\"tab\"]' ] );\n  \n  \n  \r\n  /* Native Javascript for Bootstrap | Initialize Data API\r\n  --------------------------------------------------------*/\r\n  var initializeDataAPI = function( constructor, collection ){\r\n      for (var i=0, l=collection[length]; i<l; i++) {\r\n        new constructor(collection[i]);\r\n      }\r\n    },\r\n    initCallback = BSN.initCallback = function(lookUp){\r\n      lookUp = lookUp || DOC;\r\n      for (var i=0, l=supports[length]; i<l; i++) {\r\n        initializeDataAPI( supports[i][1], lookUp[querySelectorAll] (supports[i][2]) );\r\n      }\r\n    };\r\n  \r\n  // bulk initialize all components\r\n  DOC[body] ? initCallback() : on( DOC, 'DOMContentLoaded', function(){ initCallback(); } );\r\n  \n  return {\n    Dropdown: Dropdown,\n    Collapse: Collapse,\n    Tab: Tab\n  };\n}));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(110)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwLm5hdGl2ZS9kaXN0L2Jvb3RzdHJhcC1uYXRpdmUtdjQuanM/N2FjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOYXRpdmUgSmF2YXNjcmlwdCBmb3IgQm9vdHN0cmFwIDQgdjIuMC4yNyB8IMKpIGRucF90aGVtZSB8IE1JVC1MaWNlbnNlXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRCBzdXBwb3J0OlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBDb21tb25KUy1saWtlOlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgdmFyIGJzbiA9IGZhY3RvcnkoKTtcbiAgICByb290LkRyb3Bkb3duID0gYnNuLkRyb3Bkb3duO1xuICAgIHJvb3QuQ29sbGFwc2UgPSBic24uQ29sbGFwc2U7XG4gICAgcm9vdC5UYWIgPSBic24uVGFiO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgXG4gIC8qIE5hdGl2ZSBKYXZhc2NyaXB0IGZvciBCb290c3RyYXAgNCB8IEludGVybmFsIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICBcInVzZSBzdHJpY3RcIjtcbiAgXG4gIC8vIGdsb2JhbHNcbiAgdmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdGhpc3x8d2luZG93LFxuICAgIERPQyA9IGRvY3VtZW50LCBIVE1MID0gRE9DLmRvY3VtZW50RWxlbWVudCwgYm9keSA9ICdib2R5JywgLy8gYWxsb3cgdGhlIGxpYnJhcnkgdG8gYmUgdXNlZCBpbiA8aGVhZD5cbiAgXG4gICAgLy8gTmF0aXZlIEphdmFzY3JpcHQgZm9yIEJvb3RzdHJhcCBHbG9iYWwgT2JqZWN0XG4gICAgQlNOID0gZ2xvYmFsT2JqZWN0LkJTTiA9IHt9LFxuICAgIHN1cHBvcnRzID0gQlNOLnN1cHBvcnRzID0gW10sXG4gIFxuICAgIC8vIGZ1bmN0aW9uIHRvZ2dsZSBhdHRyaWJ1dGVzXG4gICAgZGF0YVRvZ2dsZSAgICA9ICdkYXRhLXRvZ2dsZScsXG4gICAgZGF0YURpc21pc3MgICA9ICdkYXRhLWRpc21pc3MnLFxuICAgIGRhdGFTcHkgICAgICAgPSAnZGF0YS1zcHknLFxuICAgIGRhdGFSaWRlICAgICAgPSAnZGF0YS1yaWRlJyxcbiAgXG4gICAgLy8gY29tcG9uZW50c1xuICAgIHN0cmluZ0FsZXJ0ICAgICA9ICdBbGVydCcsXG4gICAgc3RyaW5nQnV0dG9uICAgID0gJ0J1dHRvbicsXG4gICAgc3RyaW5nQ2Fyb3VzZWwgID0gJ0Nhcm91c2VsJyxcbiAgICBzdHJpbmdDb2xsYXBzZSAgPSAnQ29sbGFwc2UnLFxuICAgIHN0cmluZ0Ryb3Bkb3duICA9ICdEcm9wZG93bicsXG4gICAgc3RyaW5nTW9kYWwgICAgID0gJ01vZGFsJyxcbiAgICBzdHJpbmdQb3BvdmVyICAgPSAnUG9wb3ZlcicsXG4gICAgc3RyaW5nU2Nyb2xsU3B5ID0gJ1Njcm9sbFNweScsXG4gICAgc3RyaW5nVGFiICAgICAgID0gJ1RhYicsXG4gICAgc3RyaW5nVG9vbHRpcCAgID0gJ1Rvb2x0aXAnLFxuICAgIHN0cmluZ1RvYXN0ICAgICA9ICdUb2FzdCcsXG4gIFxuICAgIC8vIG9wdGlvbnMgREFUQSBBUElcbiAgICBkYXRhQXV0b2hpZGUgICAgICA9ICdkYXRhLWF1dG9oaWRlJyxcbiAgICBkYXRhYmFja2Ryb3AgICAgICA9ICdkYXRhLWJhY2tkcm9wJyxcbiAgICBkYXRhS2V5Ym9hcmQgICAgICA9ICdkYXRhLWtleWJvYXJkJyxcbiAgICBkYXRhVGFyZ2V0ICAgICAgICA9ICdkYXRhLXRhcmdldCcsXG4gICAgZGF0YUludGVydmFsICAgICAgPSAnZGF0YS1pbnRlcnZhbCcsXG4gICAgZGF0YUhlaWdodCAgICAgICAgPSAnZGF0YS1oZWlnaHQnLFxuICAgIGRhdGFQYXVzZSAgICAgICAgID0gJ2RhdGEtcGF1c2UnLFxuICAgIGRhdGFUaXRsZSAgICAgICAgID0gJ2RhdGEtdGl0bGUnLFxuICAgIGRhdGFPcmlnaW5hbFRpdGxlID0gJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLFxuICAgIGRhdGFEaXNtaXNzaWJsZSAgID0gJ2RhdGEtZGlzbWlzc2libGUnLFxuICAgIGRhdGFUcmlnZ2VyICAgICAgID0gJ2RhdGEtdHJpZ2dlcicsXG4gICAgZGF0YUFuaW1hdGlvbiAgICAgPSAnZGF0YS1hbmltYXRpb24nLFxuICAgIGRhdGFDb250YWluZXIgICAgID0gJ2RhdGEtY29udGFpbmVyJyxcbiAgICBkYXRhUGxhY2VtZW50ICAgICA9ICdkYXRhLXBsYWNlbWVudCcsXG4gICAgZGF0YURlbGF5ICAgICAgICAgPSAnZGF0YS1kZWxheScsXG4gIFxuICAgIC8vIG9wdGlvbiBrZXlzXG4gICAgYmFja2Ryb3AgPSAnYmFja2Ryb3AnLCBrZXlib2FyZCA9ICdrZXlib2FyZCcsIGRlbGF5ID0gJ2RlbGF5JyxcbiAgICBjb250ZW50ID0gJ2NvbnRlbnQnLCB0YXJnZXQgPSAndGFyZ2V0JywgY3VycmVudFRhcmdldCA9ICdjdXJyZW50VGFyZ2V0JyxcbiAgICBpbnRlcnZhbCA9ICdpbnRlcnZhbCcsIHBhdXNlID0gJ3BhdXNlJywgYW5pbWF0aW9uID0gJ2FuaW1hdGlvbicsXG4gICAgcGxhY2VtZW50ID0gJ3BsYWNlbWVudCcsIGNvbnRhaW5lciA9ICdjb250YWluZXInLFxuICBcbiAgICAvLyBib3ggbW9kZWxcbiAgICBvZmZzZXRUb3AgICAgPSAnb2Zmc2V0VG9wJywgICAgICBvZmZzZXRCb3R0b20gICA9ICdvZmZzZXRCb3R0b20nLFxuICAgIG9mZnNldExlZnQgICA9ICdvZmZzZXRMZWZ0JyxcbiAgICBzY3JvbGxUb3AgICAgPSAnc2Nyb2xsVG9wJywgICAgICBzY3JvbGxMZWZ0ICAgICA9ICdzY3JvbGxMZWZ0JyxcbiAgICBjbGllbnRXaWR0aCAgPSAnY2xpZW50V2lkdGgnLCAgICBjbGllbnRIZWlnaHQgICA9ICdjbGllbnRIZWlnaHQnLFxuICAgIG9mZnNldFdpZHRoICA9ICdvZmZzZXRXaWR0aCcsICAgIG9mZnNldEhlaWdodCAgID0gJ29mZnNldEhlaWdodCcsXG4gICAgaW5uZXJXaWR0aCAgID0gJ2lubmVyV2lkdGgnLCAgICAgaW5uZXJIZWlnaHQgICAgPSAnaW5uZXJIZWlnaHQnLFxuICAgIHNjcm9sbEhlaWdodCA9ICdzY3JvbGxIZWlnaHQnLCAgIHNjcm9sbFdpZHRoICAgID0gJ3Njcm9sbFdpZHRoJyxcbiAgICBoZWlnaHQgICAgICAgICA9ICdoZWlnaHQnLFxuICBcbiAgICAvLyBhcmlhXG4gICAgYXJpYUV4cGFuZGVkID0gJ2FyaWEtZXhwYW5kZWQnLFxuICAgIGFyaWFIaWRkZW4gICA9ICdhcmlhLWhpZGRlbicsXG4gICAgYXJpYVNlbGVjdGVkID0gJ2FyaWEtc2VsZWN0ZWQnLFxuICBcbiAgICAvLyBldmVudCBuYW1lc1xuICAgIGNsaWNrRXZlbnQgICAgPSAnY2xpY2snLFxuICAgIGZvY3VzRXZlbnQgICAgPSAnZm9jdXMnLFxuICAgIGhvdmVyRXZlbnQgICAgPSAnaG92ZXInLFxuICAgIGtleWRvd25FdmVudCAgPSAna2V5ZG93bicsXG4gICAga2V5dXBFdmVudCAgICA9ICdrZXl1cCcsXG4gICAgcmVzaXplRXZlbnQgICA9ICdyZXNpemUnLCAvLyBwYXNzaXZlXG4gICAgc2Nyb2xsRXZlbnQgICA9ICdzY3JvbGwnLCAvLyBwYXNzaXZlXG4gICAgbW91c2VIb3ZlciA9ICgnb25tb3VzZWxlYXZlJyBpbiBET0MpID8gWyAnbW91c2VlbnRlcicsICdtb3VzZWxlYXZlJ10gOiBbICdtb3VzZW92ZXInLCAnbW91c2VvdXQnIF0sXG4gICAgLy8gdG91Y2ggc2luY2UgMi4wLjI2XG4gICAgdG91Y2hFdmVudHMgPSB7IHN0YXJ0OiAndG91Y2hzdGFydCcsIGVuZDogJ3RvdWNoZW5kJywgbW92ZTondG91Y2htb3ZlJyB9LCAvLyBwYXNzaXZlXG4gICAgLy8gb3JpZ2luYWxFdmVudHNcbiAgICBzaG93RXZlbnQgICAgID0gJ3Nob3cnLFxuICAgIHNob3duRXZlbnQgICAgPSAnc2hvd24nLFxuICAgIGhpZGVFdmVudCAgICAgPSAnaGlkZScsXG4gICAgaGlkZGVuRXZlbnQgICA9ICdoaWRkZW4nLFxuICAgIGNsb3NlRXZlbnQgICAgPSAnY2xvc2UnLFxuICAgIGNsb3NlZEV2ZW50ICAgPSAnY2xvc2VkJyxcbiAgICBzbGlkRXZlbnQgICAgID0gJ3NsaWQnLFxuICAgIHNsaWRlRXZlbnQgICAgPSAnc2xpZGUnLFxuICAgIGNoYW5nZUV2ZW50ICAgPSAnY2hhbmdlJyxcbiAgXG4gICAgLy8gb3RoZXJcbiAgICBnZXRBdHRyaWJ1dGUgICAgICAgICAgID0gJ2dldEF0dHJpYnV0ZScsXG4gICAgc2V0QXR0cmlidXRlICAgICAgICAgICA9ICdzZXRBdHRyaWJ1dGUnLFxuICAgIGhhc0F0dHJpYnV0ZSAgICAgICAgICAgPSAnaGFzQXR0cmlidXRlJyxcbiAgICBjcmVhdGVFbGVtZW50ICAgICAgICAgID0gJ2NyZWF0ZUVsZW1lbnQnLFxuICAgIGFwcGVuZENoaWxkICAgICAgICAgICAgPSAnYXBwZW5kQ2hpbGQnLFxuICAgIGlubmVySFRNTCAgICAgICAgICAgICAgPSAnaW5uZXJIVE1MJyxcbiAgICBnZXRFbGVtZW50c0J5VGFnTmFtZSAgID0gJ2dldEVsZW1lbnRzQnlUYWdOYW1lJyxcbiAgICBwcmV2ZW50RGVmYXVsdCAgICAgICAgID0gJ3ByZXZlbnREZWZhdWx0JyxcbiAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3QgID0gJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcsXG4gICAgcXVlcnlTZWxlY3RvckFsbCAgICAgICA9ICdxdWVyeVNlbGVjdG9yQWxsJyxcbiAgICBnZXRFbGVtZW50c0J5Q0xBU1NOQU1FID0gJ2dldEVsZW1lbnRzQnlDbGFzc05hbWUnLFxuICAgIGdldENvbXB1dGVkU3R5bGUgICAgICAgPSAnZ2V0Q29tcHV0ZWRTdHlsZScsICBcbiAgXG4gICAgaW5kZXhPZiAgICAgID0gJ2luZGV4T2YnLFxuICAgIHBhcmVudE5vZGUgICA9ICdwYXJlbnROb2RlJyxcbiAgICBsZW5ndGggICAgICAgPSAnbGVuZ3RoJyxcbiAgICB0b0xvd2VyQ2FzZSAgPSAndG9Mb3dlckNhc2UnLFxuICAgIFRyYW5zaXRpb24gICA9ICdUcmFuc2l0aW9uJyxcbiAgICBEdXJhdGlvbiAgICAgPSAnRHVyYXRpb24nLFxuICAgIFdlYmtpdCAgICAgICA9ICdXZWJraXQnLFxuICAgIHN0eWxlICAgICAgICA9ICdzdHlsZScsXG4gICAgcHVzaCAgICAgICAgID0gJ3B1c2gnLFxuICAgIHRhYmluZGV4ICAgICA9ICd0YWJpbmRleCcsXG4gICAgY29udGFpbnMgICAgID0gJ2NvbnRhaW5zJyxcbiAgXG4gICAgYWN0aXZlICAgICA9ICdhY3RpdmUnLFxuICAgIHNob3dDbGFzcyAgPSAnc2hvdycsXG4gICAgY29sbGFwc2luZyA9ICdjb2xsYXBzaW5nJyxcbiAgICBkaXNhYmxlZCAgID0gJ2Rpc2FibGVkJyxcbiAgICBsb2FkaW5nICAgID0gJ2xvYWRpbmcnLFxuICAgIGxlZnQgICAgICAgPSAnbGVmdCcsXG4gICAgcmlnaHQgICAgICA9ICdyaWdodCcsXG4gICAgdG9wICAgICAgICA9ICd0b3AnLFxuICAgIGJvdHRvbSAgICAgPSAnYm90dG9tJyxcbiAgXG4gICAgLy8gdG9vbHRpcCAvIHBvcG92ZXJcbiAgICB0aXBQb3NpdGlvbnMgPSAvXFxiKHRvcHxib3R0b218bGVmdHxyaWdodCkrLyxcbiAgXG4gICAgLy8gbW9kYWxcbiAgICBtb2RhbE92ZXJsYXkgPSAwLFxuICAgIGZpeGVkVG9wID0gJ2ZpeGVkLXRvcCcsXG4gICAgZml4ZWRCb3R0b20gPSAnZml4ZWQtYm90dG9tJyxcbiAgXG4gICAgLy8gdHJhbnNpdGlvbkVuZCBzaW5jZSAyLjAuNFxuICAgIHN1cHBvcnRUcmFuc2l0aW9ucyA9IFdlYmtpdCtUcmFuc2l0aW9uIGluIEhUTUxbc3R5bGVdIHx8IFRyYW5zaXRpb25bdG9Mb3dlckNhc2VdKCkgaW4gSFRNTFtzdHlsZV0sXG4gICAgdHJhbnNpdGlvbkVuZEV2ZW50ID0gV2Via2l0K1RyYW5zaXRpb24gaW4gSFRNTFtzdHlsZV0gPyBXZWJraXRbdG9Mb3dlckNhc2VdKCkrVHJhbnNpdGlvbisnRW5kJyA6IFRyYW5zaXRpb25bdG9Mb3dlckNhc2VdKCkrJ2VuZCcsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gV2Via2l0K0R1cmF0aW9uIGluIEhUTUxbc3R5bGVdID8gV2Via2l0W3RvTG93ZXJDYXNlXSgpK1RyYW5zaXRpb24rRHVyYXRpb24gOiBUcmFuc2l0aW9uW3RvTG93ZXJDYXNlXSgpK0R1cmF0aW9uLFxuICBcbiAgICAvLyBzZXQgbmV3IGZvY3VzIGVsZW1lbnQgc2luY2UgMi4wLjNcbiAgICBzZXRGb2N1cyA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgZWxlbWVudC5mb2N1cyA/IGVsZW1lbnQuZm9jdXMoKSA6IGVsZW1lbnQuc2V0QWN0aXZlKCk7XG4gICAgfSxcbiAgXG4gICAgLy8gY2xhc3MgbWFuaXB1bGF0aW9uLCBzaW5jZSAyLjAuMCByZXF1aXJlcyBwb2x5ZmlsbC5qc1xuICAgIGFkZENsYXNzID0gZnVuY3Rpb24oZWxlbWVudCxjbGFzc05BTUUpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05BTUUpO1xuICAgIH0sXG4gICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbGVtZW50LGNsYXNzTkFNRSkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTkFNRSk7XG4gICAgfSxcbiAgICBoYXNDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOQU1FKXsgLy8gc2luY2UgMi4wLjBcbiAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdFtjb250YWluc10oY2xhc3NOQU1FKTtcbiAgICB9LFxuICBcbiAgICAvLyBzZWxlY3Rpb24gbWV0aG9kc1xuICAgIGdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbihlbGVtZW50LGNsYXNzTkFNRSkgeyAvLyByZXR1cm5zIEFycmF5XG4gICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChlbGVtZW50W2dldEVsZW1lbnRzQnlDTEFTU05BTUVdKCBjbGFzc05BTUUgKSk7XG4gICAgfSxcbiAgICBxdWVyeUVsZW1lbnQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIHBhcmVudCkge1xuICAgICAgdmFyIGxvb2tVcCA9IHBhcmVudCA/IHBhcmVudCA6IERPQztcbiAgICAgIHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdvYmplY3QnID8gc2VsZWN0b3IgOiBsb29rVXAucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfSxcbiAgICBnZXRDbG9zZXN0ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yKSB7IC8vZWxlbWVudCBpcyB0aGUgZWxlbWVudCBhbmQgc2VsZWN0b3IgaXMgZm9yIHRoZSBjbG9zZXN0IHBhcmVudCBlbGVtZW50IHRvIGZpbmRcbiAgICAgIC8vIHNvdXJjZSBodHRwOi8vZ29tYWtldGhpbmdzLmNvbS9jbGltYmluZy11cC1hbmQtZG93bi10aGUtZG9tLXRyZWUtd2l0aC12YW5pbGxhLWphdmFzY3JpcHQvXG4gICAgICB2YXIgZmlyc3RDaGFyID0gc2VsZWN0b3IuY2hhckF0KDApLCBzZWxlY3RvclN1YnN0cmluZyA9IHNlbGVjdG9yLnN1YnN0cigxKTtcbiAgICAgIGlmICggZmlyc3RDaGFyID09PSAnLicgKSB7Ly8gSWYgc2VsZWN0b3IgaXMgYSBjbGFzc1xuICAgICAgICBmb3IgKCA7IGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gRE9DOyBlbGVtZW50ID0gZWxlbWVudFtwYXJlbnROb2RlXSApIHsgLy8gR2V0IGNsb3Nlc3QgbWF0Y2hcbiAgICAgICAgICBpZiAoIHF1ZXJ5RWxlbWVudChzZWxlY3RvcixlbGVtZW50W3BhcmVudE5vZGVdKSAhPT0gbnVsbCAmJiBoYXNDbGFzcyhlbGVtZW50LHNlbGVjdG9yU3Vic3RyaW5nKSApIHsgcmV0dXJuIGVsZW1lbnQ7IH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggZmlyc3RDaGFyID09PSAnIycgKSB7IC8vIElmIHNlbGVjdG9yIGlzIGFuIElEXG4gICAgICAgIGZvciAoIDsgZWxlbWVudCAmJiBlbGVtZW50ICE9PSBET0M7IGVsZW1lbnQgPSBlbGVtZW50W3BhcmVudE5vZGVdICkgeyAvLyBHZXQgY2xvc2VzdCBtYXRjaFxuICAgICAgICAgIGlmICggZWxlbWVudC5pZCA9PT0gc2VsZWN0b3JTdWJzdHJpbmcgKSB7IHJldHVybiBlbGVtZW50OyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICBcbiAgICAvLyBldmVudCBhdHRhY2ggalF1ZXJ5IHN0eWxlIC8gdHJpZ2dlciAgc2luY2UgMS4yLjBcbiAgICBvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgZmFsc2U7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgb2ZmID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IGZhbHNlO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIG9uZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykgeyAvLyBvbmUgc2luY2UgMi4wLjRcbiAgICAgIG9uKGVsZW1lbnQsIGV2ZW50LCBmdW5jdGlvbiBoYW5kbGVyV3JhcHBlcihlKXtcbiAgICAgICAgaGFuZGxlcihlKTtcbiAgICAgICAgb2ZmKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyV3JhcHBlciwgb3B0aW9ucyk7XG4gICAgICB9LCBvcHRpb25zKTtcbiAgICB9LFxuICAgIC8vIGRldGVybWluZSBzdXBwb3J0IGZvciBwYXNzaXZlIGV2ZW50c1xuICAgIHN1cHBvcnRQYXNzaXZlID0gKGZ1bmN0aW9uKCl7XG4gICAgICAvLyBUZXN0IHZpYSBhIGdldHRlciBpbiB0aGUgb3B0aW9ucyBvYmplY3QgdG8gc2VlIGlmIHRoZSBwYXNzaXZlIHByb3BlcnR5IGlzIGFjY2Vzc2VkXG4gICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb25lKGdsb2JhbE9iamVjdCwgJ3Rlc3RQYXNzaXZlJywgbnVsbCwgb3B0cyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICBcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSgpKSxcbiAgICAvLyBldmVudCBvcHRpb25zXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWQjZmVhdHVyZS1kZXRlY3Rpb25cbiAgICBwYXNzaXZlSGFuZGxlciA9IHN1cHBvcnRQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSxcbiAgICAvLyB0cmFuc2l0aW9uc1xuICAgIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIGR1cmF0aW9uID0gc3VwcG9ydFRyYW5zaXRpb25zID8gZ2xvYmFsT2JqZWN0W2dldENvbXB1dGVkU3R5bGVdKGVsZW1lbnQpW3RyYW5zaXRpb25EdXJhdGlvbl0gOiAwO1xuICAgICAgZHVyYXRpb24gPSBwYXJzZUZsb2F0KGR1cmF0aW9uKTtcbiAgICAgIGR1cmF0aW9uID0gdHlwZW9mIGR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oZHVyYXRpb24pID8gZHVyYXRpb24gKiAxMDAwIDogMDtcbiAgICAgIHJldHVybiBkdXJhdGlvbjsgLy8gd2UgdGFrZSBhIHNob3J0IG9mZnNldCB0byBtYWtlIHN1cmUgd2UgZmlyZSBvbiB0aGUgbmV4dCBmcmFtZSBhZnRlciBhbmltYXRpb25cbiAgICB9LFxuICAgIGVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oZWxlbWVudCxoYW5kbGVyKXsgLy8gZW11bGF0ZVRyYW5zaXRpb25FbmQgc2luY2UgMi4wLjRcbiAgICAgIHZhciBjYWxsZWQgPSAwLCBkdXJhdGlvbiA9IGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgZHVyYXRpb24gPyBvbmUoZWxlbWVudCwgdHJhbnNpdGlvbkVuZEV2ZW50LCBmdW5jdGlvbihlKXsgIWNhbGxlZCAmJiBoYW5kbGVyKGUpLCBjYWxsZWQgPSAxOyB9KVxuICAgICAgICAgICAgICAgOiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAhY2FsbGVkICYmIGhhbmRsZXIoKSwgY2FsbGVkID0gMTsgfSwgMTcpO1xuICAgIH0sXG4gICAgYm9vdHN0cmFwQ3VzdG9tRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjb21wb25lbnROYW1lLCByZWxhdGVkKSB7XG4gICAgICB2YXIgT3JpZ2luYWxDdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudCggZXZlbnROYW1lICsgJy5icy4nICsgY29tcG9uZW50TmFtZSk7XG4gICAgICBPcmlnaW5hbEN1c3RvbUV2ZW50LnJlbGF0ZWRUYXJnZXQgPSByZWxhdGVkO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KE9yaWdpbmFsQ3VzdG9tRXZlbnQpO1xuICAgIH0sXG4gIFxuICAgIC8vIHRvb2x0aXAgLyBwb3BvdmVyIHN0dWZmXG4gICAgZ2V0U2Nyb2xsID0gZnVuY3Rpb24oKSB7IC8vIGFsc28gQWZmaXggYW5kIFNjcm9sbFNweSB1c2VzIGl0XG4gICAgICByZXR1cm4ge1xuICAgICAgICB5IDogZ2xvYmFsT2JqZWN0LnBhZ2VZT2Zmc2V0IHx8IEhUTUxbc2Nyb2xsVG9wXSxcbiAgICAgICAgeCA6IGdsb2JhbE9iamVjdC5wYWdlWE9mZnNldCB8fCBIVE1MW3Njcm9sbExlZnRdXG4gICAgICB9XG4gICAgfSxcbiAgICBzdHlsZVRpcCA9IGZ1bmN0aW9uKGxpbmssZWxlbWVudCxwb3NpdGlvbixwYXJlbnQpIHsgLy8gYm90aCBwb3BvdmVycyBhbmQgdG9vbHRpcHMgKHRhcmdldCx0b29sdGlwLHBsYWNlbWVudCxlbGVtZW50VG9BcHBlbmRUbylcbiAgICAgIHZhciBlbGVtZW50RGltZW5zaW9ucyA9IHsgdyA6IGVsZW1lbnRbb2Zmc2V0V2lkdGhdLCBoOiBlbGVtZW50W29mZnNldEhlaWdodF0gfSxcbiAgICAgICAgICB3aW5kb3dXaWR0aCA9IChIVE1MW2NsaWVudFdpZHRoXSB8fCBET0NbYm9keV1bY2xpZW50V2lkdGhdKSxcbiAgICAgICAgICB3aW5kb3dIZWlnaHQgPSAoSFRNTFtjbGllbnRIZWlnaHRdIHx8IERPQ1tib2R5XVtjbGllbnRIZWlnaHRdKSxcbiAgICAgICAgICByZWN0ID0gbGlua1tnZXRCb3VuZGluZ0NsaWVudFJlY3RdKCksXG4gICAgICAgICAgc2Nyb2xsID0gcGFyZW50ID09PSBET0NbYm9keV0gPyBnZXRTY3JvbGwoKSA6IHsgeDogcGFyZW50W29mZnNldExlZnRdICsgcGFyZW50W3Njcm9sbExlZnRdLCB5OiBwYXJlbnRbb2Zmc2V0VG9wXSArIHBhcmVudFtzY3JvbGxUb3BdIH0sXG4gICAgICAgICAgbGlua0RpbWVuc2lvbnMgPSB7IHc6IHJlY3RbcmlnaHRdIC0gcmVjdFtsZWZ0XSwgaDogcmVjdFtib3R0b21dIC0gcmVjdFt0b3BdIH0sXG4gICAgICAgICAgaXNQb3BvdmVyID0gaGFzQ2xhc3MoZWxlbWVudCwncG9wb3ZlcicpLFxuICAgICAgICAgIHRvcFBvc2l0aW9uLCBsZWZ0UG9zaXRpb24sXG4gIFxuICAgICAgICAgIGFycm93ID0gcXVlcnlFbGVtZW50KCcuYXJyb3cnLGVsZW1lbnQpLFxuICAgICAgICAgIGFycm93VG9wLCBhcnJvd0xlZnQsIGFycm93V2lkdGgsIGFycm93SGVpZ2h0LFxuICBcbiAgICAgICAgICBoYWxmVG9wRXhjZWVkID0gcmVjdFt0b3BdICsgbGlua0RpbWVuc2lvbnMuaC8yIC0gZWxlbWVudERpbWVuc2lvbnMuaC8yIDwgMCxcbiAgICAgICAgICBoYWxmTGVmdEV4Y2VlZCA9IHJlY3RbbGVmdF0gKyBsaW5rRGltZW5zaW9ucy53LzIgLSBlbGVtZW50RGltZW5zaW9ucy53LzIgPCAwLFxuICAgICAgICAgIGhhbGZSaWdodEV4Y2VlZCA9IHJlY3RbbGVmdF0gKyBlbGVtZW50RGltZW5zaW9ucy53LzIgKyBsaW5rRGltZW5zaW9ucy53LzIgPj0gd2luZG93V2lkdGgsXG4gICAgICAgICAgaGFsZkJvdHRvbUV4Y2VlZCA9IHJlY3RbdG9wXSArIGVsZW1lbnREaW1lbnNpb25zLmgvMiArIGxpbmtEaW1lbnNpb25zLmgvMiA+PSB3aW5kb3dIZWlnaHQsXG4gICAgICAgICAgdG9wRXhjZWVkID0gcmVjdFt0b3BdIC0gZWxlbWVudERpbWVuc2lvbnMuaCA8IDAsXG4gICAgICAgICAgbGVmdEV4Y2VlZCA9IHJlY3RbbGVmdF0gLSBlbGVtZW50RGltZW5zaW9ucy53IDwgMCxcbiAgICAgICAgICBib3R0b21FeGNlZWQgPSByZWN0W3RvcF0gKyBlbGVtZW50RGltZW5zaW9ucy5oICsgbGlua0RpbWVuc2lvbnMuaCA+PSB3aW5kb3dIZWlnaHQsXG4gICAgICAgICAgcmlnaHRFeGNlZWQgPSByZWN0W2xlZnRdICsgZWxlbWVudERpbWVuc2lvbnMudyArIGxpbmtEaW1lbnNpb25zLncgPj0gd2luZG93V2lkdGg7XG4gIFxuICAgICAgLy8gcmVjb21wdXRlIHBvc2l0aW9uXG4gICAgICBwb3NpdGlvbiA9IChwb3NpdGlvbiA9PT0gbGVmdCB8fCBwb3NpdGlvbiA9PT0gcmlnaHQpICYmIGxlZnRFeGNlZWQgJiYgcmlnaHRFeGNlZWQgPyB0b3AgOiBwb3NpdGlvbjsgLy8gZmlyc3QsIHdoZW4gYm90aCBsZWZ0IGFuZCByaWdodCBsaW1pdHMgYXJlIGV4Y2VlZGVkLCB3ZSBmYWxsIGJhY2sgdG8gdG9wfGJvdHRvbVxuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdG9wICYmIHRvcEV4Y2VlZCA/IGJvdHRvbSA6IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gYm90dG9tICYmIGJvdHRvbUV4Y2VlZCA/IHRvcCA6IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gbGVmdCAmJiBsZWZ0RXhjZWVkID8gcmlnaHQgOiBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHJpZ2h0ICYmIHJpZ2h0RXhjZWVkID8gbGVmdCA6IHBvc2l0aW9uO1xuICBcbiAgICAgIC8vIHVwZGF0ZSB0b29sdGlwL3BvcG92ZXIgY2xhc3NcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lW2luZGV4T2ZdKHBvc2l0aW9uKSA9PT0gLTEgJiYgKGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSh0aXBQb3NpdGlvbnMscG9zaXRpb24pKTtcbiAgXG4gICAgICAvLyB3ZSBjaGVjayB0aGUgY29tcHV0ZWQgd2lkdGggJiBoZWlnaHQgYW5kIHVwZGF0ZSBoZXJlXG4gICAgICBhcnJvd1dpZHRoID0gYXJyb3dbb2Zmc2V0V2lkdGhdOyBhcnJvd0hlaWdodCA9IGFycm93W29mZnNldEhlaWdodF07XG4gIFxuICAgICAgLy8gYXBwbHkgc3R5bGluZyB0byB0b29sdGlwIG9yIHBvcG92ZXJcbiAgICAgIGlmICggcG9zaXRpb24gPT09IGxlZnQgfHwgcG9zaXRpb24gPT09IHJpZ2h0ICkgeyAvLyBzZWNvbmRhcnl8c2lkZSBwb3NpdGlvbnNcbiAgICAgICAgaWYgKCBwb3NpdGlvbiA9PT0gbGVmdCApIHsgLy8gTEVGVFxuICAgICAgICAgIGxlZnRQb3NpdGlvbiA9IHJlY3RbbGVmdF0gKyBzY3JvbGwueCAtIGVsZW1lbnREaW1lbnNpb25zLncgLSAoIGlzUG9wb3ZlciA/IGFycm93V2lkdGggOiAwICk7XG4gICAgICAgIH0gZWxzZSB7IC8vIFJJR0hUXG4gICAgICAgICAgbGVmdFBvc2l0aW9uID0gcmVjdFtsZWZ0XSArIHNjcm9sbC54ICsgbGlua0RpbWVuc2lvbnMudztcbiAgICAgICAgfVxuICBcbiAgICAgICAgLy8gYWRqdXN0IHRvcCBhbmQgYXJyb3dcbiAgICAgICAgaWYgKGhhbGZUb3BFeGNlZWQpIHtcbiAgICAgICAgICB0b3BQb3NpdGlvbiA9IHJlY3RbdG9wXSArIHNjcm9sbC55O1xuICAgICAgICAgIGFycm93VG9wID0gbGlua0RpbWVuc2lvbnMuaC8yIC0gYXJyb3dXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChoYWxmQm90dG9tRXhjZWVkKSB7XG4gICAgICAgICAgdG9wUG9zaXRpb24gPSByZWN0W3RvcF0gKyBzY3JvbGwueSAtIGVsZW1lbnREaW1lbnNpb25zLmggKyBsaW5rRGltZW5zaW9ucy5oO1xuICAgICAgICAgIGFycm93VG9wID0gZWxlbWVudERpbWVuc2lvbnMuaCAtIGxpbmtEaW1lbnNpb25zLmgvMiAtIGFycm93V2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9wUG9zaXRpb24gPSByZWN0W3RvcF0gKyBzY3JvbGwueSAtIGVsZW1lbnREaW1lbnNpb25zLmgvMiArIGxpbmtEaW1lbnNpb25zLmgvMjtcbiAgICAgICAgICBhcnJvd1RvcCA9IGVsZW1lbnREaW1lbnNpb25zLmgvMiAtIChpc1BvcG92ZXIgPyBhcnJvd0hlaWdodCowLjkgOiBhcnJvd0hlaWdodC8yKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggcG9zaXRpb24gPT09IHRvcCB8fCBwb3NpdGlvbiA9PT0gYm90dG9tICkgeyAvLyBwcmltYXJ5fHZlcnRpY2FsIHBvc2l0aW9uc1xuICAgICAgICBpZiAoIHBvc2l0aW9uID09PSB0b3ApIHsgLy8gVE9QXG4gICAgICAgICAgdG9wUG9zaXRpb24gPSAgcmVjdFt0b3BdICsgc2Nyb2xsLnkgLSBlbGVtZW50RGltZW5zaW9ucy5oIC0gKCBpc1BvcG92ZXIgPyBhcnJvd0hlaWdodCA6IDAgKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gQk9UVE9NXG4gICAgICAgICAgdG9wUG9zaXRpb24gPSByZWN0W3RvcF0gKyBzY3JvbGwueSArIGxpbmtEaW1lbnNpb25zLmg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRqdXN0IGxlZnQgfCByaWdodCBhbmQgYWxzbyB0aGUgYXJyb3dcbiAgICAgICAgaWYgKGhhbGZMZWZ0RXhjZWVkKSB7XG4gICAgICAgICAgbGVmdFBvc2l0aW9uID0gMDtcbiAgICAgICAgICBhcnJvd0xlZnQgPSByZWN0W2xlZnRdICsgbGlua0RpbWVuc2lvbnMudy8yIC0gYXJyb3dXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChoYWxmUmlnaHRFeGNlZWQpIHtcbiAgICAgICAgICBsZWZ0UG9zaXRpb24gPSB3aW5kb3dXaWR0aCAtIGVsZW1lbnREaW1lbnNpb25zLncqMS4wMTtcbiAgICAgICAgICBhcnJvd0xlZnQgPSBlbGVtZW50RGltZW5zaW9ucy53IC0gKCB3aW5kb3dXaWR0aCAtIHJlY3RbbGVmdF0gKSArIGxpbmtEaW1lbnNpb25zLncvMiAtIGFycm93V2lkdGgvMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZWZ0UG9zaXRpb24gPSByZWN0W2xlZnRdICsgc2Nyb2xsLnggLSBlbGVtZW50RGltZW5zaW9ucy53LzIgKyBsaW5rRGltZW5zaW9ucy53LzI7XG4gICAgICAgICAgYXJyb3dMZWZ0ID0gZWxlbWVudERpbWVuc2lvbnMudy8yIC0gKCBpc1BvcG92ZXIgPyBhcnJvd1dpZHRoIDogYXJyb3dXaWR0aC8yICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICAvLyBhcHBseSBzdHlsZSB0byB0b29sdGlwL3BvcG92ZXIgYW5kIGl0cyBhcnJvd1xuICAgICAgZWxlbWVudFtzdHlsZV1bdG9wXSA9IHRvcFBvc2l0aW9uICsgJ3B4JztcbiAgICAgIGVsZW1lbnRbc3R5bGVdW2xlZnRdID0gbGVmdFBvc2l0aW9uICsgJ3B4JztcbiAgXG4gICAgICBhcnJvd1RvcCAmJiAoYXJyb3dbc3R5bGVdW3RvcF0gPSBhcnJvd1RvcCArICdweCcpO1xuICAgICAgYXJyb3dMZWZ0ICYmIChhcnJvd1tzdHlsZV1bbGVmdF0gPSBhcnJvd0xlZnQgKyAncHgnKTtcbiAgICB9O1xuICBcbiAgQlNOLnZlcnNpb24gPSAnMi4wLjI3JztcbiAgXG4gIC8qIE5hdGl2ZSBKYXZhc2NyaXB0IGZvciBCb290c3RyYXAgNCB8IERyb3Bkb3duXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICBcbiAgLy8gRFJPUERPV04gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09XG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb24gKSB7XG4gICAgICBcbiAgICAvLyBpbml0aWFsaXphdGlvbiBlbGVtZW50XG4gICAgZWxlbWVudCA9IHF1ZXJ5RWxlbWVudChlbGVtZW50KTtcbiAgXG4gICAgLy8gc2V0IG9wdGlvblxuICAgIHRoaXMucGVyc2lzdCA9IG9wdGlvbiA9PT0gdHJ1ZSB8fCBlbGVtZW50W2dldEF0dHJpYnV0ZV0oJ2RhdGEtcGVyc2lzdCcpID09PSAndHJ1ZScgfHwgZmFsc2U7XG4gIFxuICAgIC8vIGNvbnN0YW50cywgZXZlbnQgdGFyZ2V0cywgc3RyaW5nc1xuICAgIHZhciBzZWxmID0gdGhpcywgY2hpbGRyZW4gPSAnY2hpbGRyZW4nLFxuICAgICAgcGFyZW50ID0gZWxlbWVudFtwYXJlbnROb2RlXSxcbiAgICAgIGNvbXBvbmVudCA9ICdkcm9wZG93bicsIG9wZW4gPSAnb3BlbicsXG4gICAgICByZWxhdGVkVGFyZ2V0ID0gbnVsbCxcbiAgICAgIG1lbnUgPSBxdWVyeUVsZW1lbnQoJy5kcm9wZG93bi1tZW51JywgcGFyZW50KSxcbiAgICAgIG1lbnVJdGVtcyA9IChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgc2V0ID0gbWVudVtjaGlsZHJlbl0sIG5ld1NldCA9IFtdO1xuICAgICAgICBmb3IgKCB2YXIgaT0wOyBpPHNldFtsZW5ndGhdOyBpKysgKXtcbiAgICAgICAgICBzZXRbaV1bY2hpbGRyZW5dW2xlbmd0aF0gJiYgKHNldFtpXVtjaGlsZHJlbl1bMF0udGFnTmFtZSA9PT0gJ0EnICYmIG5ld1NldFtwdXNoXShzZXRbaV1bY2hpbGRyZW5dWzBdKSk7XG4gICAgICAgICAgc2V0W2ldLnRhZ05hbWUgPT09ICdBJyAmJiBuZXdTZXRbcHVzaF0oc2V0W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3U2V0O1xuICAgICAgfSkoKSxcbiAgXG4gICAgICAvLyBwcmV2ZW50RGVmYXVsdCBvbiBlbXB0eSBhbmNob3IgbGlua3NcbiAgICAgIHByZXZlbnRFbXB0eUFuY2hvciA9IGZ1bmN0aW9uKGFuY2hvcil7XG4gICAgICAgIChhbmNob3IuaHJlZiAmJiBhbmNob3IuaHJlZi5zbGljZSgtMSkgPT09ICcjJyB8fCBhbmNob3JbcGFyZW50Tm9kZV0gJiYgYW5jaG9yW3BhcmVudE5vZGVdLmhyZWYgXG4gICAgICAgICAgJiYgYW5jaG9yW3BhcmVudE5vZGVdLmhyZWYuc2xpY2UoLTEpID09PSAnIycpICYmIHRoaXNbcHJldmVudERlZmF1bHRdKCk7ICAgIFxuICAgICAgfSxcbiAgXG4gICAgICAvLyB0b2dnbGUgZGlzbWlzc2libGUgZXZlbnRzXG4gICAgICB0b2dnbGVEaXNtaXNzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHR5cGUgPSBlbGVtZW50W29wZW5dID8gb24gOiBvZmY7XG4gICAgICAgIHR5cGUoRE9DLCBjbGlja0V2ZW50LCBkaXNtaXNzSGFuZGxlcik7IFxuICAgICAgICB0eXBlKERPQywga2V5ZG93bkV2ZW50LCBwcmV2ZW50U2Nyb2xsKTtcbiAgICAgICAgdHlwZShET0MsIGtleXVwRXZlbnQsIGtleUhhbmRsZXIpO1xuICAgICAgICB0eXBlKERPQywgZm9jdXNFdmVudCwgZGlzbWlzc0hhbmRsZXIsIHRydWUpO1xuICAgICAgfSxcbiAgXG4gICAgICAvLyBoYW5kbGVyc1xuICAgICAgZGlzbWlzc0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBldmVudFRhcmdldCA9IGVbdGFyZ2V0XSwgaGFzRGF0YSA9IGV2ZW50VGFyZ2V0ICYmIChldmVudFRhcmdldFtnZXRBdHRyaWJ1dGVdKGRhdGFUb2dnbGUpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZXZlbnRUYXJnZXRbcGFyZW50Tm9kZV0gJiYgZ2V0QXR0cmlidXRlIGluIGV2ZW50VGFyZ2V0W3BhcmVudE5vZGVdIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZXZlbnRUYXJnZXRbcGFyZW50Tm9kZV1bZ2V0QXR0cmlidXRlXShkYXRhVG9nZ2xlKSk7XG4gICAgICAgIGlmICggZS50eXBlID09PSBmb2N1c0V2ZW50ICYmIChldmVudFRhcmdldCA9PT0gZWxlbWVudCB8fCBldmVudFRhcmdldCA9PT0gbWVudSB8fCBtZW51W2NvbnRhaW5zXShldmVudFRhcmdldCkgKSApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCAoZXZlbnRUYXJnZXQgPT09IG1lbnUgfHwgbWVudVtjb250YWluc10oZXZlbnRUYXJnZXQpKSAmJiAoc2VsZi5wZXJzaXN0IHx8IGhhc0RhdGEpICkgeyByZXR1cm47IH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldCA9IGV2ZW50VGFyZ2V0ID09PSBlbGVtZW50IHx8IGVsZW1lbnRbY29udGFpbnNdKGV2ZW50VGFyZ2V0KSA/IGVsZW1lbnQgOiBudWxsO1xuICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2ZW50RW1wdHlBbmNob3IuY2FsbChlLGV2ZW50VGFyZ2V0KTtcbiAgICAgIH0sXG4gICAgICBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQgPSBlbGVtZW50O1xuICAgICAgICBzaG93KCk7XG4gICAgICAgIHByZXZlbnRFbXB0eUFuY2hvci5jYWxsKGUsZVt0YXJnZXRdKTtcbiAgICAgIH0sXG4gICAgICBwcmV2ZW50U2Nyb2xsID0gZnVuY3Rpb24oZSl7XG4gICAgICAgIHZhciBrZXkgPSBlLndoaWNoIHx8IGUua2V5Q29kZTtcbiAgICAgICAgaWYoIGtleSA9PT0gMzggfHwga2V5ID09PSA0MCApIHsgZVtwcmV2ZW50RGVmYXVsdF0oKTsgfVxuICAgICAgfSxcbiAgICAgIGtleUhhbmRsZXIgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgdmFyIGtleSA9IGUud2hpY2ggfHwgZS5rZXlDb2RlLFxuICAgICAgICAgIGFjdGl2ZUl0ZW0gPSBET0MuYWN0aXZlRWxlbWVudCxcbiAgICAgICAgICBpZHggPSBtZW51SXRlbXNbaW5kZXhPZl0oYWN0aXZlSXRlbSksXG4gICAgICAgICAgaXNTYW1lRWxlbWVudCA9IGFjdGl2ZUl0ZW0gPT09IGVsZW1lbnQsXG4gICAgICAgICAgaXNJbnNpZGVNZW51ID0gbWVudVtjb250YWluc10oYWN0aXZlSXRlbSksXG4gICAgICAgICAgaXNNZW51SXRlbSA9IGFjdGl2ZUl0ZW1bcGFyZW50Tm9kZV0gPT09IG1lbnUgfHwgYWN0aXZlSXRlbVtwYXJlbnROb2RlXVtwYXJlbnROb2RlXSA9PT0gbWVudTsgICAgICAgICAgXG4gIFxuICAgICAgICBpZiAoIGlzTWVudUl0ZW0gKSB7IC8vIG5hdmlnYXRlIHVwIHwgZG93blxuICAgICAgICAgIGlkeCA9IGlzU2FtZUVsZW1lbnQgPyAwIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBrZXkgPT09IDM4ID8gKGlkeD4xP2lkeC0xOjApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGtleSA9PT0gNDAgPyAoaWR4PG1lbnVJdGVtc1tsZW5ndGhdLTE/aWR4KzE6aWR4KSA6IGlkeDtcbiAgICAgICAgICBtZW51SXRlbXNbaWR4XSAmJiBzZXRGb2N1cyhtZW51SXRlbXNbaWR4XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCAobWVudUl0ZW1zW2xlbmd0aF0gJiYgaXNNZW51SXRlbSAvLyBtZW51IGhhcyBpdGVtc1xuICAgICAgICAgICAgICB8fCAhbWVudUl0ZW1zW2xlbmd0aF0gJiYgKGlzSW5zaWRlTWVudSB8fCBpc1NhbWVFbGVtZW50KSAgLy8gbWVudSBtaWdodCBiZSBhIGZvcm1cbiAgICAgICAgICAgICAgfHwgIWlzSW5zaWRlTWVudSApIC8vIG9yIHRoZSBmb2N1c2VkIGVsZW1lbnQgaXMgbm90IGluIHRoZSBtZW51IGF0IGFsbFxuICAgICAgICAgICAgICAmJiBlbGVtZW50W29wZW5dICYmIGtleSA9PT0gMjcgIC8vIG1lbnUgbXVzdCBiZSBvcGVuXG4gICAgICAgICkge1xuICAgICAgICAgIHNlbGYudG9nZ2xlKCk7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gIFxuICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG4gICAgICBzaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGJvb3RzdHJhcEN1c3RvbUV2ZW50LmNhbGwocGFyZW50LCBzaG93RXZlbnQsIGNvbXBvbmVudCwgcmVsYXRlZFRhcmdldCk7XG4gICAgICAgIGFkZENsYXNzKG1lbnUsc2hvd0NsYXNzKTtcbiAgICAgICAgYWRkQ2xhc3MocGFyZW50LHNob3dDbGFzcyk7XG4gICAgICAgIGVsZW1lbnRbc2V0QXR0cmlidXRlXShhcmlhRXhwYW5kZWQsdHJ1ZSk7XG4gICAgICAgIGJvb3RzdHJhcEN1c3RvbUV2ZW50LmNhbGwocGFyZW50LCBzaG93bkV2ZW50LCBjb21wb25lbnQsIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICBlbGVtZW50W29wZW5dID0gdHJ1ZTtcbiAgICAgICAgb2ZmKGVsZW1lbnQsIGNsaWNrRXZlbnQsIGNsaWNrSGFuZGxlcik7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICBzZXRGb2N1cyggbWVudVtnZXRFbGVtZW50c0J5VGFnTmFtZV0oJ0lOUFVUJylbMF0gfHwgZWxlbWVudCApOyAvLyBmb2N1cyB0aGUgZmlyc3QgaW5wdXQgaXRlbSB8IGVsZW1lbnRcbiAgICAgICAgICB0b2dnbGVEaXNtaXNzKCk7XG4gICAgICAgIH0sMSk7XG4gICAgICB9LFxuICAgICAgaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBib290c3RyYXBDdXN0b21FdmVudC5jYWxsKHBhcmVudCwgaGlkZUV2ZW50LCBjb21wb25lbnQsIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICByZW1vdmVDbGFzcyhtZW51LHNob3dDbGFzcyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKHBhcmVudCxzaG93Q2xhc3MpO1xuICAgICAgICBlbGVtZW50W3NldEF0dHJpYnV0ZV0oYXJpYUV4cGFuZGVkLGZhbHNlKTtcbiAgICAgICAgYm9vdHN0cmFwQ3VzdG9tRXZlbnQuY2FsbChwYXJlbnQsIGhpZGRlbkV2ZW50LCBjb21wb25lbnQsIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICBlbGVtZW50W29wZW5dID0gZmFsc2U7XG4gICAgICAgIHRvZ2dsZURpc21pc3MoKTtcbiAgICAgICAgc2V0Rm9jdXMoZWxlbWVudCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgb24oZWxlbWVudCwgY2xpY2tFdmVudCwgY2xpY2tIYW5kbGVyKTsgfSwxKTtcbiAgICAgIH07XG4gIFxuICAgIC8vIHNldCBpbml0aWFsIHN0YXRlIHRvIGNsb3NlZFxuICAgIGVsZW1lbnRbb3Blbl0gPSBmYWxzZTtcbiAgXG4gICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGhhc0NsYXNzKHBhcmVudCxzaG93Q2xhc3MpICYmIGVsZW1lbnRbb3Blbl0pIHsgaGlkZSgpOyB9IFxuICAgICAgZWxzZSB7IHNob3coKTsgfVxuICAgIH07XG4gIFxuICAgIC8vIGluaXRcbiAgICBpZiAoICEoc3RyaW5nRHJvcGRvd24gaW4gZWxlbWVudCkgKSB7IC8vIHByZXZlbnQgYWRkaW5nIGV2ZW50IGhhbmRsZXJzIHR3aWNlXG4gICAgICAhdGFiaW5kZXggaW4gbWVudSAmJiBtZW51W3NldEF0dHJpYnV0ZV0odGFiaW5kZXgsICcwJyk7IC8vIEZpeCBvbmJsdXIgb24gQ2hyb21lIHwgU2FmYXJpXG4gICAgICBvbihlbGVtZW50LCBjbGlja0V2ZW50LCBjbGlja0hhbmRsZXIpO1xuICAgIH1cbiAgXG4gICAgZWxlbWVudFtzdHJpbmdEcm9wZG93bl0gPSBzZWxmO1xuICB9O1xuICBcbiAgLy8gRFJPUERPV04gREFUQSBBUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cbiAgc3VwcG9ydHNbcHVzaF0oIFtzdHJpbmdEcm9wZG93biwgRHJvcGRvd24sICdbJytkYXRhVG9nZ2xlKyc9XCJkcm9wZG93blwiXSddICk7XG4gIFxuICBcbiAgLyogTmF0aXZlIEphdmFzY3JpcHQgZm9yIEJvb3RzdHJhcCA0IHwgQ29sbGFwc2VcbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICBcbiAgLy8gQ09MTEFQU0UgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09XG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb25zICkge1xuICBcbiAgICAvLyBpbml0aWFsaXphdGlvbiBlbGVtZW50XG4gICAgZWxlbWVudCA9IHF1ZXJ5RWxlbWVudChlbGVtZW50KTtcbiAgXG4gICAgLy8gc2V0IG9wdGlvbnNcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgXG4gICAgLy8gZXZlbnQgdGFyZ2V0cyBhbmQgY29uc3RhbnRzXG4gICAgdmFyIGFjY29yZGlvbiA9IG51bGwsIGNvbGxhcHNlID0gbnVsbCwgc2VsZiA9IHRoaXMsIFxuICAgICAgYWNjb3JkaW9uRGF0YSA9IGVsZW1lbnRbZ2V0QXR0cmlidXRlXSgnZGF0YS1wYXJlbnQnKSxcbiAgICAgIGFjdGl2ZUNvbGxhcHNlLCBhY3RpdmVFbGVtZW50LFxuICBcbiAgICAgIC8vIGNvbXBvbmVudCBzdHJpbmdzXG4gICAgICBjb21wb25lbnQgPSAnY29sbGFwc2UnLFxuICAgICAgY29sbGFwc2VkID0gJ2NvbGxhcHNlZCcsXG4gICAgICBpc0FuaW1hdGluZyA9ICdpc0FuaW1hdGluZycsXG4gIFxuICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG4gICAgICBvcGVuQWN0aW9uID0gZnVuY3Rpb24oY29sbGFwc2VFbGVtZW50LHRvZ2dsZSkge1xuICAgICAgICBib290c3RyYXBDdXN0b21FdmVudC5jYWxsKGNvbGxhcHNlRWxlbWVudCwgc2hvd0V2ZW50LCBjb21wb25lbnQpO1xuICAgICAgICBjb2xsYXBzZUVsZW1lbnRbaXNBbmltYXRpbmddID0gdHJ1ZTtcbiAgICAgICAgYWRkQ2xhc3MoY29sbGFwc2VFbGVtZW50LGNvbGxhcHNpbmcpO1xuICAgICAgICByZW1vdmVDbGFzcyhjb2xsYXBzZUVsZW1lbnQsY29tcG9uZW50KTtcbiAgICAgICAgY29sbGFwc2VFbGVtZW50W3N0eWxlXVtoZWlnaHRdID0gY29sbGFwc2VFbGVtZW50W3Njcm9sbEhlaWdodF0gKyAncHgnO1xuICAgICAgICBcbiAgICAgICAgZW11bGF0ZVRyYW5zaXRpb25FbmQoY29sbGFwc2VFbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb2xsYXBzZUVsZW1lbnRbaXNBbmltYXRpbmddID0gZmFsc2U7XG4gICAgICAgICAgY29sbGFwc2VFbGVtZW50W3NldEF0dHJpYnV0ZV0oYXJpYUV4cGFuZGVkLCd0cnVlJyk7XG4gICAgICAgICAgdG9nZ2xlW3NldEF0dHJpYnV0ZV0oYXJpYUV4cGFuZGVkLCd0cnVlJyk7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoY29sbGFwc2VFbGVtZW50LGNvbGxhcHNpbmcpO1xuICAgICAgICAgIGFkZENsYXNzKGNvbGxhcHNlRWxlbWVudCwgY29tcG9uZW50KTtcbiAgICAgICAgICBhZGRDbGFzcyhjb2xsYXBzZUVsZW1lbnQsc2hvd0NsYXNzKTtcbiAgICAgICAgICBjb2xsYXBzZUVsZW1lbnRbc3R5bGVdW2hlaWdodF0gPSAnJztcbiAgICAgICAgICBib290c3RyYXBDdXN0b21FdmVudC5jYWxsKGNvbGxhcHNlRWxlbWVudCwgc2hvd25FdmVudCwgY29tcG9uZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY2xvc2VBY3Rpb24gPSBmdW5jdGlvbihjb2xsYXBzZUVsZW1lbnQsdG9nZ2xlKSB7XG4gICAgICAgIGJvb3RzdHJhcEN1c3RvbUV2ZW50LmNhbGwoY29sbGFwc2VFbGVtZW50LCBoaWRlRXZlbnQsIGNvbXBvbmVudCk7XG4gICAgICAgIGNvbGxhcHNlRWxlbWVudFtpc0FuaW1hdGluZ10gPSB0cnVlO1xuICAgICAgICBjb2xsYXBzZUVsZW1lbnRbc3R5bGVdW2hlaWdodF0gPSBjb2xsYXBzZUVsZW1lbnRbc2Nyb2xsSGVpZ2h0XSArICdweCc7IC8vIHNldCBoZWlnaHQgZmlyc3RcbiAgICAgICAgcmVtb3ZlQ2xhc3MoY29sbGFwc2VFbGVtZW50LGNvbXBvbmVudCk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGNvbGxhcHNlRWxlbWVudCxzaG93Q2xhc3MpO1xuICAgICAgICBhZGRDbGFzcyhjb2xsYXBzZUVsZW1lbnQsY29sbGFwc2luZyk7XG4gICAgICAgIGNvbGxhcHNlRWxlbWVudFtvZmZzZXRXaWR0aF07IC8vIGZvcmNlIHJlZmxvdyB0byBlbmFibGUgdHJhbnNpdGlvblxuICAgICAgICBjb2xsYXBzZUVsZW1lbnRbc3R5bGVdW2hlaWdodF0gPSAnMHB4JztcbiAgICAgICAgXG4gICAgICAgIGVtdWxhdGVUcmFuc2l0aW9uRW5kKGNvbGxhcHNlRWxlbWVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY29sbGFwc2VFbGVtZW50W2lzQW5pbWF0aW5nXSA9IGZhbHNlO1xuICAgICAgICAgIGNvbGxhcHNlRWxlbWVudFtzZXRBdHRyaWJ1dGVdKGFyaWFFeHBhbmRlZCwnZmFsc2UnKTtcbiAgICAgICAgICB0b2dnbGVbc2V0QXR0cmlidXRlXShhcmlhRXhwYW5kZWQsJ2ZhbHNlJyk7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoY29sbGFwc2VFbGVtZW50LGNvbGxhcHNpbmcpO1xuICAgICAgICAgIGFkZENsYXNzKGNvbGxhcHNlRWxlbWVudCxjb21wb25lbnQpO1xuICAgICAgICAgIGNvbGxhcHNlRWxlbWVudFtzdHlsZV1baGVpZ2h0XSA9ICcnO1xuICAgICAgICAgIGJvb3RzdHJhcEN1c3RvbUV2ZW50LmNhbGwoY29sbGFwc2VFbGVtZW50LCBoaWRkZW5FdmVudCwgY29tcG9uZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBocmVmID0gZWxlbWVudC5ocmVmICYmIGVsZW1lbnRbZ2V0QXR0cmlidXRlXSgnaHJlZicpLFxuICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnRbZ2V0QXR0cmlidXRlXShkYXRhVGFyZ2V0KSxcbiAgICAgICAgICBpZCA9IGhyZWYgfHwgKCBwYXJlbnQgJiYgcGFyZW50LmNoYXJBdCgwKSA9PT0gJyMnICkgJiYgcGFyZW50O1xuICAgICAgICByZXR1cm4gaWQgJiYgcXVlcnlFbGVtZW50KGlkKTtcbiAgICAgIH07XG4gICAgXG4gICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGVbcHJldmVudERlZmF1bHRdKCk7XG4gICAgICBpZiAoIWhhc0NsYXNzKGNvbGxhcHNlLHNob3dDbGFzcykpIHsgc2VsZi5zaG93KCk7IH0gXG4gICAgICBlbHNlIHsgc2VsZi5oaWRlKCk7IH1cbiAgICB9O1xuICAgIHRoaXMuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCBjb2xsYXBzZVtpc0FuaW1hdGluZ10gKSByZXR1cm47ICAgIFxuICAgICAgY2xvc2VBY3Rpb24oY29sbGFwc2UsZWxlbWVudCk7XG4gICAgICBhZGRDbGFzcyhlbGVtZW50LGNvbGxhcHNlZCk7XG4gICAgfTtcbiAgICB0aGlzLnNob3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICggYWNjb3JkaW9uICkge1xuICAgICAgICBhY3RpdmVDb2xsYXBzZSA9IHF1ZXJ5RWxlbWVudCgnLicrY29tcG9uZW50KycuJytzaG93Q2xhc3MsYWNjb3JkaW9uKTtcbiAgICAgICAgYWN0aXZlRWxlbWVudCA9IGFjdGl2ZUNvbGxhcHNlICYmIChxdWVyeUVsZW1lbnQoJ1snK2RhdGFUYXJnZXQrJz1cIiMnK2FjdGl2ZUNvbGxhcHNlLmlkKydcIl0nLGFjY29yZGlvbilcbiAgICAgICAgICAgICAgICAgICAgICB8fCBxdWVyeUVsZW1lbnQoJ1tocmVmPVwiIycrYWN0aXZlQ29sbGFwc2UuaWQrJ1wiXScsYWNjb3JkaW9uKSApO1xuICAgICAgfVxuICBcbiAgICAgIGlmICggIWNvbGxhcHNlW2lzQW5pbWF0aW5nXSB8fCBhY3RpdmVDb2xsYXBzZSAmJiAhYWN0aXZlQ29sbGFwc2VbaXNBbmltYXRpbmddICkge1xuICAgICAgICBpZiAoIGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlQ29sbGFwc2UgIT09IGNvbGxhcHNlICkge1xuICAgICAgICAgIGNsb3NlQWN0aW9uKGFjdGl2ZUNvbGxhcHNlLGFjdGl2ZUVsZW1lbnQpOyBcbiAgICAgICAgICBhZGRDbGFzcyhhY3RpdmVFbGVtZW50LGNvbGxhcHNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgb3BlbkFjdGlvbihjb2xsYXBzZSxlbGVtZW50KTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCxjb2xsYXBzZWQpO1xuICAgICAgfVxuICAgIH07XG4gIFxuICAgIC8vIGluaXRcbiAgICBpZiAoICEoc3RyaW5nQ29sbGFwc2UgaW4gZWxlbWVudCApICkgeyAvLyBwcmV2ZW50IGFkZGluZyBldmVudCBoYW5kbGVycyB0d2ljZVxuICAgICAgb24oZWxlbWVudCwgY2xpY2tFdmVudCwgc2VsZi50b2dnbGUpO1xuICAgIH1cbiAgICBjb2xsYXBzZSA9IGdldFRhcmdldCgpO1xuICAgIGNvbGxhcHNlW2lzQW5pbWF0aW5nXSA9IGZhbHNlOyAgLy8gd2hlbiB0cnVlIGl0IHdpbGwgcHJldmVudCBjbGljayBoYW5kbGVycyAgXG4gICAgYWNjb3JkaW9uID0gcXVlcnlFbGVtZW50KG9wdGlvbnMucGFyZW50KSB8fCBhY2NvcmRpb25EYXRhICYmIGdldENsb3Nlc3QoZWxlbWVudCwgYWNjb3JkaW9uRGF0YSk7XG4gICAgZWxlbWVudFtzdHJpbmdDb2xsYXBzZV0gPSBzZWxmO1xuICB9O1xuICBcbiAgLy8gQ09MTEFQU0UgREFUQSBBUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cbiAgc3VwcG9ydHNbcHVzaF0oIFsgc3RyaW5nQ29sbGFwc2UsIENvbGxhcHNlLCAnWycrZGF0YVRvZ2dsZSsnPVwiY29sbGFwc2VcIl0nIF0gKTtcbiAgXG4gIFxuICAvKiBOYXRpdmUgSmF2YXNjcmlwdCBmb3IgQm9vdHN0cmFwIDQgfCBUYWJcbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICBcbiAgLy8gVEFCIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT1cbiAgdmFyIFRhYiA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb25zICkge1xuICBcbiAgICAvLyBpbml0aWFsaXphdGlvbiBlbGVtZW50XG4gICAgZWxlbWVudCA9IHF1ZXJ5RWxlbWVudChlbGVtZW50KTtcbiAgXG4gICAgLy8gREFUQSBBUElcbiAgICB2YXIgaGVpZ2h0RGF0YSA9IGVsZW1lbnRbZ2V0QXR0cmlidXRlXShkYXRhSGVpZ2h0KSxcbiAgICAgIFxuICAgICAgICAvLyBzdHJpbmdzXG4gICAgICAgIGNvbXBvbmVudCA9ICd0YWInLCBoZWlnaHQgPSAnaGVpZ2h0JywgZmxvYXQgPSAnZmxvYXQnLCBpc0FuaW1hdGluZyA9ICdpc0FuaW1hdGluZyc7XG4gICAgICAgIFxuICAgIC8vIHNldCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpc1toZWlnaHRdID0gc3VwcG9ydFRyYW5zaXRpb25zID8gKG9wdGlvbnNbaGVpZ2h0XSB8fCBoZWlnaHREYXRhID09PSAndHJ1ZScpIDogZmFsc2U7XG4gIFxuICAgIC8vIGJpbmQsIGV2ZW50IHRhcmdldHNcbiAgICB2YXIgc2VsZiA9IHRoaXMsIG5leHQsXG4gICAgICB0YWJzID0gZ2V0Q2xvc2VzdChlbGVtZW50LCcubmF2JyksXG4gICAgICB0YWJzQ29udGVudENvbnRhaW5lciA9IGZhbHNlLFxuICAgICAgZHJvcGRvd24gPSB0YWJzICYmIHF1ZXJ5RWxlbWVudCgnLmRyb3Bkb3duLXRvZ2dsZScsdGFicyksXG4gICAgICBhY3RpdmVUYWIsIGFjdGl2ZUNvbnRlbnQsIG5leHRDb250ZW50LCBjb250YWluZXJIZWlnaHQsIGVxdWFsQ29udGVudHMsIG5leHRIZWlnaHQsXG4gICAgICBcbiAgICAgIC8vIHRyaWdnZXJcbiAgICAgIHRyaWdnZXJFbmQgPSBmdW5jdGlvbigpe1xuICAgICAgICB0YWJzQ29udGVudENvbnRhaW5lcltzdHlsZV1baGVpZ2h0XSA9ICcnO1xuICAgICAgICByZW1vdmVDbGFzcyh0YWJzQ29udGVudENvbnRhaW5lcixjb2xsYXBzaW5nKTtcbiAgICAgICAgdGFic1tpc0FuaW1hdGluZ10gPSBmYWxzZTtcbiAgICAgIH0sXG4gICAgICB0cmlnZ2VyU2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGFic0NvbnRlbnRDb250YWluZXIpIHsgLy8gaGVpZ2h0IGFuaW1hdGlvblxuICAgICAgICAgIGlmICggZXF1YWxDb250ZW50cyApIHtcbiAgICAgICAgICAgIHRyaWdnZXJFbmQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpeyAvLyBlbmFibGVzIGhlaWdodCBhbmltYXRpb25cbiAgICAgICAgICAgICAgdGFic0NvbnRlbnRDb250YWluZXJbc3R5bGVdW2hlaWdodF0gPSBuZXh0SGVpZ2h0ICsgJ3B4JzsgLy8gaGVpZ2h0IGFuaW1hdGlvblxuICAgICAgICAgICAgICB0YWJzQ29udGVudENvbnRhaW5lcltvZmZzZXRXaWR0aF07XG4gICAgICAgICAgICAgIGVtdWxhdGVUcmFuc2l0aW9uRW5kKHRhYnNDb250ZW50Q29udGFpbmVyLCB0cmlnZ2VyRW5kKTtcbiAgICAgICAgICAgIH0sNTApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWJzW2lzQW5pbWF0aW5nXSA9IGZhbHNlOyBcbiAgICAgICAgfVxuICAgICAgICBib290c3RyYXBDdXN0b21FdmVudC5jYWxsKG5leHQsIHNob3duRXZlbnQsIGNvbXBvbmVudCwgYWN0aXZlVGFiKTtcbiAgICAgIH0sXG4gICAgICB0cmlnZ2VySGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGFic0NvbnRlbnRDb250YWluZXIpIHtcbiAgICAgICAgICBhY3RpdmVDb250ZW50W3N0eWxlXVtmbG9hdF0gPSBsZWZ0O1xuICAgICAgICAgIG5leHRDb250ZW50W3N0eWxlXVtmbG9hdF0gPSBsZWZ0OyAgICAgICAgXG4gICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gYWN0aXZlQ29udGVudFtzY3JvbGxIZWlnaHRdO1xuICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgIGFkZENsYXNzKG5leHRDb250ZW50LGFjdGl2ZSk7XG4gICAgICAgIGJvb3RzdHJhcEN1c3RvbUV2ZW50LmNhbGwobmV4dCwgc2hvd0V2ZW50LCBjb21wb25lbnQsIGFjdGl2ZVRhYik7XG4gIFxuICAgICAgICByZW1vdmVDbGFzcyhhY3RpdmVDb250ZW50LGFjdGl2ZSk7XG4gICAgICAgIGJvb3RzdHJhcEN1c3RvbUV2ZW50LmNhbGwoYWN0aXZlVGFiLCBoaWRkZW5FdmVudCwgY29tcG9uZW50LCBuZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0YWJzQ29udGVudENvbnRhaW5lcikge1xuICAgICAgICAgIG5leHRIZWlnaHQgPSBuZXh0Q29udGVudFtzY3JvbGxIZWlnaHRdO1xuICAgICAgICAgIGVxdWFsQ29udGVudHMgPSBuZXh0SGVpZ2h0ID09PSBjb250YWluZXJIZWlnaHQ7XG4gICAgICAgICAgYWRkQ2xhc3ModGFic0NvbnRlbnRDb250YWluZXIsY29sbGFwc2luZyk7XG4gICAgICAgICAgdGFic0NvbnRlbnRDb250YWluZXJbc3R5bGVdW2hlaWdodF0gPSBjb250YWluZXJIZWlnaHQgKyAncHgnOyAvLyBoZWlnaHQgYW5pbWF0aW9uXG4gICAgICAgICAgdGFic0NvbnRlbnRDb250YWluZXJbb2Zmc2V0SGVpZ2h0XTtcbiAgICAgICAgICBhY3RpdmVDb250ZW50W3N0eWxlXVtmbG9hdF0gPSAnJztcbiAgICAgICAgICBuZXh0Q29udGVudFtzdHlsZV1bZmxvYXRdID0gJyc7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGlmICggaGFzQ2xhc3MobmV4dENvbnRlbnQsICdmYWRlJykgKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgYWRkQ2xhc3MobmV4dENvbnRlbnQsc2hvd0NsYXNzKTtcbiAgICAgICAgICAgIGVtdWxhdGVUcmFuc2l0aW9uRW5kKG5leHRDb250ZW50LHRyaWdnZXJTaG93KTtcbiAgICAgICAgICB9LDIwKTtcbiAgICAgICAgfSBlbHNlIHsgdHJpZ2dlclNob3coKTsgfSAgICAgICAgXG4gICAgICB9O1xuICBcbiAgICBpZiAoIXRhYnMpIHJldHVybjsgLy8gaW52YWxpZGF0ZVxuICBcbiAgICAvLyBzZXQgZGVmYXVsdCBhbmltYXRpb24gc3RhdGVcbiAgICB0YWJzW2lzQW5pbWF0aW5nXSA9IGZhbHNlOyAgICBcbiAgICAgICAgICBcbiAgICAvLyBwcml2YXRlIG1ldGhvZHNcbiAgICB2YXIgZ2V0QWN0aXZlVGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhY3RpdmVUYWJzID0gZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0YWJzLGFjdGl2ZSksIGFjdGl2ZVRhYjtcbiAgICAgICAgaWYgKCBhY3RpdmVUYWJzW2xlbmd0aF0gPT09IDEgJiYgIWhhc0NsYXNzKGFjdGl2ZVRhYnNbMF1bcGFyZW50Tm9kZV0sJ2Ryb3Bkb3duJykgKSB7XG4gICAgICAgICAgYWN0aXZlVGFiID0gYWN0aXZlVGFic1swXTtcbiAgICAgICAgfSBlbHNlIGlmICggYWN0aXZlVGFic1tsZW5ndGhdID4gMSApIHtcbiAgICAgICAgICBhY3RpdmVUYWIgPSBhY3RpdmVUYWJzW2FjdGl2ZVRhYnNbbGVuZ3RoXS0xXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aXZlVGFiO1xuICAgICAgfSxcbiAgICAgIGdldEFjdGl2ZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHF1ZXJ5RWxlbWVudChnZXRBY3RpdmVUYWIoKVtnZXRBdHRyaWJ1dGVdKCdocmVmJykpO1xuICAgICAgfSxcbiAgICAgIC8vIGhhbmRsZXIgXG4gICAgICBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGVbcHJldmVudERlZmF1bHRdKCk7XG4gICAgICAgIG5leHQgPSBlW2N1cnJlbnRUYXJnZXRdO1xuICAgICAgICAhdGFic1tpc0FuaW1hdGluZ10gJiYgIWhhc0NsYXNzKG5leHQsYWN0aXZlKSAmJiBzZWxmLnNob3coKTtcbiAgICAgIH07XG4gIFxuICAgIC8vIHB1YmxpYyBtZXRob2RcbiAgICB0aGlzLnNob3cgPSBmdW5jdGlvbigpIHsgLy8gdGhlIHRhYiB3ZSBjbGlja2VkIGlzIG5vdyB0aGUgbmV4dCB0YWJcbiAgICAgIG5leHQgPSBuZXh0IHx8IGVsZW1lbnQ7XG4gICAgICBuZXh0Q29udGVudCA9IHF1ZXJ5RWxlbWVudChuZXh0W2dldEF0dHJpYnV0ZV0oJ2hyZWYnKSk7IC8vdGhpcyBpcyB0aGUgYWN0dWFsIG9iamVjdCwgdGhlIG5leHQgdGFiIGNvbnRlbnQgdG8gYWN0aXZhdGVcbiAgICAgIGFjdGl2ZVRhYiA9IGdldEFjdGl2ZVRhYigpOyBcbiAgICAgIGFjdGl2ZUNvbnRlbnQgPSBnZXRBY3RpdmVDb250ZW50KCk7XG4gICAgICBcbiAgICAgIHRhYnNbaXNBbmltYXRpbmddID0gdHJ1ZTtcbiAgICAgIHJlbW92ZUNsYXNzKGFjdGl2ZVRhYixhY3RpdmUpO1xuICAgICAgYWN0aXZlVGFiW3NldEF0dHJpYnV0ZV0oYXJpYVNlbGVjdGVkLCdmYWxzZScpO1xuICAgICAgYWRkQ2xhc3MobmV4dCxhY3RpdmUpO1xuICAgICAgbmV4dFtzZXRBdHRyaWJ1dGVdKGFyaWFTZWxlY3RlZCwndHJ1ZScpOyAgICBcbiAgXG4gICAgICBpZiAoIGRyb3Bkb3duICkge1xuICAgICAgICBpZiAoICFoYXNDbGFzcyhlbGVtZW50W3BhcmVudE5vZGVdLCdkcm9wZG93bi1tZW51JykgKSB7XG4gICAgICAgICAgaWYgKGhhc0NsYXNzKGRyb3Bkb3duLGFjdGl2ZSkpIHJlbW92ZUNsYXNzKGRyb3Bkb3duLGFjdGl2ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFoYXNDbGFzcyhkcm9wZG93bixhY3RpdmUpKSBhZGRDbGFzcyhkcm9wZG93bixhY3RpdmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGJvb3RzdHJhcEN1c3RvbUV2ZW50LmNhbGwoYWN0aXZlVGFiLCBoaWRlRXZlbnQsIGNvbXBvbmVudCwgbmV4dCk7XG4gIFxuICAgICAgaWYgKGhhc0NsYXNzKGFjdGl2ZUNvbnRlbnQsICdmYWRlJykpIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoYWN0aXZlQ29udGVudCxzaG93Q2xhc3MpO1xuICAgICAgICBlbXVsYXRlVHJhbnNpdGlvbkVuZChhY3RpdmVDb250ZW50LCB0cmlnZ2VySGlkZSk7XG4gICAgICB9IGVsc2UgeyB0cmlnZ2VySGlkZSgpOyB9XG4gICAgfTtcbiAgXG4gICAgLy8gaW5pdFxuICAgIGlmICggIShzdHJpbmdUYWIgaW4gZWxlbWVudCkgKSB7IC8vIHByZXZlbnQgYWRkaW5nIGV2ZW50IGhhbmRsZXJzIHR3aWNlXG4gICAgICBvbihlbGVtZW50LCBjbGlja0V2ZW50LCBjbGlja0hhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAoc2VsZltoZWlnaHRdKSB7IHRhYnNDb250ZW50Q29udGFpbmVyID0gZ2V0QWN0aXZlQ29udGVudCgpW3BhcmVudE5vZGVdOyB9XG4gICAgZWxlbWVudFtzdHJpbmdUYWJdID0gc2VsZjtcbiAgfTtcbiAgXG4gIC8vIFRBQiBEQVRBIEFQSVxuICAvLyA9PT09PT09PT09PT1cbiAgc3VwcG9ydHNbcHVzaF0oIFsgc3RyaW5nVGFiLCBUYWIsICdbJytkYXRhVG9nZ2xlKyc9XCJ0YWJcIl0nIF0gKTtcbiAgXG4gIFxuICBcclxuICAvKiBOYXRpdmUgSmF2YXNjcmlwdCBmb3IgQm9vdHN0cmFwIHwgSW5pdGlhbGl6ZSBEYXRhIEFQSVxyXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICB2YXIgaW5pdGlhbGl6ZURhdGFBUEkgPSBmdW5jdGlvbiggY29uc3RydWN0b3IsIGNvbGxlY3Rpb24gKXtcclxuICAgICAgZm9yICh2YXIgaT0wLCBsPWNvbGxlY3Rpb25bbGVuZ3RoXTsgaTxsOyBpKyspIHtcclxuICAgICAgICBuZXcgY29uc3RydWN0b3IoY29sbGVjdGlvbltpXSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbml0Q2FsbGJhY2sgPSBCU04uaW5pdENhbGxiYWNrID0gZnVuY3Rpb24obG9va1VwKXtcclxuICAgICAgbG9va1VwID0gbG9va1VwIHx8IERPQztcclxuICAgICAgZm9yICh2YXIgaT0wLCBsPXN1cHBvcnRzW2xlbmd0aF07IGk8bDsgaSsrKSB7XHJcbiAgICAgICAgaW5pdGlhbGl6ZURhdGFBUEkoIHN1cHBvcnRzW2ldWzFdLCBsb29rVXBbcXVlcnlTZWxlY3RvckFsbF0gKHN1cHBvcnRzW2ldWzJdKSApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIFxyXG4gIC8vIGJ1bGsgaW5pdGlhbGl6ZSBhbGwgY29tcG9uZW50c1xyXG4gIERPQ1tib2R5XSA/IGluaXRDYWxsYmFjaygpIDogb24oIERPQywgJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpeyBpbml0Q2FsbGJhY2soKTsgfSApO1xyXG4gIFxuICByZXR1cm4ge1xuICAgIERyb3Bkb3duOiBEcm9wZG93bixcbiAgICBDb2xsYXBzZTogQ29sbGFwc2UsXG4gICAgVGFiOiBUYWJcbiAgfTtcbn0pKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBLHFCQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///73\n")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(63);\nvar global = __webpack_require__(17);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(75) ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zaGFyZWQuanM/NTUzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246IGNvcmUudmVyc2lvbixcbiAgbW9kZTogcmVxdWlyZSgnLi9fbGlicmFyeScpID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74\n")},function(module,exports){eval("module.exports = false;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19saWJyYXJ5LmpzPzJkMDAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///75\n")},function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jb2YuanM/MmQ5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///76\n")},function(module,exports){eval("// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1pbnRlZ2VyLmpzPzQ1ODgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///77\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(118);\nvar enumBugKeys = __webpack_require__(101);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3Qta2V5cy5qcz8wZDU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///78\n")},function(module,exports,__webpack_require__){eval("// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(57);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1vYmplY3QuanM/NGJmOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///79\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW9zL2Rpc3QvYW9zLmNzcz85ZTgzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///80\n")},function(module,exports,__webpack_require__){eval("/*\nThis plugin extends lazySizes to lazyLoad:\nbackground images, videos/posters and scripts\n\nBackground-Image:\nFor background images, use data-bg attribute:\n<div class=\"lazyload\" data-bg=\"bg-img.jpg\"></div>\n\n Video:\n For video/audio use data-poster and preload=\"none\":\n <video class=\"lazyload\" data-poster=\"poster.jpg\" preload=\"none\">\n \x3c!-- sources --\x3e\n </video>\n\n Scripts:\n For scripts use data-script:\n <div class=\"lazyload\" data-script=\"module-name.js\"></div>\n\n\n Script modules using require:\n For modules using require use data-require:\n <div class=\"lazyload\" data-require=\"module-name\"></div>\n*/\n\n(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif( true && module.exports){\n\t\tfactory(__webpack_require__(66));\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t/*jshint eqnull:true */\n\t'use strict';\n\tvar bgLoad, regBgUrlEscape;\n\tvar uniqueUrls = {};\n\n\tif(document.addEventListener){\n\t\tregBgUrlEscape = /\\(|\\)|\\s|'/;\n\n\t\tbgLoad = function (url, cb){\n\t\t\tvar img = document.createElement('img');\n\t\t\timg.onload = function(){\n\t\t\t\timg.onload = null;\n\t\t\t\timg.onerror = null;\n\t\t\t\timg = null;\n\t\t\t\tcb();\n\t\t\t};\n\t\t\timg.onerror = img.onload;\n\n\t\t\timg.src = url;\n\n\t\t\tif(img && img.complete && img.onload){\n\t\t\t\timg.onload();\n\t\t\t}\n\t\t};\n\n\t\taddEventListener('lazybeforeunveil', function(e){\n\t\t\tif(e.detail.instance != lazySizes){return;}\n\n\t\t\tvar tmp, load, bg, poster;\n\t\t\tif(!e.defaultPrevented) {\n\n\t\t\t\tif(e.target.preload == 'none'){\n\t\t\t\t\te.target.preload = 'auto';\n\t\t\t\t}\n\n\t\t\t\ttmp = e.target.getAttribute('data-link');\n\t\t\t\tif(tmp){\n\t\t\t\t\taddStyleScript(tmp, true);\n\t\t\t\t}\n\n\t\t\t\t// handle data-script\n\t\t\t\ttmp = e.target.getAttribute('data-script');\n\t\t\t\tif(tmp){\n\t\t\t\t\taddStyleScript(tmp);\n\t\t\t\t}\n\n\t\t\t\t// handle data-require\n\t\t\t\ttmp = e.target.getAttribute('data-require');\n\t\t\t\tif(tmp){\n\t\t\t\t\tif(lazySizes.cfg.requireJs){\n\t\t\t\t\t\tlazySizes.cfg.requireJs([tmp]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddStyleScript(tmp);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// handle data-bg\n\t\t\t\tbg = e.target.getAttribute('data-bg');\n\t\t\t\tif (bg) {\n\t\t\t\t\te.detail.firesLoad = true;\n\t\t\t\t\tload = function(){\n\t\t\t\t\t\te.target.style.backgroundImage = 'url(' + (regBgUrlEscape.test(bg) ? JSON.stringify(bg) : bg ) + ')';\n\t\t\t\t\t\te.detail.firesLoad = false;\n\t\t\t\t\t\tlazySizes.fire(e.target, '_lazyloaded', {}, true, true);\n\t\t\t\t\t};\n\n\t\t\t\t\tbgLoad(bg, load);\n\t\t\t\t}\n\n\t\t\t\t// handle data-poster\n\t\t\t\tposter = e.target.getAttribute('data-poster');\n\t\t\t\tif(poster){\n\t\t\t\t\te.detail.firesLoad = true;\n\t\t\t\t\tload = function(){\n\t\t\t\t\t\te.target.poster = poster;\n\t\t\t\t\t\te.detail.firesLoad = false;\n\t\t\t\t\t\tlazySizes.fire(e.target, '_lazyloaded', {}, true, true);\n\t\t\t\t\t};\n\n\t\t\t\t\tbgLoad(poster, load);\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\n\t}\n\n\tfunction addStyleScript(src, style){\n\t\tif(uniqueUrls[src]){\n\t\t\treturn;\n\t\t}\n\t\tvar elem = document.createElement(style ? 'link' : 'script');\n\t\tvar insertElem = document.getElementsByTagName('script')[0];\n\n\t\tif(style){\n\t\t\telem.rel = 'stylesheet';\n\t\t\telem.href = src;\n\t\t} else {\n\t\t\telem.src = src;\n\t\t}\n\t\tuniqueUrls[src] = true;\n\t\tuniqueUrls[elem.src || elem.href] = true;\n\t\tinsertElem.parentNode.insertBefore(elem, insertElem);\n\t}\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGF6eXNpemVzL3BsdWdpbnMvdW52ZWlsaG9va3MvbHMudW52ZWlsaG9va3MuanM/MDkyZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVGhpcyBwbHVnaW4gZXh0ZW5kcyBsYXp5U2l6ZXMgdG8gbGF6eUxvYWQ6XG5iYWNrZ3JvdW5kIGltYWdlcywgdmlkZW9zL3Bvc3RlcnMgYW5kIHNjcmlwdHNcblxuQmFja2dyb3VuZC1JbWFnZTpcbkZvciBiYWNrZ3JvdW5kIGltYWdlcywgdXNlIGRhdGEtYmcgYXR0cmlidXRlOlxuPGRpdiBjbGFzcz1cImxhenlsb2FkXCIgZGF0YS1iZz1cImJnLWltZy5qcGdcIj48L2Rpdj5cblxuIFZpZGVvOlxuIEZvciB2aWRlby9hdWRpbyB1c2UgZGF0YS1wb3N0ZXIgYW5kIHByZWxvYWQ9XCJub25lXCI6XG4gPHZpZGVvIGNsYXNzPVwibGF6eWxvYWRcIiBkYXRhLXBvc3Rlcj1cInBvc3Rlci5qcGdcIiBwcmVsb2FkPVwibm9uZVwiPlxuIDwhLS0gc291cmNlcyAtLT5cbiA8L3ZpZGVvPlxuXG4gU2NyaXB0czpcbiBGb3Igc2NyaXB0cyB1c2UgZGF0YS1zY3JpcHQ6XG4gPGRpdiBjbGFzcz1cImxhenlsb2FkXCIgZGF0YS1zY3JpcHQ9XCJtb2R1bGUtbmFtZS5qc1wiPjwvZGl2PlxuXG5cbiBTY3JpcHQgbW9kdWxlcyB1c2luZyByZXF1aXJlOlxuIEZvciBtb2R1bGVzIHVzaW5nIHJlcXVpcmUgdXNlIGRhdGEtcmVxdWlyZTpcbiA8ZGl2IGNsYXNzPVwibGF6eWxvYWRcIiBkYXRhLXJlcXVpcmU9XCJtb2R1bGUtbmFtZVwiPjwvZGl2PlxuKi9cblxuKGZ1bmN0aW9uKHdpbmRvdywgZmFjdG9yeSkge1xuXHR2YXIgZ2xvYmFsSW5zdGFsbCA9IGZ1bmN0aW9uKCl7XG5cdFx0ZmFjdG9yeSh3aW5kb3cubGF6eVNpemVzKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbGF6eXVudmVpbHJlYWQnLCBnbG9iYWxJbnN0YWxsLCB0cnVlKTtcblx0fTtcblxuXHRmYWN0b3J5ID0gZmFjdG9yeS5iaW5kKG51bGwsIHdpbmRvdywgd2luZG93LmRvY3VtZW50KTtcblxuXHRpZih0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcblx0XHRmYWN0b3J5KHJlcXVpcmUoJ2xhenlzaXplcycpKTtcblx0fSBlbHNlIGlmKHdpbmRvdy5sYXp5U2l6ZXMpIHtcblx0XHRnbG9iYWxJbnN0YWxsKCk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xhenl1bnZlaWxyZWFkJywgZ2xvYmFsSW5zdGFsbCwgdHJ1ZSk7XG5cdH1cbn0od2luZG93LCBmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBsYXp5U2l6ZXMpIHtcblx0Lypqc2hpbnQgZXFudWxsOnRydWUgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgYmdMb2FkLCByZWdCZ1VybEVzY2FwZTtcblx0dmFyIHVuaXF1ZVVybHMgPSB7fTtcblxuXHRpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRyZWdCZ1VybEVzY2FwZSA9IC9cXCh8XFwpfFxcc3wnLztcblxuXHRcdGJnTG9hZCA9IGZ1bmN0aW9uICh1cmwsIGNiKXtcblx0XHRcdHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblx0XHRcdGltZy5vbmxvYWQgPSBmdW5jdGlvbigpe1xuXHRcdFx0XHRpbWcub25sb2FkID0gbnVsbDtcblx0XHRcdFx0aW1nLm9uZXJyb3IgPSBudWxsO1xuXHRcdFx0XHRpbWcgPSBudWxsO1xuXHRcdFx0XHRjYigpO1xuXHRcdFx0fTtcblx0XHRcdGltZy5vbmVycm9yID0gaW1nLm9ubG9hZDtcblxuXHRcdFx0aW1nLnNyYyA9IHVybDtcblxuXHRcdFx0aWYoaW1nICYmIGltZy5jb21wbGV0ZSAmJiBpbWcub25sb2FkKXtcblx0XHRcdFx0aW1nLm9ubG9hZCgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKCdsYXp5YmVmb3JldW52ZWlsJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRpZihlLmRldGFpbC5pbnN0YW5jZSAhPSBsYXp5U2l6ZXMpe3JldHVybjt9XG5cblx0XHRcdHZhciB0bXAsIGxvYWQsIGJnLCBwb3N0ZXI7XG5cdFx0XHRpZighZS5kZWZhdWx0UHJldmVudGVkKSB7XG5cblx0XHRcdFx0aWYoZS50YXJnZXQucHJlbG9hZCA9PSAnbm9uZScpe1xuXHRcdFx0XHRcdGUudGFyZ2V0LnByZWxvYWQgPSAnYXV0byc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0bXAgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGluaycpO1xuXHRcdFx0XHRpZih0bXApe1xuXHRcdFx0XHRcdGFkZFN0eWxlU2NyaXB0KHRtcCwgdHJ1ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBoYW5kbGUgZGF0YS1zY3JpcHRcblx0XHRcdFx0dG1wID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcmlwdCcpO1xuXHRcdFx0XHRpZih0bXApe1xuXHRcdFx0XHRcdGFkZFN0eWxlU2NyaXB0KHRtcCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBoYW5kbGUgZGF0YS1yZXF1aXJlXG5cdFx0XHRcdHRtcCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlJyk7XG5cdFx0XHRcdGlmKHRtcCl7XG5cdFx0XHRcdFx0aWYobGF6eVNpemVzLmNmZy5yZXF1aXJlSnMpe1xuXHRcdFx0XHRcdFx0bGF6eVNpemVzLmNmZy5yZXF1aXJlSnMoW3RtcF0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRhZGRTdHlsZVNjcmlwdCh0bXApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGhhbmRsZSBkYXRhLWJnXG5cdFx0XHRcdGJnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWJnJyk7XG5cdFx0XHRcdGlmIChiZykge1xuXHRcdFx0XHRcdGUuZGV0YWlsLmZpcmVzTG9hZCA9IHRydWU7XG5cdFx0XHRcdFx0bG9hZCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyAocmVnQmdVcmxFc2NhcGUudGVzdChiZykgPyBKU09OLnN0cmluZ2lmeShiZykgOiBiZyApICsgJyknO1xuXHRcdFx0XHRcdFx0ZS5kZXRhaWwuZmlyZXNMb2FkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRsYXp5U2l6ZXMuZmlyZShlLnRhcmdldCwgJ19sYXp5bG9hZGVkJywge30sIHRydWUsIHRydWUpO1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRiZ0xvYWQoYmcsIGxvYWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaGFuZGxlIGRhdGEtcG9zdGVyXG5cdFx0XHRcdHBvc3RlciA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wb3N0ZXInKTtcblx0XHRcdFx0aWYocG9zdGVyKXtcblx0XHRcdFx0XHRlLmRldGFpbC5maXJlc0xvYWQgPSB0cnVlO1xuXHRcdFx0XHRcdGxvYWQgPSBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0ZS50YXJnZXQucG9zdGVyID0gcG9zdGVyO1xuXHRcdFx0XHRcdFx0ZS5kZXRhaWwuZmlyZXNMb2FkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRsYXp5U2l6ZXMuZmlyZShlLnRhcmdldCwgJ19sYXp5bG9hZGVkJywge30sIHRydWUsIHRydWUpO1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRiZ0xvYWQocG9zdGVyLCBsb2FkKTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSwgZmFsc2UpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBhZGRTdHlsZVNjcmlwdChzcmMsIHN0eWxlKXtcblx0XHRpZih1bmlxdWVVcmxzW3NyY10pe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoc3R5bGUgPyAnbGluaycgOiAnc2NyaXB0Jyk7XG5cdFx0dmFyIGluc2VydEVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG5cblx0XHRpZihzdHlsZSl7XG5cdFx0XHRlbGVtLnJlbCA9ICdzdHlsZXNoZWV0Jztcblx0XHRcdGVsZW0uaHJlZiA9IHNyYztcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5zcmMgPSBzcmM7XG5cdFx0fVxuXHRcdHVuaXF1ZVVybHNbc3JjXSA9IHRydWU7XG5cdFx0dW5pcXVlVXJsc1tlbGVtLnNyYyB8fCBlbGVtLmhyZWZdID0gdHJ1ZTtcblx0XHRpbnNlcnRFbGVtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sIGluc2VydEVsZW0pO1xuXHR9XG59KSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///81\n")},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_RESULT__;/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&("style"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\\s+/g," ").replace(/^\\s+|\\s+$/,"")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,"link",{rel:"stylesheet",href:b,media:"all"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error("Stylesheet failed to load");d()}):setTimeout(function(){e=!0;d()},0);u(a,"head",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName("head")[0];if(e){var f=t(a,"script",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,"HEAD"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error("Script load timeout")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||"-"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,"").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+" "+(a.f+"00")+" 300px "+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/[\'"]/g,"");-1!=d.indexOf(" ")||/^\\d/.test(d)?b.push("\'"+d+"\'"):b.push(d)}return b.join(",")}function J(a){return a.a+a.f}function H(a){var b="normal";"o"===a.a?b="oblique":"i"===a.a&&(b="italic");return b}\nfunction ga(a){var b=4,c="n",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F("-");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c("wf","loading")]);K(a,"loading")}function L(a){if(a.g){var b=y(a.f,a.a.c("wf","active")),c=[],d=[a.a.c("wf","loading")];b||c.push(a.a.c("wf","inactive"));w(a.f,c,d)}K(a,"inactive")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,"span",{"aria-hidden":"true"},this.f)}function N(a){u(a.c,"body",a.a)}function O(a){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+I(a.c)+";"+("font-style:"+H(a)+";font-weight:"+(a.f+"00")+";")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||"BESbswy";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+",serif",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+",sans-serif",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G("serif",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G("sans-serif",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:"serif",C:"sans-serif"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f["sans-serif"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c("wf",a.c,J(a).toString(),"active")],[b.a.c("wf",a.c,J(a).toString(),"loading"),b.a.c("wf",a.c,J(a).toString(),"inactive")]);K(b,"fontactive",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c("wf",a.c,J(a).toString(),"active")),d=[],e=[b.a.c("wf",a.c,J(a).toString(),"loading")];c||d.push(b.a.c("wf",a.c,J(a).toString(),"inactive"));w(b.f,d,e)}K(b,"fontinactive",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c("wf","active")],[a.a.c("wf","loading"),a.a.c("wf","inactive")]),K(a,"active")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c("wf",x.c,J(x).toString(),"loading")]);K(r,"fontloading",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f["__mti_fntLst"+d]){var c=f["__mti_fntLst"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||"https://fast.fonts.net/jsapi")+"/"+d+".js"+(e?"?v="+e:""),function(e){e?a([]):(f["__MonotypeConfiguration__"+\nd]=function(){return c.a},b())}).id="__MonotypeAPIScript__"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(":"),d[1])for(var h=d[1].split(","),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||""}var ua="https://fonts.googleapis.com/css";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(":");3==e.length&&a.f.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error("No fonts to load!");if(-1!=a.c.indexOf("kit="))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,"+"));b=a.c+"?family="+c.join("%7C");0<a.f.length&&(b+="&subset="+a.f.join(","));0<a.g.length&&(b+="&text="+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:"BESbswy","latin-ext":"\\u00e7\\u00f6\\u00fc\\u011f\\u015f",cyrillic:"\\u0439\\u044f\\u0416",greek:"\\u03b1\\u03b2\\u03a3",khmer:"\\u1780\\u1781\\u1782",Hanuman:"\\u1780\\u1781\\u1782"},Aa={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ba={i:"i",italic:"i",n:"n",normal:"n"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(":"),e=d[0].replace(/\\+/g," "),f=["n4"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(","),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k="";else{k=n[2];k=null==k||""==k?"n":Ba[k];n=n[1];if(null==n||""==n)n="4";else var r=Aa[n],n=r?r:isNaN(n)?"4":n.substr(0,1);k=[k,n].join("")}}else k="";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(","):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||"https://use.typekit.net")+"/"+b+".js",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga("font-weight:"+h.weight+";font-style:"+h.style)))}a(d.a)},A(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+ea(this.c)+"/"+b+".js",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)}; true?!(__WEBPACK_AMD_DEFINE_RESULT__ = (function(){return Z}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined;}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2ViZm9udGxvYWRlci93ZWJmb250bG9hZGVyLmpzPzI3ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogV2ViIEZvbnQgTG9hZGVyIHYxLjYuMjggLSAoYykgQWRvYmUgU3lzdGVtcywgR29vZ2xlLiBMaWNlbnNlOiBBcGFjaGUgMi4wICovKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYWEoYSxiLGMpe3JldHVybiBhLmNhbGwuYXBwbHkoYS5iaW5kLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYmEoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gcChhLGIsYyl7cD1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2FhOmJhO3JldHVybiBwLmFwcGx5KG51bGwsYXJndW1lbnRzKX12YXIgcT1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9O2Z1bmN0aW9uIGNhKGEsYil7dGhpcy5hPWE7dGhpcy5vPWJ8fGE7dGhpcy5jPXRoaXMuby5kb2N1bWVudH12YXIgZGE9ISF3aW5kb3cuRm9udEZhY2U7ZnVuY3Rpb24gdChhLGIsYyxkKXtiPWEuYy5jcmVhdGVFbGVtZW50KGIpO2lmKGMpZm9yKHZhciBlIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShlKSYmKFwic3R5bGVcIj09ZT9iLnN0eWxlLmNzc1RleHQ9Y1tlXTpiLnNldEF0dHJpYnV0ZShlLGNbZV0pKTtkJiZiLmFwcGVuZENoaWxkKGEuYy5jcmVhdGVUZXh0Tm9kZShkKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gdShhLGIsYyl7YT1hLmMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYilbMF07YXx8KGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTthLmluc2VydEJlZm9yZShjLGEubGFzdENoaWxkKX1mdW5jdGlvbiB2KGEpe2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfVxuZnVuY3Rpb24gdyhhLGIsYyl7Yj1ifHxbXTtjPWN8fFtdO2Zvcih2YXIgZD1hLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLGU9MDtlPGIubGVuZ3RoO2UrPTEpe2Zvcih2YXIgZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKz0xKWlmKGJbZV09PT1kW2ddKXtmPSEwO2JyZWFrfWZ8fGQucHVzaChiW2VdKX1iPVtdO2ZvcihlPTA7ZTxkLmxlbmd0aDtlKz0xKXtmPSExO2ZvcihnPTA7ZzxjLmxlbmd0aDtnKz0xKWlmKGRbZV09PT1jW2ddKXtmPSEwO2JyZWFrfWZ8fGIucHVzaChkW2VdKX1hLmNsYXNzTmFtZT1iLmpvaW4oXCIgXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikucmVwbGFjZSgvXlxccyt8XFxzKyQvLFwiXCIpfWZ1bmN0aW9uIHkoYSxiKXtmb3IodmFyIGM9YS5jbGFzc05hbWUuc3BsaXQoL1xccysvKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWlmKGNbZF09PWIpcmV0dXJuITA7cmV0dXJuITF9XG5mdW5jdGlvbiBlYShhKXtyZXR1cm4gYS5vLmxvY2F0aW9uLmhvc3RuYW1lfHxhLmEubG9jYXRpb24uaG9zdG5hbWV9ZnVuY3Rpb24geihhLGIsYyl7ZnVuY3Rpb24gZCgpe20mJmUmJmYmJihtKGcpLG09bnVsbCl9Yj10KGEsXCJsaW5rXCIse3JlbDpcInN0eWxlc2hlZXRcIixocmVmOmIsbWVkaWE6XCJhbGxcIn0pO3ZhciBlPSExLGY9ITAsZz1udWxsLG09Y3x8bnVsbDtkYT8oYi5vbmxvYWQ9ZnVuY3Rpb24oKXtlPSEwO2QoKX0sYi5vbmVycm9yPWZ1bmN0aW9uKCl7ZT0hMDtnPUVycm9yKFwiU3R5bGVzaGVldCBmYWlsZWQgdG8gbG9hZFwiKTtkKCl9KTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZT0hMDtkKCl9LDApO3UoYSxcImhlYWRcIixiKX1cbmZ1bmN0aW9uIEEoYSxiLGMsZCl7dmFyIGU9YS5jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtpZihlKXt2YXIgZj10KGEsXCJzY3JpcHRcIix7c3JjOmJ9KSxnPSExO2Yub25sb2FkPWYub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Z3x8dGhpcy5yZWFkeVN0YXRlJiZcImxvYWRlZFwiIT10aGlzLnJlYWR5U3RhdGUmJlwiY29tcGxldGVcIiE9dGhpcy5yZWFkeVN0YXRlfHwoZz0hMCxjJiZjKG51bGwpLGYub25sb2FkPWYub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsXCJIRUFEXCI9PWYucGFyZW50Tm9kZS50YWdOYW1lJiZlLnJlbW92ZUNoaWxkKGYpKX07ZS5hcHBlbmRDaGlsZChmKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Z3x8KGc9ITAsYyYmYyhFcnJvcihcIlNjcmlwdCBsb2FkIHRpbWVvdXRcIikpKX0sZHx8NUUzKTtyZXR1cm4gZn1yZXR1cm4gbnVsbH07ZnVuY3Rpb24gQigpe3RoaXMuYT0wO3RoaXMuYz1udWxsfWZ1bmN0aW9uIEMoYSl7YS5hKys7cmV0dXJuIGZ1bmN0aW9uKCl7YS5hLS07RChhKX19ZnVuY3Rpb24gRShhLGIpe2EuYz1iO0QoYSl9ZnVuY3Rpb24gRChhKXswPT1hLmEmJmEuYyYmKGEuYygpLGEuYz1udWxsKX07ZnVuY3Rpb24gRihhKXt0aGlzLmE9YXx8XCItXCJ9Ri5wcm90b3R5cGUuYz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYi5wdXNoKGFyZ3VtZW50c1tjXS5yZXBsYWNlKC9bXFxXX10rL2csXCJcIikudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGIuam9pbih0aGlzLmEpfTtmdW5jdGlvbiBHKGEsYil7dGhpcy5jPWE7dGhpcy5mPTQ7dGhpcy5hPVwiblwiO3ZhciBjPShifHxcIm40XCIpLm1hdGNoKC9eKFtuaW9dKShbMS05XSkkL2kpO2MmJih0aGlzLmE9Y1sxXSx0aGlzLmY9cGFyc2VJbnQoY1syXSwxMCkpfWZ1bmN0aW9uIGZhKGEpe3JldHVybiBIKGEpK1wiIFwiKyhhLmYrXCIwMFwiKStcIiAzMDBweCBcIitJKGEuYyl9ZnVuY3Rpb24gSShhKXt2YXIgYj1bXTthPWEuc3BsaXQoLyxcXHMqLyk7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10ucmVwbGFjZSgvWydcIl0vZyxcIlwiKTstMSE9ZC5pbmRleE9mKFwiIFwiKXx8L15cXGQvLnRlc3QoZCk/Yi5wdXNoKFwiJ1wiK2QrXCInXCIpOmIucHVzaChkKX1yZXR1cm4gYi5qb2luKFwiLFwiKX1mdW5jdGlvbiBKKGEpe3JldHVybiBhLmErYS5mfWZ1bmN0aW9uIEgoYSl7dmFyIGI9XCJub3JtYWxcIjtcIm9cIj09PWEuYT9iPVwib2JsaXF1ZVwiOlwiaVwiPT09YS5hJiYoYj1cIml0YWxpY1wiKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIGdhKGEpe3ZhciBiPTQsYz1cIm5cIixkPW51bGw7YSYmKChkPWEubWF0Y2goLyhub3JtYWx8b2JsaXF1ZXxpdGFsaWMpL2kpKSYmZFsxXSYmKGM9ZFsxXS5zdWJzdHIoMCwxKS50b0xvd2VyQ2FzZSgpKSwoZD1hLm1hdGNoKC8oWzEtOV0wMHxub3JtYWx8Ym9sZCkvaSkpJiZkWzFdJiYoL2JvbGQvaS50ZXN0KGRbMV0pP2I9NzovWzEtOV0wMC8udGVzdChkWzFdKSYmKGI9cGFyc2VJbnQoZFsxXS5zdWJzdHIoMCwxKSwxMCkpKSk7cmV0dXJuIGMrYn07ZnVuY3Rpb24gaGEoYSxiKXt0aGlzLmM9YTt0aGlzLmY9YS5vLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt0aGlzLmg9Yjt0aGlzLmE9bmV3IEYoXCItXCIpO3RoaXMuaj0hMSE9PWIuZXZlbnRzO3RoaXMuZz0hMSE9PWIuY2xhc3Nlc31mdW5jdGlvbiBpYShhKXthLmcmJncoYS5mLFthLmEuYyhcIndmXCIsXCJsb2FkaW5nXCIpXSk7SyhhLFwibG9hZGluZ1wiKX1mdW5jdGlvbiBMKGEpe2lmKGEuZyl7dmFyIGI9eShhLmYsYS5hLmMoXCJ3ZlwiLFwiYWN0aXZlXCIpKSxjPVtdLGQ9W2EuYS5jKFwid2ZcIixcImxvYWRpbmdcIildO2J8fGMucHVzaChhLmEuYyhcIndmXCIsXCJpbmFjdGl2ZVwiKSk7dyhhLmYsYyxkKX1LKGEsXCJpbmFjdGl2ZVwiKX1mdW5jdGlvbiBLKGEsYixjKXtpZihhLmomJmEuaFtiXSlpZihjKWEuaFtiXShjLmMsSihjKSk7ZWxzZSBhLmhbYl0oKX07ZnVuY3Rpb24gamEoKXt0aGlzLmM9e319ZnVuY3Rpb24ga2EoYSxiLGMpe3ZhciBkPVtdLGU7Zm9yKGUgaW4gYilpZihiLmhhc093blByb3BlcnR5KGUpKXt2YXIgZj1hLmNbZV07ZiYmZC5wdXNoKGYoYltlXSxjKSl9cmV0dXJuIGR9O2Z1bmN0aW9uIE0oYSxiKXt0aGlzLmM9YTt0aGlzLmY9Yjt0aGlzLmE9dCh0aGlzLmMsXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIn0sdGhpcy5mKX1mdW5jdGlvbiBOKGEpe3UoYS5jLFwiYm9keVwiLGEuYSl9ZnVuY3Rpb24gTyhhKXtyZXR1cm5cImRpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dG9wOi05OTk5cHg7bGVmdDotOTk5OXB4O2ZvbnQtc2l6ZTozMDBweDt3aWR0aDphdXRvO2hlaWdodDphdXRvO2xpbmUtaGVpZ2h0Om5vcm1hbDttYXJnaW46MDtwYWRkaW5nOjA7Zm9udC12YXJpYW50Om5vcm1hbDt3aGl0ZS1zcGFjZTpub3dyYXA7Zm9udC1mYW1pbHk6XCIrSShhLmMpK1wiO1wiKyhcImZvbnQtc3R5bGU6XCIrSChhKStcIjtmb250LXdlaWdodDpcIisoYS5mK1wiMDBcIikrXCI7XCIpfTtmdW5jdGlvbiBQKGEsYixjLGQsZSxmKXt0aGlzLmc9YTt0aGlzLmo9Yjt0aGlzLmE9ZDt0aGlzLmM9Yzt0aGlzLmY9ZXx8M0UzO3RoaXMuaD1mfHx2b2lkIDB9UC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMuby5kb2N1bWVudCxiPXRoaXMsYz1xKCksZD1uZXcgUHJvbWlzZShmdW5jdGlvbihkLGUpe2Z1bmN0aW9uIGYoKXtxKCktYz49Yi5mP2UoKTphLmZvbnRzLmxvYWQoZmEoYi5hKSxiLmgpLnRoZW4oZnVuY3Rpb24oYSl7MTw9YS5sZW5ndGg/ZCgpOnNldFRpbWVvdXQoZiwyNSl9LGZ1bmN0aW9uKCl7ZSgpfSl9ZigpfSksZT1udWxsLGY9bmV3IFByb21pc2UoZnVuY3Rpb24oYSxkKXtlPXNldFRpbWVvdXQoZCxiLmYpfSk7UHJvbWlzZS5yYWNlKFtmLGRdKS50aGVuKGZ1bmN0aW9uKCl7ZSYmKGNsZWFyVGltZW91dChlKSxlPW51bGwpO2IuZyhiLmEpfSxmdW5jdGlvbigpe2IuaihiLmEpfSl9O2Z1bmN0aW9uIFEoYSxiLGMsZCxlLGYsZyl7dGhpcy52PWE7dGhpcy5CPWI7dGhpcy5jPWM7dGhpcy5hPWQ7dGhpcy5zPWd8fFwiQkVTYnN3eVwiO3RoaXMuZj17fTt0aGlzLnc9ZXx8M0UzO3RoaXMudT1mfHxudWxsO3RoaXMubT10aGlzLmo9dGhpcy5oPXRoaXMuZz1udWxsO3RoaXMuZz1uZXcgTSh0aGlzLmMsdGhpcy5zKTt0aGlzLmg9bmV3IE0odGhpcy5jLHRoaXMucyk7dGhpcy5qPW5ldyBNKHRoaXMuYyx0aGlzLnMpO3RoaXMubT1uZXcgTSh0aGlzLmMsdGhpcy5zKTthPW5ldyBHKHRoaXMuYS5jK1wiLHNlcmlmXCIsSih0aGlzLmEpKTthPU8oYSk7dGhpcy5nLmEuc3R5bGUuY3NzVGV4dD1hO2E9bmV3IEcodGhpcy5hLmMrXCIsc2Fucy1zZXJpZlwiLEoodGhpcy5hKSk7YT1PKGEpO3RoaXMuaC5hLnN0eWxlLmNzc1RleHQ9YTthPW5ldyBHKFwic2VyaWZcIixKKHRoaXMuYSkpO2E9TyhhKTt0aGlzLmouYS5zdHlsZS5jc3NUZXh0PWE7YT1uZXcgRyhcInNhbnMtc2VyaWZcIixKKHRoaXMuYSkpO2E9XG5PKGEpO3RoaXMubS5hLnN0eWxlLmNzc1RleHQ9YTtOKHRoaXMuZyk7Tih0aGlzLmgpO04odGhpcy5qKTtOKHRoaXMubSl9dmFyIFI9e0Q6XCJzZXJpZlwiLEM6XCJzYW5zLXNlcmlmXCJ9LFM9bnVsbDtmdW5jdGlvbiBUKCl7aWYobnVsbD09PVMpe3ZhciBhPS9BcHBsZVdlYktpdFxcLyhbMC05XSspKD86XFwuKFswLTldKykpLy5leGVjKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtTPSEhYSYmKDUzNj5wYXJzZUludChhWzFdLDEwKXx8NTM2PT09cGFyc2VJbnQoYVsxXSwxMCkmJjExPj1wYXJzZUludChhWzJdLDEwKSl9cmV0dXJuIFN9US5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmYuc2VyaWY9dGhpcy5qLmEub2Zmc2V0V2lkdGg7dGhpcy5mW1wic2Fucy1zZXJpZlwiXT10aGlzLm0uYS5vZmZzZXRXaWR0aDt0aGlzLkE9cSgpO1UodGhpcyl9O1xuZnVuY3Rpb24gbGEoYSxiLGMpe2Zvcih2YXIgZCBpbiBSKWlmKFIuaGFzT3duUHJvcGVydHkoZCkmJmI9PT1hLmZbUltkXV0mJmM9PT1hLmZbUltkXV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVShhKXt2YXIgYj1hLmcuYS5vZmZzZXRXaWR0aCxjPWEuaC5hLm9mZnNldFdpZHRoLGQ7KGQ9Yj09PWEuZi5zZXJpZiYmYz09PWEuZltcInNhbnMtc2VyaWZcIl0pfHwoZD1UKCkmJmxhKGEsYixjKSk7ZD9xKCktYS5BPj1hLnc/VCgpJiZsYShhLGIsYykmJihudWxsPT09YS51fHxhLnUuaGFzT3duUHJvcGVydHkoYS5hLmMpKT9WKGEsYS52KTpWKGEsYS5CKTptYShhKTpWKGEsYS52KX1mdW5jdGlvbiBtYShhKXtzZXRUaW1lb3V0KHAoZnVuY3Rpb24oKXtVKHRoaXMpfSxhKSw1MCl9ZnVuY3Rpb24gVihhLGIpe3NldFRpbWVvdXQocChmdW5jdGlvbigpe3YodGhpcy5nLmEpO3YodGhpcy5oLmEpO3YodGhpcy5qLmEpO3YodGhpcy5tLmEpO2IodGhpcy5hKX0sYSksMCl9O2Z1bmN0aW9uIFcoYSxiLGMpe3RoaXMuYz1hO3RoaXMuYT1iO3RoaXMuZj0wO3RoaXMubT10aGlzLmo9ITE7dGhpcy5zPWN9dmFyIFg9bnVsbDtXLnByb3RvdHlwZS5nPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYTtiLmcmJncoYi5mLFtiLmEuYyhcIndmXCIsYS5jLEooYSkudG9TdHJpbmcoKSxcImFjdGl2ZVwiKV0sW2IuYS5jKFwid2ZcIixhLmMsSihhKS50b1N0cmluZygpLFwibG9hZGluZ1wiKSxiLmEuYyhcIndmXCIsYS5jLEooYSkudG9TdHJpbmcoKSxcImluYWN0aXZlXCIpXSk7SyhiLFwiZm9udGFjdGl2ZVwiLGEpO3RoaXMubT0hMDtuYSh0aGlzKX07XG5XLnByb3RvdHlwZS5oPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYTtpZihiLmcpe3ZhciBjPXkoYi5mLGIuYS5jKFwid2ZcIixhLmMsSihhKS50b1N0cmluZygpLFwiYWN0aXZlXCIpKSxkPVtdLGU9W2IuYS5jKFwid2ZcIixhLmMsSihhKS50b1N0cmluZygpLFwibG9hZGluZ1wiKV07Y3x8ZC5wdXNoKGIuYS5jKFwid2ZcIixhLmMsSihhKS50b1N0cmluZygpLFwiaW5hY3RpdmVcIikpO3coYi5mLGQsZSl9SyhiLFwiZm9udGluYWN0aXZlXCIsYSk7bmEodGhpcyl9O2Z1bmN0aW9uIG5hKGEpezA9PS0tYS5mJiZhLmomJihhLm0/KGE9YS5hLGEuZyYmdyhhLmYsW2EuYS5jKFwid2ZcIixcImFjdGl2ZVwiKV0sW2EuYS5jKFwid2ZcIixcImxvYWRpbmdcIiksYS5hLmMoXCJ3ZlwiLFwiaW5hY3RpdmVcIildKSxLKGEsXCJhY3RpdmVcIikpOkwoYS5hKSl9O2Z1bmN0aW9uIG9hKGEpe3RoaXMuaj1hO3RoaXMuYT1uZXcgamE7dGhpcy5oPTA7dGhpcy5mPXRoaXMuZz0hMH1vYS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXt0aGlzLmM9bmV3IGNhKHRoaXMuaixhLmNvbnRleHR8fHRoaXMuaik7dGhpcy5nPSExIT09YS5ldmVudHM7dGhpcy5mPSExIT09YS5jbGFzc2VzO3BhKHRoaXMsbmV3IGhhKHRoaXMuYyxhKSxhKX07XG5mdW5jdGlvbiBxYShhLGIsYyxkLGUpe3ZhciBmPTA9PS0tYS5oOyhhLmZ8fGEuZykmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1lfHxudWxsLG09ZHx8bnVsbHx8e307aWYoMD09PWMubGVuZ3RoJiZmKUwoYi5hKTtlbHNle2IuZis9Yy5sZW5ndGg7ZiYmKGIuaj1mKTt2YXIgaCxsPVtdO2ZvcihoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBrPWNbaF0sbj1tW2suY10scj1iLmEseD1rO3IuZyYmdyhyLmYsW3IuYS5jKFwid2ZcIix4LmMsSih4KS50b1N0cmluZygpLFwibG9hZGluZ1wiKV0pO0socixcImZvbnRsb2FkaW5nXCIseCk7cj1udWxsO2lmKG51bGw9PT1YKWlmKHdpbmRvdy5Gb250RmFjZSl7dmFyIHg9L0dlY2tvLipGaXJlZm94XFwvKFxcZCspLy5leGVjKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSx4YT0vT1MgWC4qVmVyc2lvblxcLzEwXFwuLipTYWZhcmkvLmV4ZWMod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpJiYvQXBwbGUvLmV4ZWMod2luZG93Lm5hdmlnYXRvci52ZW5kb3IpO1xuWD14PzQyPHBhcnNlSW50KHhbMV0sMTApOnhhPyExOiEwfWVsc2UgWD0hMTtYP3I9bmV3IFAocChiLmcsYikscChiLmgsYiksYi5jLGssYi5zLG4pOnI9bmV3IFEocChiLmcsYikscChiLmgsYiksYi5jLGssYi5zLGEsbik7bC5wdXNoKHIpfWZvcihoPTA7aDxsLmxlbmd0aDtoKyspbFtoXS5zdGFydCgpfX0sMCl9ZnVuY3Rpb24gcGEoYSxiLGMpe3ZhciBkPVtdLGU9Yy50aW1lb3V0O2lhKGIpO3ZhciBkPWthKGEuYSxjLGEuYyksZj1uZXcgVyhhLmMsYixlKTthLmg9ZC5sZW5ndGg7Yj0wO2ZvcihjPWQubGVuZ3RoO2I8YztiKyspZFtiXS5sb2FkKGZ1bmN0aW9uKGIsZCxjKXtxYShhLGYsYixkLGMpfSl9O2Z1bmN0aW9uIHJhKGEsYil7dGhpcy5jPWE7dGhpcy5hPWJ9XG5yYS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7aWYoZltcIl9fbXRpX2ZudExzdFwiK2RdKXt2YXIgYz1mW1wiX19tdGlfZm50THN0XCIrZF0oKSxlPVtdLGg7aWYoYylmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIGs9Y1tsXS5mb250ZmFtaWx5O3ZvaWQgMCE9Y1tsXS5mb250U3R5bGUmJnZvaWQgMCE9Y1tsXS5mb250V2VpZ2h0PyhoPWNbbF0uZm9udFN0eWxlK2NbbF0uZm9udFdlaWdodCxlLnB1c2gobmV3IEcoayxoKSkpOmUucHVzaChuZXcgRyhrKSl9YShlKX1lbHNlIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKCl9LDUwKX12YXIgYz10aGlzLGQ9Yy5hLnByb2plY3RJZCxlPWMuYS52ZXJzaW9uO2lmKGQpe3ZhciBmPWMuYy5vO0EodGhpcy5jLChjLmEuYXBpfHxcImh0dHBzOi8vZmFzdC5mb250cy5uZXQvanNhcGlcIikrXCIvXCIrZCtcIi5qc1wiKyhlP1wiP3Y9XCIrZTpcIlwiKSxmdW5jdGlvbihlKXtlP2EoW10pOihmW1wiX19Nb25vdHlwZUNvbmZpZ3VyYXRpb25fX1wiK1xuZF09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hfSxiKCkpfSkuaWQ9XCJfX01vbm90eXBlQVBJU2NyaXB0X19cIitkfWVsc2UgYShbXSl9O2Z1bmN0aW9uIHNhKGEsYil7dGhpcy5jPWE7dGhpcy5hPWJ9c2EucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMuYS51cmxzfHxbXSxlPXRoaXMuYS5mYW1pbGllc3x8W10sZj10aGlzLmEudGVzdFN0cmluZ3N8fHt9LGc9bmV3IEI7Yj0wO2ZvcihjPWQubGVuZ3RoO2I8YztiKyspeih0aGlzLmMsZFtiXSxDKGcpKTt2YXIgbT1bXTtiPTA7Zm9yKGM9ZS5sZW5ndGg7YjxjO2IrKylpZihkPWVbYl0uc3BsaXQoXCI6XCIpLGRbMV0pZm9yKHZhciBoPWRbMV0uc3BsaXQoXCIsXCIpLGw9MDtsPGgubGVuZ3RoO2wrPTEpbS5wdXNoKG5ldyBHKGRbMF0saFtsXSkpO2Vsc2UgbS5wdXNoKG5ldyBHKGRbMF0pKTtFKGcsZnVuY3Rpb24oKXthKG0sZil9KX07ZnVuY3Rpb24gdGEoYSxiKXthP3RoaXMuYz1hOnRoaXMuYz11YTt0aGlzLmE9W107dGhpcy5mPVtdO3RoaXMuZz1ifHxcIlwifXZhciB1YT1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzXCI7ZnVuY3Rpb24gdmEoYSxiKXtmb3IodmFyIGM9Yi5sZW5ndGgsZD0wO2Q8YztkKyspe3ZhciBlPWJbZF0uc3BsaXQoXCI6XCIpOzM9PWUubGVuZ3RoJiZhLmYucHVzaChlLnBvcCgpKTt2YXIgZj1cIlwiOzI9PWUubGVuZ3RoJiZcIlwiIT1lWzFdJiYoZj1cIjpcIik7YS5hLnB1c2goZS5qb2luKGYpKX19XG5mdW5jdGlvbiB3YShhKXtpZigwPT1hLmEubGVuZ3RoKXRocm93IEVycm9yKFwiTm8gZm9udHMgdG8gbG9hZCFcIik7aWYoLTEhPWEuYy5pbmRleE9mKFwia2l0PVwiKSlyZXR1cm4gYS5jO2Zvcih2YXIgYj1hLmEubGVuZ3RoLGM9W10sZD0wO2Q8YjtkKyspYy5wdXNoKGEuYVtkXS5yZXBsYWNlKC8gL2csXCIrXCIpKTtiPWEuYytcIj9mYW1pbHk9XCIrYy5qb2luKFwiJTdDXCIpOzA8YS5mLmxlbmd0aCYmKGIrPVwiJnN1YnNldD1cIithLmYuam9pbihcIixcIikpOzA8YS5nLmxlbmd0aCYmKGIrPVwiJnRleHQ9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuZykpO3JldHVybiBifTtmdW5jdGlvbiB5YShhKXt0aGlzLmY9YTt0aGlzLmE9W107dGhpcy5jPXt9fVxudmFyIHphPXtsYXRpbjpcIkJFU2Jzd3lcIixcImxhdGluLWV4dFwiOlwiXFx1MDBlN1xcdTAwZjZcXHUwMGZjXFx1MDExZlxcdTAxNWZcIixjeXJpbGxpYzpcIlxcdTA0MzlcXHUwNDRmXFx1MDQxNlwiLGdyZWVrOlwiXFx1MDNiMVxcdTAzYjJcXHUwM2EzXCIsa2htZXI6XCJcXHUxNzgwXFx1MTc4MVxcdTE3ODJcIixIYW51bWFuOlwiXFx1MTc4MFxcdTE3ODFcXHUxNzgyXCJ9LEFhPXt0aGluOlwiMVwiLGV4dHJhbGlnaHQ6XCIyXCIsXCJleHRyYS1saWdodFwiOlwiMlwiLHVsdHJhbGlnaHQ6XCIyXCIsXCJ1bHRyYS1saWdodFwiOlwiMlwiLGxpZ2h0OlwiM1wiLHJlZ3VsYXI6XCI0XCIsYm9vazpcIjRcIixtZWRpdW06XCI1XCIsXCJzZW1pLWJvbGRcIjpcIjZcIixzZW1pYm9sZDpcIjZcIixcImRlbWktYm9sZFwiOlwiNlwiLGRlbWlib2xkOlwiNlwiLGJvbGQ6XCI3XCIsXCJleHRyYS1ib2xkXCI6XCI4XCIsZXh0cmFib2xkOlwiOFwiLFwidWx0cmEtYm9sZFwiOlwiOFwiLHVsdHJhYm9sZDpcIjhcIixibGFjazpcIjlcIixoZWF2eTpcIjlcIixsOlwiM1wiLHI6XCI0XCIsYjpcIjdcIn0sQmE9e2k6XCJpXCIsaXRhbGljOlwiaVwiLG46XCJuXCIsbm9ybWFsOlwiblwifSxcbkNhPS9eKHRoaW58KD86KD86ZXh0cmF8dWx0cmEpLT8pP2xpZ2h0fHJlZ3VsYXJ8Ym9va3xtZWRpdW18KD86KD86c2VtaXxkZW1pfGV4dHJhfHVsdHJhKS0/KT9ib2xkfGJsYWNrfGhlYXZ5fGx8cnxifFsxLTldMDApPyhufGl8bm9ybWFsfGl0YWxpYyk/JC87XG5mdW5jdGlvbiBEYShhKXtmb3IodmFyIGI9YS5mLmxlbmd0aCxjPTA7YzxiO2MrKyl7dmFyIGQ9YS5mW2NdLnNwbGl0KFwiOlwiKSxlPWRbMF0ucmVwbGFjZSgvXFwrL2csXCIgXCIpLGY9W1wibjRcIl07aWYoMjw9ZC5sZW5ndGgpe3ZhciBnO3ZhciBtPWRbMV07Zz1bXTtpZihtKWZvcih2YXIgbT1tLnNwbGl0KFwiLFwiKSxoPW0ubGVuZ3RoLGw9MDtsPGg7bCsrKXt2YXIgaztrPW1bbF07aWYoay5tYXRjaCgvXltcXHctXSskLykpe3ZhciBuPUNhLmV4ZWMoay50b0xvd2VyQ2FzZSgpKTtpZihudWxsPT1uKWs9XCJcIjtlbHNle2s9blsyXTtrPW51bGw9PWt8fFwiXCI9PWs/XCJuXCI6QmFba107bj1uWzFdO2lmKG51bGw9PW58fFwiXCI9PW4pbj1cIjRcIjtlbHNlIHZhciByPUFhW25dLG49cj9yOmlzTmFOKG4pP1wiNFwiOm4uc3Vic3RyKDAsMSk7az1bayxuXS5qb2luKFwiXCIpfX1lbHNlIGs9XCJcIjtrJiZnLnB1c2goayl9MDxnLmxlbmd0aCYmKGY9Zyk7Mz09ZC5sZW5ndGgmJihkPWRbMl0sZz1bXSxkPWQ/ZC5zcGxpdChcIixcIik6XG5nLDA8ZC5sZW5ndGgmJihkPXphW2RbMF1dKSYmKGEuY1tlXT1kKSl9YS5jW2VdfHwoZD16YVtlXSkmJihhLmNbZV09ZCk7Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrPTEpYS5hLnB1c2gobmV3IEcoZSxmW2RdKSl9fTtmdW5jdGlvbiBFYShhLGIpe3RoaXMuYz1hO3RoaXMuYT1ifXZhciBGYT17QXJpbW86ITAsQ291c2luZTohMCxUaW5vczohMH07RWEucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IEIsYz10aGlzLmMsZD1uZXcgdGEodGhpcy5hLmFwaSx0aGlzLmEudGV4dCksZT10aGlzLmEuZmFtaWxpZXM7dmEoZCxlKTt2YXIgZj1uZXcgeWEoZSk7RGEoZik7eihjLHdhKGQpLEMoYikpO0UoYixmdW5jdGlvbigpe2EoZi5hLGYuYyxGYSl9KX07ZnVuY3Rpb24gR2EoYSxiKXt0aGlzLmM9YTt0aGlzLmE9Yn1HYS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuaWQsYz10aGlzLmMubztiP0EodGhpcy5jLCh0aGlzLmEuYXBpfHxcImh0dHBzOi8vdXNlLnR5cGVraXQubmV0XCIpK1wiL1wiK2IrXCIuanNcIixmdW5jdGlvbihiKXtpZihiKWEoW10pO2Vsc2UgaWYoYy5UeXBla2l0JiZjLlR5cGVraXQuY29uZmlnJiZjLlR5cGVraXQuY29uZmlnLmZuKXtiPWMuVHlwZWtpdC5jb25maWcuZm47Zm9yKHZhciBlPVtdLGY9MDtmPGIubGVuZ3RoO2YrPTIpZm9yKHZhciBnPWJbZl0sbT1iW2YrMV0saD0wO2g8bS5sZW5ndGg7aCsrKWUucHVzaChuZXcgRyhnLG1baF0pKTt0cnl7Yy5UeXBla2l0LmxvYWQoe2V2ZW50czohMSxjbGFzc2VzOiExLGFzeW5jOiEwfSl9Y2F0Y2gobCl7fWEoZSl9fSwyRTMpOmEoW10pfTtmdW5jdGlvbiBIYShhLGIpe3RoaXMuYz1hO3RoaXMuZj1iO3RoaXMuYT1bXX1IYS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmYuaWQsYz10aGlzLmMubyxkPXRoaXM7Yj8oYy5fX3dlYmZvbnRmb250ZGVja21vZHVsZV9ffHwoYy5fX3dlYmZvbnRmb250ZGVja21vZHVsZV9fPXt9KSxjLl9fd2ViZm9udGZvbnRkZWNrbW9kdWxlX19bYl09ZnVuY3Rpb24oYixjKXtmb3IodmFyIGc9MCxtPWMuZm9udHMubGVuZ3RoO2c8bTsrK2cpe3ZhciBoPWMuZm9udHNbZ107ZC5hLnB1c2gobmV3IEcoaC5uYW1lLGdhKFwiZm9udC13ZWlnaHQ6XCIraC53ZWlnaHQrXCI7Zm9udC1zdHlsZTpcIitoLnN0eWxlKSkpfWEoZC5hKX0sQSh0aGlzLmMsKHRoaXMuZi5hcGl8fFwiaHR0cHM6Ly9mLmZvbnRkZWNrLmNvbS9zL2Nzcy9qcy9cIikrZWEodGhpcy5jKStcIi9cIitiK1wiLmpzXCIsZnVuY3Rpb24oYil7YiYmYShbXSl9KSk6YShbXSl9O3ZhciBZPW5ldyBvYSh3aW5kb3cpO1kuYS5jLmN1c3RvbT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgc2EoYixhKX07WS5hLmMuZm9udGRlY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEhhKGIsYSl9O1kuYS5jLm1vbm90eXBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyByYShiLGEpfTtZLmEuYy50eXBla2l0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBHYShiLGEpfTtZLmEuYy5nb29nbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEVhKGIsYSl9O3ZhciBaPXtsb2FkOnAoWS5sb2FkLFkpfTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBafSk6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPVo6KHdpbmRvdy5XZWJGb250PVosd2luZG93LldlYkZvbnRDb25maWcmJlkubG9hZCh3aW5kb3cuV2ViRm9udENvbmZpZykpO30oKSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///82\n')},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// @ts-check\r\n\r\n/** @license MIT smoothscroll-anchor-polyfill 1.3.2 (c) 2020 Jonas Kuske */\r\n\r\nvar _DEBUG_ = true; // removed during minification\r\n\r\n(function(/** @type {any} */ root, factory) {\r\n  var isESModule = root && root.__sap_ES_MODULE__\r\n  // @ts-ignore\r\n  if (!isESModule && \"function\" === 'function' && __webpack_require__(151)) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n  else if (!isESModule && typeof module === 'object' && module.exports) module.exports = factory();\r\n  else root.SmoothscrollAnchorPolyfill = factory();\r\n})(this, function() {\r\n  function SmoothscrollAnchorPolyfill() {\r\n    var instance = this, isBrowser = typeof window !== 'undefined';\r\n\r\n    if (isBrowser) {\r\n      /**\r\n       * Add flag to Window interface, workaround for type check\r\n       * @typedef {{__forceSmoothscrollAnchorPolyfill__: [boolean]}} GlobalFlag @deprecated\r\n       * @typedef {typeof globalThis & Window & GlobalFlag} WindowWithFlag\r\n       * @type {WindowWithFlag} */\r\n      var w = (window), d = document, docEl = d.documentElement, dummy = d.createElement('a');\r\n    }\r\n\r\n    /**\r\n     * Starts the polyfill by attaching the neccessary EventListeners\r\n     *\r\n     * Aborts, if ('scrollBehavior' in documentElement.style) and the force flag\r\n     * isn't set on the options parameter Object or globally on window\r\n     * @param {PolyfillOptions} [opts] Options for invoking the polyfill\r\n     * @returns {SmoothscrollAnchorPolyfill} Polyfill Instance, allows for chaining\r\n     *\r\n     * @typedef {Object} PolyfillOptions\r\n     * @prop {boolean} [force] Enable despite native support, overrides global flag\r\n     */\r\n    this.polyfill = function(opts) {\r\n      opts = opts || {};\r\n      if (isBrowser) {\r\n        /** @deprecated */\r\n        var globalFlag = w.__forceSmoothscrollAnchorPolyfill__;\r\n        var force = typeof opts.force === 'boolean' ? opts.force : globalFlag;\r\n\r\n        // Abort if smoothscroll has native support and force flag isn't set\r\n        if ('scrollBehavior' in dummy.style && !force) return instance;\r\n\r\n        instance.destroy(); // Remove previous listeners\r\n        d.addEventListener('click', handleClick, false);\r\n        d.addEventListener('scroll', trackScrollPositions);\r\n        w.addEventListener('hashchange', handleHashChange);\r\n      }\r\n      return instance;\r\n    };\r\n\r\n    /**\r\n     * Stops the polyfill by removing all EventListeners\r\n     * @returns {SmoothscrollAnchorPolyfill} Polyfill Instance, allows for chaining\r\n     * @param {DestroyOptions} [opts] Options for destroying the polyfill\r\n     *\r\n     * @typedef {Object} DestroyOptions\r\n     * @prop {HTMLAnchorElement} [_dummy] DON'T USE THIS. INTERNAL USE ONLY.\r\n     */\r\n    this.destroy = function(opts) {\r\n      opts = opts || {};\r\n      // For testing purposes only: support injection of external dummy element\r\n      // Allows controlling whether env is treated as env with native support\r\n      if (_DEBUG_ && opts._dummy) dummy = opts._dummy;\r\n\r\n      if (isBrowser) {\r\n        d.removeEventListener('click', handleClick, false);\r\n        d.removeEventListener('scroll', trackScrollPositions);\r\n        w.removeEventListener('hashchange', handleHashChange);\r\n      }\r\n      return instance;\r\n    };\r\n\r\n    if (!isBrowser) return;\r\n\r\n    // Check if browser supports focus without automatic scrolling (preventScroll)\r\n    var supportsPreventScroll = false;\r\n    try {\r\n      // Define getter for preventScroll to find out if the browser accesses it\r\n      var preppedFocusOption = Object.defineProperty({}, 'preventScroll', {\r\n        get: function() {\r\n          supportsPreventScroll = true;\r\n        }\r\n      });\r\n      // Trigger focus – if browser uses preventScroll the var will be set to true\r\n      dummy.focus(preppedFocusOption);\r\n    } catch (e) { }\r\n\r\n    // Regex to extract the value following the scroll-behavior property name\r\n    var extractValue = /scroll-behavior:[\\s]*([^;\"`'\\s]+)/;\r\n    var docElStyle = getComputedStyle(docEl)\r\n\r\n    /**\r\n     * Returns true if scroll-behavior: smooth is set and not overwritten\r\n     * by a higher-specifity declaration, else returns false\r\n     */\r\n    function shouldSmoothscroll() {\r\n      // Values to check for set scroll-behavior in order of priority/specificity\r\n      var valuesToCheck = [\r\n        // Priority 1: behavior assigned to style property\r\n        // Allows toggling smoothscroll from JS (docEl.style.scrollBehavior = ...)\r\n        docEl.style.scrollBehavior,\r\n        // Priority 2: behavior specified inline in style attribute\r\n        (extractValue.exec(docEl.getAttribute('style')) || [])[1],\r\n        // Priority 3: custom property\r\n        // Behaves like regular CSS, e.g. allows using media queries\r\n        docElStyle.getPropertyValue('--scroll-behavior'),\r\n        // Priority 4: behavior specified in fontFamily\r\n        // Same use case as priority 3, but supports legacy browsers without CSS vars\r\n        (extractValue.exec(docElStyle.fontFamily) || [])[1]\r\n      ];\r\n\r\n      // Loop over values in specified order, return once a valid value is found\r\n      for (var i = 0; i < valuesToCheck.length; i++) {\r\n        var specifiedBehavior = getScrollBehavior(valuesToCheck[i]);\r\n        if (specifiedBehavior !== null) return specifiedBehavior;\r\n      }\r\n      // No value found? Return false, no set value = no smoothscroll :(\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * If a valid CSS property value for scroll-behavior is passed, returns\r\n     * whether it specifies smooth scroll behavior or not, else returns null\r\n     * @param {?string} value The value to check\r\n     * @returns {?boolean} The specified scroll behavior or null\r\n     */\r\n    function getScrollBehavior(value) {\r\n      var status = null;\r\n      value = value && value.trim();\r\n      if (/^smooth$/.test(value)) status = true;\r\n      if (/^(initial|inherit|auto|unset)$/.test(value)) status = false;\r\n      return status;\r\n    }\r\n\r\n    /**\r\n     * Get the target element of an event\r\n     * @param {Event} evt\r\n     * @returns {HTMLElement}\r\n     */\r\n    function getEventTarget(evt) {\r\n      evt = evt || w.event;\r\n      return /** @type {HTMLElement} */ (evt.target || evt.srcElement);\r\n    }\r\n\r\n    /**\r\n     * Check if an element is an anchor pointing to a target on the current page\r\n     * @param {HTMLAnchorElement} el\r\n     * @returns {boolean}\r\n     */\r\n    function isAnchorToLocalElement(el) {\r\n      // False if element isn't \"a\" or href has no #fragment\r\n      if (!/^a$/i.test(el.tagName) || !/#/.test(el.href)) return false;\r\n\r\n      // Fix bug in IE9 where anchor.pathname misses leading slash\r\n      var anchorPath = el.pathname;\r\n      if (anchorPath[0] !== '/') anchorPath = '/' + anchorPath;\r\n\r\n      // False if target isn't current page\r\n      if (el.hostname !== location.hostname || anchorPath !== location.pathname) return false;\r\n\r\n      // False if anchor targets a ?query that is different from the current one\r\n      // e.g. /?page=1 → /?page=2#content\r\n      if (el.search && el.search !== location.search) return false;\r\n\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Focuses an element, if it's not focused after the first try,\r\n     * allow focusing by adjusting tabIndex and retry\r\n     * @param {HTMLElement} el\r\n     */\r\n    function focusElement(el) {\r\n      el.focus({ preventScroll: true });\r\n      if (d.activeElement !== el) {\r\n        var prevTabIndex = el.getAttribute('tabindex');\r\n        el.setAttribute('tabindex', '-1');\r\n\r\n        if (getComputedStyle(el).outlineStyle === 'none') {\r\n          var prevOutline = el.style.outlineStyle;\r\n          el.style.outlineStyle = 'none';\r\n          el.addEventListener('blur', function undoOutlineChange() {\r\n            el.style.outlineStyle = prevOutline;\r\n            el.setAttribute('tabindex', prevTabIndex);\r\n            el.removeEventListener('blur', undoOutlineChange);\r\n          })\r\n        }\r\n\r\n        el.focus({ preventScroll: true });\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Returns the element whose id matches the hash or\r\n     * document.body if the hash is \"#top\" or \"\" (empty string)\r\n     * @param {string} hash\r\n     */\r\n    function getScrollTarget(hash) {\r\n      if (typeof hash !== 'string') return null;\r\n      hash = decodeHash(hash);\r\n\r\n      // Retrieve target if an id is specified in the hash, otherwise use body.\r\n      // If hash is \"#top\" and no target with id \"top\" was found, also use body\r\n      // See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href\r\n      var target = hash ? d.getElementById(hash.slice(1)) : d.body;\r\n      if (hash === '#top' && !target) target = d.body;\r\n      return target;\r\n    }\r\n\r\n    /**\r\n     * Takes a URL-encoded hash and returns the decoded version.\r\n     * @param {string} hash Hash to decode\r\n     */\r\n    function decodeHash(hash) {\r\n      try {\r\n        // \"#%F0%9F%91%8D%F0%9F%8F%BB\" -> \"#👍🏻\"\r\n        hash = decodeURIComponent(hash);\r\n      } catch (e) { /* */ }\r\n      return hash;\r\n    }\r\n\r\n    /**\r\n     * Walks up the DOM starting from \"element\" until an element satisfies \"validate()\"\r\n     * @param {HTMLElement} element The element from where to start validating\r\n     * @param {function} validate Validation function, receives current element as arg\r\n     * @returns {?HTMLElement} The found element or null\r\n     */\r\n    function findInParents(element, validate) {\r\n      if (validate(element)) return element;\r\n      if (element.parentElement) return findInParents(element.parentElement, validate);\r\n      return null;\r\n    }\r\n\r\n    // Stores the setTimeout id of pending focus changes, allows aborting them\r\n    var pendingFocusChange;\r\n\r\n    /**\r\n     * Scrolls to a given element or to the top if the given element\r\n     * is document.body, then focuses the element\r\n     * @param {HTMLElement} target\r\n     */\r\n    function triggerSmoothscroll(target) {\r\n      // Clear potential pending focus change triggered by a previous scroll\r\n      if (!supportsPreventScroll) clearTimeout(pendingFocusChange);\r\n\r\n      // Use JS scroll APIs to scroll to top (if target is body) or to the element\r\n      // This allows polyfills for these APIs to do their smooth scrolling magic\r\n      var scrollTop = target === d.body;\r\n      if (scrollTop) w.scroll({ top: 0, left: 0, behavior: 'smooth' });\r\n      else target.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n\r\n      // If the browser supports preventScroll: immediately focus the target\r\n      // Otherwise schedule the focus so the smoothscroll isn't interrupted\r\n      if (supportsPreventScroll) focusElement(target);\r\n      else pendingFocusChange = setTimeout(focusElement.bind(null, target), 450);\r\n    }\r\n\r\n    /**\r\n     * Check if the clicked target is an anchor pointing to a local element,\r\n     * if so prevent the default behavior and handle the scrolling using the\r\n     * native JavaScript scroll APIs so smoothscroll polyfills apply\r\n     * @param {MouseEvent} evt\r\n     */\r\n    function handleClick(evt) {\r\n      var notPrimaryClick = evt.metaKey || evt.ctrlKey || evt.shiftKey || evt.button !== 0;\r\n      if (evt.defaultPrevented || notPrimaryClick) return;\r\n\r\n      // scroll-behavior not set to smooth? Bail out, let browser handle it\r\n      if (!shouldSmoothscroll()) return;\r\n\r\n      // Check the DOM from the click target upwards if a local anchor was clicked\r\n      var anchor = /** @type {?HTMLAnchorElement} */ (\r\n        findInParents(getEventTarget(evt), isAnchorToLocalElement)\r\n      );\r\n      if (!anchor) return;\r\n\r\n      // Find the element targeted by the hash\r\n      var hash = anchor.hash;\r\n      var target = getScrollTarget(hash);\r\n\r\n      if (target) {\r\n        // Prevent default browser behavior to avoid a jump to the anchor target\r\n        evt.preventDefault();\r\n\r\n        // Trigger the smooth scroll\r\n        triggerSmoothscroll(target);\r\n\r\n        // Append the hash to the URL\r\n        if (history.pushState) history.pushState(null, d.title, (hash || '#'));\r\n      }\r\n    }\r\n\r\n    // To enable smooth scrolling on hashchange, we need to immediately restore\r\n    // the scroll pos after a hashchange changed it, so we track it constantly.\r\n    // Some browsers don't trigger a scroll event before the hashchange,\r\n    // so to undo, the position from last scroll is the one we need to go back to.\r\n    // In others (e.g. IE) the scroll listener is triggered again before the\r\n    // hashchange occurs and the last reported position is already the new one\r\n    // updated by the hashchange – we need the second last to undo there.\r\n    // Because of this we don't track just the last, but the last two positions.\r\n    var lastTwoScrollPos = [];\r\n\r\n    /**\r\n      * Tries to undo the automatic, instant scroll caused by a hashchange\r\n      * and instead scrolls smoothly to the new hash target\r\n      */\r\n    function handleHashChange() {\r\n      // scroll-behavior not set to smooth or body not parsed yet? Abort\r\n      if (!d.body || !shouldSmoothscroll()) return;\r\n\r\n      var target = getScrollTarget(location.hash);\r\n      if (!target) return;\r\n\r\n      // If the position last reported by the scroll listener is the same as the\r\n      // current one caused by a hashchange, go back to second last – else last\r\n      var currentPos = getScrollTop();\r\n      var top = lastTwoScrollPos[lastTwoScrollPos[1] === currentPos ? 0 : 1];\r\n\r\n      // @ts-ignore\r\n      // Undo the scroll caused by the hashchange...\r\n      // Using {behavior: 'instant'} even though it's not in the spec anymore as\r\n      // Blink & Gecko support it – once an engine with native support doesn't,\r\n      // we need to disable scroll-behavior during scroll reset, then restore\r\n      w.scroll({ top: top, behavior: 'instant' });\r\n      // ...and instead smoothscroll to the target\r\n      triggerSmoothscroll(target);\r\n    }\r\n\r\n    /**\r\n     * Returns the scroll offset towards the top\r\n     */\r\n    function getScrollTop() {\r\n      return docEl.scrollTop || d.body.scrollTop;\r\n    }\r\n\r\n    /**\r\n     * Update the last two scroll positions\r\n     */\r\n    function trackScrollPositions() {\r\n      if (!d.body) return; // Body not parsed yet? Abort\r\n      lastTwoScrollPos[0] = lastTwoScrollPos[1];\r\n      lastTwoScrollPos[1] = getScrollTop();\r\n    }\r\n  }\r\n\r\n  return new SmoothscrollAnchorPolyfill().polyfill();\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21vb3Roc2Nyb2xsLWFuY2hvci1wb2x5ZmlsbC9kaXN0L2luZGV4LmpzP2JmYmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLWNoZWNrXHJcblxyXG4vKiogQGxpY2Vuc2UgTUlUIHNtb290aHNjcm9sbC1hbmNob3ItcG9seWZpbGwgMS4zLjIgKGMpIDIwMjAgSm9uYXMgS3Vza2UgKi9cclxuXHJcbnZhciBfREVCVUdfID0gdHJ1ZTsgLy8gcmVtb3ZlZCBkdXJpbmcgbWluaWZpY2F0aW9uXHJcblxyXG4oZnVuY3Rpb24oLyoqIEB0eXBlIHthbnl9ICovIHJvb3QsIGZhY3RvcnkpIHtcclxuICB2YXIgaXNFU01vZHVsZSA9IHJvb3QgJiYgcm9vdC5fX3NhcF9FU19NT0RVTEVfX1xyXG4gIC8vIEB0cy1pZ25vcmVcclxuICBpZiAoIWlzRVNNb2R1bGUgJiYgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoW10sIGZhY3RvcnkpO1xyXG4gIGVsc2UgaWYgKCFpc0VTTW9kdWxlICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuICBlbHNlIHJvb3QuU21vb3Roc2Nyb2xsQW5jaG9yUG9seWZpbGwgPSBmYWN0b3J5KCk7XHJcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xyXG4gIGZ1bmN0aW9uIFNtb290aHNjcm9sbEFuY2hvclBvbHlmaWxsKCkge1xyXG4gICAgdmFyIGluc3RhbmNlID0gdGhpcywgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcblxyXG4gICAgaWYgKGlzQnJvd3Nlcikge1xyXG4gICAgICAvKipcclxuICAgICAgICogQWRkIGZsYWcgdG8gV2luZG93IGludGVyZmFjZSwgd29ya2Fyb3VuZCBmb3IgdHlwZSBjaGVja1xyXG4gICAgICAgKiBAdHlwZWRlZiB7e19fZm9yY2VTbW9vdGhzY3JvbGxBbmNob3JQb2x5ZmlsbF9fOiBbYm9vbGVhbl19fSBHbG9iYWxGbGFnIEBkZXByZWNhdGVkXHJcbiAgICAgICAqIEB0eXBlZGVmIHt0eXBlb2YgZ2xvYmFsVGhpcyAmIFdpbmRvdyAmIEdsb2JhbEZsYWd9IFdpbmRvd1dpdGhGbGFnXHJcbiAgICAgICAqIEB0eXBlIHtXaW5kb3dXaXRoRmxhZ30gKi9cclxuICAgICAgdmFyIHcgPSAod2luZG93KSwgZCA9IGRvY3VtZW50LCBkb2NFbCA9IGQuZG9jdW1lbnRFbGVtZW50LCBkdW1teSA9IGQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSBwb2x5ZmlsbCBieSBhdHRhY2hpbmcgdGhlIG5lY2Nlc3NhcnkgRXZlbnRMaXN0ZW5lcnNcclxuICAgICAqXHJcbiAgICAgKiBBYm9ydHMsIGlmICgnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50RWxlbWVudC5zdHlsZSkgYW5kIHRoZSBmb3JjZSBmbGFnXHJcbiAgICAgKiBpc24ndCBzZXQgb24gdGhlIG9wdGlvbnMgcGFyYW1ldGVyIE9iamVjdCBvciBnbG9iYWxseSBvbiB3aW5kb3dcclxuICAgICAqIEBwYXJhbSB7UG9seWZpbGxPcHRpb25zfSBbb3B0c10gT3B0aW9ucyBmb3IgaW52b2tpbmcgdGhlIHBvbHlmaWxsXHJcbiAgICAgKiBAcmV0dXJucyB7U21vb3Roc2Nyb2xsQW5jaG9yUG9seWZpbGx9IFBvbHlmaWxsIEluc3RhbmNlLCBhbGxvd3MgZm9yIGNoYWluaW5nXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gUG9seWZpbGxPcHRpb25zXHJcbiAgICAgKiBAcHJvcCB7Ym9vbGVhbn0gW2ZvcmNlXSBFbmFibGUgZGVzcGl0ZSBuYXRpdmUgc3VwcG9ydCwgb3ZlcnJpZGVzIGdsb2JhbCBmbGFnXHJcbiAgICAgKi9cclxuICAgIHRoaXMucG9seWZpbGwgPSBmdW5jdGlvbihvcHRzKSB7XHJcbiAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xyXG4gICAgICBpZiAoaXNCcm93c2VyKSB7XHJcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkICovXHJcbiAgICAgICAgdmFyIGdsb2JhbEZsYWcgPSB3Ll9fZm9yY2VTbW9vdGhzY3JvbGxBbmNob3JQb2x5ZmlsbF9fO1xyXG4gICAgICAgIHZhciBmb3JjZSA9IHR5cGVvZiBvcHRzLmZvcmNlID09PSAnYm9vbGVhbicgPyBvcHRzLmZvcmNlIDogZ2xvYmFsRmxhZztcclxuXHJcbiAgICAgICAgLy8gQWJvcnQgaWYgc21vb3Roc2Nyb2xsIGhhcyBuYXRpdmUgc3VwcG9ydCBhbmQgZm9yY2UgZmxhZyBpc24ndCBzZXRcclxuICAgICAgICBpZiAoJ3Njcm9sbEJlaGF2aW9yJyBpbiBkdW1teS5zdHlsZSAmJiAhZm9yY2UpIHJldHVybiBpbnN0YW5jZTtcclxuXHJcbiAgICAgICAgaW5zdGFuY2UuZGVzdHJveSgpOyAvLyBSZW1vdmUgcHJldmlvdXMgbGlzdGVuZXJzXHJcbiAgICAgICAgZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrLCBmYWxzZSk7XHJcbiAgICAgICAgZC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0cmFja1Njcm9sbFBvc2l0aW9ucyk7XHJcbiAgICAgICAgdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFuZGxlSGFzaENoYW5nZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBwb2x5ZmlsbCBieSByZW1vdmluZyBhbGwgRXZlbnRMaXN0ZW5lcnNcclxuICAgICAqIEByZXR1cm5zIHtTbW9vdGhzY3JvbGxBbmNob3JQb2x5ZmlsbH0gUG9seWZpbGwgSW5zdGFuY2UsIGFsbG93cyBmb3IgY2hhaW5pbmdcclxuICAgICAqIEBwYXJhbSB7RGVzdHJveU9wdGlvbnN9IFtvcHRzXSBPcHRpb25zIGZvciBkZXN0cm95aW5nIHRoZSBwb2x5ZmlsbFxyXG4gICAgICpcclxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IERlc3Ryb3lPcHRpb25zXHJcbiAgICAgKiBAcHJvcCB7SFRNTEFuY2hvckVsZW1lbnR9IFtfZHVtbXldIERPTidUIFVTRSBUSElTLiBJTlRFUk5BTCBVU0UgT05MWS5cclxuICAgICAqL1xyXG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24ob3B0cykge1xyXG4gICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgLy8gRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seTogc3VwcG9ydCBpbmplY3Rpb24gb2YgZXh0ZXJuYWwgZHVtbXkgZWxlbWVudFxyXG4gICAgICAvLyBBbGxvd3MgY29udHJvbGxpbmcgd2hldGhlciBlbnYgaXMgdHJlYXRlZCBhcyBlbnYgd2l0aCBuYXRpdmUgc3VwcG9ydFxyXG4gICAgICBpZiAoX0RFQlVHXyAmJiBvcHRzLl9kdW1teSkgZHVtbXkgPSBvcHRzLl9kdW1teTtcclxuXHJcbiAgICAgIGlmIChpc0Jyb3dzZXIpIHtcclxuICAgICAgICBkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2ssIGZhbHNlKTtcclxuICAgICAgICBkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRyYWNrU2Nyb2xsUG9zaXRpb25zKTtcclxuICAgICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYW5kbGVIYXNoQ2hhbmdlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghaXNCcm93c2VyKSByZXR1cm47XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgYnJvd3NlciBzdXBwb3J0cyBmb2N1cyB3aXRob3V0IGF1dG9tYXRpYyBzY3JvbGxpbmcgKHByZXZlbnRTY3JvbGwpXHJcbiAgICB2YXIgc3VwcG9ydHNQcmV2ZW50U2Nyb2xsID0gZmFsc2U7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBEZWZpbmUgZ2V0dGVyIGZvciBwcmV2ZW50U2Nyb2xsIHRvIGZpbmQgb3V0IGlmIHRoZSBicm93c2VyIGFjY2Vzc2VzIGl0XHJcbiAgICAgIHZhciBwcmVwcGVkRm9jdXNPcHRpb24gPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwcmV2ZW50U2Nyb2xsJywge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzdXBwb3J0c1ByZXZlbnRTY3JvbGwgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIC8vIFRyaWdnZXIgZm9jdXMg4oCTIGlmIGJyb3dzZXIgdXNlcyBwcmV2ZW50U2Nyb2xsIHRoZSB2YXIgd2lsbCBiZSBzZXQgdG8gdHJ1ZVxyXG4gICAgICBkdW1teS5mb2N1cyhwcmVwcGVkRm9jdXNPcHRpb24pO1xyXG4gICAgfSBjYXRjaCAoZSkgeyB9XHJcblxyXG4gICAgLy8gUmVnZXggdG8gZXh0cmFjdCB0aGUgdmFsdWUgZm9sbG93aW5nIHRoZSBzY3JvbGwtYmVoYXZpb3IgcHJvcGVydHkgbmFtZVxyXG4gICAgdmFyIGV4dHJhY3RWYWx1ZSA9IC9zY3JvbGwtYmVoYXZpb3I6W1xcc10qKFteO1wiYCdcXHNdKykvO1xyXG4gICAgdmFyIGRvY0VsU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY0VsKVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoIGlzIHNldCBhbmQgbm90IG92ZXJ3cml0dGVuXHJcbiAgICAgKiBieSBhIGhpZ2hlci1zcGVjaWZpdHkgZGVjbGFyYXRpb24sIGVsc2UgcmV0dXJucyBmYWxzZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzaG91bGRTbW9vdGhzY3JvbGwoKSB7XHJcbiAgICAgIC8vIFZhbHVlcyB0byBjaGVjayBmb3Igc2V0IHNjcm9sbC1iZWhhdmlvciBpbiBvcmRlciBvZiBwcmlvcml0eS9zcGVjaWZpY2l0eVxyXG4gICAgICB2YXIgdmFsdWVzVG9DaGVjayA9IFtcclxuICAgICAgICAvLyBQcmlvcml0eSAxOiBiZWhhdmlvciBhc3NpZ25lZCB0byBzdHlsZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vIEFsbG93cyB0b2dnbGluZyBzbW9vdGhzY3JvbGwgZnJvbSBKUyAoZG9jRWwuc3R5bGUuc2Nyb2xsQmVoYXZpb3IgPSAuLi4pXHJcbiAgICAgICAgZG9jRWwuc3R5bGUuc2Nyb2xsQmVoYXZpb3IsXHJcbiAgICAgICAgLy8gUHJpb3JpdHkgMjogYmVoYXZpb3Igc3BlY2lmaWVkIGlubGluZSBpbiBzdHlsZSBhdHRyaWJ1dGVcclxuICAgICAgICAoZXh0cmFjdFZhbHVlLmV4ZWMoZG9jRWwuZ2V0QXR0cmlidXRlKCdzdHlsZScpKSB8fCBbXSlbMV0sXHJcbiAgICAgICAgLy8gUHJpb3JpdHkgMzogY3VzdG9tIHByb3BlcnR5XHJcbiAgICAgICAgLy8gQmVoYXZlcyBsaWtlIHJlZ3VsYXIgQ1NTLCBlLmcuIGFsbG93cyB1c2luZyBtZWRpYSBxdWVyaWVzXHJcbiAgICAgICAgZG9jRWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXNjcm9sbC1iZWhhdmlvcicpLFxyXG4gICAgICAgIC8vIFByaW9yaXR5IDQ6IGJlaGF2aW9yIHNwZWNpZmllZCBpbiBmb250RmFtaWx5XHJcbiAgICAgICAgLy8gU2FtZSB1c2UgY2FzZSBhcyBwcmlvcml0eSAzLCBidXQgc3VwcG9ydHMgbGVnYWN5IGJyb3dzZXJzIHdpdGhvdXQgQ1NTIHZhcnNcclxuICAgICAgICAoZXh0cmFjdFZhbHVlLmV4ZWMoZG9jRWxTdHlsZS5mb250RmFtaWx5KSB8fCBbXSlbMV1cclxuICAgICAgXTtcclxuXHJcbiAgICAgIC8vIExvb3Agb3ZlciB2YWx1ZXMgaW4gc3BlY2lmaWVkIG9yZGVyLCByZXR1cm4gb25jZSBhIHZhbGlkIHZhbHVlIGlzIGZvdW5kXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzVG9DaGVjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBzcGVjaWZpZWRCZWhhdmlvciA9IGdldFNjcm9sbEJlaGF2aW9yKHZhbHVlc1RvQ2hlY2tbaV0pO1xyXG4gICAgICAgIGlmIChzcGVjaWZpZWRCZWhhdmlvciAhPT0gbnVsbCkgcmV0dXJuIHNwZWNpZmllZEJlaGF2aW9yO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIE5vIHZhbHVlIGZvdW5kPyBSZXR1cm4gZmFsc2UsIG5vIHNldCB2YWx1ZSA9IG5vIHNtb290aHNjcm9sbCA6KFxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBhIHZhbGlkIENTUyBwcm9wZXJ0eSB2YWx1ZSBmb3Igc2Nyb2xsLWJlaGF2aW9yIGlzIHBhc3NlZCwgcmV0dXJuc1xyXG4gICAgICogd2hldGhlciBpdCBzcGVjaWZpZXMgc21vb3RoIHNjcm9sbCBiZWhhdmlvciBvciBub3QsIGVsc2UgcmV0dXJucyBudWxsXHJcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVja1xyXG4gICAgICogQHJldHVybnMgez9ib29sZWFufSBUaGUgc3BlY2lmaWVkIHNjcm9sbCBiZWhhdmlvciBvciBudWxsXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNjcm9sbEJlaGF2aW9yKHZhbHVlKSB7XHJcbiAgICAgIHZhciBzdGF0dXMgPSBudWxsO1xyXG4gICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlLnRyaW0oKTtcclxuICAgICAgaWYgKC9ec21vb3RoJC8udGVzdCh2YWx1ZSkpIHN0YXR1cyA9IHRydWU7XHJcbiAgICAgIGlmICgvXihpbml0aWFsfGluaGVyaXR8YXV0b3x1bnNldCkkLy50ZXN0KHZhbHVlKSkgc3RhdHVzID0gZmFsc2U7XHJcbiAgICAgIHJldHVybiBzdGF0dXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHRhcmdldCBlbGVtZW50IG9mIGFuIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldnRcclxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQoZXZ0KSB7XHJcbiAgICAgIGV2dCA9IGV2dCB8fCB3LmV2ZW50O1xyXG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYW4gZWxlbWVudCBpcyBhbiBhbmNob3IgcG9pbnRpbmcgdG8gYSB0YXJnZXQgb24gdGhlIGN1cnJlbnQgcGFnZVxyXG4gICAgICogQHBhcmFtIHtIVE1MQW5jaG9yRWxlbWVudH0gZWxcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpc0FuY2hvclRvTG9jYWxFbGVtZW50KGVsKSB7XHJcbiAgICAgIC8vIEZhbHNlIGlmIGVsZW1lbnQgaXNuJ3QgXCJhXCIgb3IgaHJlZiBoYXMgbm8gI2ZyYWdtZW50XHJcbiAgICAgIGlmICghL15hJC9pLnRlc3QoZWwudGFnTmFtZSkgfHwgIS8jLy50ZXN0KGVsLmhyZWYpKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAvLyBGaXggYnVnIGluIElFOSB3aGVyZSBhbmNob3IucGF0aG5hbWUgbWlzc2VzIGxlYWRpbmcgc2xhc2hcclxuICAgICAgdmFyIGFuY2hvclBhdGggPSBlbC5wYXRobmFtZTtcclxuICAgICAgaWYgKGFuY2hvclBhdGhbMF0gIT09ICcvJykgYW5jaG9yUGF0aCA9ICcvJyArIGFuY2hvclBhdGg7XHJcblxyXG4gICAgICAvLyBGYWxzZSBpZiB0YXJnZXQgaXNuJ3QgY3VycmVudCBwYWdlXHJcbiAgICAgIGlmIChlbC5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUgfHwgYW5jaG9yUGF0aCAhPT0gbG9jYXRpb24ucGF0aG5hbWUpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgIC8vIEZhbHNlIGlmIGFuY2hvciB0YXJnZXRzIGEgP3F1ZXJ5IHRoYXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIGN1cnJlbnQgb25lXHJcbiAgICAgIC8vIGUuZy4gLz9wYWdlPTEg4oaSIC8/cGFnZT0yI2NvbnRlbnRcclxuICAgICAgaWYgKGVsLnNlYXJjaCAmJiBlbC5zZWFyY2ggIT09IGxvY2F0aW9uLnNlYXJjaCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGb2N1c2VzIGFuIGVsZW1lbnQsIGlmIGl0J3Mgbm90IGZvY3VzZWQgYWZ0ZXIgdGhlIGZpcnN0IHRyeSxcclxuICAgICAqIGFsbG93IGZvY3VzaW5nIGJ5IGFkanVzdGluZyB0YWJJbmRleCBhbmQgcmV0cnlcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGZvY3VzRWxlbWVudChlbCkge1xyXG4gICAgICBlbC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XHJcbiAgICAgIGlmIChkLmFjdGl2ZUVsZW1lbnQgIT09IGVsKSB7XHJcbiAgICAgICAgdmFyIHByZXZUYWJJbmRleCA9IGVsLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcblxyXG4gICAgICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGVsKS5vdXRsaW5lU3R5bGUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgdmFyIHByZXZPdXRsaW5lID0gZWwuc3R5bGUub3V0bGluZVN0eWxlO1xyXG4gICAgICAgICAgZWwuc3R5bGUub3V0bGluZVN0eWxlID0gJ25vbmUnO1xyXG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uIHVuZG9PdXRsaW5lQ2hhbmdlKCkge1xyXG4gICAgICAgICAgICBlbC5zdHlsZS5vdXRsaW5lU3R5bGUgPSBwcmV2T3V0bGluZTtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIHByZXZUYWJJbmRleCk7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB1bmRvT3V0bGluZUNoYW5nZSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWwuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlbGVtZW50IHdob3NlIGlkIG1hdGNoZXMgdGhlIGhhc2ggb3JcclxuICAgICAqIGRvY3VtZW50LmJvZHkgaWYgdGhlIGhhc2ggaXMgXCIjdG9wXCIgb3IgXCJcIiAoZW1wdHkgc3RyaW5nKVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhhc2hcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U2Nyb2xsVGFyZ2V0KGhhc2gpIHtcclxuICAgICAgaWYgKHR5cGVvZiBoYXNoICE9PSAnc3RyaW5nJykgcmV0dXJuIG51bGw7XHJcbiAgICAgIGhhc2ggPSBkZWNvZGVIYXNoKGhhc2gpO1xyXG5cclxuICAgICAgLy8gUmV0cmlldmUgdGFyZ2V0IGlmIGFuIGlkIGlzIHNwZWNpZmllZCBpbiB0aGUgaGFzaCwgb3RoZXJ3aXNlIHVzZSBib2R5LlxyXG4gICAgICAvLyBJZiBoYXNoIGlzIFwiI3RvcFwiIGFuZCBubyB0YXJnZXQgd2l0aCBpZCBcInRvcFwiIHdhcyBmb3VuZCwgYWxzbyB1c2UgYm9keVxyXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2EjYXR0ci1ocmVmXHJcbiAgICAgIHZhciB0YXJnZXQgPSBoYXNoID8gZC5nZXRFbGVtZW50QnlJZChoYXNoLnNsaWNlKDEpKSA6IGQuYm9keTtcclxuICAgICAgaWYgKGhhc2ggPT09ICcjdG9wJyAmJiAhdGFyZ2V0KSB0YXJnZXQgPSBkLmJvZHk7XHJcbiAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUYWtlcyBhIFVSTC1lbmNvZGVkIGhhc2ggYW5kIHJldHVybnMgdGhlIGRlY29kZWQgdmVyc2lvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIEhhc2ggdG8gZGVjb2RlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlY29kZUhhc2goaGFzaCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIFwiIyVGMCU5RiU5MSU4RCVGMCU5RiU4RiVCQlwiIC0+IFwiI/CfkY3wn4+7XCJcclxuICAgICAgICBoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2gpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7IC8qICovIH1cclxuICAgICAgcmV0dXJuIGhhc2g7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXYWxrcyB1cCB0aGUgRE9NIHN0YXJ0aW5nIGZyb20gXCJlbGVtZW50XCIgdW50aWwgYW4gZWxlbWVudCBzYXRpc2ZpZXMgXCJ2YWxpZGF0ZSgpXCJcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgZnJvbSB3aGVyZSB0byBzdGFydCB2YWxpZGF0aW5nXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB2YWxpZGF0ZSBWYWxpZGF0aW9uIGZ1bmN0aW9uLCByZWNlaXZlcyBjdXJyZW50IGVsZW1lbnQgYXMgYXJnXHJcbiAgICAgKiBAcmV0dXJucyB7P0hUTUxFbGVtZW50fSBUaGUgZm91bmQgZWxlbWVudCBvciBudWxsXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGZpbmRJblBhcmVudHMoZWxlbWVudCwgdmFsaWRhdGUpIHtcclxuICAgICAgaWYgKHZhbGlkYXRlKGVsZW1lbnQpKSByZXR1cm4gZWxlbWVudDtcclxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudCkgcmV0dXJuIGZpbmRJblBhcmVudHMoZWxlbWVudC5wYXJlbnRFbGVtZW50LCB2YWxpZGF0ZSk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0b3JlcyB0aGUgc2V0VGltZW91dCBpZCBvZiBwZW5kaW5nIGZvY3VzIGNoYW5nZXMsIGFsbG93cyBhYm9ydGluZyB0aGVtXHJcbiAgICB2YXIgcGVuZGluZ0ZvY3VzQ2hhbmdlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2Nyb2xscyB0byBhIGdpdmVuIGVsZW1lbnQgb3IgdG8gdGhlIHRvcCBpZiB0aGUgZ2l2ZW4gZWxlbWVudFxyXG4gICAgICogaXMgZG9jdW1lbnQuYm9keSwgdGhlbiBmb2N1c2VzIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdHJpZ2dlclNtb290aHNjcm9sbCh0YXJnZXQpIHtcclxuICAgICAgLy8gQ2xlYXIgcG90ZW50aWFsIHBlbmRpbmcgZm9jdXMgY2hhbmdlIHRyaWdnZXJlZCBieSBhIHByZXZpb3VzIHNjcm9sbFxyXG4gICAgICBpZiAoIXN1cHBvcnRzUHJldmVudFNjcm9sbCkgY2xlYXJUaW1lb3V0KHBlbmRpbmdGb2N1c0NoYW5nZSk7XHJcblxyXG4gICAgICAvLyBVc2UgSlMgc2Nyb2xsIEFQSXMgdG8gc2Nyb2xsIHRvIHRvcCAoaWYgdGFyZ2V0IGlzIGJvZHkpIG9yIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgIC8vIFRoaXMgYWxsb3dzIHBvbHlmaWxscyBmb3IgdGhlc2UgQVBJcyB0byBkbyB0aGVpciBzbW9vdGggc2Nyb2xsaW5nIG1hZ2ljXHJcbiAgICAgIHZhciBzY3JvbGxUb3AgPSB0YXJnZXQgPT09IGQuYm9keTtcclxuICAgICAgaWYgKHNjcm9sbFRvcCkgdy5zY3JvbGwoeyB0b3A6IDAsIGxlZnQ6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuICAgICAgZWxzZSB0YXJnZXQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnc3RhcnQnIH0pO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgcHJldmVudFNjcm9sbDogaW1tZWRpYXRlbHkgZm9jdXMgdGhlIHRhcmdldFxyXG4gICAgICAvLyBPdGhlcndpc2Ugc2NoZWR1bGUgdGhlIGZvY3VzIHNvIHRoZSBzbW9vdGhzY3JvbGwgaXNuJ3QgaW50ZXJydXB0ZWRcclxuICAgICAgaWYgKHN1cHBvcnRzUHJldmVudFNjcm9sbCkgZm9jdXNFbGVtZW50KHRhcmdldCk7XHJcbiAgICAgIGVsc2UgcGVuZGluZ0ZvY3VzQ2hhbmdlID0gc2V0VGltZW91dChmb2N1c0VsZW1lbnQuYmluZChudWxsLCB0YXJnZXQpLCA0NTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlIGNsaWNrZWQgdGFyZ2V0IGlzIGFuIGFuY2hvciBwb2ludGluZyB0byBhIGxvY2FsIGVsZW1lbnQsXHJcbiAgICAgKiBpZiBzbyBwcmV2ZW50IHRoZSBkZWZhdWx0IGJlaGF2aW9yIGFuZCBoYW5kbGUgdGhlIHNjcm9sbGluZyB1c2luZyB0aGVcclxuICAgICAqIG5hdGl2ZSBKYXZhU2NyaXB0IHNjcm9sbCBBUElzIHNvIHNtb290aHNjcm9sbCBwb2x5ZmlsbHMgYXBwbHlcclxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZ0XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2dCkge1xyXG4gICAgICB2YXIgbm90UHJpbWFyeUNsaWNrID0gZXZ0Lm1ldGFLZXkgfHwgZXZ0LmN0cmxLZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5idXR0b24gIT09IDA7XHJcbiAgICAgIGlmIChldnQuZGVmYXVsdFByZXZlbnRlZCB8fCBub3RQcmltYXJ5Q2xpY2spIHJldHVybjtcclxuXHJcbiAgICAgIC8vIHNjcm9sbC1iZWhhdmlvciBub3Qgc2V0IHRvIHNtb290aD8gQmFpbCBvdXQsIGxldCBicm93c2VyIGhhbmRsZSBpdFxyXG4gICAgICBpZiAoIXNob3VsZFNtb290aHNjcm9sbCgpKSByZXR1cm47XHJcblxyXG4gICAgICAvLyBDaGVjayB0aGUgRE9NIGZyb20gdGhlIGNsaWNrIHRhcmdldCB1cHdhcmRzIGlmIGEgbG9jYWwgYW5jaG9yIHdhcyBjbGlja2VkXHJcbiAgICAgIHZhciBhbmNob3IgPSAvKiogQHR5cGUgez9IVE1MQW5jaG9yRWxlbWVudH0gKi8gKFxyXG4gICAgICAgIGZpbmRJblBhcmVudHMoZ2V0RXZlbnRUYXJnZXQoZXZ0KSwgaXNBbmNob3JUb0xvY2FsRWxlbWVudClcclxuICAgICAgKTtcclxuICAgICAgaWYgKCFhbmNob3IpIHJldHVybjtcclxuXHJcbiAgICAgIC8vIEZpbmQgdGhlIGVsZW1lbnQgdGFyZ2V0ZWQgYnkgdGhlIGhhc2hcclxuICAgICAgdmFyIGhhc2ggPSBhbmNob3IuaGFzaDtcclxuICAgICAgdmFyIHRhcmdldCA9IGdldFNjcm9sbFRhcmdldChoYXNoKTtcclxuXHJcbiAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvciB0byBhdm9pZCBhIGp1bXAgdG8gdGhlIGFuY2hvciB0YXJnZXRcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgLy8gVHJpZ2dlciB0aGUgc21vb3RoIHNjcm9sbFxyXG4gICAgICAgIHRyaWdnZXJTbW9vdGhzY3JvbGwodGFyZ2V0KTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHRoZSBoYXNoIHRvIHRoZSBVUkxcclxuICAgICAgICBpZiAoaGlzdG9yeS5wdXNoU3RhdGUpIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIGQudGl0bGUsIChoYXNoIHx8ICcjJykpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVG8gZW5hYmxlIHNtb290aCBzY3JvbGxpbmcgb24gaGFzaGNoYW5nZSwgd2UgbmVlZCB0byBpbW1lZGlhdGVseSByZXN0b3JlXHJcbiAgICAvLyB0aGUgc2Nyb2xsIHBvcyBhZnRlciBhIGhhc2hjaGFuZ2UgY2hhbmdlZCBpdCwgc28gd2UgdHJhY2sgaXQgY29uc3RhbnRseS5cclxuICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgdHJpZ2dlciBhIHNjcm9sbCBldmVudCBiZWZvcmUgdGhlIGhhc2hjaGFuZ2UsXHJcbiAgICAvLyBzbyB0byB1bmRvLCB0aGUgcG9zaXRpb24gZnJvbSBsYXN0IHNjcm9sbCBpcyB0aGUgb25lIHdlIG5lZWQgdG8gZ28gYmFjayB0by5cclxuICAgIC8vIEluIG90aGVycyAoZS5nLiBJRSkgdGhlIHNjcm9sbCBsaXN0ZW5lciBpcyB0cmlnZ2VyZWQgYWdhaW4gYmVmb3JlIHRoZVxyXG4gICAgLy8gaGFzaGNoYW5nZSBvY2N1cnMgYW5kIHRoZSBsYXN0IHJlcG9ydGVkIHBvc2l0aW9uIGlzIGFscmVhZHkgdGhlIG5ldyBvbmVcclxuICAgIC8vIHVwZGF0ZWQgYnkgdGhlIGhhc2hjaGFuZ2Ug4oCTIHdlIG5lZWQgdGhlIHNlY29uZCBsYXN0IHRvIHVuZG8gdGhlcmUuXHJcbiAgICAvLyBCZWNhdXNlIG9mIHRoaXMgd2UgZG9uJ3QgdHJhY2sganVzdCB0aGUgbGFzdCwgYnV0IHRoZSBsYXN0IHR3byBwb3NpdGlvbnMuXHJcbiAgICB2YXIgbGFzdFR3b1Njcm9sbFBvcyA9IFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICAqIFRyaWVzIHRvIHVuZG8gdGhlIGF1dG9tYXRpYywgaW5zdGFudCBzY3JvbGwgY2F1c2VkIGJ5IGEgaGFzaGNoYW5nZVxyXG4gICAgICAqIGFuZCBpbnN0ZWFkIHNjcm9sbHMgc21vb3RobHkgdG8gdGhlIG5ldyBoYXNoIHRhcmdldFxyXG4gICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcclxuICAgICAgLy8gc2Nyb2xsLWJlaGF2aW9yIG5vdCBzZXQgdG8gc21vb3RoIG9yIGJvZHkgbm90IHBhcnNlZCB5ZXQ/IEFib3J0XHJcbiAgICAgIGlmICghZC5ib2R5IHx8ICFzaG91bGRTbW9vdGhzY3JvbGwoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIHRhcmdldCA9IGdldFNjcm9sbFRhcmdldChsb2NhdGlvbi5oYXNoKTtcclxuICAgICAgaWYgKCF0YXJnZXQpIHJldHVybjtcclxuXHJcbiAgICAgIC8vIElmIHRoZSBwb3NpdGlvbiBsYXN0IHJlcG9ydGVkIGJ5IHRoZSBzY3JvbGwgbGlzdGVuZXIgaXMgdGhlIHNhbWUgYXMgdGhlXHJcbiAgICAgIC8vIGN1cnJlbnQgb25lIGNhdXNlZCBieSBhIGhhc2hjaGFuZ2UsIGdvIGJhY2sgdG8gc2Vjb25kIGxhc3Qg4oCTIGVsc2UgbGFzdFxyXG4gICAgICB2YXIgY3VycmVudFBvcyA9IGdldFNjcm9sbFRvcCgpO1xyXG4gICAgICB2YXIgdG9wID0gbGFzdFR3b1Njcm9sbFBvc1tsYXN0VHdvU2Nyb2xsUG9zWzFdID09PSBjdXJyZW50UG9zID8gMCA6IDFdO1xyXG5cclxuICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAvLyBVbmRvIHRoZSBzY3JvbGwgY2F1c2VkIGJ5IHRoZSBoYXNoY2hhbmdlLi4uXHJcbiAgICAgIC8vIFVzaW5nIHtiZWhhdmlvcjogJ2luc3RhbnQnfSBldmVuIHRob3VnaCBpdCdzIG5vdCBpbiB0aGUgc3BlYyBhbnltb3JlIGFzXHJcbiAgICAgIC8vIEJsaW5rICYgR2Vja28gc3VwcG9ydCBpdCDigJMgb25jZSBhbiBlbmdpbmUgd2l0aCBuYXRpdmUgc3VwcG9ydCBkb2Vzbid0LFxyXG4gICAgICAvLyB3ZSBuZWVkIHRvIGRpc2FibGUgc2Nyb2xsLWJlaGF2aW9yIGR1cmluZyBzY3JvbGwgcmVzZXQsIHRoZW4gcmVzdG9yZVxyXG4gICAgICB3LnNjcm9sbCh7IHRvcDogdG9wLCBiZWhhdmlvcjogJ2luc3RhbnQnIH0pO1xyXG4gICAgICAvLyAuLi5hbmQgaW5zdGVhZCBzbW9vdGhzY3JvbGwgdG8gdGhlIHRhcmdldFxyXG4gICAgICB0cmlnZ2VyU21vb3Roc2Nyb2xsKHRhcmdldCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzY3JvbGwgb2Zmc2V0IHRvd2FyZHMgdGhlIHRvcFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTY3JvbGxUb3AoKSB7XHJcbiAgICAgIHJldHVybiBkb2NFbC5zY3JvbGxUb3AgfHwgZC5ib2R5LnNjcm9sbFRvcDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgbGFzdCB0d28gc2Nyb2xsIHBvc2l0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0cmFja1Njcm9sbFBvc2l0aW9ucygpIHtcclxuICAgICAgaWYgKCFkLmJvZHkpIHJldHVybjsgLy8gQm9keSBub3QgcGFyc2VkIHlldD8gQWJvcnRcclxuICAgICAgbGFzdFR3b1Njcm9sbFBvc1swXSA9IGxhc3RUd29TY3JvbGxQb3NbMV07XHJcbiAgICAgIGxhc3RUd29TY3JvbGxQb3NbMV0gPSBnZXRTY3JvbGxUb3AoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgU21vb3Roc2Nyb2xsQW5jaG9yUG9seWZpbGwoKS5wb2x5ZmlsbCgpO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///83\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar classof = __webpack_require__(99);\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19yZWdleHAtZXhlYy1hYnN0cmFjdC5qcz81ZjFiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgYnVpbHRpbkV4ZWMgPSBSZWdFeHAucHJvdG90eXBlLmV4ZWM7XG5cbiAvLyBgUmVnRXhwRXhlY2AgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHBleGVjXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChSLCBTKSB7XG4gIHZhciBleGVjID0gUi5leGVjO1xuICBpZiAodHlwZW9mIGV4ZWMgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgcmVzdWx0ID0gZXhlYy5jYWxsKFIsIFMpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVnRXhwIGV4ZWMgbWV0aG9kIHJldHVybmVkIHNvbWV0aGluZyBvdGhlciB0aGFuIGFuIE9iamVjdCBvciBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKGNsYXNzb2YoUikgIT09ICdSZWdFeHAnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlcicpO1xuICB9XG4gIHJldHVybiBidWlsdGluRXhlYy5jYWxsKFIsIFMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///84\n")},function(module,exports,__webpack_require__){"use strict";eval("\n__webpack_require__(152);\nvar redefine = __webpack_require__(34);\nvar hide = __webpack_require__(27);\nvar fails = __webpack_require__(26);\nvar defined = __webpack_require__(57);\nvar wks = __webpack_require__(9);\nvar regexpExec = __webpack_require__(105);\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19maXgtcmUtd2tzLmpzPzIxNGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xucmVxdWlyZSgnLi9lczYucmVnZXhwLmV4ZWMnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciByZWdleHBFeGVjID0gcmVxdWlyZSgnLi9fcmVnZXhwLWV4ZWMnKTtcblxudmFyIFNQRUNJRVMgPSB3a3MoJ3NwZWNpZXMnKTtcblxudmFyIFJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gI3JlcGxhY2UgbmVlZHMgYnVpbHQtaW4gc3VwcG9ydCBmb3IgbmFtZWQgZ3JvdXBzLlxuICAvLyAjbWF0Y2ggd29ya3MgZmluZSBiZWNhdXNlIGl0IGp1c3QgcmV0dXJuIHRoZSBleGVjIHJlc3VsdHMsIGV2ZW4gaWYgaXQgaGFzXG4gIC8vIGEgXCJncm9wc1wiIHByb3BlcnR5LlxuICB2YXIgcmUgPSAvLi87XG4gIHJlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHJlc3VsdC5ncm91cHMgPSB7IGE6ICc3JyB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHJldHVybiAnJy5yZXBsYWNlKHJlLCAnJDxhPicpICE9PSAnNyc7XG59KTtcblxudmFyIFNQTElUX1dPUktTX1dJVEhfT1ZFUldSSVRURU5fRVhFQyA9IChmdW5jdGlvbiAoKSB7XG4gIC8vIENocm9tZSA1MSBoYXMgYSBidWdneSBcInNwbGl0XCIgaW1wbGVtZW50YXRpb24gd2hlbiBSZWdFeHAjZXhlYyAhPT0gbmF0aXZlRXhlY1xuICB2YXIgcmUgPSAvKD86KS87XG4gIHZhciBvcmlnaW5hbEV4ZWMgPSByZS5leGVjO1xuICByZS5leGVjID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gb3JpZ2luYWxFeGVjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07XG4gIHZhciByZXN1bHQgPSAnYWInLnNwbGl0KHJlKTtcbiAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDIgJiYgcmVzdWx0WzBdID09PSAnYScgJiYgcmVzdWx0WzFdID09PSAnYic7XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGxlbmd0aCwgZXhlYykge1xuICB2YXIgU1lNQk9MID0gd2tzKEtFWSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19TWU1CT0wgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN0cmluZyBtZXRob2RzIGNhbGwgc3ltYm9sLW5hbWVkIFJlZ0VwIG1ldGhvZHNcbiAgICB2YXIgTyA9IHt9O1xuICAgIE9bU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH07XG4gICAgcmV0dXJuICcnW0tFWV0oTykgIT0gNztcbiAgfSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19FWEVDID0gREVMRUdBVEVTX1RPX1NZTUJPTCA/ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gU3ltYm9sLW5hbWVkIFJlZ0V4cCBtZXRob2RzIGNhbGwgLmV4ZWNcbiAgICB2YXIgZXhlY0NhbGxlZCA9IGZhbHNlO1xuICAgIHZhciByZSA9IC9hLztcbiAgICByZS5leGVjID0gZnVuY3Rpb24gKCkgeyBleGVjQ2FsbGVkID0gdHJ1ZTsgcmV0dXJuIG51bGw7IH07XG4gICAgaWYgKEtFWSA9PT0gJ3NwbGl0Jykge1xuICAgICAgLy8gUmVnRXhwW0BAc3BsaXRdIGRvZXNuJ3QgY2FsbCB0aGUgcmVnZXgncyBleGVjIG1ldGhvZCwgYnV0IGZpcnN0IGNyZWF0ZXNcbiAgICAgIC8vIGEgbmV3IG9uZS4gV2UgbmVlZCB0byByZXR1cm4gdGhlIHBhdGNoZWQgcmVnZXggd2hlbiBjcmVhdGluZyB0aGUgbmV3IG9uZS5cbiAgICAgIHJlLmNvbnN0cnVjdG9yID0ge307XG4gICAgICByZS5jb25zdHJ1Y3RvcltTUEVDSUVTXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlOyB9O1xuICAgIH1cbiAgICByZVtTWU1CT0xdKCcnKTtcbiAgICByZXR1cm4gIWV4ZWNDYWxsZWQ7XG4gIH0pIDogdW5kZWZpbmVkO1xuXG4gIGlmIChcbiAgICAhREVMRUdBVEVTX1RPX1NZTUJPTCB8fFxuICAgICFERUxFR0FURVNfVE9fRVhFQyB8fFxuICAgIChLRVkgPT09ICdyZXBsYWNlJyAmJiAhUkVQTEFDRV9TVVBQT1JUU19OQU1FRF9HUk9VUFMpIHx8XG4gICAgKEtFWSA9PT0gJ3NwbGl0JyAmJiAhU1BMSVRfV09SS1NfV0lUSF9PVkVSV1JJVFRFTl9FWEVDKVxuICApIHtcbiAgICB2YXIgbmF0aXZlUmVnRXhwTWV0aG9kID0gLy4vW1NZTUJPTF07XG4gICAgdmFyIGZucyA9IGV4ZWMoXG4gICAgICBkZWZpbmVkLFxuICAgICAgU1lNQk9MLFxuICAgICAgJydbS0VZXSxcbiAgICAgIGZ1bmN0aW9uIG1heWJlQ2FsbE5hdGl2ZShuYXRpdmVNZXRob2QsIHJlZ2V4cCwgc3RyLCBhcmcyLCBmb3JjZVN0cmluZ01ldGhvZCkge1xuICAgICAgICBpZiAocmVnZXhwLmV4ZWMgPT09IHJlZ2V4cEV4ZWMpIHtcbiAgICAgICAgICBpZiAoREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZm9yY2VTdHJpbmdNZXRob2QpIHtcbiAgICAgICAgICAgIC8vIFRoZSBuYXRpdmUgU3RyaW5nIG1ldGhvZCBhbHJlYWR5IGRlbGVnYXRlcyB0byBAQG1ldGhvZCAodGhpc1xuICAgICAgICAgICAgLy8gcG9seWZpbGxlZCBmdW5jdGlvbiksIGxlYXNpbmcgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxuICAgICAgICAgICAgLy8gV2UgYXZvaWQgaXQgYnkgZGlyZWN0bHkgY2FsbGluZyB0aGUgbmF0aXZlIEBAbWV0aG9kIG1ldGhvZC5cbiAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiBuYXRpdmVSZWdFeHBNZXRob2QuY2FsbChyZWdleHAsIHN0ciwgYXJnMikgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG5hdGl2ZU1ldGhvZC5jYWxsKHN0ciwgcmVnZXhwLCBhcmcyKSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlIH07XG4gICAgICB9XG4gICAgKTtcbiAgICB2YXIgc3RyZm4gPSBmbnNbMF07XG4gICAgdmFyIHJ4Zm4gPSBmbnNbMV07XG5cbiAgICByZWRlZmluZShTdHJpbmcucHJvdG90eXBlLCBLRVksIHN0cmZuKTtcbiAgICBoaWRlKFJlZ0V4cC5wcm90b3R5cGUsIFNZTUJPTCwgbGVuZ3RoID09IDJcbiAgICAgIC8vIDIxLjIuNS44IFJlZ0V4cC5wcm90b3R5cGVbQEByZXBsYWNlXShzdHJpbmcsIHJlcGxhY2VWYWx1ZSlcbiAgICAgIC8vIDIxLjIuNS4xMSBSZWdFeHAucHJvdG90eXBlW0BAc3BsaXRdKHN0cmluZywgbGltaXQpXG4gICAgICA/IGZ1bmN0aW9uIChzdHJpbmcsIGFyZykgeyByZXR1cm4gcnhmbi5jYWxsKHN0cmluZywgdGhpcywgYXJnKTsgfVxuICAgICAgLy8gMjEuMi41LjYgUmVnRXhwLnByb3RvdHlwZVtAQG1hdGNoXShzdHJpbmcpXG4gICAgICAvLyAyMS4yLjUuOSBSZWdFeHAucHJvdG90eXBlW0BAc2VhcmNoXShzdHJpbmcpXG4gICAgICA6IGZ1bmN0aW9uIChzdHJpbmcpIHsgcmV0dXJuIHJ4Zm4uY2FsbChzdHJpbmcsIHRoaXMpOyB9XG4gICAgKTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///85\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWJ1cmdlci1jc3Mvc3JjL3Njc3MvbWJ1cmdlci5zY3NzPzE2NWYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///86\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL2NvcmUvb25jYW52YXMvbW1lbnUub25jYW52YXMuc2Nzcz9lMzg1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///87\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL2NvcmUvb2ZmY2FudmFzL21tZW51Lm9mZmNhbnZhcy5zY3NzPzdhNTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///88\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL2NvcmUvc2NyZWVucmVhZGVyL21tZW51LnNjcmVlbnJlYWRlci5zY3NzPzE0ZjgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///89\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL2V4dGVuc2lvbnMvZWZmZWN0cy9tbWVudS5lZmZlY3RzLnNjc3M/MDY4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL2V4dGVuc2lvbnMvcGFnZWRpbS9tbWVudS5wYWdlZGltLnNjc3M/MTMzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///91\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL2V4dGVuc2lvbnMvcG9zaXRpb25pbmcvbW1lbnUucG9zaXRpb25pbmcuc2Nzcz8zNjIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///92\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL3dyYXBwZXJzL2Jvb3RzdHJhcC9tbWVudS5ib290c3RyYXAuc2Nzcz9lZmMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///93\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/*!\n * css-vars-ponyfill\n * v2.0.2\n * https://jhildenbiddle.github.io/css-vars-ponyfill/\n * (c) 2018-2019 John Hildenbiddle <http://hildenbiddle.com>\n * MIT license\n */\nfunction _extends() {\n    _extends = Object.assign || function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n        return arr2;\n    }\n}\n\nfunction _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance");\n}\n\n/*!\n * get-css-data\n * v1.6.3\n * https://github.com/jhildenbiddle/get-css-data\n * (c) 2018-2019 John Hildenbiddle <http://hildenbiddle.com>\n * MIT license\n */ function getUrls(urls) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var settings = {\n        mimeType: options.mimeType || null,\n        onBeforeSend: options.onBeforeSend || Function.prototype,\n        onSuccess: options.onSuccess || Function.prototype,\n        onError: options.onError || Function.prototype,\n        onComplete: options.onComplete || Function.prototype\n    };\n    var urlArray = Array.isArray(urls) ? urls : [ urls ];\n    var urlQueue = Array.apply(null, Array(urlArray.length)).map(function(x) {\n        return null;\n    });\n    function isValidCss() {\n        var cssText = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";\n        var isHTML = cssText.trim().charAt(0) === "<";\n        return !isHTML;\n    }\n    function onError(xhr, urlIndex) {\n        settings.onError(xhr, urlArray[urlIndex], urlIndex);\n    }\n    function onSuccess(responseText, urlIndex) {\n        var returnVal = settings.onSuccess(responseText, urlArray[urlIndex], urlIndex);\n        responseText = returnVal === false ? "" : returnVal || responseText;\n        urlQueue[urlIndex] = responseText;\n        if (urlQueue.indexOf(null) === -1) {\n            settings.onComplete(urlQueue);\n        }\n    }\n    var parser = document.createElement("a");\n    urlArray.forEach(function(url, i) {\n        parser.setAttribute("href", url);\n        parser.href = String(parser.href);\n        var isIElte9 = Boolean(document.all && !window.atob);\n        var isIElte9CORS = isIElte9 && parser.host.split(":")[0] !== location.host.split(":")[0];\n        if (isIElte9CORS) {\n            var isSameProtocol = parser.protocol === location.protocol;\n            if (isSameProtocol) {\n                var xdr = new XDomainRequest();\n                xdr.open("GET", url);\n                xdr.timeout = 0;\n                xdr.onprogress = Function.prototype;\n                xdr.ontimeout = Function.prototype;\n                xdr.onload = function() {\n                    if (isValidCss(xdr.responseText)) {\n                        onSuccess(xdr.responseText, i);\n                    } else {\n                        onError(xdr, i);\n                    }\n                };\n                xdr.onerror = function(err) {\n                    onError(xdr, i);\n                };\n                setTimeout(function() {\n                    xdr.send();\n                }, 0);\n            } else {\n                console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(url, ")"));\n                onError(null, i);\n            }\n        } else {\n            var xhr = new XMLHttpRequest();\n            xhr.open("GET", url);\n            if (settings.mimeType && xhr.overrideMimeType) {\n                xhr.overrideMimeType(settings.mimeType);\n            }\n            settings.onBeforeSend(xhr, url, i);\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    if (xhr.status === 200 && isValidCss(xhr.responseText)) {\n                        onSuccess(xhr.responseText, i);\n                    } else {\n                        onError(xhr, i);\n                    }\n                }\n            };\n            xhr.send();\n        }\n    });\n}\n\n/**\n * Gets CSS data from <style> and <link> nodes (including @imports), then\n * returns data in order processed by DOM. Allows specifying nodes to\n * include/exclude and filtering CSS data using RegEx.\n *\n * @preserve\n * @param {object}   [options] The options object\n * @param {object}   [options.rootElement=document] Root element to traverse for\n *                   <link> and <style> nodes.\n * @param {string}   [options.include] CSS selector matching <link> and <style>\n *                   nodes to include\n * @param {string}   [options.exclude] CSS selector matching <link> and <style>\n *                   nodes to exclude\n * @param {object}   [options.filter] Regular expression used to filter node CSS\n *                   data. Each block of CSS data is tested against the filter,\n *                   and only matching data is included.\n * @param {object}   [options.useCSSOM=false] Determines if CSS data will be\n *                   collected from a stylesheet\'s runtime values instead of its\n *                   text content. This is required to get accurate CSS data\n *                   when a stylesheet has been modified using the deleteRule()\n *                   or insertRule() methods because these modifications will\n *                   not be reflected in the stylesheet\'s text content.\n * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes\n *                   1) the XHR object, 2) source node reference, and 3) the\n *                   source URL as arguments.\n * @param {function} [options.onSuccess] Callback on each CSS node read. Passes\n *                   1) CSS text, 2) source node reference, and 3) the source\n *                   URL as arguments.\n * @param {function} [options.onError] Callback on each error. Passes 1) the XHR\n *                   object for inspection, 2) soure node reference, and 3) the\n *                   source URL that failed (either a <link> href or an @import)\n *                   as arguments\n * @param {function} [options.onComplete] Callback after all nodes have been\n *                   processed. Passes 1) concatenated CSS text, 2) an array of\n *                   CSS text in DOM order, and 3) an array of nodes in DOM\n *                   order as arguments.\n *\n * @example\n *\n *   getCssData({\n *     rootElement: document,\n *     include    : \'style,link[rel="stylesheet"]\',\n *     exclude    : \'[href="skip.css"]\',\n *     filter     : /red/,\n *     useCSSOM   : false,\n *     onBeforeSend(xhr, node, url) {\n *       // ...\n *     }\n *     onSuccess(cssText, node, url) {\n *       // ...\n *     }\n *     onError(xhr, node, url) {\n *       // ...\n *     },\n *     onComplete(cssText, cssArray, nodeArray) {\n *       // ...\n *     }\n *   });\n */ function getCssData(options) {\n    var regex = {\n        cssComments: /\\/\\*[\\s\\S]+?\\*\\//g,\n        cssImports: /(?:@import\\s*)(?:url\\(\\s*)?(?:[\'"])([^\'"]*)(?:[\'"])(?:\\s*\\))?(?:[^;]*;)/g\n    };\n    var settings = {\n        rootElement: options.rootElement || document,\n        include: options.include || \'style,link[rel="stylesheet"]\',\n        exclude: options.exclude || null,\n        filter: options.filter || null,\n        useCSSOM: options.useCSSOM || false,\n        onBeforeSend: options.onBeforeSend || Function.prototype,\n        onSuccess: options.onSuccess || Function.prototype,\n        onError: options.onError || Function.prototype,\n        onComplete: options.onComplete || Function.prototype\n    };\n    var sourceNodes = Array.apply(null, settings.rootElement.querySelectorAll(settings.include)).filter(function(node) {\n        return !matchesSelector(node, settings.exclude);\n    });\n    var cssArray = Array.apply(null, Array(sourceNodes.length)).map(function(x) {\n        return null;\n    });\n    function handleComplete() {\n        var isComplete = cssArray.indexOf(null) === -1;\n        if (isComplete) {\n            var cssText = cssArray.join("");\n            settings.onComplete(cssText, cssArray, sourceNodes);\n        }\n    }\n    function handleSuccess(cssText, cssIndex, node, sourceUrl) {\n        var returnVal = settings.onSuccess(cssText, node, sourceUrl);\n        cssText = returnVal !== undefined && Boolean(returnVal) === false ? "" : returnVal || cssText;\n        resolveImports(cssText, node, sourceUrl, function(resolvedCssText, errorData) {\n            if (cssArray[cssIndex] === null) {\n                errorData.forEach(function(data) {\n                    return settings.onError(data.xhr, node, data.url);\n                });\n                if (!settings.filter || settings.filter.test(resolvedCssText)) {\n                    cssArray[cssIndex] = resolvedCssText;\n                } else {\n                    cssArray[cssIndex] = "";\n                }\n                handleComplete();\n            }\n        });\n    }\n    function parseImportData(cssText, baseUrl) {\n        var ignoreRules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        var importData = {};\n        importData.rules = (cssText.replace(regex.cssComments, "").match(regex.cssImports) || []).filter(function(rule) {\n            return ignoreRules.indexOf(rule) === -1;\n        });\n        importData.urls = importData.rules.map(function(rule) {\n            return rule.replace(regex.cssImports, "$1");\n        });\n        importData.absoluteUrls = importData.urls.map(function(url) {\n            return getFullUrl(url, baseUrl);\n        });\n        importData.absoluteRules = importData.rules.map(function(rule, i) {\n            var oldUrl = importData.urls[i];\n            var newUrl = getFullUrl(importData.absoluteUrls[i], baseUrl);\n            return rule.replace(oldUrl, newUrl);\n        });\n        return importData;\n    }\n    function resolveImports(cssText, node, baseUrl, callbackFn) {\n        var __errorData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n        var __errorRules = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n        var importData = parseImportData(cssText, baseUrl, __errorRules);\n        if (importData.rules.length) {\n            getUrls(importData.absoluteUrls, {\n                onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {\n                    settings.onBeforeSend(xhr, node, url);\n                },\n                onSuccess: function onSuccess(cssText, url, urlIndex) {\n                    var returnVal = settings.onSuccess(cssText, node, url);\n                    cssText = returnVal === false ? "" : returnVal || cssText;\n                    var responseImportData = parseImportData(cssText, url, __errorRules);\n                    responseImportData.rules.forEach(function(rule, i) {\n                        cssText = cssText.replace(rule, responseImportData.absoluteRules[i]);\n                    });\n                    return cssText;\n                },\n                onError: function onError(xhr, url, urlIndex) {\n                    __errorData.push({\n                        xhr: xhr,\n                        url: url\n                    });\n                    __errorRules.push(importData.rules[urlIndex]);\n                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);\n                },\n                onComplete: function onComplete(responseArray) {\n                    responseArray.forEach(function(importText, i) {\n                        cssText = cssText.replace(importData.rules[i], importText);\n                    });\n                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);\n                }\n            });\n        } else {\n            callbackFn(cssText, __errorData);\n        }\n    }\n    if (sourceNodes.length) {\n        sourceNodes.forEach(function(node, i) {\n            var linkHref = node.getAttribute("href");\n            var linkRel = node.getAttribute("rel");\n            var isLink = node.nodeName === "LINK" && linkHref && linkRel && linkRel.toLowerCase() === "stylesheet";\n            var isStyle = node.nodeName === "STYLE";\n            if (isLink) {\n                getUrls(linkHref, {\n                    mimeType: "text/css",\n                    onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {\n                        settings.onBeforeSend(xhr, node, url);\n                    },\n                    onSuccess: function onSuccess(cssText, url, urlIndex) {\n                        var sourceUrl = getFullUrl(linkHref, location.href);\n                        handleSuccess(cssText, i, node, sourceUrl);\n                    },\n                    onError: function onError(xhr, url, urlIndex) {\n                        cssArray[i] = "";\n                        settings.onError(xhr, node, url);\n                        handleComplete();\n                    }\n                });\n            } else if (isStyle) {\n                var cssText = node.textContent;\n                if (settings.useCSSOM) {\n                    cssText = Array.apply(null, node.sheet.cssRules).map(function(rule) {\n                        return rule.cssText;\n                    }).join("");\n                }\n                handleSuccess(cssText, i, node, location.href);\n            } else {\n                cssArray[i] = "";\n                handleComplete();\n            }\n        });\n    } else {\n        settings.onComplete("", []);\n    }\n}\n\nfunction getFullUrl(url) {\n    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : location.href;\n    var d = document.implementation.createHTMLDocument("");\n    var b = d.createElement("base");\n    var a = d.createElement("a");\n    d.head.appendChild(b);\n    d.body.appendChild(a);\n    b.href = base;\n    a.href = url;\n    return a.href;\n}\n\nfunction matchesSelector(elm, selector) {\n    var matches = elm.matches || elm.matchesSelector || elm.webkitMatchesSelector || elm.mozMatchesSelector || elm.msMatchesSelector || elm.oMatchesSelector;\n    return matches.call(elm, selector);\n}\n\nvar balancedMatch = balanced;\n\nfunction balanced(a, b, str) {\n    if (a instanceof RegExp) a = maybeMatch(a, str);\n    if (b instanceof RegExp) b = maybeMatch(b, str);\n    var r = range(a, b, str);\n    return r && {\n        start: r[0],\n        end: r[1],\n        pre: str.slice(0, r[0]),\n        body: str.slice(r[0] + a.length, r[1]),\n        post: str.slice(r[1] + b.length)\n    };\n}\n\nfunction maybeMatch(reg, str) {\n    var m = str.match(reg);\n    return m ? m[0] : null;\n}\n\nbalanced.range = range;\n\nfunction range(a, b, str) {\n    var begs, beg, left, right, result;\n    var ai = str.indexOf(a);\n    var bi = str.indexOf(b, ai + 1);\n    var i = ai;\n    if (ai >= 0 && bi > 0) {\n        begs = [];\n        left = str.length;\n        while (i >= 0 && !result) {\n            if (i == ai) {\n                begs.push(i);\n                ai = str.indexOf(a, i + 1);\n            } else if (begs.length == 1) {\n                result = [ begs.pop(), bi ];\n            } else {\n                beg = begs.pop();\n                if (beg < left) {\n                    left = beg;\n                    right = bi;\n                }\n                bi = str.indexOf(b, i + 1);\n            }\n            i = ai < bi && ai >= 0 ? ai : bi;\n        }\n        if (begs.length) {\n            result = [ left, right ];\n        }\n    }\n    return result;\n}\n\nfunction parseCss(css) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaults = {\n        preserveStatic: true,\n        removeComments: false\n    };\n    var settings = _extends({}, defaults, options);\n    var errors = [];\n    function error(msg) {\n        throw new Error("CSS parse error: ".concat(msg));\n    }\n    function match(re) {\n        var m = re.exec(css);\n        if (m) {\n            css = css.slice(m[0].length);\n            return m;\n        }\n    }\n    function open() {\n        return match(/^{\\s*/);\n    }\n    function close() {\n        return match(/^}/);\n    }\n    function whitespace() {\n        match(/^\\s*/);\n    }\n    function comment() {\n        whitespace();\n        if (css[0] !== "/" || css[1] !== "*") {\n            return;\n        }\n        var i = 2;\n        while (css[i] && (css[i] !== "*" || css[i + 1] !== "/")) {\n            i++;\n        }\n        if (!css[i]) {\n            return error("end of comment is missing");\n        }\n        var str = css.slice(2, i);\n        css = css.slice(i + 2);\n        return {\n            type: "comment",\n            comment: str\n        };\n    }\n    function comments() {\n        var cmnts = [];\n        var c;\n        while (c = comment()) {\n            cmnts.push(c);\n        }\n        return settings.removeComments ? [] : cmnts;\n    }\n    function selector() {\n        whitespace();\n        while (css[0] === "}") {\n            error("extra closing bracket");\n        }\n        var m = match(/^(("(?:\\\\"|[^"])*"|\'(?:\\\\\'|[^\'])*\'|[^{])+)/);\n        if (m) {\n            return m[0].trim().replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*\\/]|[\\r\\n])))*\\*\\/+/g, "").replace(/"(?:\\\\"|[^"])*"|\'(?:\\\\\'|[^\'])*\'/g, function(m) {\n                return m.replace(/,/g, "‌");\n            }).split(/\\s*(?![^(]*\\)),\\s*/).map(function(s) {\n                return s.replace(/\\u200C/g, ",");\n            });\n        }\n    }\n    function declaration() {\n        match(/^([;\\s]*)+/);\n        var comment_regexp = /\\/\\*[^*]*\\*+([^\\/*][^*]*\\*+)*\\//g;\n        var prop = match(/^(\\*?[-#\\/*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/);\n        if (!prop) {\n            return;\n        }\n        prop = prop[0].trim();\n        if (!match(/^:\\s*/)) {\n            return error("property missing \':\'");\n        }\n        var val = match(/^((?:\\/\\*.*?\\*\\/|\'(?:\\\\\'|.)*?\'|"(?:\\\\"|.)*?"|\\((\\s*\'(?:\\\\\'|.)*?\'|"(?:\\\\"|.)*?"|[^)]*?)\\s*\\)|[^};])+)/);\n        var ret = {\n            type: "declaration",\n            property: prop.replace(comment_regexp, ""),\n            value: val ? val[0].replace(comment_regexp, "").trim() : ""\n        };\n        match(/^[;\\s]*/);\n        return ret;\n    }\n    function declarations() {\n        if (!open()) {\n            return error("missing \'{\'");\n        }\n        var d;\n        var decls = comments();\n        while (d = declaration()) {\n            decls.push(d);\n            decls = decls.concat(comments());\n        }\n        if (!close()) {\n            return error("missing \'}\'");\n        }\n        return decls;\n    }\n    function keyframe() {\n        whitespace();\n        var vals = [];\n        var m;\n        while (m = match(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/)) {\n            vals.push(m[1]);\n            match(/^,\\s*/);\n        }\n        if (vals.length) {\n            return {\n                type: "keyframe",\n                values: vals,\n                declarations: declarations()\n            };\n        }\n    }\n    function at_keyframes() {\n        var m = match(/^@([-\\w]+)?keyframes\\s*/);\n        if (!m) {\n            return;\n        }\n        var vendor = m[1];\n        m = match(/^([-\\w]+)\\s*/);\n        if (!m) {\n            return error("@keyframes missing name");\n        }\n        var name = m[1];\n        if (!open()) {\n            return error("@keyframes missing \'{\'");\n        }\n        var frame;\n        var frames = comments();\n        while (frame = keyframe()) {\n            frames.push(frame);\n            frames = frames.concat(comments());\n        }\n        if (!close()) {\n            return error("@keyframes missing \'}\'");\n        }\n        return {\n            type: "keyframes",\n            name: name,\n            vendor: vendor,\n            keyframes: frames\n        };\n    }\n    function at_page() {\n        var m = match(/^@page */);\n        if (m) {\n            var sel = selector() || [];\n            return {\n                type: "page",\n                selectors: sel,\n                declarations: declarations()\n            };\n        }\n    }\n    function at_fontface() {\n        var m = match(/^@font-face\\s*/);\n        if (m) {\n            return {\n                type: "font-face",\n                declarations: declarations()\n            };\n        }\n    }\n    function at_supports() {\n        var m = match(/^@supports *([^{]+)/);\n        if (m) {\n            return {\n                type: "supports",\n                supports: m[1].trim(),\n                rules: rules()\n            };\n        }\n    }\n    function at_host() {\n        var m = match(/^@host\\s*/);\n        if (m) {\n            return {\n                type: "host",\n                rules: rules()\n            };\n        }\n    }\n    function at_media() {\n        var m = match(/^@media *([^{]+)/);\n        if (m) {\n            return {\n                type: "media",\n                media: m[1].trim(),\n                rules: rules()\n            };\n        }\n    }\n    function at_custom_m() {\n        var m = match(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\n        if (m) {\n            return {\n                type: "custom-media",\n                name: m[1].trim(),\n                media: m[2].trim()\n            };\n        }\n    }\n    function at_document() {\n        var m = match(/^@([-\\w]+)?document *([^{]+)/);\n        if (m) {\n            return {\n                type: "document",\n                document: m[2].trim(),\n                vendor: m[1] ? m[1].trim() : null,\n                rules: rules()\n            };\n        }\n    }\n    function at_x() {\n        var m = match(/^@(import|charset|namespace)\\s*([^;]+);/);\n        if (m) {\n            return {\n                type: m[1],\n                name: m[2].trim()\n            };\n        }\n    }\n    function at_rule() {\n        whitespace();\n        if (css[0] === "@") {\n            var ret = at_keyframes() || at_supports() || at_host() || at_media() || at_custom_m() || at_page() || at_document() || at_fontface() || at_x();\n            if (ret && !settings.preserveStatic) {\n                var hasVarFunc = false;\n                if (ret.declarations) {\n                    hasVarFunc = ret.declarations.some(function(decl) {\n                        return /var\\(/.test(decl.value);\n                    });\n                } else {\n                    var arr = ret.keyframes || ret.rules || [];\n                    hasVarFunc = arr.some(function(obj) {\n                        return (obj.declarations || []).some(function(decl) {\n                            return /var\\(/.test(decl.value);\n                        });\n                    });\n                }\n                return hasVarFunc ? ret : {};\n            }\n            return ret;\n        }\n    }\n    function rule() {\n        if (!settings.preserveStatic) {\n            var balancedMatch$1 = balancedMatch("{", "}", css);\n            if (balancedMatch$1) {\n                var hasVarDecl = balancedMatch$1.pre.indexOf(":root") !== -1 && /--\\S*\\s*:/.test(balancedMatch$1.body);\n                var hasVarFunc = /var\\(/.test(balancedMatch$1.body);\n                if (!hasVarDecl && !hasVarFunc) {\n                    css = css.slice(balancedMatch$1.end + 1);\n                    return {};\n                }\n            }\n        }\n        var sel = selector() || [];\n        var decls = settings.preserveStatic ? declarations() : declarations().filter(function(decl) {\n            var hasVarDecl = sel.some(function(s) {\n                return s.indexOf(":root") !== -1;\n            }) && /^--\\S/.test(decl.property);\n            var hasVarFunc = /var\\(/.test(decl.value);\n            return hasVarDecl || hasVarFunc;\n        });\n        if (!sel.length) {\n            error("selector missing");\n        }\n        return {\n            type: "rule",\n            selectors: sel,\n            declarations: decls\n        };\n    }\n    function rules(core) {\n        if (!core && !open()) {\n            return error("missing \'{\'");\n        }\n        var node;\n        var rules = comments();\n        while (css.length && (core || css[0] !== "}") && (node = at_rule() || rule())) {\n            if (node.type) {\n                rules.push(node);\n            }\n            rules = rules.concat(comments());\n        }\n        if (!core && !close()) {\n            return error("missing \'}\'");\n        }\n        return rules;\n    }\n    return {\n        type: "stylesheet",\n        stylesheet: {\n            rules: rules(true),\n            errors: errors\n        }\n    };\n}\n\nfunction parseVars(cssData) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaults = {\n        store: {},\n        onWarning: function onWarning() {}\n    };\n    var settings = _extends({}, defaults, options);\n    if (typeof cssData === "string") {\n        cssData = parseCss(cssData, settings);\n    }\n    cssData.stylesheet.rules.forEach(function(rule) {\n        if (rule.type !== "rule") {\n            return;\n        }\n        if (rule.selectors.length !== 1 || rule.selectors[0] !== ":root") {\n            return;\n        }\n        rule.declarations.forEach(function(decl, i) {\n            var prop = decl.property;\n            var value = decl.value;\n            if (prop && prop.indexOf("--") === 0) {\n                settings.store[prop] = value;\n            }\n        });\n    });\n    return settings.store;\n}\n\nfunction stringifyCss(tree) {\n    var delim = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";\n    var cb = arguments.length > 2 ? arguments[2] : undefined;\n    var renderMethods = {\n        charset: function charset(node) {\n            return "@charset " + node.name + ";";\n        },\n        comment: function comment(node) {\n            return node.comment.indexOf("__CSSVARSPONYFILL") === 0 ? "/*" + node.comment + "*/" : "";\n        },\n        "custom-media": function customMedia(node) {\n            return "@custom-media " + node.name + " " + node.media + ";";\n        },\n        declaration: function declaration(node) {\n            return node.property + ":" + node.value + ";";\n        },\n        document: function document(node) {\n            return "@" + (node.vendor || "") + "document " + node.document + "{" + visit(node.rules) + "}";\n        },\n        "font-face": function fontFace(node) {\n            return "@font-face" + "{" + visit(node.declarations) + "}";\n        },\n        host: function host(node) {\n            return "@host" + "{" + visit(node.rules) + "}";\n        },\n        import: function _import(node) {\n            return "@import " + node.name + ";";\n        },\n        keyframe: function keyframe(node) {\n            return node.values.join(",") + "{" + visit(node.declarations) + "}";\n        },\n        keyframes: function keyframes(node) {\n            return "@" + (node.vendor || "") + "keyframes " + node.name + "{" + visit(node.keyframes) + "}";\n        },\n        media: function media(node) {\n            return "@media " + node.media + "{" + visit(node.rules) + "}";\n        },\n        namespace: function namespace(node) {\n            return "@namespace " + node.name + ";";\n        },\n        page: function page(node) {\n            return "@page " + (node.selectors.length ? node.selectors.join(", ") : "") + "{" + visit(node.declarations) + "}";\n        },\n        rule: function rule(node) {\n            var decls = node.declarations;\n            if (decls.length) {\n                return node.selectors.join(",") + "{" + visit(decls) + "}";\n            }\n        },\n        supports: function supports(node) {\n            return "@supports " + node.supports + "{" + visit(node.rules) + "}";\n        }\n    };\n    function visit(nodes) {\n        var buf = "";\n        for (var i = 0; i < nodes.length; i++) {\n            var n = nodes[i];\n            if (cb) {\n                cb(n);\n            }\n            var txt = renderMethods[n.type](n);\n            if (txt) {\n                buf += txt;\n                if (txt.length && n.selectors) {\n                    buf += delim;\n                }\n            }\n        }\n        return buf;\n    }\n    return visit(tree.stylesheet.rules);\n}\n\nfunction walkCss(node, fn) {\n    node.rules.forEach(function(rule) {\n        if (rule.rules) {\n            walkCss(rule, fn);\n            return;\n        }\n        if (rule.keyframes) {\n            rule.keyframes.forEach(function(keyframe) {\n                if (keyframe.type === "keyframe") {\n                    fn(keyframe.declarations, rule);\n                }\n            });\n            return;\n        }\n        if (!rule.declarations) {\n            return;\n        }\n        fn(rule.declarations, node);\n    });\n}\n\nvar VAR_PROP_IDENTIFIER = "--";\n\nvar VAR_FUNC_IDENTIFIER = "var";\n\nfunction transformCss(cssData) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaults = {\n        preserveStatic: true,\n        preserveVars: false,\n        variables: {},\n        onWarning: function onWarning() {}\n    };\n    var settings = _extends({}, defaults, options);\n    if (typeof cssData === "string") {\n        cssData = parseCss(cssData, settings);\n    }\n    walkCss(cssData.stylesheet, function(declarations, node) {\n        for (var i = 0; i < declarations.length; i++) {\n            var decl = declarations[i];\n            var type = decl.type;\n            var prop = decl.property;\n            var value = decl.value;\n            if (type !== "declaration") {\n                continue;\n            }\n            if (!settings.preserveVars && prop && prop.indexOf(VAR_PROP_IDENTIFIER) === 0) {\n                declarations.splice(i, 1);\n                i--;\n                continue;\n            }\n            if (value.indexOf(VAR_FUNC_IDENTIFIER + "(") !== -1) {\n                var resolvedValue = resolveValue(value, settings);\n                if (resolvedValue !== decl.value) {\n                    resolvedValue = fixNestedCalc(resolvedValue);\n                    if (!settings.preserveVars) {\n                        decl.value = resolvedValue;\n                    } else {\n                        declarations.splice(i, 0, {\n                            type: type,\n                            property: prop,\n                            value: resolvedValue\n                        });\n                        i++;\n                    }\n                }\n            }\n        }\n    });\n    return stringifyCss(cssData);\n}\n\nfunction fixNestedCalc(value) {\n    var reCalcVal = /calc\\(([^)]+)\\)/g;\n    (value.match(reCalcVal) || []).forEach(function(match) {\n        var newVal = "calc".concat(match.split("calc").join(""));\n        value = value.replace(match, newVal);\n    });\n    return value;\n}\n\nfunction resolveValue(value) {\n    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var __recursiveFallback = arguments.length > 2 ? arguments[2] : undefined;\n    if (value.indexOf("var(") === -1) {\n        return value;\n    }\n    var valueData = balancedMatch("(", ")", value);\n    function resolveFunc(value) {\n        var name = value.split(",")[0].replace(/[\\s\\n\\t]/g, "");\n        var fallback = (value.match(/(?:\\s*,\\s*){1}(.*)?/) || [])[1];\n        var match = settings.variables.hasOwnProperty(name) ? String(settings.variables[name]) : undefined;\n        var replacement = match || (fallback ? String(fallback) : undefined);\n        var unresolvedFallback = __recursiveFallback || value;\n        if (!match) {\n            settings.onWarning(\'variable "\'.concat(name, \'" is undefined\'));\n        }\n        if (replacement && replacement !== "undefined" && replacement.length > 0) {\n            return resolveValue(replacement, settings, unresolvedFallback);\n        } else {\n            return "var(".concat(unresolvedFallback, ")");\n        }\n    }\n    if (!valueData) {\n        if (value.indexOf("var(") !== -1) {\n            settings.onWarning(\'missing closing ")" in the value "\'.concat(value, \'"\'));\n        }\n        return value;\n    } else if (valueData.pre.slice(-3) === "var") {\n        var isEmptyVarFunc = valueData.body.trim().length === 0;\n        if (isEmptyVarFunc) {\n            settings.onWarning("var() must contain a non-whitespace string");\n            return value;\n        } else {\n            return valueData.pre.slice(0, -3) + resolveFunc(valueData.body) + resolveValue(valueData.post, settings);\n        }\n    } else {\n        return valueData.pre + "(".concat(resolveValue(valueData.body, settings), ")") + resolveValue(valueData.post, settings);\n    }\n}\n\nvar isBrowser = typeof window !== "undefined";\n\nvar isNativeSupport = isBrowser && window.CSS && window.CSS.supports && window.CSS.supports("(--a: 0)");\n\nvar counters = {\n    group: 0,\n    job: 0\n};\n\nvar defaults = {\n    rootElement: isBrowser ? document : null,\n    shadowDOM: false,\n    include: "style,link[rel=stylesheet]",\n    exclude: "",\n    variables: {},\n    onlyLegacy: true,\n    preserveStatic: true,\n    preserveVars: false,\n    silent: false,\n    updateDOM: true,\n    updateURLs: true,\n    watch: null,\n    onBeforeSend: function onBeforeSend() {},\n    onWarning: function onWarning() {},\n    onError: function onError() {},\n    onSuccess: function onSuccess() {},\n    onComplete: function onComplete() {}\n};\n\nvar regex = {\n    cssComments: /\\/\\*[\\s\\S]+?\\*\\//g,\n    cssKeyframes: /@(?:-\\w*-)?keyframes/,\n    cssMediaQueries: /@media[^{]+\\{([\\s\\S]+?})\\s*}/g,\n    cssRootRules: /(?::root\\s*{\\s*[^}]*})/g,\n    cssUrls: /url\\((?![\'"]?(?:data|http|\\/\\/):)[\'"]?([^\'")]*)[\'"]?\\)/g,\n    cssVarDecls: /(?:[\\s;]*)(-{2}\\w[\\w-]*)(?:\\s*:\\s*)([^;]*);/g,\n    cssVarFunc: /var\\(\\s*--[\\w-]/,\n    cssVars: /(?:(?::root\\s*{\\s*[^;]*;*\\s*)|(?:var\\(\\s*))(--[^:)]+)(?:\\s*[:)])/\n};\n\nvar variableStore = {\n    dom: {},\n    job: {},\n    user: {}\n};\n\nvar cssVarsIsRunning = false;\n\nvar cssVarsObserver = null;\n\nvar cssVarsSrcNodeCount = 0;\n\nvar debounceTimer = null;\n\nvar isShadowDOMReady = false;\n\n/**\n * Fetches, parses, and transforms CSS custom properties from specified\n * <style> and <link> elements into static values, then appends a new <style>\n * element with static values to the DOM to provide CSS custom property\n * compatibility for legacy browsers. Also provides a single interface for\n * live updates of runtime values in both modern and legacy browsers.\n *\n * @preserve\n * @param {object}   [options] Options object\n * @param {object}   [options.rootElement=document] Root element to traverse for\n *                   <link> and <style> nodes\n * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>\n *                   and <style> nodes will be processed.\n * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector\n *                   matching <link re="stylesheet"> and <style> nodes to\n *                   process\n * @param {string}   [options.exclude] CSS selector matching <link\n *                   rel="stylehseet"> and <style> nodes to exclude from those\n *                   matches by options.include\n * @param {object}   [options.variables] A map of custom property name/value\n *                   pairs. Property names can omit or include the leading\n *                   double-hyphen (—), and values specified will override\n *                   previous values\n * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will\n *                   only generate legacy-compatible CSS in browsers that lack\n *                   native support (i.e., legacy browsers)\n * @param {boolean}  [options.preserveStatic=true] Determines if CSS\n *                   declarations that do not reference a custom property will\n *                   be preserved in the transformed CSS\n * @param {boolean}  [options.preserveVars=false] Determines if CSS custom\n *                   property declarations will be preserved in the transformed\n *                   CSS\n * @param {boolean}  [options.silent=false] Determines if warning and error\n *                   messages will be displayed on the console\n * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will\n *                   update the DOM after processing CSS custom properties\n * @param {boolean}  [options.updateURLs=true] Determines if the ponyfill will\n *                   convert relative url() paths to absolute urls\n * @param {boolean}  [options.watch=false] Determines if a MutationObserver will\n *                   be created that will execute the ponyfill when a <link> or\n *                   <style> DOM mutation is observed\n * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes\n *                   1) the XHR object, 2) source node reference, and 3) the\n *                   source URL as arguments\n * @param {function} [options.onWarning] Callback after each CSS parsing warning\n *                   has occurred. Passes 1) a warning message as an argument.\n * @param {function} [options.onError] Callback after a CSS parsing error has\n *                   occurred or an XHR request has failed. Passes 1) an error\n *                   message, and 2) source node reference, 3) xhr, and 4 url as\n *                   arguments.\n * @param {function} [options.onSuccess] Callback after CSS data has been\n *                   collected from each node and before CSS custom properties\n *                   have been transformed. Allows modifying the CSS data before\n *                   it is transformed by returning any string value (or false\n *                   to skip). Passes 1) CSS text, 2) source node reference, and\n *                   3) the source URL as arguments.\n * @param {function} [options.onComplete] Callback after all CSS has been\n *                   processed, legacy-compatible CSS has been generated, and\n *                   (optionally) the DOM has been updated. Passes 1) a CSS\n *                   string with CSS variable values resolved, 2) an array of\n *                   output <style> node references that have been appended to\n *                   the DOM, 3) an object containing all custom properies names\n *                   and values, and 4) the ponyfill execution time in\n *                   milliseconds.\n *\n * @example\n *\n *   cssVars({\n *     rootElement   : document,\n *     shadowDOM     : false,\n *     include       : \'style,link[rel="stylesheet"]\',\n *     exclude       : \'\',\n *     variables     : {},\n *     onlyLegacy    : true,\n *     preserveStatic: true,\n *     preserveVars  : false,\n *     silent        : false,\n *     updateDOM     : true,\n *     updateURLs    : true,\n *     watch         : false,\n *     onBeforeSend(xhr, node, url) {},\n *     onWarning(message) {},\n *     onError(message, node, xhr, url) {},\n *     onSuccess(cssText, node, url) {},\n *     onComplete(cssText, styleNode, cssVariables, benchmark) {}\n *   });\n */ function cssVars() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var msgPrefix = "cssVars(): ";\n    var settings = _extends({}, defaults, options);\n    function handleError(message, sourceNode, xhr, url) {\n        if (!settings.silent && window.console) {\n            console.error("".concat(msgPrefix).concat(message, "\\n"), sourceNode);\n        }\n        settings.onError(message, sourceNode, xhr, url);\n    }\n    function handleWarning(message) {\n        if (!settings.silent && window.console) {\n            console.warn("".concat(msgPrefix).concat(message));\n        }\n        settings.onWarning(message);\n    }\n    if (!isBrowser) {\n        return;\n    }\n    if (settings.watch) {\n        settings.watch = defaults.watch;\n        addMutationObserver(settings);\n        cssVars(settings);\n        return;\n    } else if (settings.watch === false && cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n    if (!settings.__benchmark) {\n        if (cssVarsIsRunning === settings.rootElement) {\n            cssVarsDebounced(options);\n            return;\n        }\n        settings.__benchmark = getTimeStamp();\n        settings.exclude = [ cssVarsObserver ? \'[data-cssvars]:not([data-cssvars=""])\' : \'[data-cssvars="out"]\', settings.exclude ].filter(function(selector) {\n            return selector;\n        }).join(",");\n        settings.variables = fixVarNames(settings.variables);\n        if (!cssVarsObserver) {\n            var outNodes = Array.apply(null, settings.rootElement.querySelectorAll(\'[data-cssvars="out"]\'));\n            outNodes.forEach(function(outNode) {\n                var dataGroup = outNode.getAttribute("data-cssvars-group");\n                var srcNode = dataGroup ? settings.rootElement.querySelector(\'[data-cssvars="src"][data-cssvars-group="\'.concat(dataGroup, \'"]\')) : null;\n                if (!srcNode) {\n                    outNode.parentNode.removeChild(outNode);\n                }\n            });\n            if (cssVarsSrcNodeCount) {\n                var srcNodes = settings.rootElement.querySelectorAll(\'[data-cssvars]:not([data-cssvars="out"])\');\n                if (srcNodes.length < cssVarsSrcNodeCount) {\n                    cssVarsSrcNodeCount = srcNodes.length;\n                    variableStore.dom = {};\n                }\n            }\n        }\n    }\n    if (document.readyState !== "loading") {\n        var isShadowElm = settings.shadowDOM || settings.rootElement.shadowRoot || settings.rootElement.host;\n        if (isNativeSupport && settings.onlyLegacy) {\n            if (settings.updateDOM) {\n                var targetElm = settings.rootElement.host || (settings.rootElement === document ? document.documentElement : settings.rootElement);\n                Object.keys(settings.variables).forEach(function(key) {\n                    targetElm.style.setProperty(key, settings.variables[key]);\n                });\n            }\n        } else if (isShadowElm && !isShadowDOMReady) {\n            getCssData({\n                rootElement: defaults.rootElement,\n                include: defaults.include,\n                exclude: settings.exclude,\n                onSuccess: function onSuccess(cssText, node, url) {\n                    cssText = cssText.replace(regex.cssComments, "").replace(regex.cssMediaQueries, "");\n                    cssText = (cssText.match(regex.cssRootRules) || []).join("");\n                    return cssText || false;\n                },\n                onComplete: function onComplete(cssText, cssArray, nodeArray) {\n                    parseVars(cssText, {\n                        store: variableStore.dom,\n                        onWarning: handleWarning\n                    });\n                    isShadowDOMReady = true;\n                    cssVars(settings);\n                }\n            });\n        } else {\n            cssVarsIsRunning = settings.rootElement;\n            getCssData({\n                rootElement: settings.rootElement,\n                include: settings.include,\n                exclude: settings.exclude,\n                onBeforeSend: settings.onBeforeSend,\n                onError: function onError(xhr, node, url) {\n                    var responseUrl = xhr.responseURL || getFullUrl$1(url, location.href);\n                    var statusText = xhr.statusText ? "(".concat(xhr.statusText, ")") : "Unspecified Error" + (xhr.status === 0 ? " (possibly CORS related)" : "");\n                    var errorMsg = "CSS XHR Error: ".concat(responseUrl, " ").concat(xhr.status, " ").concat(statusText);\n                    handleError(errorMsg, node, xhr, responseUrl);\n                },\n                onSuccess: function onSuccess(cssText, node, url) {\n                    var returnVal = settings.onSuccess(cssText, node, url);\n                    cssText = returnVal !== undefined && Boolean(returnVal) === false ? "" : returnVal || cssText;\n                    if (settings.updateURLs) {\n                        cssText = fixRelativeCssUrls(cssText, url);\n                    }\n                    return cssText;\n                },\n                onComplete: function onComplete(cssText, cssArray) {\n                    var nodeArray = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n                    var jobVars = {};\n                    var varStore = settings.updateDOM ? variableStore.dom : Object.keys(variableStore.job).length ? variableStore.job : variableStore.job = JSON.parse(JSON.stringify(variableStore.dom));\n                    var hasVarChange = false;\n                    nodeArray.forEach(function(node, i) {\n                        if (regex.cssVars.test(cssArray[i])) {\n                            try {\n                                var cssTree = parseCss(cssArray[i], {\n                                    preserveStatic: settings.preserveStatic,\n                                    removeComments: true\n                                });\n                                parseVars(cssTree, {\n                                    store: jobVars,\n                                    onWarning: handleWarning\n                                });\n                                node.__cssVars = {\n                                    tree: cssTree\n                                };\n                            } catch (err) {\n                                handleError(err.message, node);\n                            }\n                        }\n                    });\n                    if (settings.updateDOM) {\n                        _extends(variableStore.user, settings.variables);\n                    }\n                    _extends(jobVars, settings.variables);\n                    hasVarChange = Boolean((document.querySelector("[data-cssvars]") || Object.keys(variableStore.dom).length) && Object.keys(jobVars).some(function(name) {\n                        return jobVars[name] !== varStore[name];\n                    }));\n                    _extends(varStore, variableStore.user, jobVars);\n                    if (hasVarChange) {\n                        resetCssNodes(settings.rootElement);\n                        cssVars(settings);\n                    } else {\n                        var outCssArray = [];\n                        var outNodeArray = [];\n                        var hasKeyframesWithVars = false;\n                        variableStore.job = {};\n                        if (settings.updateDOM) {\n                            counters.job++;\n                        }\n                        nodeArray.forEach(function(node) {\n                            var isSkip = !node.__cssVars;\n                            if (node.__cssVars) {\n                                try {\n                                    transformCss(node.__cssVars.tree, _extends({}, settings, {\n                                        variables: varStore,\n                                        onWarning: handleWarning\n                                    }));\n                                    var outCss = stringifyCss(node.__cssVars.tree);\n                                    if (settings.updateDOM) {\n                                        if (!node.getAttribute("data-cssvars")) {\n                                            node.setAttribute("data-cssvars", "src");\n                                        }\n                                        if (outCss.length) {\n                                            var dataGroup = node.getAttribute("data-cssvars-group") || ++counters.group;\n                                            var outCssNoSpaces = outCss.replace(/\\s/g, "");\n                                            var outNode = settings.rootElement.querySelector(\'[data-cssvars="out"][data-cssvars-group="\'.concat(dataGroup, \'"]\')) || document.createElement("style");\n                                            hasKeyframesWithVars = hasKeyframesWithVars || regex.cssKeyframes.test(outCss);\n                                            if (!outNode.hasAttribute("data-cssvars")) {\n                                                outNode.setAttribute("data-cssvars", "out");\n                                            }\n                                            if (outCssNoSpaces === node.textContent.replace(/\\s/g, "")) {\n                                                isSkip = true;\n                                                if (outNode && outNode.parentNode) {\n                                                    node.removeAttribute("data-cssvars-group");\n                                                    outNode.parentNode.removeChild(outNode);\n                                                }\n                                            } else if (outCssNoSpaces !== outNode.textContent.replace(/\\s/g, "")) {\n                                                [ node, outNode ].forEach(function(n) {\n                                                    n.setAttribute("data-cssvars-job", counters.job);\n                                                    n.setAttribute("data-cssvars-group", dataGroup);\n                                                });\n                                                outNode.textContent = outCss;\n                                                outCssArray.push(outCss);\n                                                outNodeArray.push(outNode);\n                                                if (!outNode.parentNode) {\n                                                    node.parentNode.insertBefore(outNode, node.nextSibling);\n                                                }\n                                            }\n                                        }\n                                    } else {\n                                        if (node.textContent.replace(/\\s/g, "") !== outCss) {\n                                            outCssArray.push(outCss);\n                                        }\n                                    }\n                                } catch (err) {\n                                    handleError(err.message, node);\n                                }\n                            }\n                            if (isSkip) {\n                                node.setAttribute("data-cssvars", "skip");\n                            }\n                            if (!node.hasAttribute("data-cssvars-job")) {\n                                node.setAttribute("data-cssvars-job", counters.job);\n                            }\n                        });\n                        cssVarsSrcNodeCount = settings.rootElement.querySelectorAll(\'[data-cssvars]:not([data-cssvars="out"])\').length;\n                        if (settings.shadowDOM) {\n                            var elms = [ settings.rootElement ].concat(_toConsumableArray(settings.rootElement.querySelectorAll("*")));\n                            for (var i = 0, elm; elm = elms[i]; ++i) {\n                                if (elm.shadowRoot && elm.shadowRoot.querySelector("style")) {\n                                    var shadowSettings = _extends({}, settings, {\n                                        rootElement: elm.shadowRoot,\n                                        variables: variableStore.dom\n                                    });\n                                    cssVars(shadowSettings);\n                                }\n                            }\n                        }\n                        if (settings.updateDOM && hasKeyframesWithVars) {\n                            fixKeyframes(settings.rootElement);\n                        }\n                        cssVarsIsRunning = false;\n                        settings.onComplete(outCssArray.join(""), outNodeArray, JSON.parse(JSON.stringify(varStore)), getTimeStamp() - settings.__benchmark);\n                    }\n                }\n            });\n        }\n    } else {\n        document.addEventListener("DOMContentLoaded", function init(evt) {\n            cssVars(options);\n            document.removeEventListener("DOMContentLoaded", init);\n        });\n    }\n}\n\ncssVars.reset = function() {\n    cssVarsIsRunning = false;\n    if (cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n    cssVarsSrcNodeCount = 0;\n    debounceTimer = null;\n    isShadowDOMReady = false;\n    for (var prop in variableStore) {\n        variableStore[prop] = {};\n    }\n};\n\nfunction addMutationObserver(settings) {\n    function isLink(node) {\n        var isStylesheet = node.tagName === "LINK" && (node.getAttribute("rel") || "").indexOf("stylesheet") !== -1;\n        return isStylesheet && !node.disabled;\n    }\n    function isStyle(node) {\n        return node.tagName === "STYLE" && !node.disabled;\n    }\n    function isValidAddMutation(mutationNodes) {\n        return Array.apply(null, mutationNodes).some(function(node) {\n            var isElm = node.nodeType === 1;\n            var hasAttr = isElm && node.hasAttribute("data-cssvars");\n            var isStyleWithVars = isStyle(node) && regex.cssVars.test(node.textContent);\n            var isValid = !hasAttr && (isLink(node) || isStyleWithVars);\n            return isValid;\n        });\n    }\n    function isValidRemoveMutation(mutationNodes) {\n        return Array.apply(null, mutationNodes).some(function(node) {\n            var isElm = node.nodeType === 1;\n            var isOutNode = isElm && node.getAttribute("data-cssvars") === "out";\n            var isSrcNode = isElm && node.getAttribute("data-cssvars") === "src";\n            var isValid = isSrcNode;\n            if (isSrcNode || isOutNode) {\n                var dataGroup = node.getAttribute("data-cssvars-group");\n                var orphanNode = settings.rootElement.querySelector(\'[data-cssvars-group="\'.concat(dataGroup, \'"]\'));\n                if (isSrcNode) {\n                    resetCssNodes(settings.rootElement);\n                    variableStore.dom = {};\n                }\n                if (orphanNode) {\n                    orphanNode.parentNode.removeChild(orphanNode);\n                }\n            }\n            return isValid;\n        });\n    }\n    if (!window.MutationObserver) {\n        return;\n    }\n    if (cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n    cssVarsObserver = new MutationObserver(function(mutations) {\n        var hasValidMutation = mutations.some(function(mutation) {\n            var isValid = false;\n            if (mutation.type === "attributes") {\n                isValid = isLink(mutation.target);\n            } else if (mutation.type === "childList") {\n                isValid = isValidAddMutation(mutation.addedNodes) || isValidRemoveMutation(mutation.removedNodes);\n            }\n            return isValid;\n        });\n        if (hasValidMutation) {\n            cssVars(settings);\n        }\n    });\n    cssVarsObserver.observe(document.documentElement, {\n        attributes: true,\n        attributeFilter: [ "disabled", "href" ],\n        childList: true,\n        subtree: true\n    });\n}\n\nfunction cssVarsDebounced(settings) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n    clearTimeout(debounceTimer);\n    debounceTimer = setTimeout(function() {\n        settings.__benchmark = null;\n        cssVars(settings);\n    }, delay);\n}\n\nfunction fixKeyframes(rootElement) {\n    var animationNameProp = [ "animation-name", "-moz-animation-name", "-webkit-animation-name" ].filter(function(prop) {\n        return getComputedStyle(document.body)[prop];\n    })[0];\n    if (animationNameProp) {\n        var allNodes = rootElement.getElementsByTagName("*");\n        var keyframeNodes = [];\n        var nameMarker = "__CSSVARSPONYFILL-KEYFRAMES__";\n        for (var i = 0, len = allNodes.length; i < len; i++) {\n            var node = allNodes[i];\n            var animationName = getComputedStyle(node)[animationNameProp];\n            if (animationName !== "none") {\n                node.style[animationNameProp] += nameMarker;\n                keyframeNodes.push(node);\n            }\n        }\n        void document.body.offsetHeight;\n        for (var _i = 0, _len = keyframeNodes.length; _i < _len; _i++) {\n            var nodeStyle = keyframeNodes[_i].style;\n            nodeStyle[animationNameProp] = nodeStyle[animationNameProp].replace(nameMarker, "");\n        }\n    }\n}\n\nfunction fixRelativeCssUrls(cssText, baseUrl) {\n    var cssUrls = cssText.replace(regex.cssComments, "").match(regex.cssUrls) || [];\n    cssUrls.forEach(function(cssUrl) {\n        var oldUrl = cssUrl.replace(regex.cssUrls, "$1");\n        var newUrl = getFullUrl$1(oldUrl, baseUrl);\n        cssText = cssText.replace(cssUrl, cssUrl.replace(oldUrl, newUrl));\n    });\n    return cssText;\n}\n\nfunction fixVarNames() {\n    var varObj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var reLeadingHyphens = /^-{2}/;\n    return Object.keys(varObj).reduce(function(obj, value) {\n        var key = reLeadingHyphens.test(value) ? value : "--".concat(value.replace(/^-+/, ""));\n        obj[key] = varObj[value];\n        return obj;\n    }, {});\n}\n\nfunction getFullUrl$1(url) {\n    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : location.href;\n    var d = document.implementation.createHTMLDocument("");\n    var b = d.createElement("base");\n    var a = d.createElement("a");\n    d.head.appendChild(b);\n    d.body.appendChild(a);\n    b.href = base;\n    a.href = url;\n    return a.href;\n}\n\nfunction getTimeStamp() {\n    return isBrowser && (window.performance || {}).now ? window.performance.now() : new Date().getTime();\n}\n\nfunction resetCssNodes(rootElement) {\n    var resetNodes = Array.apply(null, rootElement.querySelectorAll(\'[data-cssvars="skip"],[data-cssvars="src"]\'));\n    resetNodes.forEach(function(node) {\n        return node.setAttribute("data-cssvars", "");\n    });\n}\n\n/* unused harmony default export */ var _unused_webpack_default_export = (cssVars);\n//# sourceMappingURL=css-vars-ponyfill.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLXZhcnMtcG9ueWZpbGwvZGlzdC9jc3MtdmFycy1wb255ZmlsbC5lc20uanM/YmUzMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGNzcy12YXJzLXBvbnlmaWxsXG4gKiB2Mi4wLjJcbiAqIGh0dHBzOi8vamhpbGRlbmJpZGRsZS5naXRodWIuaW8vY3NzLXZhcnMtcG9ueWZpbGwvXG4gKiAoYykgMjAxOC0yMDE5IEpvaG4gSGlsZGVuYmlkZGxlIDxodHRwOi8vaGlsZGVuYmlkZGxlLmNvbT5cbiAqIE1JVCBsaWNlbnNlXG4gKi9cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gICAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gICAgICAgIHJldHVybiBhcnIyO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gICAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbn1cblxuLyohXG4gKiBnZXQtY3NzLWRhdGFcbiAqIHYxLjYuM1xuICogaHR0cHM6Ly9naXRodWIuY29tL2poaWxkZW5iaWRkbGUvZ2V0LWNzcy1kYXRhXG4gKiAoYykgMjAxOC0yMDE5IEpvaG4gSGlsZGVuYmlkZGxlIDxodHRwOi8vaGlsZGVuYmlkZGxlLmNvbT5cbiAqIE1JVCBsaWNlbnNlXG4gKi8gZnVuY3Rpb24gZ2V0VXJscyh1cmxzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgbWltZVR5cGU6IG9wdGlvbnMubWltZVR5cGUgfHwgbnVsbCxcbiAgICAgICAgb25CZWZvcmVTZW5kOiBvcHRpb25zLm9uQmVmb3JlU2VuZCB8fCBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9uU3VjY2Vzczogb3B0aW9ucy5vblN1Y2Nlc3MgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvbkVycm9yOiBvcHRpb25zLm9uRXJyb3IgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvbkNvbXBsZXRlOiBvcHRpb25zLm9uQ29tcGxldGUgfHwgRnVuY3Rpb24ucHJvdG90eXBlXG4gICAgfTtcbiAgICB2YXIgdXJsQXJyYXkgPSBBcnJheS5pc0FycmF5KHVybHMpID8gdXJscyA6IFsgdXJscyBdO1xuICAgIHZhciB1cmxRdWV1ZSA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KHVybEFycmF5Lmxlbmd0aCkpLm1hcChmdW5jdGlvbih4KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGlzVmFsaWRDc3MoKSB7XG4gICAgICAgIHZhciBjc3NUZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBcIlwiO1xuICAgICAgICB2YXIgaXNIVE1MID0gY3NzVGV4dC50cmltKCkuY2hhckF0KDApID09PSBcIjxcIjtcbiAgICAgICAgcmV0dXJuICFpc0hUTUw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRXJyb3IoeGhyLCB1cmxJbmRleCkge1xuICAgICAgICBzZXR0aW5ncy5vbkVycm9yKHhociwgdXJsQXJyYXlbdXJsSW5kZXhdLCB1cmxJbmRleCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXNwb25zZVRleHQsIHVybEluZGV4KSB7XG4gICAgICAgIHZhciByZXR1cm5WYWwgPSBzZXR0aW5ncy5vblN1Y2Nlc3MocmVzcG9uc2VUZXh0LCB1cmxBcnJheVt1cmxJbmRleF0sIHVybEluZGV4KTtcbiAgICAgICAgcmVzcG9uc2VUZXh0ID0gcmV0dXJuVmFsID09PSBmYWxzZSA/IFwiXCIgOiByZXR1cm5WYWwgfHwgcmVzcG9uc2VUZXh0O1xuICAgICAgICB1cmxRdWV1ZVt1cmxJbmRleF0gPSByZXNwb25zZVRleHQ7XG4gICAgICAgIGlmICh1cmxRdWV1ZS5pbmRleE9mKG51bGwpID09PSAtMSkge1xuICAgICAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZSh1cmxRdWV1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHBhcnNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIHVybEFycmF5LmZvckVhY2goZnVuY3Rpb24odXJsLCBpKSB7XG4gICAgICAgIHBhcnNlci5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHVybCk7XG4gICAgICAgIHBhcnNlci5ocmVmID0gU3RyaW5nKHBhcnNlci5ocmVmKTtcbiAgICAgICAgdmFyIGlzSUVsdGU5ID0gQm9vbGVhbihkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICAgICAgdmFyIGlzSUVsdGU5Q09SUyA9IGlzSUVsdGU5ICYmIHBhcnNlci5ob3N0LnNwbGl0KFwiOlwiKVswXSAhPT0gbG9jYXRpb24uaG9zdC5zcGxpdChcIjpcIilbMF07XG4gICAgICAgIGlmIChpc0lFbHRlOUNPUlMpIHtcbiAgICAgICAgICAgIHZhciBpc1NhbWVQcm90b2NvbCA9IHBhcnNlci5wcm90b2NvbCA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgICAgICBpZiAoaXNTYW1lUHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICB2YXIgeGRyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgeGRyLm9wZW4oXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgICAgICB4ZHIudGltZW91dCA9IDA7XG4gICAgICAgICAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgICAgICAgICAgICAgeGRyLm9udGltZW91dCA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICB4ZHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkQ3NzKHhkci5yZXNwb25zZVRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoeGRyLnJlc3BvbnNlVGV4dCwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHhkciwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHhkci5vbmVycm9yID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoeGRyLCBpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHhkci5zZW5kKCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludGVybmV0IEV4cGxvcmVyIDkgQ3Jvc3MtT3JpZ2luIChDT1JTKSByZXF1ZXN0cyBtdXN0IHVzZSB0aGUgc2FtZSBwcm90b2NvbCAoXCIuY29uY2F0KHVybCwgXCIpXCIpKTtcbiAgICAgICAgICAgICAgICBvbkVycm9yKG51bGwsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSkge1xuICAgICAgICAgICAgICAgIHhoci5vdmVycmlkZU1pbWVUeXBlKHNldHRpbmdzLm1pbWVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzLm9uQmVmb3JlU2VuZCh4aHIsIHVybCwgaSk7XG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDAgJiYgaXNWYWxpZENzcyh4aHIucmVzcG9uc2VUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKHhoci5yZXNwb25zZVRleHQsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcih4aHIsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBHZXRzIENTUyBkYXRhIGZyb20gPHN0eWxlPiBhbmQgPGxpbms+IG5vZGVzIChpbmNsdWRpbmcgQGltcG9ydHMpLCB0aGVuXG4gKiByZXR1cm5zIGRhdGEgaW4gb3JkZXIgcHJvY2Vzc2VkIGJ5IERPTS4gQWxsb3dzIHNwZWNpZnlpbmcgbm9kZXMgdG9cbiAqIGluY2x1ZGUvZXhjbHVkZSBhbmQgZmlsdGVyaW5nIENTUyBkYXRhIHVzaW5nIFJlZ0V4LlxuICpcbiAqIEBwcmVzZXJ2ZVxuICogQHBhcmFtIHtvYmplY3R9ICAgW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdFxuICogQHBhcmFtIHtvYmplY3R9ICAgW29wdGlvbnMucm9vdEVsZW1lbnQ9ZG9jdW1lbnRdIFJvb3QgZWxlbWVudCB0byB0cmF2ZXJzZSBmb3JcbiAqICAgICAgICAgICAgICAgICAgIDxsaW5rPiBhbmQgPHN0eWxlPiBub2Rlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgIFtvcHRpb25zLmluY2x1ZGVdIENTUyBzZWxlY3RvciBtYXRjaGluZyA8bGluaz4gYW5kIDxzdHlsZT5cbiAqICAgICAgICAgICAgICAgICAgIG5vZGVzIHRvIGluY2x1ZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIFtvcHRpb25zLmV4Y2x1ZGVdIENTUyBzZWxlY3RvciBtYXRjaGluZyA8bGluaz4gYW5kIDxzdHlsZT5cbiAqICAgICAgICAgICAgICAgICAgIG5vZGVzIHRvIGV4Y2x1ZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zLmZpbHRlcl0gUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gZmlsdGVyIG5vZGUgQ1NTXG4gKiAgICAgICAgICAgICAgICAgICBkYXRhLiBFYWNoIGJsb2NrIG9mIENTUyBkYXRhIGlzIHRlc3RlZCBhZ2FpbnN0IHRoZSBmaWx0ZXIsXG4gKiAgICAgICAgICAgICAgICAgICBhbmQgb25seSBtYXRjaGluZyBkYXRhIGlzIGluY2x1ZGVkLlxuICogQHBhcmFtIHtvYmplY3R9ICAgW29wdGlvbnMudXNlQ1NTT009ZmFsc2VdIERldGVybWluZXMgaWYgQ1NTIGRhdGEgd2lsbCBiZVxuICogICAgICAgICAgICAgICAgICAgY29sbGVjdGVkIGZyb20gYSBzdHlsZXNoZWV0J3MgcnVudGltZSB2YWx1ZXMgaW5zdGVhZCBvZiBpdHNcbiAqICAgICAgICAgICAgICAgICAgIHRleHQgY29udGVudC4gVGhpcyBpcyByZXF1aXJlZCB0byBnZXQgYWNjdXJhdGUgQ1NTIGRhdGFcbiAqICAgICAgICAgICAgICAgICAgIHdoZW4gYSBzdHlsZXNoZWV0IGhhcyBiZWVuIG1vZGlmaWVkIHVzaW5nIHRoZSBkZWxldGVSdWxlKClcbiAqICAgICAgICAgICAgICAgICAgIG9yIGluc2VydFJ1bGUoKSBtZXRob2RzIGJlY2F1c2UgdGhlc2UgbW9kaWZpY2F0aW9ucyB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICBub3QgYmUgcmVmbGVjdGVkIGluIHRoZSBzdHlsZXNoZWV0J3MgdGV4dCBjb250ZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25CZWZvcmVTZW5kXSBDYWxsYmFjayBiZWZvcmUgWEhSIGlzIHNlbnQuIFBhc3Nlc1xuICogICAgICAgICAgICAgICAgICAgMSkgdGhlIFhIUiBvYmplY3QsIDIpIHNvdXJjZSBub2RlIHJlZmVyZW5jZSwgYW5kIDMpIHRoZVxuICogICAgICAgICAgICAgICAgICAgc291cmNlIFVSTCBhcyBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vblN1Y2Nlc3NdIENhbGxiYWNrIG9uIGVhY2ggQ1NTIG5vZGUgcmVhZC4gUGFzc2VzXG4gKiAgICAgICAgICAgICAgICAgICAxKSBDU1MgdGV4dCwgMikgc291cmNlIG5vZGUgcmVmZXJlbmNlLCBhbmQgMykgdGhlIHNvdXJjZVxuICogICAgICAgICAgICAgICAgICAgVVJMIGFzIGFyZ3VtZW50cy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uRXJyb3JdIENhbGxiYWNrIG9uIGVhY2ggZXJyb3IuIFBhc3NlcyAxKSB0aGUgWEhSXG4gKiAgICAgICAgICAgICAgICAgICBvYmplY3QgZm9yIGluc3BlY3Rpb24sIDIpIHNvdXJlIG5vZGUgcmVmZXJlbmNlLCBhbmQgMykgdGhlXG4gKiAgICAgICAgICAgICAgICAgICBzb3VyY2UgVVJMIHRoYXQgZmFpbGVkIChlaXRoZXIgYSA8bGluaz4gaHJlZiBvciBhbiBAaW1wb3J0KVxuICogICAgICAgICAgICAgICAgICAgYXMgYXJndW1lbnRzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkNvbXBsZXRlXSBDYWxsYmFjayBhZnRlciBhbGwgbm9kZXMgaGF2ZSBiZWVuXG4gKiAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQuIFBhc3NlcyAxKSBjb25jYXRlbmF0ZWQgQ1NTIHRleHQsIDIpIGFuIGFycmF5IG9mXG4gKiAgICAgICAgICAgICAgICAgICBDU1MgdGV4dCBpbiBET00gb3JkZXIsIGFuZCAzKSBhbiBhcnJheSBvZiBub2RlcyBpbiBET01cbiAqICAgICAgICAgICAgICAgICAgIG9yZGVyIGFzIGFyZ3VtZW50cy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgZ2V0Q3NzRGF0YSh7XG4gKiAgICAgcm9vdEVsZW1lbnQ6IGRvY3VtZW50LFxuICogICAgIGluY2x1ZGUgICAgOiAnc3R5bGUsbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdJyxcbiAqICAgICBleGNsdWRlICAgIDogJ1tocmVmPVwic2tpcC5jc3NcIl0nLFxuICogICAgIGZpbHRlciAgICAgOiAvcmVkLyxcbiAqICAgICB1c2VDU1NPTSAgIDogZmFsc2UsXG4gKiAgICAgb25CZWZvcmVTZW5kKHhociwgbm9kZSwgdXJsKSB7XG4gKiAgICAgICAvLyAuLi5cbiAqICAgICB9XG4gKiAgICAgb25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCkge1xuICogICAgICAgLy8gLi4uXG4gKiAgICAgfVxuICogICAgIG9uRXJyb3IoeGhyLCBub2RlLCB1cmwpIHtcbiAqICAgICAgIC8vIC4uLlxuICogICAgIH0sXG4gKiAgICAgb25Db21wbGV0ZShjc3NUZXh0LCBjc3NBcnJheSwgbm9kZUFycmF5KSB7XG4gKiAgICAgICAvLyAuLi5cbiAqICAgICB9XG4gKiAgIH0pO1xuICovIGZ1bmN0aW9uIGdldENzc0RhdGEob3B0aW9ucykge1xuICAgIHZhciByZWdleCA9IHtcbiAgICAgICAgY3NzQ29tbWVudHM6IC9cXC9cXCpbXFxzXFxTXSs/XFwqXFwvL2csXG4gICAgICAgIGNzc0ltcG9ydHM6IC8oPzpAaW1wb3J0XFxzKikoPzp1cmxcXChcXHMqKT8oPzpbJ1wiXSkoW14nXCJdKikoPzpbJ1wiXSkoPzpcXHMqXFwpKT8oPzpbXjtdKjspL2dcbiAgICB9O1xuICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgcm9vdEVsZW1lbnQ6IG9wdGlvbnMucm9vdEVsZW1lbnQgfHwgZG9jdW1lbnQsXG4gICAgICAgIGluY2x1ZGU6IG9wdGlvbnMuaW5jbHVkZSB8fCAnc3R5bGUsbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdJyxcbiAgICAgICAgZXhjbHVkZTogb3B0aW9ucy5leGNsdWRlIHx8IG51bGwsXG4gICAgICAgIGZpbHRlcjogb3B0aW9ucy5maWx0ZXIgfHwgbnVsbCxcbiAgICAgICAgdXNlQ1NTT006IG9wdGlvbnMudXNlQ1NTT00gfHwgZmFsc2UsXG4gICAgICAgIG9uQmVmb3JlU2VuZDogb3B0aW9ucy5vbkJlZm9yZVNlbmQgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvblN1Y2Nlc3M6IG9wdGlvbnMub25TdWNjZXNzIHx8IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb25FcnJvcjogb3B0aW9ucy5vbkVycm9yIHx8IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb25Db21wbGV0ZTogb3B0aW9ucy5vbkNvbXBsZXRlIHx8IEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIH07XG4gICAgdmFyIHNvdXJjZU5vZGVzID0gQXJyYXkuYXBwbHkobnVsbCwgc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZXR0aW5ncy5pbmNsdWRlKSkuZmlsdGVyKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuICFtYXRjaGVzU2VsZWN0b3Iobm9kZSwgc2V0dGluZ3MuZXhjbHVkZSk7XG4gICAgfSk7XG4gICAgdmFyIGNzc0FycmF5ID0gQXJyYXkuYXBwbHkobnVsbCwgQXJyYXkoc291cmNlTm9kZXMubGVuZ3RoKSkubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gaGFuZGxlQ29tcGxldGUoKSB7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gY3NzQXJyYXkuaW5kZXhPZihudWxsKSA9PT0gLTE7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB2YXIgY3NzVGV4dCA9IGNzc0FycmF5LmpvaW4oXCJcIik7XG4gICAgICAgICAgICBzZXR0aW5ncy5vbkNvbXBsZXRlKGNzc1RleHQsIGNzc0FycmF5LCBzb3VyY2VOb2Rlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlU3VjY2Vzcyhjc3NUZXh0LCBjc3NJbmRleCwgbm9kZSwgc291cmNlVXJsKSB7XG4gICAgICAgIHZhciByZXR1cm5WYWwgPSBzZXR0aW5ncy5vblN1Y2Nlc3MoY3NzVGV4dCwgbm9kZSwgc291cmNlVXJsKTtcbiAgICAgICAgY3NzVGV4dCA9IHJldHVyblZhbCAhPT0gdW5kZWZpbmVkICYmIEJvb2xlYW4ocmV0dXJuVmFsKSA9PT0gZmFsc2UgPyBcIlwiIDogcmV0dXJuVmFsIHx8IGNzc1RleHQ7XG4gICAgICAgIHJlc29sdmVJbXBvcnRzKGNzc1RleHQsIG5vZGUsIHNvdXJjZVVybCwgZnVuY3Rpb24ocmVzb2x2ZWRDc3NUZXh0LCBlcnJvckRhdGEpIHtcbiAgICAgICAgICAgIGlmIChjc3NBcnJheVtjc3NJbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBlcnJvckRhdGEuZm9yRWFjaChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5vbkVycm9yKGRhdGEueGhyLCBub2RlLCBkYXRhLnVybCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5maWx0ZXIgfHwgc2V0dGluZ3MuZmlsdGVyLnRlc3QocmVzb2x2ZWRDc3NUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBjc3NBcnJheVtjc3NJbmRleF0gPSByZXNvbHZlZENzc1RleHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzQXJyYXlbY3NzSW5kZXhdID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlSW1wb3J0RGF0YShjc3NUZXh0LCBiYXNlVXJsKSB7XG4gICAgICAgIHZhciBpZ25vcmVSdWxlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107XG4gICAgICAgIHZhciBpbXBvcnREYXRhID0ge307XG4gICAgICAgIGltcG9ydERhdGEucnVsZXMgPSAoY3NzVGV4dC5yZXBsYWNlKHJlZ2V4LmNzc0NvbW1lbnRzLCBcIlwiKS5tYXRjaChyZWdleC5jc3NJbXBvcnRzKSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpZ25vcmVSdWxlcy5pbmRleE9mKHJ1bGUpID09PSAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydERhdGEudXJscyA9IGltcG9ydERhdGEucnVsZXMubWFwKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBydWxlLnJlcGxhY2UocmVnZXguY3NzSW1wb3J0cywgXCIkMVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydERhdGEuYWJzb2x1dGVVcmxzID0gaW1wb3J0RGF0YS51cmxzLm1hcChmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGdWxsVXJsKHVybCwgYmFzZVVybCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpbXBvcnREYXRhLmFic29sdXRlUnVsZXMgPSBpbXBvcnREYXRhLnJ1bGVzLm1hcChmdW5jdGlvbihydWxlLCBpKSB7XG4gICAgICAgICAgICB2YXIgb2xkVXJsID0gaW1wb3J0RGF0YS51cmxzW2ldO1xuICAgICAgICAgICAgdmFyIG5ld1VybCA9IGdldEZ1bGxVcmwoaW1wb3J0RGF0YS5hYnNvbHV0ZVVybHNbaV0sIGJhc2VVcmwpO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bGUucmVwbGFjZShvbGRVcmwsIG5ld1VybCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaW1wb3J0RGF0YTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUltcG9ydHMoY3NzVGV4dCwgbm9kZSwgYmFzZVVybCwgY2FsbGJhY2tGbikge1xuICAgICAgICB2YXIgX19lcnJvckRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IFtdO1xuICAgICAgICB2YXIgX19lcnJvclJ1bGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBbXTtcbiAgICAgICAgdmFyIGltcG9ydERhdGEgPSBwYXJzZUltcG9ydERhdGEoY3NzVGV4dCwgYmFzZVVybCwgX19lcnJvclJ1bGVzKTtcbiAgICAgICAgaWYgKGltcG9ydERhdGEucnVsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBnZXRVcmxzKGltcG9ydERhdGEuYWJzb2x1dGVVcmxzLCB7XG4gICAgICAgICAgICAgICAgb25CZWZvcmVTZW5kOiBmdW5jdGlvbiBvbkJlZm9yZVNlbmQoeGhyLCB1cmwsIHVybEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uQmVmb3JlU2VuZCh4aHIsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2Vzcyhjc3NUZXh0LCB1cmwsIHVybEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBzZXR0aW5ncy5vblN1Y2Nlc3MoY3NzVGV4dCwgbm9kZSwgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IHJldHVyblZhbCA9PT0gZmFsc2UgPyBcIlwiIDogcmV0dXJuVmFsIHx8IGNzc1RleHQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZUltcG9ydERhdGEgPSBwYXJzZUltcG9ydERhdGEoY3NzVGV4dCwgdXJsLCBfX2Vycm9yUnVsZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUltcG9ydERhdGEucnVsZXMuZm9yRWFjaChmdW5jdGlvbihydWxlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKHJ1bGUsIHJlc3BvbnNlSW1wb3J0RGF0YS5hYnNvbHV0ZVJ1bGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NUZXh0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcih4aHIsIHVybCwgdXJsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgX19lcnJvckRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB4aHI6IHhocixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfX2Vycm9yUnVsZXMucHVzaChpbXBvcnREYXRhLnJ1bGVzW3VybEluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVJbXBvcnRzKGNzc1RleHQsIG5vZGUsIGJhc2VVcmwsIGNhbGxiYWNrRm4sIF9fZXJyb3JEYXRhLCBfX2Vycm9yUnVsZXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZShyZXNwb25zZUFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQXJyYXkuZm9yRWFjaChmdW5jdGlvbihpbXBvcnRUZXh0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKGltcG9ydERhdGEucnVsZXNbaV0sIGltcG9ydFRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUltcG9ydHMoY3NzVGV4dCwgbm9kZSwgYmFzZVVybCwgY2FsbGJhY2tGbiwgX19lcnJvckRhdGEsIF9fZXJyb3JSdWxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFja0ZuKGNzc1RleHQsIF9fZXJyb3JEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc291cmNlTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgIHNvdXJjZU5vZGVzLmZvckVhY2goZnVuY3Rpb24obm9kZSwgaSkge1xuICAgICAgICAgICAgdmFyIGxpbmtIcmVmID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgdmFyIGxpbmtSZWwgPSBub2RlLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcbiAgICAgICAgICAgIHZhciBpc0xpbmsgPSBub2RlLm5vZGVOYW1lID09PSBcIkxJTktcIiAmJiBsaW5rSHJlZiAmJiBsaW5rUmVsICYmIGxpbmtSZWwudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHlsZXNoZWV0XCI7XG4gICAgICAgICAgICB2YXIgaXNTdHlsZSA9IG5vZGUubm9kZU5hbWUgPT09IFwiU1RZTEVcIjtcbiAgICAgICAgICAgIGlmIChpc0xpbmspIHtcbiAgICAgICAgICAgICAgICBnZXRVcmxzKGxpbmtIcmVmLCB7XG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBcInRleHQvY3NzXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlU2VuZDogZnVuY3Rpb24gb25CZWZvcmVTZW5kKHhociwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25CZWZvcmVTZW5kKHhociwgbm9kZSwgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoY3NzVGV4dCwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZVVybCA9IGdldEZ1bGxVcmwobGlua0hyZWYsIGxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU3VjY2Vzcyhjc3NUZXh0LCBpLCBub2RlLCBzb3VyY2VVcmwpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKHhociwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQXJyYXlbaV0gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25FcnJvcih4aHIsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzU3R5bGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3NzVGV4dCA9IG5vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnVzZUNTU09NKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSBBcnJheS5hcHBseShudWxsLCBub2RlLnNoZWV0LmNzc1J1bGVzKS5tYXAoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGUuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfSkuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlU3VjY2Vzcyhjc3NUZXh0LCBpLCBub2RlLCBsb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3NzQXJyYXlbaV0gPSBcIlwiO1xuICAgICAgICAgICAgICAgIGhhbmRsZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHRpbmdzLm9uQ29tcGxldGUoXCJcIiwgW10pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RnVsbFVybCh1cmwpIHtcbiAgICB2YXIgYmFzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbG9jYXRpb24uaHJlZjtcbiAgICB2YXIgZCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTtcbiAgICB2YXIgYiA9IGQuY3JlYXRlRWxlbWVudChcImJhc2VcIik7XG4gICAgdmFyIGEgPSBkLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGQuaGVhZC5hcHBlbmRDaGlsZChiKTtcbiAgICBkLmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgYi5ocmVmID0gYmFzZTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGEuaHJlZjtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGVsbSwgc2VsZWN0b3IpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IGVsbS5tYXRjaGVzIHx8IGVsbS5tYXRjaGVzU2VsZWN0b3IgfHwgZWxtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBlbG0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8IGVsbS5tc01hdGNoZXNTZWxlY3RvciB8fCBlbG0ub01hdGNoZXNTZWxlY3RvcjtcbiAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsbSwgc2VsZWN0b3IpO1xufVxuXG52YXIgYmFsYW5jZWRNYXRjaCA9IGJhbGFuY2VkO1xuXG5mdW5jdGlvbiBiYWxhbmNlZChhLCBiLCBzdHIpIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIFJlZ0V4cCkgYSA9IG1heWJlTWF0Y2goYSwgc3RyKTtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFJlZ0V4cCkgYiA9IG1heWJlTWF0Y2goYiwgc3RyKTtcbiAgICB2YXIgciA9IHJhbmdlKGEsIGIsIHN0cik7XG4gICAgcmV0dXJuIHIgJiYge1xuICAgICAgICBzdGFydDogclswXSxcbiAgICAgICAgZW5kOiByWzFdLFxuICAgICAgICBwcmU6IHN0ci5zbGljZSgwLCByWzBdKSxcbiAgICAgICAgYm9keTogc3RyLnNsaWNlKHJbMF0gKyBhLmxlbmd0aCwgclsxXSksXG4gICAgICAgIHBvc3Q6IHN0ci5zbGljZShyWzFdICsgYi5sZW5ndGgpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVNYXRjaChyZWcsIHN0cikge1xuICAgIHZhciBtID0gc3RyLm1hdGNoKHJlZyk7XG4gICAgcmV0dXJuIG0gPyBtWzBdIDogbnVsbDtcbn1cblxuYmFsYW5jZWQucmFuZ2UgPSByYW5nZTtcblxuZnVuY3Rpb24gcmFuZ2UoYSwgYiwgc3RyKSB7XG4gICAgdmFyIGJlZ3MsIGJlZywgbGVmdCwgcmlnaHQsIHJlc3VsdDtcbiAgICB2YXIgYWkgPSBzdHIuaW5kZXhPZihhKTtcbiAgICB2YXIgYmkgPSBzdHIuaW5kZXhPZihiLCBhaSArIDEpO1xuICAgIHZhciBpID0gYWk7XG4gICAgaWYgKGFpID49IDAgJiYgYmkgPiAwKSB7XG4gICAgICAgIGJlZ3MgPSBbXTtcbiAgICAgICAgbGVmdCA9IHN0ci5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpID49IDAgJiYgIXJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGkgPT0gYWkpIHtcbiAgICAgICAgICAgICAgICBiZWdzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgYWkgPSBzdHIuaW5kZXhPZihhLCBpICsgMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJlZ3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbIGJlZ3MucG9wKCksIGJpIF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJlZyA9IGJlZ3MucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJlZyA8IGxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGJlZztcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBiaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmkgPSBzdHIuaW5kZXhPZihiLCBpICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpID0gYWkgPCBiaSAmJiBhaSA+PSAwID8gYWkgOiBiaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmVncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IFsgbGVmdCwgcmlnaHQgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUNzcyhjc3MpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBwcmVzZXJ2ZVN0YXRpYzogdHJ1ZSxcbiAgICAgICAgcmVtb3ZlQ29tbWVudHM6IGZhbHNlXG4gICAgfTtcbiAgICB2YXIgc2V0dGluZ3MgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBlcnJvcihtc2cpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ1NTIHBhcnNlIGVycm9yOiBcIi5jb25jYXQobXNnKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hdGNoKHJlKSB7XG4gICAgICAgIHZhciBtID0gcmUuZXhlYyhjc3MpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgY3NzID0gY3NzLnNsaWNlKG1bMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIHJldHVybiBtYXRjaCgvXntcXHMqLyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gbWF0Y2goL159Lyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdoaXRlc3BhY2UoKSB7XG4gICAgICAgIG1hdGNoKC9eXFxzKi8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21tZW50KCkge1xuICAgICAgICB3aGl0ZXNwYWNlKCk7XG4gICAgICAgIGlmIChjc3NbMF0gIT09IFwiL1wiIHx8IGNzc1sxXSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSA9IDI7XG4gICAgICAgIHdoaWxlIChjc3NbaV0gJiYgKGNzc1tpXSAhPT0gXCIqXCIgfHwgY3NzW2kgKyAxXSAhPT0gXCIvXCIpKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjc3NbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcImVuZCBvZiBjb21tZW50IGlzIG1pc3NpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ciA9IGNzcy5zbGljZSgyLCBpKTtcbiAgICAgICAgY3NzID0gY3NzLnNsaWNlKGkgKyAyKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgY29tbWVudDogc3RyXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1lbnRzKCkge1xuICAgICAgICB2YXIgY21udHMgPSBbXTtcbiAgICAgICAgdmFyIGM7XG4gICAgICAgIHdoaWxlIChjID0gY29tbWVudCgpKSB7XG4gICAgICAgICAgICBjbW50cy5wdXNoKGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXR0aW5ncy5yZW1vdmVDb21tZW50cyA/IFtdIDogY21udHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNlbGVjdG9yKCkge1xuICAgICAgICB3aGl0ZXNwYWNlKCk7XG4gICAgICAgIHdoaWxlIChjc3NbMF0gPT09IFwifVwiKSB7XG4gICAgICAgICAgICBlcnJvcihcImV4dHJhIGNsb3NpbmcgYnJhY2tldFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eKChcIig/OlxcXFxcInxbXlwiXSkqXCJ8Jyg/OlxcXFwnfFteJ10pKid8W157XSkrKS8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIG1bMF0udHJpbSgpLnJlcGxhY2UoL1xcL1xcKihbXipdfFtcXHJcXG5dfChcXCorKFteKlxcL118W1xcclxcbl0pKSkqXFwqXFwvKy9nLCBcIlwiKS5yZXBsYWNlKC9cIig/OlxcXFxcInxbXlwiXSkqXCJ8Jyg/OlxcXFwnfFteJ10pKicvZywgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtLnJlcGxhY2UoLywvZywgXCLigIxcIik7XG4gICAgICAgICAgICB9KS5zcGxpdCgvXFxzKig/IVteKF0qXFwpKSxcXHMqLykubWFwKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9cXHUyMDBDL2csIFwiLFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlY2xhcmF0aW9uKCkge1xuICAgICAgICBtYXRjaCgvXihbO1xcc10qKSsvKTtcbiAgICAgICAgdmFyIGNvbW1lbnRfcmVnZXhwID0gL1xcL1xcKlteKl0qXFwqKyhbXlxcLypdW14qXSpcXCorKSpcXC8vZztcbiAgICAgICAgdmFyIHByb3AgPSBtYXRjaCgvXihcXCo/Wy0jXFwvKlxcXFxcXHddKyhcXFtbMC05YS16Xy1dK1xcXSk/KVxccyovKTtcbiAgICAgICAgaWYgKCFwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvcCA9IHByb3BbMF0udHJpbSgpO1xuICAgICAgICBpZiAoIW1hdGNoKC9eOlxccyovKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yKFwicHJvcGVydHkgbWlzc2luZyAnOidcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbCA9IG1hdGNoKC9eKCg/OlxcL1xcKi4qP1xcKlxcL3wnKD86XFxcXCd8LikqPyd8XCIoPzpcXFxcXCJ8LikqP1wifFxcKChcXHMqJyg/OlxcXFwnfC4pKj8nfFwiKD86XFxcXFwifC4pKj9cInxbXildKj8pXFxzKlxcKXxbXn07XSkrKS8pO1xuICAgICAgICB2YXIgcmV0ID0ge1xuICAgICAgICAgICAgdHlwZTogXCJkZWNsYXJhdGlvblwiLFxuICAgICAgICAgICAgcHJvcGVydHk6IHByb3AucmVwbGFjZShjb21tZW50X3JlZ2V4cCwgXCJcIiksXG4gICAgICAgICAgICB2YWx1ZTogdmFsID8gdmFsWzBdLnJlcGxhY2UoY29tbWVudF9yZWdleHAsIFwiXCIpLnRyaW0oKSA6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgbWF0Y2goL15bO1xcc10qLyk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlY2xhcmF0aW9ucygpIHtcbiAgICAgICAgaWYgKCFvcGVuKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIm1pc3NpbmcgJ3snXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkO1xuICAgICAgICB2YXIgZGVjbHMgPSBjb21tZW50cygpO1xuICAgICAgICB3aGlsZSAoZCA9IGRlY2xhcmF0aW9uKCkpIHtcbiAgICAgICAgICAgIGRlY2xzLnB1c2goZCk7XG4gICAgICAgICAgICBkZWNscyA9IGRlY2xzLmNvbmNhdChjb21tZW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsb3NlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIm1pc3NpbmcgJ30nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNscztcbiAgICB9XG4gICAgZnVuY3Rpb24ga2V5ZnJhbWUoKSB7XG4gICAgICAgIHdoaXRlc3BhY2UoKTtcbiAgICAgICAgdmFyIHZhbHMgPSBbXTtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIHdoaWxlIChtID0gbWF0Y2goL14oKFxcZCtcXC5cXGQrfFxcLlxcZCt8XFxkKyklP3xbYS16XSspXFxzKi8pKSB7XG4gICAgICAgICAgICB2YWxzLnB1c2gobVsxXSk7XG4gICAgICAgICAgICBtYXRjaCgvXixcXHMqLyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwia2V5ZnJhbWVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHZhbHMsXG4gICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWNsYXJhdGlvbnMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9rZXlmcmFtZXMoKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AKFstXFx3XSspP2tleWZyYW1lc1xccyovKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZlbmRvciA9IG1bMV07XG4gICAgICAgIG0gPSBtYXRjaCgvXihbLVxcd10rKVxccyovKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJAa2V5ZnJhbWVzIG1pc3NpbmcgbmFtZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IG1bMV07XG4gICAgICAgIGlmICghb3BlbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJAa2V5ZnJhbWVzIG1pc3NpbmcgJ3snXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIGZyYW1lcyA9IGNvbW1lbnRzKCk7XG4gICAgICAgIHdoaWxlIChmcmFtZSA9IGtleWZyYW1lKCkpIHtcbiAgICAgICAgICAgIGZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgICAgIGZyYW1lcyA9IGZyYW1lcy5jb25jYXQoY29tbWVudHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjbG9zZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJAa2V5ZnJhbWVzIG1pc3NpbmcgJ30nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcImtleWZyYW1lc1wiLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHZlbmRvcjogdmVuZG9yLFxuICAgICAgICAgICAga2V5ZnJhbWVzOiBmcmFtZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfcGFnZSgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkBwYWdlICovKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHZhciBzZWwgPSBzZWxlY3RvcigpIHx8IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInBhZ2VcIixcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnM6IHNlbCxcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X2ZvbnRmYWNlKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQGZvbnQtZmFjZVxccyovKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJmb250LWZhY2VcIixcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X3N1cHBvcnRzKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQHN1cHBvcnRzICooW157XSspLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic3VwcG9ydHNcIixcbiAgICAgICAgICAgICAgICBzdXBwb3J0czogbVsxXS50cmltKCksXG4gICAgICAgICAgICAgICAgcnVsZXM6IHJ1bGVzKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfaG9zdCgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkBob3N0XFxzKi8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImhvc3RcIixcbiAgICAgICAgICAgICAgICBydWxlczogcnVsZXMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9tZWRpYSgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkBtZWRpYSAqKFtee10rKS8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1lZGlhXCIsXG4gICAgICAgICAgICAgICAgbWVkaWE6IG1bMV0udHJpbSgpLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiBydWxlcygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X2N1c3RvbV9tKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQGN1c3RvbS1tZWRpYVxccysoLS1bXlxcc10rKVxccyooW157O10rKTsvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJjdXN0b20tbWVkaWFcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBtWzFdLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBtZWRpYTogbVsyXS50cmltKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfZG9jdW1lbnQoKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AKFstXFx3XSspP2RvY3VtZW50ICooW157XSspLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZG9jdW1lbnRcIixcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogbVsyXS50cmltKCksXG4gICAgICAgICAgICAgICAgdmVuZG9yOiBtWzFdID8gbVsxXS50cmltKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiBydWxlcygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X3goKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AKGltcG9ydHxjaGFyc2V0fG5hbWVzcGFjZSlcXHMqKFteO10rKTsvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogbVsxXSxcbiAgICAgICAgICAgICAgICBuYW1lOiBtWzJdLnRyaW0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9ydWxlKCkge1xuICAgICAgICB3aGl0ZXNwYWNlKCk7XG4gICAgICAgIGlmIChjc3NbMF0gPT09IFwiQFwiKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0gYXRfa2V5ZnJhbWVzKCkgfHwgYXRfc3VwcG9ydHMoKSB8fCBhdF9ob3N0KCkgfHwgYXRfbWVkaWEoKSB8fCBhdF9jdXN0b21fbSgpIHx8IGF0X3BhZ2UoKSB8fCBhdF9kb2N1bWVudCgpIHx8IGF0X2ZvbnRmYWNlKCkgfHwgYXRfeCgpO1xuICAgICAgICAgICAgaWYgKHJldCAmJiAhc2V0dGluZ3MucHJlc2VydmVTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFzVmFyRnVuYyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChyZXQuZGVjbGFyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhckZ1bmMgPSByZXQuZGVjbGFyYXRpb25zLnNvbWUoZnVuY3Rpb24oZGVjbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC92YXJcXCgvLnRlc3QoZGVjbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSByZXQua2V5ZnJhbWVzIHx8IHJldC5ydWxlcyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFyRnVuYyA9IGFyci5zb21lKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvYmouZGVjbGFyYXRpb25zIHx8IFtdKS5zb21lKGZ1bmN0aW9uKGRlY2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gL3ZhclxcKC8udGVzdChkZWNsLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc1ZhckZ1bmMgPyByZXQgOiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcnVsZSgpIHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5wcmVzZXJ2ZVN0YXRpYykge1xuICAgICAgICAgICAgdmFyIGJhbGFuY2VkTWF0Y2gkMSA9IGJhbGFuY2VkTWF0Y2goXCJ7XCIsIFwifVwiLCBjc3MpO1xuICAgICAgICAgICAgaWYgKGJhbGFuY2VkTWF0Y2gkMSkge1xuICAgICAgICAgICAgICAgIHZhciBoYXNWYXJEZWNsID0gYmFsYW5jZWRNYXRjaCQxLnByZS5pbmRleE9mKFwiOnJvb3RcIikgIT09IC0xICYmIC8tLVxcUypcXHMqOi8udGVzdChiYWxhbmNlZE1hdGNoJDEuYm9keSk7XG4gICAgICAgICAgICAgICAgdmFyIGhhc1ZhckZ1bmMgPSAvdmFyXFwoLy50ZXN0KGJhbGFuY2VkTWF0Y2gkMS5ib2R5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1ZhckRlY2wgJiYgIWhhc1ZhckZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzID0gY3NzLnNsaWNlKGJhbGFuY2VkTWF0Y2gkMS5lbmQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsID0gc2VsZWN0b3IoKSB8fCBbXTtcbiAgICAgICAgdmFyIGRlY2xzID0gc2V0dGluZ3MucHJlc2VydmVTdGF0aWMgPyBkZWNsYXJhdGlvbnMoKSA6IGRlY2xhcmF0aW9ucygpLmZpbHRlcihmdW5jdGlvbihkZWNsKSB7XG4gICAgICAgICAgICB2YXIgaGFzVmFyRGVjbCA9IHNlbC5zb21lKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5pbmRleE9mKFwiOnJvb3RcIikgIT09IC0xO1xuICAgICAgICAgICAgfSkgJiYgL14tLVxcUy8udGVzdChkZWNsLnByb3BlcnR5KTtcbiAgICAgICAgICAgIHZhciBoYXNWYXJGdW5jID0gL3ZhclxcKC8udGVzdChkZWNsLnZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBoYXNWYXJEZWNsIHx8IGhhc1ZhckZ1bmM7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXNlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVycm9yKFwic2VsZWN0b3IgbWlzc2luZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJydWxlXCIsXG4gICAgICAgICAgICBzZWxlY3RvcnM6IHNlbCxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVsZXMoY29yZSkge1xuICAgICAgICBpZiAoIWNvcmUgJiYgIW9wZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yKFwibWlzc2luZyAneydcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgIHZhciBydWxlcyA9IGNvbW1lbnRzKCk7XG4gICAgICAgIHdoaWxlIChjc3MubGVuZ3RoICYmIChjb3JlIHx8IGNzc1swXSAhPT0gXCJ9XCIpICYmIChub2RlID0gYXRfcnVsZSgpIHx8IHJ1bGUoKSkpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBydWxlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVsZXMgPSBydWxlcy5jb25jYXQoY29tbWVudHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb3JlICYmICFjbG9zZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJtaXNzaW5nICd9J1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVsZXM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3R5bGVzaGVldFwiLFxuICAgICAgICBzdHlsZXNoZWV0OiB7XG4gICAgICAgICAgICBydWxlczogcnVsZXModHJ1ZSksXG4gICAgICAgICAgICBlcnJvcnM6IGVycm9yc1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VWYXJzKGNzc0RhdGEpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBzdG9yZToge30sXG4gICAgICAgIG9uV2FybmluZzogZnVuY3Rpb24gb25XYXJuaW5nKCkge31cbiAgICB9O1xuICAgIHZhciBzZXR0aW5ncyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgaWYgKHR5cGVvZiBjc3NEYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNzc0RhdGEgPSBwYXJzZUNzcyhjc3NEYXRhLCBzZXR0aW5ncyk7XG4gICAgfVxuICAgIGNzc0RhdGEuc3R5bGVzaGVldC5ydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgaWYgKHJ1bGUudHlwZSAhPT0gXCJydWxlXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnVsZS5zZWxlY3RvcnMubGVuZ3RoICE9PSAxIHx8IHJ1bGUuc2VsZWN0b3JzWzBdICE9PSBcIjpyb290XCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBydWxlLmRlY2xhcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGRlY2wsIGkpIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gZGVjbC5wcm9wZXJ0eTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRlY2wudmFsdWU7XG4gICAgICAgICAgICBpZiAocHJvcCAmJiBwcm9wLmluZGV4T2YoXCItLVwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLnN0b3JlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBzZXR0aW5ncy5zdG9yZTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5Q3NzKHRyZWUpIHtcbiAgICB2YXIgZGVsaW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFwiXCI7XG4gICAgdmFyIGNiID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIHJlbmRlck1ldGhvZHMgPSB7XG4gICAgICAgIGNoYXJzZXQ6IGZ1bmN0aW9uIGNoYXJzZXQobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQGNoYXJzZXQgXCIgKyBub2RlLm5hbWUgKyBcIjtcIjtcbiAgICAgICAgfSxcbiAgICAgICAgY29tbWVudDogZnVuY3Rpb24gY29tbWVudChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5jb21tZW50LmluZGV4T2YoXCJfX0NTU1ZBUlNQT05ZRklMTFwiKSA9PT0gMCA/IFwiLypcIiArIG5vZGUuY29tbWVudCArIFwiKi9cIiA6IFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIFwiY3VzdG9tLW1lZGlhXCI6IGZ1bmN0aW9uIGN1c3RvbU1lZGlhKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBjdXN0b20tbWVkaWEgXCIgKyBub2RlLm5hbWUgKyBcIiBcIiArIG5vZGUubWVkaWEgKyBcIjtcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjbGFyYXRpb246IGZ1bmN0aW9uIGRlY2xhcmF0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnByb3BlcnR5ICsgXCI6XCIgKyBub2RlLnZhbHVlICsgXCI7XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGRvY3VtZW50OiBmdW5jdGlvbiBkb2N1bWVudChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAXCIgKyAobm9kZS52ZW5kb3IgfHwgXCJcIikgKyBcImRvY3VtZW50IFwiICsgbm9kZS5kb2N1bWVudCArIFwie1wiICsgdmlzaXQobm9kZS5ydWxlcykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgXCJmb250LWZhY2VcIjogZnVuY3Rpb24gZm9udEZhY2Uobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQGZvbnQtZmFjZVwiICsgXCJ7XCIgKyB2aXNpdChub2RlLmRlY2xhcmF0aW9ucykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgaG9zdDogZnVuY3Rpb24gaG9zdChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAaG9zdFwiICsgXCJ7XCIgKyB2aXNpdChub2RlLnJ1bGVzKSArIFwifVwiO1xuICAgICAgICB9LFxuICAgICAgICBpbXBvcnQ6IGZ1bmN0aW9uIF9pbXBvcnQobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQGltcG9ydCBcIiArIG5vZGUubmFtZSArIFwiO1wiO1xuICAgICAgICB9LFxuICAgICAgICBrZXlmcmFtZTogZnVuY3Rpb24ga2V5ZnJhbWUobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUudmFsdWVzLmpvaW4oXCIsXCIpICsgXCJ7XCIgKyB2aXNpdChub2RlLmRlY2xhcmF0aW9ucykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAga2V5ZnJhbWVzOiBmdW5jdGlvbiBrZXlmcmFtZXMobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQFwiICsgKG5vZGUudmVuZG9yIHx8IFwiXCIpICsgXCJrZXlmcmFtZXMgXCIgKyBub2RlLm5hbWUgKyBcIntcIiArIHZpc2l0KG5vZGUua2V5ZnJhbWVzKSArIFwifVwiO1xuICAgICAgICB9LFxuICAgICAgICBtZWRpYTogZnVuY3Rpb24gbWVkaWEobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiICsgbm9kZS5tZWRpYSArIFwie1wiICsgdmlzaXQobm9kZS5ydWxlcykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZXNwYWNlOiBmdW5jdGlvbiBuYW1lc3BhY2Uobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQG5hbWVzcGFjZSBcIiArIG5vZGUubmFtZSArIFwiO1wiO1xuICAgICAgICB9LFxuICAgICAgICBwYWdlOiBmdW5jdGlvbiBwYWdlKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBwYWdlIFwiICsgKG5vZGUuc2VsZWN0b3JzLmxlbmd0aCA/IG5vZGUuc2VsZWN0b3JzLmpvaW4oXCIsIFwiKSA6IFwiXCIpICsgXCJ7XCIgKyB2aXNpdChub2RlLmRlY2xhcmF0aW9ucykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgcnVsZTogZnVuY3Rpb24gcnVsZShub2RlKSB7XG4gICAgICAgICAgICB2YXIgZGVjbHMgPSBub2RlLmRlY2xhcmF0aW9ucztcbiAgICAgICAgICAgIGlmIChkZWNscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5zZWxlY3RvcnMuam9pbihcIixcIikgKyBcIntcIiArIHZpc2l0KGRlY2xzKSArIFwifVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdXBwb3J0czogZnVuY3Rpb24gc3VwcG9ydHMobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQHN1cHBvcnRzIFwiICsgbm9kZS5zdXBwb3J0cyArIFwie1wiICsgdmlzaXQobm9kZS5ydWxlcykgKyBcIn1cIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gdmlzaXQobm9kZXMpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBuID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICBjYihuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0eHQgPSByZW5kZXJNZXRob2RzW24udHlwZV0obik7XG4gICAgICAgICAgICBpZiAodHh0KSB7XG4gICAgICAgICAgICAgICAgYnVmICs9IHR4dDtcbiAgICAgICAgICAgICAgICBpZiAodHh0Lmxlbmd0aCAmJiBuLnNlbGVjdG9ycykge1xuICAgICAgICAgICAgICAgICAgICBidWYgKz0gZGVsaW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWY7XG4gICAgfVxuICAgIHJldHVybiB2aXNpdCh0cmVlLnN0eWxlc2hlZXQucnVsZXMpO1xufVxuXG5mdW5jdGlvbiB3YWxrQ3NzKG5vZGUsIGZuKSB7XG4gICAgbm9kZS5ydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgaWYgKHJ1bGUucnVsZXMpIHtcbiAgICAgICAgICAgIHdhbGtDc3MocnVsZSwgZm4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydWxlLmtleWZyYW1lcykge1xuICAgICAgICAgICAgcnVsZS5rZXlmcmFtZXMuZm9yRWFjaChmdW5jdGlvbihrZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlmcmFtZS50eXBlID09PSBcImtleWZyYW1lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oa2V5ZnJhbWUuZGVjbGFyYXRpb25zLCBydWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ1bGUuZGVjbGFyYXRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm4ocnVsZS5kZWNsYXJhdGlvbnMsIG5vZGUpO1xuICAgIH0pO1xufVxuXG52YXIgVkFSX1BST1BfSURFTlRJRklFUiA9IFwiLS1cIjtcblxudmFyIFZBUl9GVU5DX0lERU5USUZJRVIgPSBcInZhclwiO1xuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Dc3MoY3NzRGF0YSkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIHByZXNlcnZlU3RhdGljOiB0cnVlLFxuICAgICAgICBwcmVzZXJ2ZVZhcnM6IGZhbHNlLFxuICAgICAgICB2YXJpYWJsZXM6IHt9LFxuICAgICAgICBvbldhcm5pbmc6IGZ1bmN0aW9uIG9uV2FybmluZygpIHt9XG4gICAgfTtcbiAgICB2YXIgc2V0dGluZ3MgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgIGlmICh0eXBlb2YgY3NzRGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjc3NEYXRhID0gcGFyc2VDc3MoY3NzRGF0YSwgc2V0dGluZ3MpO1xuICAgIH1cbiAgICB3YWxrQ3NzKGNzc0RhdGEuc3R5bGVzaGVldCwgZnVuY3Rpb24oZGVjbGFyYXRpb25zLCBub2RlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVjbGFyYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGVjbCA9IGRlY2xhcmF0aW9uc1tpXTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZGVjbC50eXBlO1xuICAgICAgICAgICAgdmFyIHByb3AgPSBkZWNsLnByb3BlcnR5O1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVjbC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0eXBlICE9PSBcImRlY2xhcmF0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2V0dGluZ3MucHJlc2VydmVWYXJzICYmIHByb3AgJiYgcHJvcC5pbmRleE9mKFZBUl9QUk9QX0lERU5USUZJRVIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihWQVJfRlVOQ19JREVOVElGSUVSICsgXCIoXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlZFZhbHVlID0gcmVzb2x2ZVZhbHVlKHZhbHVlLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUgIT09IGRlY2wudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRWYWx1ZSA9IGZpeE5lc3RlZENhbGMocmVzb2x2ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2V0dGluZ3MucHJlc2VydmVWYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsLnZhbHVlID0gcmVzb2x2ZWRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucy5zcGxpY2UoaSwgMCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc29sdmVkVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeUNzcyhjc3NEYXRhKTtcbn1cblxuZnVuY3Rpb24gZml4TmVzdGVkQ2FsYyh2YWx1ZSkge1xuICAgIHZhciByZUNhbGNWYWwgPSAvY2FsY1xcKChbXildKylcXCkvZztcbiAgICAodmFsdWUubWF0Y2gocmVDYWxjVmFsKSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICB2YXIgbmV3VmFsID0gXCJjYWxjXCIuY29uY2F0KG1hdGNoLnNwbGl0KFwiY2FsY1wiKS5qb2luKFwiXCIpKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKG1hdGNoLCBuZXdWYWwpO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIHNldHRpbmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgX19yZWN1cnNpdmVGYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgIGlmICh2YWx1ZS5pbmRleE9mKFwidmFyKFwiKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YXIgdmFsdWVEYXRhID0gYmFsYW5jZWRNYXRjaChcIihcIiwgXCIpXCIsIHZhbHVlKTtcbiAgICBmdW5jdGlvbiByZXNvbHZlRnVuYyh2YWx1ZSkge1xuICAgICAgICB2YXIgbmFtZSA9IHZhbHVlLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKC9bXFxzXFxuXFx0XS9nLCBcIlwiKTtcbiAgICAgICAgdmFyIGZhbGxiYWNrID0gKHZhbHVlLm1hdGNoKC8oPzpcXHMqLFxccyopezF9KC4qKT8vKSB8fCBbXSlbMV07XG4gICAgICAgIHZhciBtYXRjaCA9IHNldHRpbmdzLnZhcmlhYmxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IFN0cmluZyhzZXR0aW5ncy52YXJpYWJsZXNbbmFtZV0pIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSBtYXRjaCB8fCAoZmFsbGJhY2sgPyBTdHJpbmcoZmFsbGJhY2spIDogdW5kZWZpbmVkKTtcbiAgICAgICAgdmFyIHVucmVzb2x2ZWRGYWxsYmFjayA9IF9fcmVjdXJzaXZlRmFsbGJhY2sgfHwgdmFsdWU7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uV2FybmluZygndmFyaWFibGUgXCInLmNvbmNhdChuYW1lLCAnXCIgaXMgdW5kZWZpbmVkJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBsYWNlbWVudCAmJiByZXBsYWNlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXBsYWNlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVZhbHVlKHJlcGxhY2VtZW50LCBzZXR0aW5ncywgdW5yZXNvbHZlZEZhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcInZhcihcIi5jb25jYXQodW5yZXNvbHZlZEZhbGxiYWNrLCBcIilcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF2YWx1ZURhdGEpIHtcbiAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJ2YXIoXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgc2V0dGluZ3Mub25XYXJuaW5nKCdtaXNzaW5nIGNsb3NpbmcgXCIpXCIgaW4gdGhlIHZhbHVlIFwiJy5jb25jYXQodmFsdWUsICdcIicpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZURhdGEucHJlLnNsaWNlKC0zKSA9PT0gXCJ2YXJcIikge1xuICAgICAgICB2YXIgaXNFbXB0eVZhckZ1bmMgPSB2YWx1ZURhdGEuYm9keS50cmltKCkubGVuZ3RoID09PSAwO1xuICAgICAgICBpZiAoaXNFbXB0eVZhckZ1bmMpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uV2FybmluZyhcInZhcigpIG11c3QgY29udGFpbiBhIG5vbi13aGl0ZXNwYWNlIHN0cmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZURhdGEucHJlLnNsaWNlKDAsIC0zKSArIHJlc29sdmVGdW5jKHZhbHVlRGF0YS5ib2R5KSArIHJlc29sdmVWYWx1ZSh2YWx1ZURhdGEucG9zdCwgc2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlRGF0YS5wcmUgKyBcIihcIi5jb25jYXQocmVzb2x2ZVZhbHVlKHZhbHVlRGF0YS5ib2R5LCBzZXR0aW5ncyksIFwiKVwiKSArIHJlc29sdmVWYWx1ZSh2YWx1ZURhdGEucG9zdCwgc2V0dGluZ3MpO1xuICAgIH1cbn1cblxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG5cbnZhciBpc05hdGl2ZVN1cHBvcnQgPSBpc0Jyb3dzZXIgJiYgd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzICYmIHdpbmRvdy5DU1Muc3VwcG9ydHMoXCIoLS1hOiAwKVwiKTtcblxudmFyIGNvdW50ZXJzID0ge1xuICAgIGdyb3VwOiAwLFxuICAgIGpvYjogMFxufTtcblxudmFyIGRlZmF1bHRzID0ge1xuICAgIHJvb3RFbGVtZW50OiBpc0Jyb3dzZXIgPyBkb2N1bWVudCA6IG51bGwsXG4gICAgc2hhZG93RE9NOiBmYWxzZSxcbiAgICBpbmNsdWRlOiBcInN0eWxlLGxpbmtbcmVsPXN0eWxlc2hlZXRdXCIsXG4gICAgZXhjbHVkZTogXCJcIixcbiAgICB2YXJpYWJsZXM6IHt9LFxuICAgIG9ubHlMZWdhY3k6IHRydWUsXG4gICAgcHJlc2VydmVTdGF0aWM6IHRydWUsXG4gICAgcHJlc2VydmVWYXJzOiBmYWxzZSxcbiAgICBzaWxlbnQ6IGZhbHNlLFxuICAgIHVwZGF0ZURPTTogdHJ1ZSxcbiAgICB1cGRhdGVVUkxzOiB0cnVlLFxuICAgIHdhdGNoOiBudWxsLFxuICAgIG9uQmVmb3JlU2VuZDogZnVuY3Rpb24gb25CZWZvcmVTZW5kKCkge30sXG4gICAgb25XYXJuaW5nOiBmdW5jdGlvbiBvbldhcm5pbmcoKSB7fSxcbiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkge30sXG4gICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7fSxcbiAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge31cbn07XG5cbnZhciByZWdleCA9IHtcbiAgICBjc3NDb21tZW50czogL1xcL1xcKltcXHNcXFNdKz9cXCpcXC8vZyxcbiAgICBjc3NLZXlmcmFtZXM6IC9AKD86LVxcdyotKT9rZXlmcmFtZXMvLFxuICAgIGNzc01lZGlhUXVlcmllczogL0BtZWRpYVtee10rXFx7KFtcXHNcXFNdKz99KVxccyp9L2csXG4gICAgY3NzUm9vdFJ1bGVzOiAvKD86OnJvb3RcXHMqe1xccypbXn1dKn0pL2csXG4gICAgY3NzVXJsczogL3VybFxcKCg/IVsnXCJdPyg/OmRhdGF8aHR0cHxcXC9cXC8pOilbJ1wiXT8oW14nXCIpXSopWydcIl0/XFwpL2csXG4gICAgY3NzVmFyRGVjbHM6IC8oPzpbXFxzO10qKSgtezJ9XFx3W1xcdy1dKikoPzpcXHMqOlxccyopKFteO10qKTsvZyxcbiAgICBjc3NWYXJGdW5jOiAvdmFyXFwoXFxzKi0tW1xcdy1dLyxcbiAgICBjc3NWYXJzOiAvKD86KD86OnJvb3RcXHMqe1xccypbXjtdKjsqXFxzKil8KD86dmFyXFwoXFxzKikpKC0tW146KV0rKSg/OlxccypbOildKS9cbn07XG5cbnZhciB2YXJpYWJsZVN0b3JlID0ge1xuICAgIGRvbToge30sXG4gICAgam9iOiB7fSxcbiAgICB1c2VyOiB7fVxufTtcblxudmFyIGNzc1ZhcnNJc1J1bm5pbmcgPSBmYWxzZTtcblxudmFyIGNzc1ZhcnNPYnNlcnZlciA9IG51bGw7XG5cbnZhciBjc3NWYXJzU3JjTm9kZUNvdW50ID0gMDtcblxudmFyIGRlYm91bmNlVGltZXIgPSBudWxsO1xuXG52YXIgaXNTaGFkb3dET01SZWFkeSA9IGZhbHNlO1xuXG4vKipcbiAqIEZldGNoZXMsIHBhcnNlcywgYW5kIHRyYW5zZm9ybXMgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzIGZyb20gc3BlY2lmaWVkXG4gKiA8c3R5bGU+IGFuZCA8bGluaz4gZWxlbWVudHMgaW50byBzdGF0aWMgdmFsdWVzLCB0aGVuIGFwcGVuZHMgYSBuZXcgPHN0eWxlPlxuICogZWxlbWVudCB3aXRoIHN0YXRpYyB2YWx1ZXMgdG8gdGhlIERPTSB0byBwcm92aWRlIENTUyBjdXN0b20gcHJvcGVydHlcbiAqIGNvbXBhdGliaWxpdHkgZm9yIGxlZ2FjeSBicm93c2Vycy4gQWxzbyBwcm92aWRlcyBhIHNpbmdsZSBpbnRlcmZhY2UgZm9yXG4gKiBsaXZlIHVwZGF0ZXMgb2YgcnVudGltZSB2YWx1ZXMgaW4gYm90aCBtb2Rlcm4gYW5kIGxlZ2FjeSBicm93c2Vycy5cbiAqXG4gKiBAcHJlc2VydmVcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICogQHBhcmFtIHtvYmplY3R9ICAgW29wdGlvbnMucm9vdEVsZW1lbnQ9ZG9jdW1lbnRdIFJvb3QgZWxlbWVudCB0byB0cmF2ZXJzZSBmb3JcbiAqICAgICAgICAgICAgICAgICAgIDxsaW5rPiBhbmQgPHN0eWxlPiBub2Rlc1xuICogQHBhcmFtIHtib29sZWFufSAgW29wdGlvbnMuc2hhZG93RE9NPWZhbHNlXSBEZXRlcm1pbmVzIGlmIHNoYWRvdyBET00gPGxpbms+XG4gKiAgICAgICAgICAgICAgICAgICBhbmQgPHN0eWxlPiBub2RlcyB3aWxsIGJlIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgIFtvcHRpb25zLmluY2x1ZGU9XCJzdHlsZSxsaW5rW3JlbD1zdHlsZXNoZWV0XVwiXSBDU1Mgc2VsZWN0b3JcbiAqICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nIDxsaW5rIHJlPVwic3R5bGVzaGVldFwiPiBhbmQgPHN0eWxlPiBub2RlcyB0b1xuICogICAgICAgICAgICAgICAgICAgcHJvY2Vzc1xuICogQHBhcmFtIHtzdHJpbmd9ICAgW29wdGlvbnMuZXhjbHVkZV0gQ1NTIHNlbGVjdG9yIG1hdGNoaW5nIDxsaW5rXG4gKiAgICAgICAgICAgICAgICAgICByZWw9XCJzdHlsZWhzZWV0XCI+IGFuZCA8c3R5bGU+IG5vZGVzIHRvIGV4Y2x1ZGUgZnJvbSB0aG9zZVxuICogICAgICAgICAgICAgICAgICAgbWF0Y2hlcyBieSBvcHRpb25zLmluY2x1ZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zLnZhcmlhYmxlc10gQSBtYXAgb2YgY3VzdG9tIHByb3BlcnR5IG5hbWUvdmFsdWVcbiAqICAgICAgICAgICAgICAgICAgIHBhaXJzLiBQcm9wZXJ0eSBuYW1lcyBjYW4gb21pdCBvciBpbmNsdWRlIHRoZSBsZWFkaW5nXG4gKiAgICAgICAgICAgICAgICAgICBkb3VibGUtaHlwaGVuICjigJQpLCBhbmQgdmFsdWVzIHNwZWNpZmllZCB3aWxsIG92ZXJyaWRlXG4gKiAgICAgICAgICAgICAgICAgICBwcmV2aW91cyB2YWx1ZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLm9ubHlMZWdhY3k9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiB0aGUgcG9ueWZpbGwgd2lsbFxuICogICAgICAgICAgICAgICAgICAgb25seSBnZW5lcmF0ZSBsZWdhY3ktY29tcGF0aWJsZSBDU1MgaW4gYnJvd3NlcnMgdGhhdCBsYWNrXG4gKiAgICAgICAgICAgICAgICAgICBuYXRpdmUgc3VwcG9ydCAoaS5lLiwgbGVnYWN5IGJyb3dzZXJzKVxuICogQHBhcmFtIHtib29sZWFufSAgW29wdGlvbnMucHJlc2VydmVTdGF0aWM9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiBDU1NcbiAqICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucyB0aGF0IGRvIG5vdCByZWZlcmVuY2UgYSBjdXN0b20gcHJvcGVydHkgd2lsbFxuICogICAgICAgICAgICAgICAgICAgYmUgcHJlc2VydmVkIGluIHRoZSB0cmFuc2Zvcm1lZCBDU1NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnByZXNlcnZlVmFycz1mYWxzZV0gRGV0ZXJtaW5lcyBpZiBDU1MgY3VzdG9tXG4gKiAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgd2lsbCBiZSBwcmVzZXJ2ZWQgaW4gdGhlIHRyYW5zZm9ybWVkXG4gKiAgICAgICAgICAgICAgICAgICBDU1NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnNpbGVudD1mYWxzZV0gRGV0ZXJtaW5lcyBpZiB3YXJuaW5nIGFuZCBlcnJvclxuICogICAgICAgICAgICAgICAgICAgbWVzc2FnZXMgd2lsbCBiZSBkaXNwbGF5ZWQgb24gdGhlIGNvbnNvbGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnVwZGF0ZURPTT10cnVlXSBEZXRlcm1pbmVzIGlmIHRoZSBwb255ZmlsbCB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICB1cGRhdGUgdGhlIERPTSBhZnRlciBwcm9jZXNzaW5nIENTUyBjdXN0b20gcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFufSAgW29wdGlvbnMudXBkYXRlVVJMcz10cnVlXSBEZXRlcm1pbmVzIGlmIHRoZSBwb255ZmlsbCB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICBjb252ZXJ0IHJlbGF0aXZlIHVybCgpIHBhdGhzIHRvIGFic29sdXRlIHVybHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLndhdGNoPWZhbHNlXSBEZXRlcm1pbmVzIGlmIGEgTXV0YXRpb25PYnNlcnZlciB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICBiZSBjcmVhdGVkIHRoYXQgd2lsbCBleGVjdXRlIHRoZSBwb255ZmlsbCB3aGVuIGEgPGxpbms+IG9yXG4gKiAgICAgICAgICAgICAgICAgICA8c3R5bGU+IERPTSBtdXRhdGlvbiBpcyBvYnNlcnZlZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25CZWZvcmVTZW5kXSBDYWxsYmFjayBiZWZvcmUgWEhSIGlzIHNlbnQuIFBhc3Nlc1xuICogICAgICAgICAgICAgICAgICAgMSkgdGhlIFhIUiBvYmplY3QsIDIpIHNvdXJjZSBub2RlIHJlZmVyZW5jZSwgYW5kIDMpIHRoZVxuICogICAgICAgICAgICAgICAgICAgc291cmNlIFVSTCBhcyBhcmd1bWVudHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uV2FybmluZ10gQ2FsbGJhY2sgYWZ0ZXIgZWFjaCBDU1MgcGFyc2luZyB3YXJuaW5nXG4gKiAgICAgICAgICAgICAgICAgICBoYXMgb2NjdXJyZWQuIFBhc3NlcyAxKSBhIHdhcm5pbmcgbWVzc2FnZSBhcyBhbiBhcmd1bWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uRXJyb3JdIENhbGxiYWNrIGFmdGVyIGEgQ1NTIHBhcnNpbmcgZXJyb3IgaGFzXG4gKiAgICAgICAgICAgICAgICAgICBvY2N1cnJlZCBvciBhbiBYSFIgcmVxdWVzdCBoYXMgZmFpbGVkLiBQYXNzZXMgMSkgYW4gZXJyb3JcbiAqICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsIGFuZCAyKSBzb3VyY2Ugbm9kZSByZWZlcmVuY2UsIDMpIHhociwgYW5kIDQgdXJsIGFzXG4gKiAgICAgICAgICAgICAgICAgICBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vblN1Y2Nlc3NdIENhbGxiYWNrIGFmdGVyIENTUyBkYXRhIGhhcyBiZWVuXG4gKiAgICAgICAgICAgICAgICAgICBjb2xsZWN0ZWQgZnJvbSBlYWNoIG5vZGUgYW5kIGJlZm9yZSBDU1MgY3VzdG9tIHByb3BlcnRpZXNcbiAqICAgICAgICAgICAgICAgICAgIGhhdmUgYmVlbiB0cmFuc2Zvcm1lZC4gQWxsb3dzIG1vZGlmeWluZyB0aGUgQ1NTIGRhdGEgYmVmb3JlXG4gKiAgICAgICAgICAgICAgICAgICBpdCBpcyB0cmFuc2Zvcm1lZCBieSByZXR1cm5pbmcgYW55IHN0cmluZyB2YWx1ZSAob3IgZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgIHRvIHNraXApLiBQYXNzZXMgMSkgQ1NTIHRleHQsIDIpIHNvdXJjZSBub2RlIHJlZmVyZW5jZSwgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAzKSB0aGUgc291cmNlIFVSTCBhcyBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkNvbXBsZXRlXSBDYWxsYmFjayBhZnRlciBhbGwgQ1NTIGhhcyBiZWVuXG4gKiAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQsIGxlZ2FjeS1jb21wYXRpYmxlIENTUyBoYXMgYmVlbiBnZW5lcmF0ZWQsIGFuZFxuICogICAgICAgICAgICAgICAgICAgKG9wdGlvbmFsbHkpIHRoZSBET00gaGFzIGJlZW4gdXBkYXRlZC4gUGFzc2VzIDEpIGEgQ1NTXG4gKiAgICAgICAgICAgICAgICAgICBzdHJpbmcgd2l0aCBDU1MgdmFyaWFibGUgdmFsdWVzIHJlc29sdmVkLCAyKSBhbiBhcnJheSBvZlxuICogICAgICAgICAgICAgICAgICAgb3V0cHV0IDxzdHlsZT4gbm9kZSByZWZlcmVuY2VzIHRoYXQgaGF2ZSBiZWVuIGFwcGVuZGVkIHRvXG4gKiAgICAgICAgICAgICAgICAgICB0aGUgRE9NLCAzKSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgY3VzdG9tIHByb3BlcmllcyBuYW1lc1xuICogICAgICAgICAgICAgICAgICAgYW5kIHZhbHVlcywgYW5kIDQpIHRoZSBwb255ZmlsbCBleGVjdXRpb24gdGltZSBpblxuICogICAgICAgICAgICAgICAgICAgbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICBjc3NWYXJzKHtcbiAqICAgICByb290RWxlbWVudCAgIDogZG9jdW1lbnQsXG4gKiAgICAgc2hhZG93RE9NICAgICA6IGZhbHNlLFxuICogICAgIGluY2x1ZGUgICAgICAgOiAnc3R5bGUsbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdJyxcbiAqICAgICBleGNsdWRlICAgICAgIDogJycsXG4gKiAgICAgdmFyaWFibGVzICAgICA6IHt9LFxuICogICAgIG9ubHlMZWdhY3kgICAgOiB0cnVlLFxuICogICAgIHByZXNlcnZlU3RhdGljOiB0cnVlLFxuICogICAgIHByZXNlcnZlVmFycyAgOiBmYWxzZSxcbiAqICAgICBzaWxlbnQgICAgICAgIDogZmFsc2UsXG4gKiAgICAgdXBkYXRlRE9NICAgICA6IHRydWUsXG4gKiAgICAgdXBkYXRlVVJMcyAgICA6IHRydWUsXG4gKiAgICAgd2F0Y2ggICAgICAgICA6IGZhbHNlLFxuICogICAgIG9uQmVmb3JlU2VuZCh4aHIsIG5vZGUsIHVybCkge30sXG4gKiAgICAgb25XYXJuaW5nKG1lc3NhZ2UpIHt9LFxuICogICAgIG9uRXJyb3IobWVzc2FnZSwgbm9kZSwgeGhyLCB1cmwpIHt9LFxuICogICAgIG9uU3VjY2Vzcyhjc3NUZXh0LCBub2RlLCB1cmwpIHt9LFxuICogICAgIG9uQ29tcGxldGUoY3NzVGV4dCwgc3R5bGVOb2RlLCBjc3NWYXJpYWJsZXMsIGJlbmNobWFyaykge31cbiAqICAgfSk7XG4gKi8gZnVuY3Rpb24gY3NzVmFycygpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIG1zZ1ByZWZpeCA9IFwiY3NzVmFycygpOiBcIjtcbiAgICB2YXIgc2V0dGluZ3MgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKG1lc3NhZ2UsIHNvdXJjZU5vZGUsIHhociwgdXJsKSB7XG4gICAgICAgIGlmICghc2V0dGluZ3Muc2lsZW50ICYmIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiXCIuY29uY2F0KG1zZ1ByZWZpeCkuY29uY2F0KG1lc3NhZ2UsIFwiXFxuXCIpLCBzb3VyY2VOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXR0aW5ncy5vbkVycm9yKG1lc3NhZ2UsIHNvdXJjZU5vZGUsIHhociwgdXJsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlV2FybmluZyhtZXNzYWdlKSB7XG4gICAgICAgIGlmICghc2V0dGluZ3Muc2lsZW50ICYmIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJcIi5jb25jYXQobXNnUHJlZml4KS5jb25jYXQobWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLm9uV2FybmluZyhtZXNzYWdlKTtcbiAgICB9XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2V0dGluZ3Mud2F0Y2gpIHtcbiAgICAgICAgc2V0dGluZ3Mud2F0Y2ggPSBkZWZhdWx0cy53YXRjaDtcbiAgICAgICAgYWRkTXV0YXRpb25PYnNlcnZlcihzZXR0aW5ncyk7XG4gICAgICAgIGNzc1ZhcnMoc2V0dGluZ3MpO1xuICAgICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChzZXR0aW5ncy53YXRjaCA9PT0gZmFsc2UgJiYgY3NzVmFyc09ic2VydmVyKSB7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICAgIGlmICghc2V0dGluZ3MuX19iZW5jaG1hcmspIHtcbiAgICAgICAgaWYgKGNzc1ZhcnNJc1J1bm5pbmcgPT09IHNldHRpbmdzLnJvb3RFbGVtZW50KSB7XG4gICAgICAgICAgICBjc3NWYXJzRGVib3VuY2VkKG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLl9fYmVuY2htYXJrID0gZ2V0VGltZVN0YW1wKCk7XG4gICAgICAgIHNldHRpbmdzLmV4Y2x1ZGUgPSBbIGNzc1ZhcnNPYnNlcnZlciA/ICdbZGF0YS1jc3N2YXJzXTpub3QoW2RhdGEtY3NzdmFycz1cIlwiXSknIDogJ1tkYXRhLWNzc3ZhcnM9XCJvdXRcIl0nLCBzZXR0aW5ncy5leGNsdWRlIF0uZmlsdGVyKGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICAgIH0pLmpvaW4oXCIsXCIpO1xuICAgICAgICBzZXR0aW5ncy52YXJpYWJsZXMgPSBmaXhWYXJOYW1lcyhzZXR0aW5ncy52YXJpYWJsZXMpO1xuICAgICAgICBpZiAoIWNzc1ZhcnNPYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIG91dE5vZGVzID0gQXJyYXkuYXBwbHkobnVsbCwgc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY3NzdmFycz1cIm91dFwiXScpKTtcbiAgICAgICAgICAgIG91dE5vZGVzLmZvckVhY2goZnVuY3Rpb24ob3V0Tm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhR3JvdXAgPSBvdXROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1ncm91cFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgc3JjTm9kZSA9IGRhdGFHcm91cCA/IHNldHRpbmdzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNzc3ZhcnM9XCJzcmNcIl1bZGF0YS1jc3N2YXJzLWdyb3VwPVwiJy5jb25jYXQoZGF0YUdyb3VwLCAnXCJdJykpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIXNyY05vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG91dE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNzc1ZhcnNTcmNOb2RlQ291bnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3JjTm9kZXMgPSBzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jc3N2YXJzXTpub3QoW2RhdGEtY3NzdmFycz1cIm91dFwiXSknKTtcbiAgICAgICAgICAgICAgICBpZiAoc3JjTm9kZXMubGVuZ3RoIDwgY3NzVmFyc1NyY05vZGVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjc3NWYXJzU3JjTm9kZUNvdW50ID0gc3JjTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVN0b3JlLmRvbSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgdmFyIGlzU2hhZG93RWxtID0gc2V0dGluZ3Muc2hhZG93RE9NIHx8IHNldHRpbmdzLnJvb3RFbGVtZW50LnNoYWRvd1Jvb3QgfHwgc2V0dGluZ3Mucm9vdEVsZW1lbnQuaG9zdDtcbiAgICAgICAgaWYgKGlzTmF0aXZlU3VwcG9ydCAmJiBzZXR0aW5ncy5vbmx5TGVnYWN5KSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MudXBkYXRlRE9NKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldEVsbSA9IHNldHRpbmdzLnJvb3RFbGVtZW50Lmhvc3QgfHwgKHNldHRpbmdzLnJvb3RFbGVtZW50ID09PSBkb2N1bWVudCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHNldHRpbmdzLnJvb3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzZXR0aW5ncy52YXJpYWJsZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEVsbS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHNldHRpbmdzLnZhcmlhYmxlc1trZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1NoYWRvd0VsbSAmJiAhaXNTaGFkb3dET01SZWFkeSkge1xuICAgICAgICAgICAgZ2V0Q3NzRGF0YSh7XG4gICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQ6IGRlZmF1bHRzLnJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IGRlZmF1bHRzLmluY2x1ZGUsXG4gICAgICAgICAgICAgICAgZXhjbHVkZTogc2V0dGluZ3MuZXhjbHVkZSxcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2Vzcyhjc3NUZXh0LCBub2RlLCB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQucmVwbGFjZShyZWdleC5jc3NDb21tZW50cywgXCJcIikucmVwbGFjZShyZWdleC5jc3NNZWRpYVF1ZXJpZXMsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gKGNzc1RleHQubWF0Y2gocmVnZXguY3NzUm9vdFJ1bGVzKSB8fCBbXSkuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzc1RleHQgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKGNzc1RleHQsIGNzc0FycmF5LCBub2RlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VWYXJzKGNzc1RleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiB2YXJpYWJsZVN0b3JlLmRvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uV2FybmluZzogaGFuZGxlV2FybmluZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaXNTaGFkb3dET01SZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNzc1ZhcnMoc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzVmFyc0lzUnVubmluZyA9IHNldHRpbmdzLnJvb3RFbGVtZW50O1xuICAgICAgICAgICAgZ2V0Q3NzRGF0YSh7XG4gICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQ6IHNldHRpbmdzLnJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHNldHRpbmdzLmluY2x1ZGUsXG4gICAgICAgICAgICAgICAgZXhjbHVkZTogc2V0dGluZ3MuZXhjbHVkZSxcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVNlbmQ6IHNldHRpbmdzLm9uQmVmb3JlU2VuZCxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKHhociwgbm9kZSwgdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZVVybCA9IHhoci5yZXNwb25zZVVSTCB8fCBnZXRGdWxsVXJsJDEodXJsLCBsb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1c1RleHQgPSB4aHIuc3RhdHVzVGV4dCA/IFwiKFwiLmNvbmNhdCh4aHIuc3RhdHVzVGV4dCwgXCIpXCIpIDogXCJVbnNwZWNpZmllZCBFcnJvclwiICsgKHhoci5zdGF0dXMgPT09IDAgPyBcIiAocG9zc2libHkgQ09SUyByZWxhdGVkKVwiIDogXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1zZyA9IFwiQ1NTIFhIUiBFcnJvcjogXCIuY29uY2F0KHJlc3BvbnNlVXJsLCBcIiBcIikuY29uY2F0KHhoci5zdGF0dXMsIFwiIFwiKS5jb25jYXQoc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycm9yTXNnLCBub2RlLCB4aHIsIHJlc3BvbnNlVXJsKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gc2V0dGluZ3Mub25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSByZXR1cm5WYWwgIT09IHVuZGVmaW5lZCAmJiBCb29sZWFuKHJldHVyblZhbCkgPT09IGZhbHNlID8gXCJcIiA6IHJldHVyblZhbCB8fCBjc3NUZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudXBkYXRlVVJMcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IGZpeFJlbGF0aXZlQ3NzVXJscyhjc3NUZXh0LCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NUZXh0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZShjc3NUZXh0LCBjc3NBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGpvYlZhcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhclN0b3JlID0gc2V0dGluZ3MudXBkYXRlRE9NID8gdmFyaWFibGVTdG9yZS5kb20gOiBPYmplY3Qua2V5cyh2YXJpYWJsZVN0b3JlLmpvYikubGVuZ3RoID8gdmFyaWFibGVTdG9yZS5qb2IgOiB2YXJpYWJsZVN0b3JlLmpvYiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFyaWFibGVTdG9yZS5kb20pKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc1ZhckNoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBub2RlQXJyYXkuZm9yRWFjaChmdW5jdGlvbihub2RlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXguY3NzVmFycy50ZXN0KGNzc0FycmF5W2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3NUcmVlID0gcGFyc2VDc3MoY3NzQXJyYXlbaV0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlU3RhdGljOiBzZXR0aW5ncy5wcmVzZXJ2ZVN0YXRpYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvbW1lbnRzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZVZhcnMoY3NzVHJlZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGpvYlZhcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbldhcm5pbmc6IGhhbmRsZVdhcm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuX19jc3NWYXJzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJlZTogY3NzVHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIubWVzc2FnZSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnVwZGF0ZURPTSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHModmFyaWFibGVTdG9yZS51c2VyLCBzZXR0aW5ncy52YXJpYWJsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKGpvYlZhcnMsIHNldHRpbmdzLnZhcmlhYmxlcyk7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhckNoYW5nZSA9IEJvb2xlYW4oKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jc3N2YXJzXVwiKSB8fCBPYmplY3Qua2V5cyh2YXJpYWJsZVN0b3JlLmRvbSkubGVuZ3RoKSAmJiBPYmplY3Qua2V5cyhqb2JWYXJzKS5zb21lKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqb2JWYXJzW25hbWVdICE9PSB2YXJTdG9yZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh2YXJTdG9yZSwgdmFyaWFibGVTdG9yZS51c2VyLCBqb2JWYXJzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1ZhckNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDc3NOb2RlcyhzZXR0aW5ncy5yb290RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NWYXJzKHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRDc3NBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dE5vZGVBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0tleWZyYW1lc1dpdGhWYXJzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVN0b3JlLmpvYiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnVwZGF0ZURPTSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXJzLmpvYisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUFycmF5LmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1NraXAgPSAhbm9kZS5fX2Nzc1ZhcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuX19jc3NWYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Dc3Mobm9kZS5fX2Nzc1ZhcnMudHJlZSwgX2V4dGVuZHMoe30sIHNldHRpbmdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB2YXJTdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbldhcm5pbmc6IGhhbmRsZVdhcm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRDc3MgPSBzdHJpbmdpZnlDc3Mobm9kZS5fX2Nzc1ZhcnMudHJlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudXBkYXRlRE9NKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlLmdldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiLCBcInNyY1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dENzcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFHcm91cCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzLWdyb3VwXCIpIHx8ICsrY291bnRlcnMuZ3JvdXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRDc3NOb1NwYWNlcyA9IG91dENzcy5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXROb2RlID0gc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3NzdmFycz1cIm91dFwiXVtkYXRhLWNzc3ZhcnMtZ3JvdXA9XCInLmNvbmNhdChkYXRhR3JvdXAsICdcIl0nKSkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNLZXlmcmFtZXNXaXRoVmFycyA9IGhhc0tleWZyYW1lc1dpdGhWYXJzIHx8IHJlZ2V4LmNzc0tleWZyYW1lcy50ZXN0KG91dENzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3V0Tm9kZS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dE5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIsIFwib3V0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRDc3NOb1NwYWNlcyA9PT0gbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgXCJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2tpcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0Tm9kZSAmJiBvdXROb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1ncm91cFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob3V0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3V0Q3NzTm9TcGFjZXMgIT09IG91dE5vZGUudGV4dENvbnRlbnQucmVwbGFjZSgvXFxzL2csIFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIG5vZGUsIG91dE5vZGUgXS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1qb2JcIiwgY291bnRlcnMuam9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1ncm91cFwiLCBkYXRhR3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXROb2RlLnRleHRDb250ZW50ID0gb3V0Q3NzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Q3NzQXJyYXkucHVzaChvdXRDc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Tm9kZUFycmF5LnB1c2gob3V0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW91dE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUob3V0Tm9kZSwgbm9kZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRleHRDb250ZW50LnJlcGxhY2UoL1xccy9nLCBcIlwiKSAhPT0gb3V0Q3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dENzc0FycmF5LnB1c2gob3V0Q3NzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLm1lc3NhZ2UsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NraXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIiwgXCJza2lwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUuaGFzQXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzLWpvYlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1qb2JcIiwgY291bnRlcnMuam9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc1ZhcnNTcmNOb2RlQ291bnQgPSBzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jc3N2YXJzXTpub3QoW2RhdGEtY3NzdmFycz1cIm91dFwiXSknKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3Muc2hhZG93RE9NKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsbXMgPSBbIHNldHRpbmdzLnJvb3RFbGVtZW50IF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBlbG07IGVsbSA9IGVsbXNbaV07ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxtLnNoYWRvd1Jvb3QgJiYgZWxtLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInN0eWxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhZG93U2V0dGluZ3MgPSBfZXh0ZW5kcyh7fSwgc2V0dGluZ3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290RWxlbWVudDogZWxtLnNoYWRvd1Jvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB2YXJpYWJsZVN0b3JlLmRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NWYXJzKHNoYWRvd1NldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00gJiYgaGFzS2V5ZnJhbWVzV2l0aFZhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhLZXlmcmFtZXMoc2V0dGluZ3Mucm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVmFyc0lzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZShvdXRDc3NBcnJheS5qb2luKFwiXCIpLCBvdXROb2RlQXJyYXksIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFyU3RvcmUpKSwgZ2V0VGltZVN0YW1wKCkgLSBzZXR0aW5ncy5fX2JlbmNobWFyayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIGluaXQoZXZ0KSB7XG4gICAgICAgICAgICBjc3NWYXJzKG9wdGlvbnMpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgaW5pdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY3NzVmFycy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIGNzc1ZhcnNJc1J1bm5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3NzVmFyc09ic2VydmVyKSB7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICAgIGNzc1ZhcnNTcmNOb2RlQ291bnQgPSAwO1xuICAgIGRlYm91bmNlVGltZXIgPSBudWxsO1xuICAgIGlzU2hhZG93RE9NUmVhZHkgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBwcm9wIGluIHZhcmlhYmxlU3RvcmUpIHtcbiAgICAgICAgdmFyaWFibGVTdG9yZVtwcm9wXSA9IHt9O1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGFkZE11dGF0aW9uT2JzZXJ2ZXIoc2V0dGluZ3MpIHtcbiAgICBmdW5jdGlvbiBpc0xpbmsobm9kZSkge1xuICAgICAgICB2YXIgaXNTdHlsZXNoZWV0ID0gbm9kZS50YWdOYW1lID09PSBcIkxJTktcIiAmJiAobm9kZS5nZXRBdHRyaWJ1dGUoXCJyZWxcIikgfHwgXCJcIikuaW5kZXhPZihcInN0eWxlc2hlZXRcIikgIT09IC0xO1xuICAgICAgICByZXR1cm4gaXNTdHlsZXNoZWV0ICYmICFub2RlLmRpc2FibGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1N0eWxlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gXCJTVFlMRVwiICYmICFub2RlLmRpc2FibGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkQWRkTXV0YXRpb24obXV0YXRpb25Ob2Rlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuYXBwbHkobnVsbCwgbXV0YXRpb25Ob2Rlcykuc29tZShmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICB2YXIgaXNFbG0gPSBub2RlLm5vZGVUeXBlID09PSAxO1xuICAgICAgICAgICAgdmFyIGhhc0F0dHIgPSBpc0VsbSAmJiBub2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKTtcbiAgICAgICAgICAgIHZhciBpc1N0eWxlV2l0aFZhcnMgPSBpc1N0eWxlKG5vZGUpICYmIHJlZ2V4LmNzc1ZhcnMudGVzdChub2RlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gIWhhc0F0dHIgJiYgKGlzTGluayhub2RlKSB8fCBpc1N0eWxlV2l0aFZhcnMpO1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkUmVtb3ZlTXV0YXRpb24obXV0YXRpb25Ob2Rlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuYXBwbHkobnVsbCwgbXV0YXRpb25Ob2Rlcykuc29tZShmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICB2YXIgaXNFbG0gPSBub2RlLm5vZGVUeXBlID09PSAxO1xuICAgICAgICAgICAgdmFyIGlzT3V0Tm9kZSA9IGlzRWxtICYmIG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIpID09PSBcIm91dFwiO1xuICAgICAgICAgICAgdmFyIGlzU3JjTm9kZSA9IGlzRWxtICYmIG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIpID09PSBcInNyY1wiO1xuICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBpc1NyY05vZGU7XG4gICAgICAgICAgICBpZiAoaXNTcmNOb2RlIHx8IGlzT3V0Tm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhR3JvdXAgPSBub2RlLmdldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1ncm91cFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgb3JwaGFuTm9kZSA9IHNldHRpbmdzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNzc3ZhcnMtZ3JvdXA9XCInLmNvbmNhdChkYXRhR3JvdXAsICdcIl0nKSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3JjTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNldENzc05vZGVzKHNldHRpbmdzLnJvb3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVTdG9yZS5kb20gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9ycGhhbk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JwaGFuTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9ycGhhbk5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjc3NWYXJzT2JzZXJ2ZXIpIHtcbiAgICAgICAgY3NzVmFyc09ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgY3NzVmFyc09ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gICAgY3NzVmFyc09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKSB7XG4gICAgICAgIHZhciBoYXNWYWxpZE11dGF0aW9uID0gbXV0YXRpb25zLnNvbWUoZnVuY3Rpb24obXV0YXRpb24pIHtcbiAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gXCJhdHRyaWJ1dGVzXCIpIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gaXNMaW5rKG11dGF0aW9uLnRhcmdldCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG11dGF0aW9uLnR5cGUgPT09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gaXNWYWxpZEFkZE11dGF0aW9uKG11dGF0aW9uLmFkZGVkTm9kZXMpIHx8IGlzVmFsaWRSZW1vdmVNdXRhdGlvbihtdXRhdGlvbi5yZW1vdmVkTm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaGFzVmFsaWRNdXRhdGlvbikge1xuICAgICAgICAgICAgY3NzVmFycyhzZXR0aW5ncyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjc3NWYXJzT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbIFwiZGlzYWJsZWRcIiwgXCJocmVmXCIgXSxcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNzc1ZhcnNEZWJvdW5jZWQoc2V0dGluZ3MpIHtcbiAgICB2YXIgZGVsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lcik7XG4gICAgZGVib3VuY2VUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldHRpbmdzLl9fYmVuY2htYXJrID0gbnVsbDtcbiAgICAgICAgY3NzVmFycyhzZXR0aW5ncyk7XG4gICAgfSwgZGVsYXkpO1xufVxuXG5mdW5jdGlvbiBmaXhLZXlmcmFtZXMocm9vdEVsZW1lbnQpIHtcbiAgICB2YXIgYW5pbWF0aW9uTmFtZVByb3AgPSBbIFwiYW5pbWF0aW9uLW5hbWVcIiwgXCItbW96LWFuaW1hdGlvbi1uYW1lXCIsIFwiLXdlYmtpdC1hbmltYXRpb24tbmFtZVwiIF0uZmlsdGVyKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSlbcHJvcF07XG4gICAgfSlbMF07XG4gICAgaWYgKGFuaW1hdGlvbk5hbWVQcm9wKSB7XG4gICAgICAgIHZhciBhbGxOb2RlcyA9IHJvb3RFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKTtcbiAgICAgICAgdmFyIGtleWZyYW1lTm9kZXMgPSBbXTtcbiAgICAgICAgdmFyIG5hbWVNYXJrZXIgPSBcIl9fQ1NTVkFSU1BPTllGSUxMLUtFWUZSQU1FU19fXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhbGxOb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBhbGxOb2Rlc1tpXTtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25OYW1lID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKVthbmltYXRpb25OYW1lUHJvcF07XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uTmFtZSAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICBub2RlLnN0eWxlW2FuaW1hdGlvbk5hbWVQcm9wXSArPSBuYW1lTWFya2VyO1xuICAgICAgICAgICAgICAgIGtleWZyYW1lTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2b2lkIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBrZXlmcmFtZU5vZGVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZVN0eWxlID0ga2V5ZnJhbWVOb2Rlc1tfaV0uc3R5bGU7XG4gICAgICAgICAgICBub2RlU3R5bGVbYW5pbWF0aW9uTmFtZVByb3BdID0gbm9kZVN0eWxlW2FuaW1hdGlvbk5hbWVQcm9wXS5yZXBsYWNlKG5hbWVNYXJrZXIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaXhSZWxhdGl2ZUNzc1VybHMoY3NzVGV4dCwgYmFzZVVybCkge1xuICAgIHZhciBjc3NVcmxzID0gY3NzVGV4dC5yZXBsYWNlKHJlZ2V4LmNzc0NvbW1lbnRzLCBcIlwiKS5tYXRjaChyZWdleC5jc3NVcmxzKSB8fCBbXTtcbiAgICBjc3NVcmxzLmZvckVhY2goZnVuY3Rpb24oY3NzVXJsKSB7XG4gICAgICAgIHZhciBvbGRVcmwgPSBjc3NVcmwucmVwbGFjZShyZWdleC5jc3NVcmxzLCBcIiQxXCIpO1xuICAgICAgICB2YXIgbmV3VXJsID0gZ2V0RnVsbFVybCQxKG9sZFVybCwgYmFzZVVybCk7XG4gICAgICAgIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UoY3NzVXJsLCBjc3NVcmwucmVwbGFjZShvbGRVcmwsIG5ld1VybCkpO1xuICAgIH0pO1xuICAgIHJldHVybiBjc3NUZXh0O1xufVxuXG5mdW5jdGlvbiBmaXhWYXJOYW1lcygpIHtcbiAgICB2YXIgdmFyT2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgcmVMZWFkaW5nSHlwaGVucyA9IC9eLXsyfS87XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhck9iaikucmVkdWNlKGZ1bmN0aW9uKG9iaiwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGtleSA9IHJlTGVhZGluZ0h5cGhlbnMudGVzdCh2YWx1ZSkgPyB2YWx1ZSA6IFwiLS1cIi5jb25jYXQodmFsdWUucmVwbGFjZSgvXi0rLywgXCJcIikpO1xuICAgICAgICBvYmpba2V5XSA9IHZhck9ialt2YWx1ZV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBnZXRGdWxsVXJsJDEodXJsKSB7XG4gICAgdmFyIGJhc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGxvY2F0aW9uLmhyZWY7XG4gICAgdmFyIGQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIik7XG4gICAgdmFyIGIgPSBkLmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpO1xuICAgIHZhciBhID0gZC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBkLmhlYWQuYXBwZW5kQ2hpbGQoYik7XG4gICAgZC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgIGIuaHJlZiA9IGJhc2U7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIHJldHVybiBhLmhyZWY7XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVTdGFtcCgpIHtcbiAgICByZXR1cm4gaXNCcm93c2VyICYmICh3aW5kb3cucGVyZm9ybWFuY2UgfHwge30pLm5vdyA/IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufVxuXG5mdW5jdGlvbiByZXNldENzc05vZGVzKHJvb3RFbGVtZW50KSB7XG4gICAgdmFyIHJlc2V0Tm9kZXMgPSBBcnJheS5hcHBseShudWxsLCByb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jc3N2YXJzPVwic2tpcFwiXSxbZGF0YS1jc3N2YXJzPVwic3JjXCJdJykpO1xuICAgIHJlc2V0Tm9kZXMuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiLCBcIlwiKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3NzVmFycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy12YXJzLXBvbnlmaWxsLmVzbS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///94\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.function.name.js\nvar es6_function_name = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.to-string.js\nvar es6_regexp_to_string = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.object.to-string.js\nvar es6_object_to_string = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.string.iterator.js\nvar es6_string_iterator = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.from.js\nvar es6_array_from = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom.iterable.js\nvar web_dom_iterable = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es7.symbol.async-iterator.js\nvar es7_symbol_async_iterator = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.symbol.js\nvar es6_symbol = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/_version.js\n/* harmony default export */ var _version = ('8.2.1');\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/_options.js\nvar _options_options = {\n  hooks: {},\n  extensions: [],\n  wrappers: [],\n  navbar: {\n    add: true,\n    title: 'Menu',\n    titleLink: 'parent'\n  },\n  onClick: {\n    close: null,\n    preventDefault: null,\n    setSelected: true\n  },\n  slidingSubmenus: true\n};\n/* harmony default export */ var _options = (_options_options);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/_configs.js\nvar _configs_configs = {\n  classNames: {\n    inset: 'Inset',\n    nolistview: 'NoListview',\n    nopanel: 'NoPanel',\n    panel: 'Panel',\n    selected: 'Selected',\n    spacer: 'Spacer',\n    vertical: 'Vertical'\n  },\n  language: null,\n  openingInterval: 25,\n  panelNodetype: ['ul', 'ol', 'div'],\n  transitionDuration: 400\n};\n/* harmony default export */ var _configs = (_configs_configs);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.match.js\nvar es6_regexp_match = __webpack_require__(153);\n\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/_helpers.js\n\n\n\n\n/**\n * Deep extend an object with the given defaults.\n * Note that the extended object is not a clone, meaning the original object will also be updated.\n *\n * @param \t{object}\torignl\tThe object to extend to.\n * @param \t{object}\tdfault\tThe object to extend from.\n * @return\t{object}\t\t\tThe extended \"orignl\" object.\n */\nfunction extend(orignl, dfault) {\n  if (type(orignl) != 'object') {\n    orignl = {};\n  }\n\n  if (type(dfault) != 'object') {\n    dfault = {};\n  }\n\n  for (var k in dfault) {\n    if (!dfault.hasOwnProperty(k)) {\n      continue;\n    }\n\n    if (typeof orignl[k] == 'undefined') {\n      orignl[k] = dfault[k];\n    } else if (type(orignl[k]) == 'object') {\n      extend(orignl[k], dfault[k]);\n    }\n  }\n\n  return orignl;\n}\n/**\n * Detect the touch / dragging direction on a touch device.\n *\n * @param   {HTMLElement} surface   The element to monitor for touch events.\n * @return  {object}                Object with \"get\" function.\n */\n\nfunction touchDirection(surface) {\n  var direction = '';\n  var position = -1;\n  surface.addEventListener('touchstart', function (evnt) {\n    position = evnt.changedTouches[0].pageY;\n  });\n  surface.addEventListener('touchmove', function (evnt) {\n    var newPosition = evnt.changedTouches[0].pageY;\n    direction = newPosition > position ? 'down' : 'up';\n    position = newPosition;\n  });\n  return {\n    get: function get() {\n      return direction;\n    }\n  };\n}\n/**\n * Get the type of any given variable. Improvement of \"typeof\".\n *\n * @param \t{any}\t\tvariable\tThe variable.\n * @return\t{string}\t\t\t\tThe type of the variable in lowercase.\n */\n\nfunction type(variable) {\n  return {}.toString.call(variable).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\n/**\n * Find the value from an option or function.\n * @param \t{HTMLElement} \telement \tScope for the function.\n * @param \t{any} \t\t\t[option] \tValue or function.\n * @param \t{any} \t\t\t[dfault] \tDefault fallback value.\n * @return\t{any}\t\t\t\t\t\tThe given evaluation of the given option, or the default fallback value.\n */\n\nfunction valueOrFn(element, option, dfault) {\n  if (typeof option == 'function') {\n    var value = option.call(element);\n\n    if (typeof value != 'undefined') {\n      return value;\n    }\n  }\n\n  if ((option === null || typeof option == 'function' || typeof option == 'undefined') && typeof dfault != 'undefined') {\n    return dfault;\n  }\n\n  return option;\n}\n/**\n * Set and invoke a (single) transition-end function with fallback.\n *\n * @param {HTMLElement} \telement \tScope for the function.\n * @param {function}\t\tfunc\t\tFunction to invoke.\n * @param {number}\t\t\tduration\tThe duration of the animation (for the fallback).\n */\n\nfunction transitionend(element, func, duration) {\n  var _ended = false,\n      _fn = function _fn(evnt) {\n    if (typeof evnt !== 'undefined') {\n      if (evnt.target !== element) {\n        return;\n      }\n    }\n\n    if (!_ended) {\n      element.removeEventListener('transitionend', _fn);\n      element.removeEventListener('webkitTransitionEnd', _fn);\n      func.call(element);\n    }\n\n    _ended = true;\n  };\n\n  element.addEventListener('transitionend', _fn);\n  element.addEventListener('webkitTransitionEnd', _fn);\n  setTimeout(_fn, duration * 1.1);\n}\n/**\n * Get a (page wide) unique ID.\n */\n\nfunction uniqueId() {\n  return 'mm-' + __id++;\n}\nvar __id = 0;\n/**\n * Get the original ID from a possibly prefixed ID.\n * @param id The possibly prefixed ID.\n */\n\nfunction originalId(id) {\n  if (id.slice(0, 3) == 'mm-') {\n    return id.slice(3);\n  }\n\n  return id;\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/_i18n.js\n\nvar translations = {};\n/**\n * Add translations to a language.\n * @param {object}  text        Object of key/value translations.\n * @param {string}  language    The translated language.\n */\n\nfunction _i18n_add(text, language) {\n  if (typeof translations[language] == 'undefined') {\n    translations[language] = {};\n  }\n\n  extend(translations[language], text);\n}\n/**\n * Find a translated text in a language.\n * @param   {string} text       The text to find the translation for.\n * @param   {string} language   The language to search in.\n * @return  {string}            The translated text.\n */\n\nfunction get(text, language) {\n  if (typeof language == 'string' && typeof translations[language] != 'undefined') {\n    return translations[language][text] || text;\n  }\n\n  return text;\n}\n/**\n * Get all translated text in a language.\n * @param   {string} language   The language to search for.\n * @return  {object}            The translations.\n */\n\nfunction _i18n_all(language) {\n  return translations;\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/translations/nl.js\n/* harmony default export */ var nl = ({\n  'Menu': 'Menu'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/translations/fa.js\n/* harmony default export */ var fa = ({\n  'Menu': 'منو'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/translations/de.js\n/* harmony default export */ var de = ({\n  'Menu': 'Menü'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/translations/ru.js\n/* harmony default export */ var ru = ({\n  'Menu': 'Меню'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/translations/translate.js\n\n\n\n\n\n/* harmony default export */ var translate = (function () {\n  _i18n_add(nl, 'nl');\n  _i18n_add(fa, 'fa');\n  _i18n_add(de, 'de');\n  _i18n_add(ru, 'ru');\n});\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.split.js\nvar es6_regexp_split = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/_dom.js\n\n\n\n\n\n\n\n\n\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * Create an element with classname.\n *\n * @param \t{string}\t\tselector\tThe nodeName and classnames for the element to create.\n * @return\t{HTMLElement}\t\t\t\tThe created element.\n */\nfunction create(selector) {\n  var elem;\n  selector.split('.').forEach(function (arg, a) {\n    if (a == 0) {\n      elem = document.createElement(arg);\n    } else {\n      elem.classList.add(arg);\n    }\n  });\n  return elem;\n}\n/**\n * Find all elements matching the selector.\n * Basically the same as element.querySelectorAll() but it returns an actuall array.\n *\n * @param \t{HTMLElement} \telement Element to search in.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of elements that match the filter.\n */\n\nfunction find(element, filter) {\n  return Array.prototype.slice.call(element.querySelectorAll(filter));\n}\n/**\n * Find all child elements matching the (optional) selector.\n *\n * @param \t{HTMLElement} \telement Element to search in.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of child elements that match the filter.\n */\n\nfunction _dom_children(element, filter) {\n  var children = Array.prototype.slice.call(element.children);\n  return filter ? children.filter(function (child) {\n    return child.matches(filter);\n  }) : children;\n}\n/**\n * Find text excluding text from within child elements.\n * @param   {HTMLElement}   element Element to search in.\n * @return  {string}                The text.\n */\n\nfunction _dom_text(element) {\n  return Array.prototype.slice.call(element.childNodes).filter(function (child) {\n    return child.nodeType == 3;\n  }).map(function (child) {\n    return child.textContent;\n  }).join(' ');\n}\n/**\n * Find all preceding elements matching the selector.\n *\n * @param \t{HTMLElement} \telement Element to start searching from.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of preceding elements that match the selector.\n */\n\nfunction _dom_parents(element, filter) {\n  /** Array of preceding elements that match the selector. */\n  var parents = [];\n  /** Array of preceding elements that match the selector. */\n\n  var parent = element.parentElement;\n\n  while (parent) {\n    parents.push(parent);\n    parent = parent.parentElement;\n  }\n\n  return filter ? parents.filter(function (parent) {\n    return parent.matches(filter);\n  }) : parents;\n}\n/**\n * Find all previous siblings matching the selecotr.\n *\n * @param \t{HTMLElement} \telement Element to start searching from.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of previous siblings that match the selector.\n */\n\nfunction prevAll(element, filter) {\n  /** Array of previous siblings that match the selector. */\n  var previous = [];\n  /** Current element in the loop */\n\n  var current = element.previousElementSibling;\n\n  while (current) {\n    if (!filter || current.matches(filter)) {\n      previous.push(current);\n    }\n\n    current = current.previousElementSibling;\n  }\n\n  return previous;\n}\n/**\n * Get an element offset relative to the document.\n *\n * @param \t{HTMLElement}\t element \t\t\tElement to start measuring from.\n * @param \t{string}\t\t [direction=top] \tOffset top or left.\n * @return\t{number}\t\t\t\t\t\t\tThe element offset relative to the document.\n */\n\nfunction offset(element, direction) {\n  return element.getBoundingClientRect()[direction] + document.body[direction === 'left' ? 'scrollLeft' : 'scrollTop'];\n}\n/**\n * Filter out non-listitem listitems.\n * @param  {array} listitems \tElements to filter.\n * @return {array}\t\t\t\tThe filtered set of listitems.\n */\n\nfunction filterLI(listitems) {\n  return listitems.filter(function (listitem) {\n    return !listitem.matches('.mm-hidden');\n  });\n}\n/**\n * Find anchors in listitems (excluding anchor that open a sub-panel).\n * @param  {array} \tlistitems \tElements to filter.\n * @return {array}\t\t\t\tThe found set of anchors.\n */\n\nfunction filterLIA(listitems) {\n  var anchors = [];\n  filterLI(listitems).forEach(function (listitem) {\n    anchors.push.apply(anchors, _toConsumableArray(_dom_children(listitem, 'a.mm-listitem__text')));\n  });\n  return anchors.filter(function (anchor) {\n    return !anchor.matches('.mm-btn_next');\n  });\n}\n/**\n * Refactor a classname on multiple elements.\n * @param {HTMLElement} element \tElement to refactor.\n * @param {string}\t\toldClass \tClassname to remove.\n * @param {string}\t\tnewClass \tClassname to add.\n */\n\nfunction reClass(element, oldClass, newClass) {\n  if (element.matches('.' + oldClass)) {\n    element.classList.remove(oldClass);\n    element.classList.add(newClass);\n  }\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/_matchmedia.js\n/** Collection of callback functions for media querys. */\nvar listeners = {};\n/**\n * Bind functions to a matchMedia listener (subscriber).\n *\n * @param {string|number} \tquery \tMedia query to match or number for min-width.\n * @param {function} \t\tyes \tFunction to invoke when the media query matches.\n * @param {function} \t\tno \t\tFunction to invoke when the media query doesn't match.\n */\n\nfunction _matchmedia_add(query, yes, no) {\n  if (typeof query == 'number') {\n    query = '(min-width: ' + query + 'px)';\n  }\n\n  listeners[query] = listeners[query] || [];\n  listeners[query].push({\n    yes: yes,\n    no: no\n  });\n}\n/**\n * Initialize the matchMedia listener.\n */\n\nfunction watch() {\n  var _loop = function _loop(query) {\n    var mqlist = window.matchMedia(query);\n    fire(query, mqlist);\n\n    mqlist.onchange = function (evnt) {\n      fire(query, mqlist);\n    };\n  };\n\n  for (var query in listeners) {\n    _loop(query);\n  }\n}\n/**\n * Invoke the \"yes\" or \"no\" function for a matchMedia listener (publisher).\n *\n * @param {string} \t\t\tquery \tMedia query to check for.\n * @param {MediaQueryList} \tmqlist \tMedia query list to check with.\n */\n\nfunction fire(query, mqlist) {\n  var fn = mqlist.matches ? 'yes' : 'no';\n\n  for (var m = 0; m < listeners[query].length; m++) {\n    listeners[query][m][fn]();\n  }\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/oncanvas/mmenu.oncanvas.js\n\n\n\n\n\n\n\n\n\nfunction mmenu_oncanvas_toConsumableArray(arr) { return mmenu_oncanvas_arrayWithoutHoles(arr) || mmenu_oncanvas_iterableToArray(arr) || mmenu_oncanvas_unsupportedIterableToArray(arr) || mmenu_oncanvas_nonIterableSpread(); }\n\nfunction mmenu_oncanvas_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction mmenu_oncanvas_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return mmenu_oncanvas_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mmenu_oncanvas_arrayLikeToArray(o, minLen); }\n\nfunction mmenu_oncanvas_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction mmenu_oncanvas_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return mmenu_oncanvas_arrayLikeToArray(arr); }\n\nfunction mmenu_oncanvas_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n //  Add the translations.\n\ntranslate();\n/**\n * Class for a mobile menu.\n */\n\nvar mmenu_oncanvas_Mmenu = /*#__PURE__*/function () {\n  /**\n   * Create a mobile menu.\n   * @param {HTMLElement|string} \tmenu\t\t\t\t\t\tThe menu node.\n   * @param {object} \t\t\t\t[options=Mmenu.options]\t\tOptions for the menu.\n   * @param {object} \t\t\t\t[configs=Mmenu.configs]\t\tConfiguration options for the menu.\n   */\n  function Mmenu(menu, options, configs) {\n    _classCallCheck(this, Mmenu);\n\n    //\tExtend options and configuration from defaults.\n    this.opts = extend(options, Mmenu.options);\n    this.conf = extend(configs, Mmenu.configs); //\tMethods to expose in the API.\n\n    this._api = ['bind', 'initPanels', 'initPanel', 'openPanel', 'closePanel', 'closeAllPanels', 'setSelected']; //\tStorage objects for nodes, variables, hooks and click handlers.\n\n    this.node = {};\n    this.vars = {};\n    this.hook = {};\n    this.clck = []; //\tGet menu node from string or element.\n\n    this.node.menu = typeof menu == 'string' ? document.querySelector(menu) : menu;\n\n    if (typeof this._deprecatedWarnings == 'function') {\n      this._deprecatedWarnings();\n    }\n\n    this._initWrappers();\n\n    this._initAddons();\n\n    this._initExtensions();\n\n    this._initHooks();\n\n    this._initAPI();\n\n    this._initMenu();\n\n    this._initPanels();\n\n    this._initOpened();\n\n    this._initAnchors();\n\n    watch();\n    return this;\n  }\n  /**\n   * Open a panel.\n   * @param {HTMLElement} panel\t\t\t\tPanel to open.\n   * @param {boolean}\t\t[animation=true]\tWhether or not to open the panel with an animation.\n   */\n\n\n  _createClass(Mmenu, [{\n    key: \"openPanel\",\n    value: function openPanel(panel, animation) {\n      var _this = this;\n\n      //\tInvoke \"before\" hook.\n      this.trigger('openPanel:before', [panel]); //\tFind panel.\n\n      if (!panel) {\n        return;\n      }\n\n      if (!panel.matches('.mm-panel')) {\n        panel = panel.closest('.mm-panel');\n      }\n\n      if (!panel) {\n        return;\n      } //\t/Find panel.\n\n\n      if (typeof animation != 'boolean') {\n        animation = true;\n      } //\tOpen a \"vertical\" panel.\n\n\n      if (panel.parentElement.matches('.mm-listitem_vertical')) {\n        //\tOpen current and all vertical parent panels.\n        _dom_parents(panel, '.mm-listitem_vertical').forEach(function (listitem) {\n          listitem.classList.add('mm-listitem_opened');\n          _dom_children(listitem, '.mm-panel').forEach(function (panel) {\n            panel.classList.remove('mm-hidden');\n          });\n        }); //\tOpen first non-vertical parent panel.\n\n        var parents = _dom_parents(panel, '.mm-panel').filter(function (panel) {\n          return !panel.parentElement.matches('.mm-listitem_vertical');\n        });\n        this.trigger('openPanel:start', [panel]);\n\n        if (parents.length) {\n          this.openPanel(parents[0]);\n        }\n\n        this.trigger('openPanel:finish', [panel]); //\tOpen a \"horizontal\" panel.\n      } else {\n        if (panel.matches('.mm-panel_opened')) {\n          return;\n        }\n\n        var panels = _dom_children(this.node.pnls, '.mm-panel'),\n            current = _dom_children(this.node.pnls, '.mm-panel_opened')[0]; //\tClose all child panels.\n\n        panels.filter(function (parent) {\n          return parent !== panel;\n        }).forEach(function (parent) {\n          parent.classList.remove('mm-panel_opened-parent');\n        }); //\tOpen all parent panels.\n\n        var parent = panel['mmParent'];\n\n        while (parent) {\n          parent = parent.closest('.mm-panel');\n\n          if (parent) {\n            if (!parent.parentElement.matches('.mm-listitem_vertical')) {\n              parent.classList.add('mm-panel_opened-parent');\n            }\n\n            parent = parent['mmParent'];\n          }\n        } //\tAdd classes for animation.\n\n\n        panels.forEach(function (panel) {\n          panel.classList.remove('mm-panel_highest');\n        });\n        panels.filter(function (hidden) {\n          return hidden !== current;\n        }).filter(function (hidden) {\n          return hidden !== panel;\n        }).forEach(function (hidden) {\n          hidden.classList.add('mm-hidden');\n        });\n        panel.classList.remove('mm-hidden');\n        /**\tStart opening the panel. */\n\n        var openPanelStart = function openPanelStart() {\n          if (current) {\n            current.classList.remove('mm-panel_opened');\n          }\n\n          panel.classList.add('mm-panel_opened');\n\n          if (panel.matches('.mm-panel_opened-parent')) {\n            if (current) {\n              current.classList.add('mm-panel_highest');\n            }\n\n            panel.classList.remove('mm-panel_opened-parent');\n          } else {\n            if (current) {\n              current.classList.add('mm-panel_opened-parent');\n            }\n\n            panel.classList.add('mm-panel_highest');\n          } //\tInvoke \"start\" hook.\n\n\n          _this.trigger('openPanel:start', [panel]);\n        };\n        /**\tFinish opening the panel. */\n\n\n        var openPanelFinish = function openPanelFinish() {\n          if (current) {\n            current.classList.remove('mm-panel_highest');\n            current.classList.add('mm-hidden');\n          }\n\n          panel.classList.remove('mm-panel_highest'); //\tInvoke \"finish\" hook.\n\n          _this.trigger('openPanel:finish', [panel]);\n        };\n\n        if (animation && !panel.matches('.mm-panel_noanimation')) {\n          //\tWithout the timeout the animation will not work because the element had display: none;\n          setTimeout(function () {\n            //\tCallback\n            transitionend(panel, function () {\n              openPanelFinish();\n            }, _this.conf.transitionDuration);\n            openPanelStart();\n          }, this.conf.openingInterval);\n        } else {\n          openPanelStart();\n          openPanelFinish();\n        }\n      } //\tInvoke \"after\" hook.\n\n\n      this.trigger('openPanel:after', [panel]);\n    }\n    /**\n     * Close a panel.\n     * @param {HTMLElement} panel Panel to close.\n     */\n\n  }, {\n    key: \"closePanel\",\n    value: function closePanel(panel) {\n      //\tInvoke \"before\" hook.\n      this.trigger('closePanel:before', [panel]);\n      var li = panel.parentElement; //\tOnly works for \"vertical\" panels.\n\n      if (li.matches('.mm-listitem_vertical')) {\n        li.classList.remove('mm-listitem_opened');\n        panel.classList.add('mm-hidden'); //\tInvoke main hook.\n\n        this.trigger('closePanel', [panel]);\n      } //\tInvoke \"after\" hook.\n\n\n      this.trigger('closePanel:after', [panel]);\n    }\n    /**\n     * Close all opened panels.\n     * @param {HTMLElement} panel Panel to open after closing all other panels.\n     */\n\n  }, {\n    key: \"closeAllPanels\",\n    value: function closeAllPanels(panel) {\n      //\tInvoke \"before\" hook.\n      this.trigger('closeAllPanels:before'); //\tClose all \"vertical\" panels.\n\n      var listitems = this.node.pnls.querySelectorAll('.mm-listitem');\n      listitems.forEach(function (listitem) {\n        listitem.classList.remove('mm-listitem_selected', 'mm-listitem_opened');\n      }); //\tClose all \"horizontal\" panels.\n\n      var panels = _dom_children(this.node.pnls, '.mm-panel'),\n          opened = panel ? panel : panels[0];\n      _dom_children(this.node.pnls, '.mm-panel').forEach(function (panel) {\n        if (panel !== opened) {\n          panel.classList.remove('mm-panel_opened');\n          panel.classList.remove('mm-panel_opened-parent');\n          panel.classList.remove('mm-panel_highest');\n          panel.classList.add('mm-hidden');\n        }\n      }); //\tOpen first panel.\n\n      this.openPanel(opened, false); //\tInvoke \"after\" hook.\n\n      this.trigger('closeAllPanels:after');\n    }\n    /**\n     * Toggle a panel opened/closed.\n     * @param {HTMLElement} panel Panel to open or close.\n     */\n\n  }, {\n    key: \"togglePanel\",\n    value: function togglePanel(panel) {\n      var listitem = panel.parentElement; //\tOnly works for \"vertical\" panels.\n\n      if (listitem.matches('.mm-listitem_vertical')) {\n        this[listitem.matches('.mm-listitem_opened') ? 'closePanel' : 'openPanel'](panel);\n      }\n    }\n    /**\n     * Display a listitem as being \"selected\".\n     * @param {HTMLElement} listitem Listitem to mark.\n     */\n\n  }, {\n    key: \"setSelected\",\n    value: function setSelected(listitem) {\n      //\tInvoke \"before\" hook.\n      this.trigger('setSelected:before', [listitem]); //\tFirst, remove the selected class from all listitems.\n\n      find(this.node.menu, '.mm-listitem_selected').forEach(function (li) {\n        li.classList.remove('mm-listitem_selected');\n      }); //\tNext, add the selected class to the provided listitem.\n\n      listitem.classList.add('mm-listitem_selected'); //\tInvoke \"after\" hook.\n\n      this.trigger('setSelected:after', [listitem]);\n    }\n    /**\n     * Bind functions to a hook (subscriber).\n     * @param {string} \t\thook The hook.\n     * @param {function} \tfunc The function.\n     */\n\n  }, {\n    key: \"bind\",\n    value: function bind(hook, func) {\n      //\tCreate an array for the hook if it does not yet excist.\n      this.hook[hook] = this.hook[hook] || []; //\tPush the function to the array.\n\n      this.hook[hook].push(func);\n    }\n    /**\n     * Invoke the functions bound to a hook (publisher).\n     * @param {string} \thook  \tThe hook.\n     * @param {array}\t[args] \tArguments for the function.\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(hook, args) {\n      if (this.hook[hook]) {\n        for (var h = 0, l = this.hook[hook].length; h < l; h++) {\n          this.hook[hook][h].apply(this, args);\n        }\n      }\n    }\n    /**\n     * Create the API.\n     */\n\n  }, {\n    key: \"_initAPI\",\n    value: function _initAPI() {\n      var _this2 = this;\n\n      //\tWe need this=that because:\n      //\t1) the \"arguments\" object can not be referenced in an arrow function in ES3 and ES5.\n      var that = this;\n      this.API = {};\n\n      this._api.forEach(function (fn) {\n        _this2.API[fn] = function () {\n          var re = that[fn].apply(that, arguments); // 1)\n\n          return typeof re == 'undefined' ? that.API : re;\n        };\n      }); //\tStore the API in the HTML node for external usage.\n\n\n      this.node.menu['mmApi'] = this.API;\n    }\n    /**\n     * Bind the hooks specified in the options (publisher).\n     */\n\n  }, {\n    key: \"_initHooks\",\n    value: function _initHooks() {\n      for (var hook in this.opts.hooks) {\n        this.bind(hook, this.opts.hooks[hook]);\n      }\n    }\n    /**\n     * Initialize the wrappers specified in the options.\n     */\n\n  }, {\n    key: \"_initWrappers\",\n    value: function _initWrappers() {\n      //\tInvoke \"before\" hook.\n      this.trigger('initWrappers:before');\n\n      for (var w = 0; w < this.opts.wrappers.length; w++) {\n        var wrpr = Mmenu.wrappers[this.opts.wrappers[w]];\n\n        if (typeof wrpr == 'function') {\n          wrpr.call(this);\n        }\n      } //\tInvoke \"after\" hook.\n\n\n      this.trigger('initWrappers:after');\n    }\n    /**\n     * Initialize all available add-ons.\n     */\n\n  }, {\n    key: \"_initAddons\",\n    value: function _initAddons() {\n      //\tInvoke \"before\" hook.\n      this.trigger('initAddons:before');\n\n      for (var addon in Mmenu.addons) {\n        Mmenu.addons[addon].call(this);\n      } //\tInvoke \"after\" hook.\n\n\n      this.trigger('initAddons:after');\n    }\n    /**\n     * Initialize the extensions specified in the options.\n     */\n\n  }, {\n    key: \"_initExtensions\",\n    value: function _initExtensions() {\n      var _this3 = this;\n\n      //\tInvoke \"before\" hook.\n      this.trigger('initExtensions:before'); //\tConvert array to object with array.\n\n      if (type(this.opts.extensions) == 'array') {\n        this.opts.extensions = {\n          all: this.opts.extensions\n        };\n      } //\tLoop over object.\n\n\n      for (var query in this.opts.extensions) {\n        if (this.opts.extensions[query].length) {\n          (function () {\n            var classnames = _this3.opts.extensions[query].map(function (query) {\n              return 'mm-menu_' + query;\n            });\n\n            _matchmedia_add(query, function () {\n              var _this3$node$menu$clas;\n\n              (_this3$node$menu$clas = _this3.node.menu.classList).add.apply(_this3$node$menu$clas, mmenu_oncanvas_toConsumableArray(classnames));\n            }, function () {\n              var _this3$node$menu$clas2;\n\n              (_this3$node$menu$clas2 = _this3.node.menu.classList).remove.apply(_this3$node$menu$clas2, mmenu_oncanvas_toConsumableArray(classnames));\n            });\n          })();\n        }\n      } //\tInvoke \"after\" hook.\n\n\n      this.trigger('initExtensions:after');\n    }\n    /**\n     * Initialize the menu.\n     */\n\n  }, {\n    key: \"_initMenu\",\n    value: function _initMenu() {\n      var _this4 = this;\n\n      //\tInvoke \"before\" hook.\n      this.trigger('initMenu:before'); //\tAdd class to the wrapper.\n\n      this.node.wrpr = this.node.wrpr || this.node.menu.parentElement;\n      this.node.wrpr.classList.add('mm-wrapper'); //\tAdd an ID to the menu if it does not yet have one.\n\n      this.node.menu.id = this.node.menu.id || uniqueId(); //\tWrap the panels in a node.\n\n      var panels = create('div.mm-panels');\n      _dom_children(this.node.menu).forEach(function (panel) {\n        if (_this4.conf.panelNodetype.indexOf(panel.nodeName.toLowerCase()) > -1) {\n          panels.append(panel);\n        }\n      });\n      this.node.menu.append(panels);\n      this.node.pnls = panels; //\tAdd class to the menu.\n\n      this.node.menu.classList.add('mm-menu'); //\tInvoke \"after\" hook.\n\n      this.trigger('initMenu:after');\n    }\n    /**\n     * @deprecated\n     */\n\n  }, {\n    key: \"initPanels\",\n    value: function initPanels(panels) {\n      var _this5 = this;\n\n      this.trigger('initPanels:deprecated');\n      panels = panels || _dom_children(this.node.pnls);\n      panels.forEach(function (panel) {\n        _this5.initPanel(panel);\n      });\n    }\n    /**\n     * Initialize panels.\n     * @param {array} [panels] Panels to initialize.\n     */\n\n  }, {\n    key: \"_initPanels\",\n    value: function _initPanels() {\n      var _this6 = this;\n\n      //\tInvoke \"before\" hook.\n      this.trigger('initPanels:before'); //\tOpen / close panels.\n\n      this.clck.push(function (anchor, args) {\n        if (args.inMenu) {\n          var href = anchor.getAttribute('href');\n\n          if (href && href.length > 1 && href.slice(0, 1) == '#') {\n            try {\n              var panel = find(_this6.node.menu, href)[0];\n\n              if (panel && panel.matches('.mm-panel')) {\n                if (anchor.parentElement.matches('.mm-listitem_vertical')) {\n                  _this6.togglePanel(panel);\n                } else {\n                  _this6.openPanel(panel);\n                }\n\n                return true;\n              }\n            } catch (err) {}\n          }\n        }\n      });\n      /** The panels to initiate */\n\n      var panels = _dom_children(this.node.pnls);\n      panels.forEach(function (panel) {\n        _this6.initPanel(panel);\n      }); //\tInvoke \"after\" hook.\n\n      this.trigger('initPanels:after');\n    }\n    /**\n     * Initialize a single panel and its children.\n     * @param {HTMLElement} panel The panel to initialize.\n     */\n\n  }, {\n    key: \"initPanel\",\n    value: function initPanel(panel) {\n      var _this7 = this;\n\n      /** Query selector for possible node-types for panels. */\n      var panelNodetype = this.conf.panelNodetype.join(', ');\n\n      if (panel.matches(panelNodetype)) {\n        //  Only once\n        if (!panel.matches('.mm-panel')) {\n          panel = this._initPanel(panel);\n        }\n\n        if (panel) {\n          /** The sub panels. */\n          var children = []; //\tFind panel > panel\n\n          children.push.apply(children, mmenu_oncanvas_toConsumableArray(_dom_children(panel, '.' + this.conf.classNames.panel))); //\tFind panel listitem > panel\n\n          _dom_children(panel, '.mm-listview').forEach(function (listview) {\n            _dom_children(listview, '.mm-listitem').forEach(function (listitem) {\n              children.push.apply(children, mmenu_oncanvas_toConsumableArray(_dom_children(listitem, panelNodetype)));\n            });\n          }); //  Initiate subpanel(s).\n\n          children.forEach(function (child) {\n            _this7.initPanel(child);\n          });\n        }\n      }\n    }\n    /**\n     * Initialize a single panel.\n     * @param  {HTMLElement} \t\tpanel \tPanel to initialize.\n     * @return {HTMLElement|null} \t\t\tInitialized panel.\n     */\n\n  }, {\n    key: \"_initPanel\",\n    value: function _initPanel(panel) {\n      //\tInvoke \"before\" hook.\n      this.trigger('initPanel:before', [panel]); //\tRefactor panel classnames\n\n      reClass(panel, this.conf.classNames.panel, 'mm-panel');\n      reClass(panel, this.conf.classNames.nopanel, 'mm-nopanel');\n      reClass(panel, this.conf.classNames.inset, 'mm-listview_inset');\n\n      if (panel.matches('.mm-listview_inset')) {\n        panel.classList.add('mm-nopanel');\n      } //\tStop if not supposed to be a panel.\n\n\n      if (panel.matches('.mm-nopanel')) {\n        return null;\n      }\n\n      var id = panel.id || uniqueId(); //  Vertical panel.\n\n      var vertical = panel.matches('.' + this.conf.classNames.vertical) || !this.opts.slidingSubmenus;\n      panel.classList.remove(this.conf.classNames.vertical); //\tWrap UL/OL in DIV\n\n      if (panel.matches('ul, ol')) {\n        panel.removeAttribute('id');\n        /** The panel. */\n\n        var wrapper = create('div'); //\tWrap the listview in the panel.\n\n        panel.before(wrapper);\n        wrapper.append(panel);\n        panel = wrapper;\n      }\n\n      panel.id = id;\n      panel.classList.add('mm-panel', 'mm-hidden');\n      /** The parent listitem. */\n\n      var parent = [panel.parentElement].filter(function (listitem) {\n        return listitem.matches('li');\n      })[0];\n\n      if (vertical) {\n        if (parent) {\n          parent.classList.add('mm-listitem_vertical');\n        }\n      } else {\n        this.node.pnls.append(panel);\n      } //\tStore parent/child relation.\n\n\n      if (parent) {\n        parent['mmChild'] = panel;\n        panel['mmParent'] = parent;\n      }\n\n      this._initNavbar(panel);\n\n      this._initListview(panel); //\tInvoke \"after\" hook.\n\n\n      this.trigger('initPanel:after', [panel]);\n      return panel;\n    }\n    /**\n     * Initialize a navbar.\n     * @param {HTMLElement} panel Panel for the navbar.\n     */\n\n  }, {\n    key: \"_initNavbar\",\n    value: function _initNavbar(panel) {\n      //\tInvoke \"before\" hook.\n      this.trigger('initNavbar:before', [panel]); //\tOnly one navbar per panel.\n\n      if (_dom_children(panel, '.mm-navbar').length) {\n        return;\n      }\n      /** The parent listitem. */\n\n\n      var parent = panel['mmParent'];\n      /** The navbar element. */\n\n      var navbar = create('div.mm-navbar');\n      /** Title in the navbar. */\n\n      var text = this._getPanelTitle(panel, this.opts.navbar.title);\n      /** Href for the title. */\n\n\n      var href = '';\n\n      if (parent) {\n        if (parent.matches('.mm-listitem_vertical')) {\n          return;\n        }\n\n        var opener; //\tListview, the panel wrapping this panel\n\n        if (parent.matches('.mm-listitem')) {\n          opener = _dom_children(parent, '.mm-listitem__text')[0]; //\tNon-listview, the first anchor in the parent panel that links to this panel\n        } else {\n          opener = panel.closest('.mm-panel');\n          opener = find(opener, 'a[href=\"#' + panel.id + '\"]')[0];\n        }\n\n        var id = opener.closest('.mm-panel').id;\n        text = this._getPanelTitle(panel, opener.textContent);\n\n        switch (this.opts.navbar.titleLink) {\n          case 'anchor':\n            href = opener.getAttribute('href');\n            break;\n\n          case 'parent':\n            href = '#' + id;\n            break;\n        }\n\n        var prev = create('a.mm-btn.mm-btn_prev.mm-navbar__btn');\n        prev.setAttribute('href', '#' + id);\n        navbar.append(prev);\n      } else if (!this.opts.navbar.title) {\n        return;\n      }\n\n      if (!this.opts.navbar.add) {\n        _dom_children(panel, '.mm-navbar')[0].classList.add('mm-hidden');\n      }\n\n      var title = create('a.mm-navbar__title');\n      title.innerHTML = text;\n\n      if (href) {\n        title.setAttribute('href', href);\n      }\n\n      navbar.append(title); //\tJust to center the title.\n\n      if (parent) {\n        var next = create('span.mm-btn.mm-navbar__btn');\n        navbar.append(next);\n      }\n\n      panel.prepend(navbar); //\tInvoke \"after\" hook.\n\n      this.trigger('initNavbar:after', [panel]);\n    }\n    /**\n     * Initialize a listview.\n     * @param {HTMLElement} panel Panel for the listview(s).\n     */\n\n  }, {\n    key: \"_initListview\",\n    value: function _initListview(panel) {\n      var _this8 = this;\n\n      //\tInvoke \"before\" hook.\n      this.trigger('initListview:before', [panel]);\n      /** Listviews in the panel. */\n\n      var listviews = _dom_children(panel, 'ul, ol'); //\tRefactor listitems classnames\n\n      listviews.forEach(function (listview) {\n        reClass(listview, _this8.conf.classNames.nolistview, 'mm-nolistview');\n\n        if (!listview.matches('.mm-nolistview')) {\n          listview.classList.add('mm-listview');\n          _dom_children(listview).forEach(function (listitem) {\n            listitem.classList.add('mm-listitem');\n            reClass(listitem, _this8.conf.classNames.selected, 'mm-listitem_selected');\n            reClass(listitem, _this8.conf.classNames.spacer, 'mm-listitem_spacer');\n            _dom_children(listitem, 'a, span').forEach(function (item) {\n              if (!item.matches('.mm-btn')) {\n                item.classList.add('mm-listitem__text');\n              }\n            });\n          });\n        }\n      });\n      /** The parent listitem. */\n\n      var parent = panel['mmParent']; //\tAdd open link to parent listitem\n\n      if (parent && parent.matches('.mm-listitem')) {\n        if (!_dom_children(parent, '.mm-btn').length) {\n          /** The text node. */\n          var item = _dom_children(parent, '.mm-listitem__text')[0];\n\n          if (item) {\n            /** The open link. */\n            var button = create('a.mm-btn.mm-btn_next.mm-listitem__btn');\n            button.setAttribute('href', '#' + panel.id); //  If the item has no link,\n            //      Replace the item with the open link.\n\n            if (item.matches('span')) {\n              button.classList.add('mm-listitem__text');\n              button.innerHTML = item.innerHTML;\n              parent.insertBefore(button, item.nextElementSibling);\n              item.remove(); //  Append the button to the listitem.\n            } else {\n              parent.append(button);\n            }\n          }\n        }\n      } //\tInvoke \"after\" hook.\n\n\n      this.trigger('initListview:after', [panel]);\n    }\n    /**\n     * Find and open the correct panel after creating the menu.\n     */\n\n  }, {\n    key: \"_initOpened\",\n    value: function _initOpened() {\n      //\tInvoke \"before\" hook.\n      this.trigger('initOpened:before');\n      /** The selected listitem(s). */\n\n      var listitems = this.node.pnls.querySelectorAll('.mm-listitem_selected');\n      /** The last selected listitem. */\n\n      var lastitem = null; //\tDeselect the listitems.\n\n      listitems.forEach(function (listitem) {\n        lastitem = listitem;\n        listitem.classList.remove('mm-listitem_selected');\n      }); //\tRe-select the last listitem.\n\n      if (lastitem) {\n        lastitem.classList.add('mm-listitem_selected');\n      }\n      /**\tThe current opened panel. */\n\n\n      var current = lastitem ? lastitem.closest('.mm-panel') : _dom_children(this.node.pnls, '.mm-panel')[0]; //\tOpen the current opened panel.\n\n      this.openPanel(current, false); //\tInvoke \"after\" hook.\n\n      this.trigger('initOpened:after');\n    }\n    /**\n     * Initialize anchors in / for the menu.\n     */\n\n  }, {\n    key: \"_initAnchors\",\n    value: function _initAnchors() {\n      var _this9 = this;\n\n      //\tInvoke \"before\" hook.\n      this.trigger('initAnchors:before');\n      document.addEventListener('click', function (evnt) {\n        /** The clicked element. */\n        var target = evnt.target.closest('a[href]');\n\n        if (!target) {\n          return;\n        }\n        /** Arguments passed to the bound methods. */\n\n\n        var args = {\n          inMenu: target.closest('.mm-menu') === _this9.node.menu,\n          inListview: target.matches('.mm-listitem > a'),\n          toExternal: target.matches('[rel=\"external\"]') || target.matches('[target=\"_blank\"]')\n        };\n        var onClick = {\n          close: null,\n          setSelected: null,\n          preventDefault: target.getAttribute('href').slice(0, 1) == '#'\n        }; //\tFind hooked behavior.\n\n        for (var c = 0; c < _this9.clck.length; c++) {\n          var click = _this9.clck[c].call(_this9, target, args);\n\n          if (click) {\n            if (typeof click == 'boolean') {\n              evnt.preventDefault();\n              return;\n            }\n\n            if (type(click) == 'object') {\n              onClick = extend(click, onClick);\n            }\n          }\n        } //\tDefault behavior for anchors in lists.\n\n\n        if (args.inMenu && args.inListview && !args.toExternal) {\n          //\tSet selected item, Default: true\n          if (valueOrFn(target, _this9.opts.onClick.setSelected, onClick.setSelected)) {\n            _this9.setSelected(target.parentElement);\n          } //\tPrevent default / don't follow link. Default: false.\n\n\n          if (valueOrFn(target, _this9.opts.onClick.preventDefault, onClick.preventDefault)) {\n            evnt.preventDefault();\n          } //\tClose menu. Default: false\n\n\n          if (valueOrFn(target, _this9.opts.onClick.close, onClick.close)) {\n            if (_this9.opts.offCanvas && typeof _this9.close == 'function') {\n              _this9.close();\n            }\n          }\n        }\n      }, true); //\tInvoke \"after\" hook.\n\n      this.trigger('initAnchors:after');\n    }\n    /**\n     * Get the translation for a text.\n     * @param  {string} text \tText to translate.\n     * @return {string}\t\t\tThe translated text.\n     */\n\n  }, {\n    key: \"i18n\",\n    value: function i18n(text) {\n      return get(text, this.conf.language);\n    }\n    /**\n     * Find the title for a panel.\n     * @param \t{HTMLElement}\t\t\tpanel \t\tPanel to search in.\n     * @param \t{string|Function} \t\t[dfault] \tFallback/default title.\n     * @return\t{string}\t\t\t\t\t\t\tThe title for the panel.\n     */\n\n  }, {\n    key: \"_getPanelTitle\",\n    value: function _getPanelTitle(panel, dfault) {\n      var title; //\tFunction\n\n      if (typeof this.opts.navbar.title == 'function') {\n        title = this.opts.navbar.title.call(panel);\n      } //\tData attr\n\n\n      if (typeof title == 'undefined') {\n        title = panel.getAttribute('mm-data-title');\n      }\n\n      if (typeof title == 'string' && title.length) {\n        return title;\n      } //\tFallback\n\n\n      if (typeof dfault == 'string') {\n        return this.i18n(dfault);\n      } else if (typeof dfault == 'function') {\n        return this.i18n(dfault.call(panel));\n      } //\tDefault\n\n\n      if (typeof Mmenu.options.navbar.title == 'string') {\n        return this.i18n(Mmenu.options.navbar.title);\n      }\n\n      return this.i18n('Menu');\n    }\n  }]);\n\n  return Mmenu;\n}();\n/**\tPlugin version. */\n\n\n\nmmenu_oncanvas_Mmenu.version = _version;\n/**\tDefault options for menus. */\n\nmmenu_oncanvas_Mmenu.options = _options;\n/**\tDefault configuration for menus. */\n\nmmenu_oncanvas_Mmenu.configs = _configs;\n/**\tAvailable add-ons for the plugin. */\n\nmmenu_oncanvas_Mmenu.addons = {};\n/** Available wrappers for the plugin. */\n\nmmenu_oncanvas_Mmenu.wrappers = {};\n/**\tGlobally used HTML elements. */\n\nmmenu_oncanvas_Mmenu.node = {};\n/** Globally used variables. */\n\nmmenu_oncanvas_Mmenu.vars = {};\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/offcanvas/_options.js\n\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar offcanvas_options_options = {\n  blockUI: true,\n  moveBackground: true\n};\n/* harmony default export */ var offcanvas_options = (offcanvas_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction extendShorthandOptions(options) {\n  if (_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/offcanvas/_configs.js\nvar offcanvas_configs_configs = {\n  clone: false,\n  menu: {\n    insertMethod: 'prepend',\n    insertSelector: 'body'\n  },\n  page: {\n    nodetype: 'div',\n    selector: null,\n    noSelector: []\n  }\n};\n/* harmony default export */ var offcanvas_configs = (offcanvas_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/_eventlisteners.js\n\n\n/**\n * Make the first letter in a word uppercase.\n * @param {string} word The word.\n */\nfunction ucFirst(word) {\n  if (!word) {\n    return '';\n  }\n\n  return word.charAt(0).toUpperCase() + word.slice(1);\n}\n/**\n * Bind an event listener to an element.\n * @param {HTMLElement} element     The element to bind the event listener to.\n * @param {string}      evnt        The event to listen to.\n * @param {funcion}     handler     The function to invoke.\n */\n\n\nfunction on(element, evnt, handler) {\n  //  Extract the event name and space from the event (the event can include a namespace (click.foo)).\n  var evntParts = evnt.split('.');\n  evnt = 'mmEvent' + ucFirst(evntParts[0]) + ucFirst(evntParts[1]);\n  element[evnt] = element[evnt] || [];\n  element[evnt].push(handler);\n  element.addEventListener(evntParts[0], handler);\n}\n/**\n * Remove an event listener from an element.\n * @param {HTMLElement} element The element to remove the event listeners from.\n * @param {string}      evnt    The event to remove.\n */\n\nfunction off(element, evnt) {\n  //  Extract the event name and space from the event (the event can include a namespace (click.foo)).\n  var evntParts = evnt.split('.');\n  evnt = 'mmEvent' + ucFirst(evntParts[0]) + ucFirst(evntParts[1]);\n  (element[evnt] || []).forEach(function (handler) {\n    element.removeEventListener(evntParts[0], handler);\n  });\n}\n/**\n * Trigger the bound event listeners on an element.\n * @param {HTMLElement} element     The element of which to trigger the event listeners from.\n * @param {string}      evnt        The event to trigger.\n * @param {object}      [options]   Options to pass to the handler.\n */\n\nfunction trigger(element, evnt, options) {\n  var evntParts = evnt.split('.');\n  evnt = 'mmEvent' + ucFirst(evntParts[0]) + ucFirst(evntParts[1]);\n  (element[evnt] || []).forEach(function (handler) {\n    handler(options || {});\n  });\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/offcanvas/mmenu.offcanvas.js\n\n\n\n\n\n\n //  Add the options and configs.\n\nmmenu_oncanvas_Mmenu.options.offCanvas = offcanvas_options;\nmmenu_oncanvas_Mmenu.configs.offCanvas = offcanvas_configs;\n/* harmony default export */ var mmenu_offcanvas = (function () {\n  var _this = this;\n\n  if (!this.opts.offCanvas) {\n    return;\n  }\n\n  var options = extendShorthandOptions(this.opts.offCanvas);\n  this.opts.offCanvas = extend(options, mmenu_oncanvas_Mmenu.options.offCanvas);\n  var configs = this.conf.offCanvas; //\tAdd methods to the API.\n\n  this._api.push('open', 'close', 'setPage'); //\tSetup the menu.\n\n\n  this.vars.opened = false; //\tAdd off-canvas behavior.\n\n  this.bind('initMenu:before', function () {\n    //\tClone if needed.\n    if (configs.clone) {\n      //\tClone the original menu and store it.\n      _this.node.menu = _this.node.menu.cloneNode(true); //\tPrefix all ID's in the cloned menu.\n\n      if (_this.node.menu.id) {\n        _this.node.menu.id = 'mm-' + _this.node.menu.id;\n      }\n\n      find(_this.node.menu, '[id]').forEach(function (elem) {\n        elem.id = 'mm-' + elem.id;\n      });\n    }\n\n    _this.node.wrpr = document.documentElement; //\tPrepend to the <body>\n\n    document.querySelector(configs.menu.insertSelector)[configs.menu.insertMethod](_this.node.menu);\n  });\n  this.bind('initMenu:after', function () {\n    //\tSetup the UI blocker.\n    mmenu_offcanvas_initBlocker.call(_this); //\tSetup the page.\n\n    _this.setPage(mmenu_oncanvas_Mmenu.node.page); //\tSetup window events.\n\n\n    mmenu_offcanvas_initWindow.call(_this); //\tSetup the menu.\n\n    _this.node.menu.classList.add('mm-menu_offcanvas'); //\tOpen if url hash equals menu id (usefull when user clicks the hamburger icon before the menu is created)\n\n\n    var hash = window.location.hash;\n\n    if (hash) {\n      var id = originalId(_this.node.menu.id);\n\n      if (id && id == hash.slice(1)) {\n        setTimeout(function () {\n          _this.open();\n        }, 1000);\n      }\n    }\n  }); //\tSync the blocker to target the page.\n\n  this.bind('setPage:after', function (page) {\n    if (mmenu_oncanvas_Mmenu.node.blck) {\n      _dom_children(mmenu_oncanvas_Mmenu.node.blck, 'a').forEach(function (anchor) {\n        anchor.setAttribute('href', '#' + page.id);\n      });\n    }\n  }); //\tAdd screenreader / aria support\n\n  this.bind('open:start:sr-aria', function () {\n    mmenu_oncanvas_Mmenu.sr_aria(_this.node.menu, 'hidden', false);\n  });\n  this.bind('close:finish:sr-aria', function () {\n    mmenu_oncanvas_Mmenu.sr_aria(_this.node.menu, 'hidden', true);\n  });\n  this.bind('initMenu:after:sr-aria', function () {\n    mmenu_oncanvas_Mmenu.sr_aria(_this.node.menu, 'hidden', true);\n  }); //\tAdd screenreader / text support\n\n  this.bind('initBlocker:after:sr-text', function () {\n    _dom_children(mmenu_oncanvas_Mmenu.node.blck, 'a').forEach(function (anchor) {\n      anchor.innerHTML = mmenu_oncanvas_Mmenu.sr_text(_this.i18n(_this.conf.screenReader.text.closeMenu));\n    });\n  }); //\tAdd click behavior.\n  //\tPrevents default behavior when clicking an anchor\n\n  this.clck.push(function (anchor, args) {\n    //\tOpen menu if the clicked anchor links to the menu\n    var id = originalId(_this.node.menu.id);\n\n    if (id) {\n      if (anchor.matches('[href=\"#' + id + '\"]')) {\n        //\tOpening this menu from within this menu\n        //\t\t-> Open menu\n        if (args.inMenu) {\n          _this.open();\n\n          return true;\n        } //\tOpening this menu from within a second menu\n        //\t\t-> Close the second menu before opening this menu\n\n\n        var menu = anchor.closest('.mm-menu');\n\n        if (menu) {\n          var api = menu['mmApi'];\n\n          if (api && api.close) {\n            api.close();\n            transitionend(menu, function () {\n              _this.open();\n            }, _this.conf.transitionDuration);\n            return true;\n          }\n        } //\tOpening this menu\n\n\n        _this.open();\n\n        return true;\n      }\n    } //\tClose menu\n\n\n    id = mmenu_oncanvas_Mmenu.node.page.id;\n\n    if (id) {\n      if (anchor.matches('[href=\"#' + id + '\"]')) {\n        _this.close();\n\n        return true;\n      }\n    }\n\n    return;\n  });\n});\n/**\n * Open the menu.\n */\n\nmmenu_oncanvas_Mmenu.prototype.open = function () {\n  var _this2 = this;\n\n  //\tInvoke \"before\" hook.\n  this.trigger('open:before');\n\n  if (this.vars.opened) {\n    return;\n  }\n\n  this._openSetup(); //\tWithout the timeout, the animation won't work because the menu had display: none;\n\n\n  setTimeout(function () {\n    _this2._openStart();\n  }, this.conf.openingInterval); //\tInvoke \"after\" hook.\n\n  this.trigger('open:after');\n};\n\nmmenu_oncanvas_Mmenu.prototype._openSetup = function () {\n  var _this$node$wrpr$class,\n      _this3 = this;\n\n  var options = this.opts.offCanvas; //\tClose other menus\n\n  this.closeAllOthers(); //\tStore style and position\n\n  mmenu_oncanvas_Mmenu.node.page['mmStyle'] = mmenu_oncanvas_Mmenu.node.page.getAttribute('style') || ''; //\tTrigger window-resize to measure height\n\n  trigger(window, 'resize.page', {\n    force: true\n  });\n  var clsn = ['mm-wrapper_opened']; //\tAdd options\n\n  if (options.blockUI) {\n    clsn.push('mm-wrapper_blocking');\n  }\n\n  if (options.blockUI == 'modal') {\n    clsn.push('mm-wrapper_modal');\n  }\n\n  if (options.moveBackground) {\n    clsn.push('mm-wrapper_background');\n  }\n\n  (_this$node$wrpr$class = this.node.wrpr.classList).add.apply(_this$node$wrpr$class, clsn); //\tOpen\n  //\tWithout the timeout, the animation won't work because the menu had display: none;\n\n\n  setTimeout(function () {\n    _this3.vars.opened = true;\n  }, this.conf.openingInterval);\n  this.node.menu.classList.add('mm-menu_opened');\n};\n/**\n * Finish opening the menu.\n */\n\n\nmmenu_oncanvas_Mmenu.prototype._openStart = function () {\n  var _this4 = this;\n\n  //\tCallback when the page finishes opening.\n  transitionend(mmenu_oncanvas_Mmenu.node.page, function () {\n    _this4.trigger('open:finish');\n  }, this.conf.transitionDuration); //\tOpening\n\n  this.trigger('open:start');\n  this.node.wrpr.classList.add('mm-wrapper_opening');\n};\n\nmmenu_oncanvas_Mmenu.prototype.close = function () {\n  var _this5 = this;\n\n  //\tInvoke \"before\" hook.\n  this.trigger('close:before');\n\n  if (!this.vars.opened) {\n    return;\n  } //\tCallback when the page finishes closing.\n\n\n  transitionend(mmenu_oncanvas_Mmenu.node.page, function () {\n    var _this5$node$wrpr$clas;\n\n    _this5.node.menu.classList.remove('mm-menu_opened');\n\n    var clsn = ['mm-wrapper_opened', 'mm-wrapper_blocking', 'mm-wrapper_modal', 'mm-wrapper_background'];\n\n    (_this5$node$wrpr$clas = _this5.node.wrpr.classList).remove.apply(_this5$node$wrpr$clas, clsn); //\tRestore style and position\n\n\n    mmenu_oncanvas_Mmenu.node.page.setAttribute('style', mmenu_oncanvas_Mmenu.node.page['mmStyle']);\n    _this5.vars.opened = false;\n\n    _this5.trigger('close:finish');\n  }, this.conf.transitionDuration); //\tClosing\n\n  this.trigger('close:start');\n  this.node.wrpr.classList.remove('mm-wrapper_opening'); //\tInvoke \"after\" hook.\n\n  this.trigger('close:after');\n};\n/**\n * Close all other menus.\n */\n\n\nmmenu_oncanvas_Mmenu.prototype.closeAllOthers = function () {\n  var _this6 = this;\n\n  find(document.body, '.mm-menu_offcanvas').forEach(function (menu) {\n    if (menu !== _this6.node.menu) {\n      var api = menu['mmApi'];\n\n      if (api && api.close) {\n        api.close();\n      }\n    }\n  });\n};\n/**\n * Set the \"page\" node.\n *\n * @param {HTMLElement} page Element to set as the page.\n */\n\n\nmmenu_oncanvas_Mmenu.prototype.setPage = function (page) {\n  //\tInvoke \"before\" hook.\n  this.trigger('setPage:before', [page]);\n  var configs = this.conf.offCanvas; //\tIf no page was specified, find it.\n\n  if (!page) {\n    /** Array of elements that are / could be \"the page\". */\n    var pages = typeof configs.page.selector == 'string' ? find(document.body, configs.page.selector) : _dom_children(document.body, configs.page.nodetype); //\tFilter out elements that are absolutely not \"the page\".\n\n    pages = pages.filter(function (page) {\n      return !page.matches('.mm-menu, .mm-wrapper__blocker');\n    }); //\tFilter out elements that are configured to not be \"the page\".\n\n    if (configs.page.noSelector.length) {\n      pages = pages.filter(function (page) {\n        return !page.matches(configs.page.noSelector.join(', '));\n      });\n    } //\tWrap multiple pages in a single element.\n\n\n    if (pages.length > 1) {\n      var wrapper = create('div');\n      pages[0].before(wrapper);\n      pages.forEach(function (page) {\n        wrapper.append(page);\n      });\n      pages = [wrapper];\n    }\n\n    page = pages[0];\n  }\n\n  page.classList.add('mm-page', 'mm-slideout');\n  page.id = page.id || uniqueId();\n  mmenu_oncanvas_Mmenu.node.page = page; //\tInvoke \"after\" hook.\n\n  this.trigger('setPage:after', [page]);\n};\n/**\n * Initialize the window.\n */\n\n\nvar mmenu_offcanvas_initWindow = function initWindow() {\n  var _this7 = this;\n\n  //\tPrevent tabbing\n  //\tBecause when tabbing outside the menu, the element that gains focus will be centered on the screen.\n  //\tIn other words: The menu would move out of view.\n  off(document.body, 'keydown.tabguard');\n  on(document.body, 'keydown.tabguard', function (evnt) {\n    if (evnt.keyCode == 9) {\n      if (_this7.node.wrpr.matches('.mm-wrapper_opened')) {\n        evnt.preventDefault();\n      }\n    }\n  }); //\tSet \"page\" element min-height to window height\n\n  off(window, 'resize.page');\n  on(window, 'resize.page', function (evnt) {\n    if (mmenu_oncanvas_Mmenu.node.page) {\n      if (_this7.node.wrpr.matches('.mm-wrapper_opening') || evnt.force) {\n        mmenu_oncanvas_Mmenu.node.page.style.minHeight = window.innerHeight + 'px';\n      }\n    }\n  });\n};\n/**\n * Initialize \"blocker\" node\n */\n\n\nvar mmenu_offcanvas_initBlocker = function initBlocker() {\n  var _this8 = this;\n\n  //\tInvoke \"before\" hook.\n  this.trigger('initBlocker:before');\n  var options = this.opts.offCanvas,\n      configs = this.conf.offCanvas;\n\n  if (!options.blockUI) {\n    return;\n  } //\tCreate the blocker node.\n\n\n  if (!mmenu_oncanvas_Mmenu.node.blck) {\n    var blck = create('div.mm-wrapper__blocker.mm-slideout');\n    blck.innerHTML = '<a></a>'; //\tAppend the blocker node to the body.\n\n    document.querySelector(configs.menu.insertSelector).append(blck); //\tStore the blocker node.\n\n    mmenu_oncanvas_Mmenu.node.blck = blck;\n  } //\tClose the menu when\n  //\t\t1) clicking,\n  //\t\t2) touching or\n  //\t\t3) dragging the blocker node.\n\n\n  var closeMenu = function closeMenu(evnt) {\n    evnt.preventDefault();\n    evnt.stopPropagation();\n\n    if (!_this8.node.wrpr.matches('.mm-wrapper_modal')) {\n      _this8.close();\n    }\n  };\n\n  mmenu_oncanvas_Mmenu.node.blck.addEventListener('mousedown', closeMenu); // 1\n\n  mmenu_oncanvas_Mmenu.node.blck.addEventListener('touchstart', closeMenu); // 2\n\n  mmenu_oncanvas_Mmenu.node.blck.addEventListener('touchmove', closeMenu); // 3\n  //\tInvoke \"after\" hook.\n\n  this.trigger('initBlocker:after');\n};\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.replace.js\nvar es6_regexp_replace = __webpack_require__(67);\n\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/_options.js\n\n\n\nfunction _options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _options_typeof = function _typeof(obj) { return typeof obj; }; } else { _options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _options_typeof(obj); }\n\nvar screenreader_options_options = {\n  aria: true,\n  text: true\n};\n/* harmony default export */ var screenreader_options = (screenreader_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction _options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      aria: options,\n      text: options\n    };\n  }\n\n  if (_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/_configs.js\nvar screenreader_configs_configs = {\n  text: {\n    closeMenu: 'Close menu',\n    closeSubmenu: 'Close submenu',\n    openSubmenu: 'Open submenu',\n    toggleSubmenu: 'Toggle submenu'\n  }\n};\n/* harmony default export */ var screenreader_configs = (screenreader_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/translations/nl.js\n/* harmony default export */ var translations_nl = ({\n  'Close menu': 'Menu sluiten',\n  'Close submenu': 'Submenu sluiten',\n  'Open submenu': 'Submenu openen',\n  'Toggle submenu': 'Submenu wisselen'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/translations/fa.js\n/* harmony default export */ var translations_fa = ({\n  'Close menu': 'بستن منو',\n  'Close submenu': 'بستن زیرمنو',\n  'Open submenu': 'بازکردن زیرمنو',\n  'Toggle submenu': 'سوییچ زیرمنو'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/translations/de.js\n/* harmony default export */ var translations_de = ({\n  'Close menu': 'Menü schließen',\n  'Close submenu': 'Untermenü schließen',\n  'Open submenu': 'Untermenü öffnen',\n  'Toggle submenu': 'Untermenü wechseln'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/translations/ru.js\n/* harmony default export */ var translations_ru = ({\n  'Close menu': 'Закрыть меню',\n  'Close submenu': 'Закрыть подменю',\n  'Open submenu': 'Открыть подменю',\n  'Toggle submenu': 'Переключить подменю'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/translations/translate.js\n\n\n\n\n\n/* harmony default export */ var translations_translate = (function () {\n  _i18n_add(translations_nl, 'nl');\n  _i18n_add(translations_fa, 'fa');\n  _i18n_add(translations_de, 'de');\n  _i18n_add(translations_ru, 'ru');\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/screenreader/mmenu.screenreader.js\n\n\n\n\n\n\n\n\n\n\nfunction mmenu_screenreader_toConsumableArray(arr) { return mmenu_screenreader_arrayWithoutHoles(arr) || mmenu_screenreader_iterableToArray(arr) || mmenu_screenreader_unsupportedIterableToArray(arr) || mmenu_screenreader_nonIterableSpread(); }\n\nfunction mmenu_screenreader_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction mmenu_screenreader_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return mmenu_screenreader_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mmenu_screenreader_arrayLikeToArray(o, minLen); }\n\nfunction mmenu_screenreader_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction mmenu_screenreader_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return mmenu_screenreader_arrayLikeToArray(arr); }\n\nfunction mmenu_screenreader_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n //  Add the translations.\n\ntranslations_translate(); //  Add the options and configs.\n\nmmenu_oncanvas_Mmenu.options.screenReader = screenreader_options;\nmmenu_oncanvas_Mmenu.configs.screenReader = screenreader_configs;\n/* harmony default export */ var mmenu_screenreader = (function () {\n  var _this = this;\n\n  //\tExtend options.\n  var options = _options_extendShorthandOptions(this.opts.screenReader);\n  this.opts.screenReader = extend(options, mmenu_oncanvas_Mmenu.options.screenReader); //\tExtend configs.\n\n  var configs = this.conf.screenReader; //\tAdd Aria-* attributes\n\n  if (options.aria) {\n    //\tAdd screenreader / aria hooks for add-ons\n    //\tIn orde to keep this list short, only extend hooks that are actually used by other add-ons.\n    this.bind('initAddons:after', function () {\n      _this.bind('initMenu:after', function () {\n        this.trigger('initMenu:after:sr-aria', [].slice.call(arguments));\n      });\n\n      _this.bind('initNavbar:after', function () {\n        this.trigger('initNavbar:after:sr-aria', [].slice.call(arguments));\n      });\n\n      _this.bind('openPanel:start', function () {\n        this.trigger('openPanel:start:sr-aria', [].slice.call(arguments));\n      });\n\n      _this.bind('close:start', function () {\n        this.trigger('close:start:sr-aria', [].slice.call(arguments));\n      });\n\n      _this.bind('close:finish', function () {\n        this.trigger('close:finish:sr-aria', [].slice.call(arguments));\n      });\n\n      _this.bind('open:start', function () {\n        this.trigger('open:start:sr-aria', [].slice.call(arguments));\n      });\n\n      _this.bind('initOpened:after', function () {\n        this.trigger('initOpened:after:sr-aria', [].slice.call(arguments));\n      });\n    }); //\tUpdate aria-hidden for hidden / visible listitems\n\n    this.bind('updateListview', function () {\n      _this.node.pnls.querySelectorAll('.mm-listitem').forEach(function (listitem) {\n        mmenu_oncanvas_Mmenu.sr_aria(listitem, 'hidden', listitem.matches('.mm-hidden'));\n      });\n    }); //\tUpdate aria-hidden for the panels when opening and closing a panel.\n\n    this.bind('openPanel:start', function (panel) {\n      /** Panels that should be considered \"hidden\". */\n      var hidden = find(_this.node.pnls, '.mm-panel').filter(function (hide) {\n        return hide !== panel;\n      }).filter(function (hide) {\n        return !hide.parentElement.matches('.mm-panel');\n      });\n      /** Panels that should be considered \"visible\". */\n\n      var visible = [panel];\n      find(panel, '.mm-listitem_vertical .mm-listitem_opened').forEach(function (listitem) {\n        visible.push.apply(visible, mmenu_screenreader_toConsumableArray(_dom_children(listitem, '.mm-panel')));\n      }); //\tSet the panels to be considered \"hidden\" or \"visible\".\n\n      hidden.forEach(function (panel) {\n        mmenu_oncanvas_Mmenu.sr_aria(panel, 'hidden', true);\n      });\n      visible.forEach(function (panel) {\n        mmenu_oncanvas_Mmenu.sr_aria(panel, 'hidden', false);\n      });\n    });\n    this.bind('closePanel', function (panel) {\n      mmenu_oncanvas_Mmenu.sr_aria(panel, 'hidden', true);\n    }); //\tAdd aria-haspopup and aria-owns to prev- and next buttons.\n\n    this.bind('initPanel:after', function (panel) {\n      find(panel, '.mm-btn').forEach(function (button) {\n        mmenu_oncanvas_Mmenu.sr_aria(button, 'haspopup', true);\n        var href = button.getAttribute('href');\n\n        if (href) {\n          mmenu_oncanvas_Mmenu.sr_aria(button, 'owns', href.replace('#', ''));\n        }\n      });\n    }); //\tAdd aria-hidden for navbars in panels.\n\n    this.bind('initNavbar:after', function (panel) {\n      /** The navbar in the panel. */\n      var navbar = _dom_children(panel, '.mm-navbar')[0];\n      /** Whether or not the navbar should be considered \"hidden\". */\n\n      var hidden = navbar.matches('.mm-hidden'); //\tSet the navbar to be considered \"hidden\" or \"visible\".\n\n      mmenu_oncanvas_Mmenu.sr_aria(navbar, 'hidden', hidden);\n    }); //\tText\n\n    if (options.text) {\n      //\tAdd aria-hidden to titles in navbars\n      if (this.opts.navbar.titleLink == 'parent') {\n        this.bind('initNavbar:after', function (panel) {\n          /** The navbar in the panel. */\n          var navbar = _dom_children(panel, '.mm-navbar')[0];\n          /** Whether or not the navbar should be considered \"hidden\". */\n\n          var hidden = navbar.querySelector('.mm-btn_prev') ? true : false; //\tSet the navbar-title to be considered \"hidden\" or \"visible\".\n\n          mmenu_oncanvas_Mmenu.sr_aria(find(navbar, '.mm-navbar__title')[0], 'hidden', hidden);\n        });\n      }\n    }\n  } //\tAdd screenreader text\n\n\n  if (options.text) {\n    //\tAdd screenreader / text hooks for add-ons\n    //\tIn orde to keep this list short, only extend hooks that are actually used by other add-ons.\n    this.bind('initAddons:after', function () {\n      _this.bind('setPage:after', function () {\n        this.trigger('setPage:after:sr-text', [].slice.call(arguments));\n      });\n\n      _this.bind('initBlocker:after', function () {\n        this.trigger('initBlocker:after:sr-text', [].slice.call(arguments));\n      });\n    }); //\tAdd text to the prev-buttons.\n\n    this.bind('initNavbar:after', function (panel) {\n      var navbar = _dom_children(panel, '.mm-navbar')[0];\n\n      if (navbar) {\n        var button = _dom_children(navbar, '.mm-btn_prev')[0];\n\n        if (button) {\n          button.innerHTML = mmenu_oncanvas_Mmenu.sr_text(_this.i18n(configs.text.closeSubmenu));\n        }\n      }\n    }); //\tAdd text to the next-buttons.\n\n    this.bind('initListview:after', function (panel) {\n      var parent = panel['mmParent'];\n\n      if (parent) {\n        var next = _dom_children(parent, '.mm-btn_next')[0];\n\n        if (next) {\n          var text = _this.i18n(configs.text[next.parentElement.matches('.mm-listitem_vertical') ? 'toggleSubmenu' : 'openSubmenu']);\n\n          next.innerHTML += mmenu_oncanvas_Mmenu.sr_text(text);\n        }\n      }\n    });\n  }\n}); //\tMethods\n\n(function () {\n  var attr = function attr(element, _attr, value) {\n    element[_attr] = value;\n\n    if (value) {\n      element.setAttribute(_attr, value.toString());\n    } else {\n      element.removeAttribute(_attr);\n    }\n  };\n  /**\n   * Add aria (property and) attribute to a HTML element.\n   *\n   * @param {HTMLElement} \telement\tThe node to add the attribute to.\n   * @param {string}\t\t\tname\tThe (non-aria-prefixed) attribute name.\n   * @param {string|boolean}\tvalue\tThe attribute value.\n   */\n\n\n  mmenu_oncanvas_Mmenu.sr_aria = function (element, name, value) {\n    attr(element, 'aria-' + name, value);\n  };\n  /**\n   * Add role attribute to a HTML element.\n   *\n   * @param {HTMLElement}\t\telement\tThe node to add the attribute to.\n   * @param {string|boolean}\tvalue\tThe attribute value.\n   */\n\n\n  mmenu_oncanvas_Mmenu.sr_role = function (element, value) {\n    attr(element, 'role', value);\n  };\n  /**\n   * Wrap a text in a screen-reader-only node.\n   *\n   * @param \t{string} text\tThe text to wrap.\n   * @return\t{string}\t\tThe wrapped text.\n   */\n\n\n  mmenu_oncanvas_Mmenu.sr_text = function (text) {\n    return '<span class=\"mm-sronly\">' + text + '</span>';\n  };\n})();\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/scrollbugfix/_options.js\n\n\n\nfunction scrollbugfix_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { scrollbugfix_options_typeof = function _typeof(obj) { return typeof obj; }; } else { scrollbugfix_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return scrollbugfix_options_typeof(obj); }\n\nvar scrollbugfix_options_options = {\n  fix: true\n};\n/* harmony default export */ var scrollbugfix_options = (scrollbugfix_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction scrollbugfix_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      fix: options\n    };\n  }\n\n  if (scrollbugfix_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/_support.js\n/** Whether or not touch gestures are supported by the browser. */\nvar touch = 'ontouchstart' in window || (navigator.msMaxTouchPoints ? true : false) || false;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/core/scrollbugfix/mmenu.scrollbugfix.js\n\n\n\n\n\n //  Add the options.\n\nmmenu_oncanvas_Mmenu.options.scrollBugFix = scrollbugfix_options;\n/* harmony default export */ var mmenu_scrollbugfix = (function () {\n  var _this = this;\n\n  //\tThe scrollBugFix add-on fixes a scrolling bug\n  //\t\t1) on touch devices\n  //\t\t2) in an off-canvas menu\n  //\t\t3) that -when opened- blocks the UI from interaction\n  if (!touch || // 1\n  !this.opts.offCanvas || // 2\n  !this.opts.offCanvas.blockUI // 3\n  ) {\n      return;\n    } //\tExtend options.\n\n\n  var options = scrollbugfix_options_extendShorthandOptions(this.opts.scrollBugFix);\n  this.opts.scrollBugFix = extend(options, mmenu_oncanvas_Mmenu.options.scrollBugFix);\n\n  if (!options.fix) {\n    return;\n  }\n\n  var touchDir = touchDirection(this.node.menu);\n  /**\n   * Prevent an event from doing its default and stop its propagation.\n   * @param {ScrollBehavior} evnt The event to stop.\n   */\n\n  function stop(evnt) {\n    evnt.preventDefault();\n    evnt.stopPropagation();\n  } //  Prevent the page from scrolling when scrolling in the menu.\n\n\n  this.node.menu.addEventListener('scroll', stop, {\n    //  Make sure to tell the browser the event will be prevented.\n    passive: false\n  }); //  Prevent the page from scrolling when dragging in the menu.\n\n  this.node.menu.addEventListener('touchmove', function (evnt) {\n    var panel = evnt.target.closest('.mm-panel');\n\n    if (panel) {\n      //  When dragging a non-scrollable panel,\n      //      we can simple preventDefault and stopPropagation.\n      if (panel.scrollHeight === panel.offsetHeight) {\n        stop(evnt); //  When dragging a scrollable panel,\n        //      that is fully scrolled up (or down).\n        //      It will not trigger the scroll event when dragging down (or up) (because you can't scroll up (or down)),\n        //      so we need to match the dragging direction with the scroll position before preventDefault and stopPropagation,\n        //      otherwise the panel would not scroll at all in any direction.\n      } else if ( //  When scrolled up and dragging down\n      panel.scrollTop == 0 && touchDir.get() == 'down' || //  When scrolled down and dragging up\n      panel.scrollHeight == panel.scrollTop + panel.offsetHeight && touchDir.get() == 'up') {\n        stop(evnt);\n      } //  When dragging anything other than a panel.\n\n    } else {\n      stop(evnt);\n    }\n  }, {\n    //  Make sure to tell the browser the event can be prevented.\n    passive: false\n  }); //  Some small additional improvements\n  //\tScroll the current opened panel to the top when opening the menu.\n\n  this.bind('open:start', function () {\n    var panel = _dom_children(_this.node.pnls, '.mm-panel_opened')[0];\n    panel.scrollTop = 0;\n  }); //\tFix issue after device rotation change.\n\n  window.addEventListener('orientationchange', function (evnt) {\n    var panel = _dom_children(_this.node.pnls, '.mm-panel_opened')[0];\n    panel.scrollTop = 0; //\tApparently, changing the overflow-scrolling property triggers some event :)\n\n    panel.style['-webkit-overflow-scrolling'] = 'auto';\n    panel.style['-webkit-overflow-scrolling'] = 'touch';\n  });\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/autoheight/_options.js\n\n\n\nfunction autoheight_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { autoheight_options_typeof = function _typeof(obj) { return typeof obj; }; } else { autoheight_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return autoheight_options_typeof(obj); }\n\nvar opts = {\n  height: 'default'\n};\n/* harmony default export */ var autoheight_options = (opts);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction autoheight_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean' && options) {\n    options = {\n      height: 'auto'\n    };\n  }\n\n  if (typeof options == 'string') {\n    options = {\n      height: options\n    };\n  }\n\n  if (autoheight_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/autoheight/mmenu.autoheight.js\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.autoHeight = autoheight_options;\n/* harmony default export */ var mmenu_autoheight = (function () {\n  var _this = this;\n\n  var options = autoheight_options_extendShorthandOptions(this.opts.autoHeight);\n  this.opts.autoHeight = extend(options, mmenu_oncanvas_Mmenu.options.autoHeight);\n\n  if (options.height != 'auto' && options.height != 'highest') {\n    return;\n  }\n\n  var setHeight = function () {\n    var getCurrent = function getCurrent() {\n      var panel = _dom_children(_this.node.pnls, '.mm-panel_opened')[0];\n\n      if (panel) {\n        panel = measurablePanel(panel);\n      } //\tFallback, just to be sure we have a panel.\n\n\n      if (!panel) {\n        panel = _dom_children(_this.node.pnls, '.mm-panel')[0];\n      }\n\n      return panel.offsetHeight;\n    };\n\n    var getHighest = function getHighest() {\n      var highest = 0;\n      _dom_children(_this.node.pnls, '.mm-panel').forEach(function (panel) {\n        panel = measurablePanel(panel);\n        highest = Math.max(highest, panel.offsetHeight);\n      });\n      return highest;\n    };\n\n    var measurablePanel = function measurablePanel(panel) {\n      //\tIf it's a vertically expanding panel...\n      if (panel.parentElement.matches('.mm-listitem_vertical')) {\n        //\t...find the first parent panel that isn't.\n        panel = _dom_parents(panel, '.mm-panel').filter(function (panel) {\n          return !panel.parentElement.matches('.mm-listitem_vertical');\n        })[0];\n      }\n\n      return panel;\n    };\n\n    return function () {\n      if (_this.opts.offCanvas && !_this.vars.opened) {\n        return;\n      }\n\n      var style = window.getComputedStyle(_this.node.pnls);\n\n      var _top = Math.max(parseInt(style.top, 10), 0) || 0,\n          _bot = Math.max(parseInt(style.bottom, 10), 0) || 0,\n          _hgh = 0; //\tThe \"measuring\" classname undoes some CSS to be able to measure the height.\n\n\n      _this.node.menu.classList.add('mm-menu_autoheight-measuring'); //\tMeasure the height.\n\n\n      if (options.height == 'auto') {\n        _hgh = getCurrent();\n      } else if (options.height == 'highest') {\n        _hgh = getHighest();\n      } //\tSet the height.\n\n\n      _this.node.menu.style.height = _hgh + _top + _bot + 'px'; //\tRemove the \"measuring\" classname.\n\n      _this.node.menu.classList.remove('mm-menu_autoheight-measuring');\n    };\n  }(); //\tAdd the autoheight class to the menu.\n\n\n  this.bind('initMenu:after', function () {\n    _this.node.menu.classList.add('mm-menu_autoheight');\n  });\n\n  if (this.opts.offCanvas) {\n    //\tMeasure the height when opening the off-canvas menu.\n    this.bind('open:start', setHeight);\n  }\n\n  if (options.height == 'highest') {\n    //\tMeasure the height when initiating panels.\n    this.bind('initPanels:after', setHeight);\n  }\n\n  if (options.height == 'auto') {\n    //\tMeasure the height when updating listviews.\n    this.bind('updateListview', setHeight); //\tMeasure the height when opening a panel.\n\n    this.bind('openPanel:start', setHeight);\n  }\n});\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.search.js\nvar es6_regexp_search = __webpack_require__(126);\n\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/backbutton/_options.js\n\n\n\nfunction backbutton_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { backbutton_options_typeof = function _typeof(obj) { return typeof obj; }; } else { backbutton_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return backbutton_options_typeof(obj); }\n\nvar backbutton_options_options = {\n  close: false,\n  open: false\n};\n/* harmony default export */ var backbutton_options = (backbutton_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction backbutton_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      close: options\n    };\n  }\n\n  if (backbutton_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/backbutton/mmenu.backbutton.js\n\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.backButton = backbutton_options;\n/* harmony default export */ var mmenu_backbutton = (function () {\n  var _this = this;\n\n  if (!this.opts.offCanvas) {\n    return;\n  }\n\n  var options = backbutton_options_extendShorthandOptions(this.opts.backButton);\n  this.opts.backButton = extend(options, mmenu_oncanvas_Mmenu.options.backButton);\n\n  var _menu = '#' + this.node.menu.id; //\tClose menu\n\n\n  if (options.close) {\n    var states = [];\n\n    var setStates = function setStates() {\n      states = [_menu];\n      _dom_children(_this.node.pnls, '.mm-panel_opened, .mm-panel_opened-parent').forEach(function (panel) {\n        states.push('#' + panel.id);\n      });\n    };\n\n    this.bind('open:finish', function () {\n      history.pushState(null, document.title, _menu);\n    });\n    this.bind('open:finish', setStates);\n    this.bind('openPanel:finish', setStates);\n    this.bind('close:finish', function () {\n      states = [];\n      history.back();\n      history.pushState(null, document.title, location.pathname + location.search);\n    });\n    window.addEventListener('popstate', function (evnt) {\n      if (_this.vars.opened) {\n        if (states.length) {\n          states = states.slice(0, -1);\n          var hash = states[states.length - 1];\n\n          if (hash == _menu) {\n            _this.close();\n          } else {\n            _this.openPanel(_this.node.menu.querySelector(hash));\n\n            history.pushState(null, document.title, _menu);\n          }\n        }\n      }\n    });\n  }\n\n  if (options.open) {\n    window.addEventListener('popstate', function (evnt) {\n      if (!_this.vars.opened && location.hash == _menu) {\n        _this.open();\n      }\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/columns/_options.js\n\n\n\nfunction columns_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { columns_options_typeof = function _typeof(obj) { return typeof obj; }; } else { columns_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return columns_options_typeof(obj); }\n\nvar columns_options_options = {\n  add: false,\n  visible: {\n    min: 1,\n    max: 3\n  }\n};\n/* harmony default export */ var columns_options = (columns_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction columns_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      add: options\n    };\n  }\n\n  if (typeof options == 'number') {\n    options = {\n      add: true,\n      visible: options\n    };\n  }\n\n  if (columns_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  if (typeof options.visible == 'number') {\n    options.visible = {\n      min: options.visible,\n      max: options.visible\n    };\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/columns/mmenu.columns.js\n\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.columns = columns_options;\n/* harmony default export */ var mmenu_columns = (function () {\n  var _this = this;\n\n  var options = columns_options_extendShorthandOptions(this.opts.columns);\n  this.opts.columns = extend(options, mmenu_oncanvas_Mmenu.options.columns); //\tAdd the columns\n\n  if (options.add) {\n    options.visible.min = Math.max(1, Math.min(6, options.visible.min));\n    options.visible.max = Math.max(options.visible.min, Math.min(6, options.visible.max));\n    /** Columns related clasnames for the menu. */\n\n    var colm = [];\n    /** Columns related clasnames for the panels. */\n\n    var colp = [];\n    /** Classnames to remove from panels in favor of showing columns. */\n\n    var rmvc = ['mm-panel_opened', 'mm-panel_opened-parent', 'mm-panel_highest'];\n\n    for (var i = 0; i <= options.visible.max; i++) {\n      colm.push('mm-menu_columns-' + i);\n      colp.push('mm-panel_columns-' + i);\n    }\n\n    rmvc.push.apply(rmvc, colp); //\tClose all later opened panels\n\n    this.bind('openPanel:before', function (panel) {\n      /** The parent panel. */\n      var parent;\n\n      if (panel) {\n        parent = panel['mmParent'];\n      }\n\n      if (!parent) {\n        return;\n      }\n\n      parent = parent.closest('.mm-panel');\n\n      if (!parent) {\n        return;\n      }\n\n      var classname = parent.className;\n\n      if (!classname.length) {\n        return;\n      }\n\n      classname = classname.split('mm-panel_columns-')[1];\n\n      if (!classname) {\n        return;\n      }\n\n      var colnr = parseInt(classname.split(' ')[0], 10) + 1;\n\n      while (colnr > 0) {\n        panel = _dom_children(_this.node.pnls, '.mm-panel_columns-' + colnr)[0];\n\n        if (panel) {\n          var _panel$classList;\n\n          console.log(panel);\n          colnr++;\n\n          (_panel$classList = panel.classList).remove.apply(_panel$classList, rmvc);\n\n          panel.classList.add('mm-hidden');\n        } else {\n          colnr = -1;\n          break;\n        }\n      }\n    });\n    this.bind('openPanel:start', function (panel) {\n      var _this$node$menu$class;\n\n      var columns = _dom_children(_this.node.pnls, '.mm-panel_opened-parent').length;\n\n      if (!panel.matches('.mm-panel_opened-parent')) {\n        columns++;\n      }\n\n      columns = Math.min(options.visible.max, Math.max(options.visible.min, columns));\n\n      (_this$node$menu$class = _this.node.menu.classList).remove.apply(_this$node$menu$class, colm);\n\n      _this.node.menu.classList.add('mm-menu_columns-' + columns);\n\n      var panels = [];\n      _dom_children(_this.node.pnls, '.mm-panel').forEach(function (panel) {\n        var _panel$classList2;\n\n        (_panel$classList2 = panel.classList).remove.apply(_panel$classList2, colp);\n\n        if (panel.matches('.mm-panel_opened-parent')) {\n          panels.push(panel);\n        }\n      });\n      panels.push(panel);\n      panels.slice(-options.visible.max).forEach(function (panel, p) {\n        panel.classList.add('mm-panel_columns-' + p);\n      });\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/counters/_options.js\n\n\n\nfunction counters_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { counters_options_typeof = function _typeof(obj) { return typeof obj; }; } else { counters_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return counters_options_typeof(obj); }\n\nvar counters_options_options = {\n  add: false,\n  addTo: 'panels',\n  count: false\n};\n/* harmony default export */ var counters_options = (counters_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction counters_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      add: options,\n      addTo: 'panels',\n      count: options\n    };\n  }\n\n  if (counters_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  if (options.addTo == 'panels') {\n    options.addTo = '.mm-panel';\n  }\n\n  return options;\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/counters/mmenu.counters.js\n\n\n\n\n\n\n\n\n\nfunction mmenu_counters_toConsumableArray(arr) { return mmenu_counters_arrayWithoutHoles(arr) || mmenu_counters_iterableToArray(arr) || mmenu_counters_unsupportedIterableToArray(arr) || mmenu_counters_nonIterableSpread(); }\n\nfunction mmenu_counters_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction mmenu_counters_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return mmenu_counters_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mmenu_counters_arrayLikeToArray(o, minLen); }\n\nfunction mmenu_counters_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction mmenu_counters_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return mmenu_counters_arrayLikeToArray(arr); }\n\nfunction mmenu_counters_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.counters = counters_options; //\tAdd the classnames.\n\nmmenu_oncanvas_Mmenu.configs.classNames.counters = {\n  counter: 'Counter'\n};\n/* harmony default export */ var mmenu_counters = (function () {\n  var _this = this;\n\n  var options = counters_options_extendShorthandOptions(this.opts.counters);\n  this.opts.counters = extend(options, mmenu_oncanvas_Mmenu.options.counters); //\tRefactor counter class\n\n  this.bind('initListview:after', function (panel) {\n    var cntrclss = _this.conf.classNames.counters.counter,\n        counters = panel.querySelectorAll('.' + cntrclss);\n    counters.forEach(function (counter) {\n      reClass(counter, cntrclss, 'mm-counter');\n    });\n  }); //\tAdd the counters after a listview is initiated.\n\n  if (options.add) {\n    this.bind('initListview:after', function (panel) {\n      if (!panel.matches(options.addTo)) {\n        return;\n      }\n\n      var parent = panel['mmParent'];\n\n      if (parent) {\n        //\tCheck if no counter already excists.\n        if (!parent.querySelector('.mm-counter')) {\n          var counter = create('span.mm-counter');\n          var btn = _dom_children(parent, '.mm-btn')[0];\n\n          if (btn) {\n            btn.prepend(counter);\n          }\n        }\n      }\n    });\n  }\n\n  if (options.count) {\n    var count = function count(panel) {\n      var panels = panel ? [panel] : _dom_children(_this.node.pnls, '.mm-panel');\n      panels.forEach(function (panel) {\n        var parent = panel['mmParent'];\n\n        if (!parent) {\n          return;\n        }\n\n        var counter = parent.querySelector('.mm-counter');\n\n        if (!counter) {\n          return;\n        }\n\n        var listitems = [];\n        _dom_children(panel, '.mm-listview').forEach(function (listview) {\n          listitems.push.apply(listitems, mmenu_counters_toConsumableArray(_dom_children(listview)));\n        });\n        counter.innerHTML = filterLI(listitems).length.toString();\n      });\n    };\n\n    this.bind('initListview:after', count);\n    this.bind('updateListview', count);\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/dividers/_options.js\n\n\n\nfunction dividers_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { dividers_options_typeof = function _typeof(obj) { return typeof obj; }; } else { dividers_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return dividers_options_typeof(obj); }\n\nvar dividers_options_options = {\n  add: false,\n  addTo: 'panels',\n  type: null\n};\n/* harmony default export */ var dividers_options = (dividers_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction dividers_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      add: options\n    };\n  }\n\n  if (dividers_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  if (options.addTo == 'panels') {\n    options.addTo = '.mm-panel';\n  }\n\n  return options;\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/dividers/mmenu.dividers.js\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.dividers = dividers_options; //  Add the classnames.\n\nmmenu_oncanvas_Mmenu.configs.classNames.divider = 'Divider';\n/* harmony default export */ var mmenu_dividers = (function () {\n  var _this = this;\n\n  var options = dividers_options_extendShorthandOptions(this.opts.dividers);\n  this.opts.dividers = extend(options, mmenu_oncanvas_Mmenu.options.dividers); //\tRefactor divider classname\n\n  this.bind('initListview:after', function (panel) {\n    var listviews = _dom_children(panel, 'ul, ol');\n    listviews.forEach(function (listview) {\n      _dom_children(listview).forEach(function (listitem) {\n        reClass(listitem, _this.conf.classNames.divider, 'mm-divider');\n\n        if (listitem.matches('.mm-divider')) {\n          listitem.classList.remove('mm-listitem');\n        }\n      });\n    });\n  }); //\tAdd classname to the menu to specify the type of the dividers\n\n  if (options.type) {\n    this.bind('initMenu:after', function () {\n      _this.node.menu.classList.add('mm-menu_dividers-' + options.type);\n    });\n  } //\tAdd dividers\n\n\n  if (options.add) {\n    this.bind('initListview:after', function (panel) {\n      if (!panel.matches(options.addTo)) {\n        return;\n      }\n\n      find(panel, '.mm-divider').forEach(function (divider) {\n        divider.remove();\n      });\n      find(panel, '.mm-listview').forEach(function (listview) {\n        var lastletter = '',\n            listitems = _dom_children(listview);\n        filterLI(listitems).forEach(function (listitem) {\n          var letter = _dom_children(listitem, '.mm-listitem__text')[0].textContent.trim().toLowerCase()[0];\n\n          if (letter.length && letter != lastletter) {\n            lastletter = letter;\n            var divider = create('li.mm-divider');\n            divider.textContent = letter;\n            listview.insertBefore(divider, listitem);\n          }\n        });\n      });\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/drag/_options.js\n\n\n\nfunction drag_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { drag_options_typeof = function _typeof(obj) { return typeof obj; }; } else { drag_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return drag_options_typeof(obj); }\n\nvar drag_options_options = {\n  menu: {\n    open: false,\n    node: null,\n    maxStartPos: 100,\n    threshold: 50\n  },\n  panels: {\n    close: false\n  },\n  vendors: {\n    hammer: {}\n  }\n};\n/* harmony default export */ var drag_options = (drag_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction drag_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      menu: options,\n      panels: options\n    };\n  }\n\n  if (drag_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  if (typeof options.menu == 'boolean') {\n    options.menu = {\n      open: options.menu\n    };\n  }\n\n  if (drag_options_typeof(options.menu) != 'object') {\n    options.menu = {};\n  }\n\n  if (typeof options.panels == 'boolean') {\n    options.panels = {\n      close: options.panels\n    };\n  }\n\n  if (drag_options_typeof(options.panels) != 'object') {\n    options.panels = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/drag/_configs.js\nvar drag_configs_configs = {\n  menu: {\n    width: {\n      perc: 0.8,\n      min: 140,\n      max: 440\n    },\n    height: {\n      perc: 0.8,\n      min: 140,\n      max: 880\n    }\n  }\n};\n/* harmony default export */ var drag_configs = (drag_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/drag/mmenu.drag.js\n\n\n\n\n\n //\tAdd the options and configs.\n\nmmenu_oncanvas_Mmenu.options.drag = drag_options;\nmmenu_oncanvas_Mmenu.configs.drag = drag_configs;\n/* harmony default export */ var mmenu_drag = (function () {\n  var _this = this;\n\n  if (!this.opts.offCanvas) {\n    return;\n  }\n\n  if (typeof window['Hammer'] != 'function' || window['Hammer'].VERSION < 2) {\n    return;\n  }\n\n  var options = drag_options_extendShorthandOptions(this.opts.drag);\n  this.opts.drag = extend(options, mmenu_oncanvas_Mmenu.options.drag);\n  var configs = this.conf.drag;\n\n  function minMax(val, min, max) {\n    if (val < min) {\n      val = min;\n    }\n\n    if (val > max) {\n      val = max;\n    }\n\n    return val;\n  } //\tDrag open the menu\n\n\n  if (options.menu.open) {\n    this.bind('setPage:after', function () {\n      //\tdefaults for \"left\"\n      var drag = {\n        events: 'panleft panright',\n        typeLower: 'x',\n        typeUpper: 'X',\n        open_dir: 'right',\n        close_dir: 'left',\n        negative: false\n      };\n      var _dimension = 'width',\n          _winDimension = 'innerWidth',\n          _direction = drag.open_dir;\n\n      var doPanstart = function doPanstart(pos) {\n        if (pos <= options.menu.maxStartPos) {\n          _stage = 1;\n        }\n      };\n\n      var getSlideNodes = function getSlideNodes() {\n        return find(document.body, '.mm-slideout');\n      };\n\n      var _stage = 0,\n          _distance = 0,\n          _maxDistance = 0;\n      var new_distance, drag_distance; //\tFind menu position from Positioning extension\n\n      var x = _this.opts.extensions['all'];\n      var position = typeof x == 'undefined' ? 'left' : x.indexOf('mm-menu_position-right') > -1 ? 'right' : x.indexOf('mm-menu_position-top') > -1 ? 'top' : x.indexOf('mm-menu_position-bottom') > -1 ? 'bottom' : 'left';\n      var zposition = typeof x == 'undefined' ? 'back' : x.indexOf('mm-menu_position-top') > -1 || x.indexOf('mm-menu_position-bottom') > -1 || x.indexOf('mm-menu_position-front') > -1 ? 'front' : 'back';\n\n      switch (position) {\n        case 'top':\n        case 'bottom':\n          drag.events = 'panup pandown';\n          drag.typeLower = 'y';\n          drag.typeUpper = 'Y';\n          _dimension = 'height';\n          _winDimension = 'innerHeight';\n          break;\n      }\n\n      switch (position) {\n        case 'right':\n        case 'bottom':\n          drag.negative = true;\n\n          doPanstart = function doPanstart(pos) {\n            if (pos >= window[_winDimension] - options.menu.maxStartPos) {\n              _stage = 1;\n            }\n          };\n\n          break;\n      }\n\n      switch (position) {\n        case 'right':\n          drag.open_dir = 'left';\n          drag.close_dir = 'right';\n          break;\n\n        case 'top':\n          drag.open_dir = 'down';\n          drag.close_dir = 'up';\n          break;\n\n        case 'bottom':\n          drag.open_dir = 'up';\n          drag.close_dir = 'down';\n          break;\n      }\n\n      switch (zposition) {\n        case 'front':\n          getSlideNodes = function getSlideNodes() {\n            return [this.node.menu];\n          };\n\n          break;\n      }\n\n      var slideOutNodes;\n      var dragNode = valueOrFn(_this.node.menu, options.menu.node, mmenu_oncanvas_Mmenu.node.page);\n\n      if (typeof dragNode == 'string') {\n        dragNode = document.querySelector(dragNode);\n      } //\tBind events\n\n\n      var _hammer = new window['Hammer'](dragNode, _this.opts.drag.vendors.hammer);\n\n      _hammer.on('panstart', function (evnt) {\n        doPanstart.call(_this, evnt.center[drag.typeLower]);\n        slideOutNodes = getSlideNodes.call(_this);\n        _direction = drag.open_dir;\n      });\n\n      _hammer.on(drag.events + ' panend', function (evnt) {\n        if (_stage > 0) {\n          evnt.preventDefault();\n        }\n      });\n\n      _hammer.on(drag.events, function (evnt) {\n        new_distance = evnt['delta' + drag.typeUpper];\n\n        if (drag.negative) {\n          new_distance = -new_distance;\n        }\n\n        if (new_distance != _distance) {\n          _direction = new_distance >= _distance ? drag.open_dir : drag.close_dir;\n        }\n\n        _distance = new_distance;\n\n        if (_distance > options.menu.threshold) {\n          if (_stage == 1) {\n            if (_this.node.wrpr.matches('.mm-wrapper_opened')) {\n              return;\n            }\n\n            _stage = 2;\n\n            _this._openSetup();\n\n            _this.trigger('open:start');\n\n            _this.node.wrpr.classList.add('mm-wrapper_dragging');\n\n            _maxDistance = minMax(window[_winDimension] * configs.menu[_dimension].perc, configs.menu[_dimension].min, configs.menu[_dimension].max);\n          }\n        }\n\n        if (_stage == 2) {\n          drag_distance = minMax(_distance, 10, _maxDistance) - (zposition == 'front' ? _maxDistance : 0);\n\n          if (drag.negative) {\n            drag_distance = -drag_distance;\n          }\n\n          var css_value = 'translate' + drag.typeUpper + '(' + drag_distance + 'px )';\n          slideOutNodes.forEach(function (node) {\n            node.style['-webkit-transform'] = '-webkit-' + css_value;\n            node.style['transform'] = css_value;\n          });\n        }\n      });\n\n      _hammer.on('panend', function (evnt) {\n        if (_stage == 2) {\n          _this.node.wrpr.classList.remove('mm-wrapper_dragging');\n\n          slideOutNodes.forEach(function (node) {\n            node.style['-webkit-transform'] = '';\n            node.style['transform'] = '';\n          });\n\n          _this[_direction == drag.open_dir ? '_openStart' : 'close']();\n        }\n\n        _stage = 0;\n      });\n    });\n  } //\tDrag close panels\n\n\n  if (options.panels.close) {\n    this.bind('initPanel:after', function (panel) {\n      var parent = panel['mmParent '];\n\n      if (parent) {\n        parent = parent.closest('.mm-panel');\n\n        var _hammer = new window['Hammer'](panel, _this.opts.drag.vendors.hammer),\n            timeout = null;\n\n        _hammer.on('panright', function (evnt) {\n          if (timeout) {\n            return;\n          }\n\n          _this.openPanel(parent); //\tprevent dragging while panel still open.\n\n\n          timeout = setTimeout(function () {\n            clearTimeout(timeout);\n            timeout = null;\n          }, _this.conf.openingInterval + _this.conf.transitionDuration);\n        });\n      }\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/dropdown/_options.js\n\n\n\nfunction dropdown_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { dropdown_options_typeof = function _typeof(obj) { return typeof obj; }; } else { dropdown_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return dropdown_options_typeof(obj); }\n\nvar dropdown_options_options = {\n  drop: false,\n  fitViewport: true,\n  event: 'click',\n  position: {},\n  tip: true\n};\n/* harmony default export */ var dropdown_options = (dropdown_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction dropdown_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean' && options) {\n    options = {\n      drop: options\n    };\n  }\n\n  if (dropdown_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  if (typeof options.position == 'string') {\n    options.position = {\n      of: options.position\n    };\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/dropdown/_configs.js\nvar dropdown_configs_configs = {\n  offset: {\n    button: {\n      x: -5,\n      y: 5\n    },\n    viewport: {\n      x: 20,\n      y: 20\n    }\n  },\n  height: {\n    max: 880\n  },\n  width: {\n    max: 440\n  }\n};\n/* harmony default export */ var dropdown_configs = (dropdown_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/dropdown/mmenu.dropdown.js\n\n\n\n\n\n\n\n\n\n\nfunction mmenu_dropdown_toConsumableArray(arr) { return mmenu_dropdown_arrayWithoutHoles(arr) || mmenu_dropdown_iterableToArray(arr) || mmenu_dropdown_unsupportedIterableToArray(arr) || mmenu_dropdown_nonIterableSpread(); }\n\nfunction mmenu_dropdown_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction mmenu_dropdown_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return mmenu_dropdown_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mmenu_dropdown_arrayLikeToArray(o, minLen); }\n\nfunction mmenu_dropdown_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction mmenu_dropdown_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return mmenu_dropdown_arrayLikeToArray(arr); }\n\nfunction mmenu_dropdown_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n //\tAdd the options and configs.\n\nmmenu_oncanvas_Mmenu.options.dropdown = dropdown_options;\nmmenu_oncanvas_Mmenu.configs.dropdown = dropdown_configs;\n/* harmony default export */ var mmenu_dropdown = (function () {\n  var _this = this;\n\n  if (!this.opts.offCanvas) {\n    return;\n  }\n\n  var options = dropdown_options_extendShorthandOptions(this.opts.dropdown);\n  this.opts.dropdown = extend(options, mmenu_oncanvas_Mmenu.options.dropdown);\n  var configs = this.conf.dropdown;\n\n  if (!options.drop) {\n    return;\n  }\n\n  var button;\n  this.bind('initMenu:after', function () {\n    _this.node.menu.classList.add('mm-menu_dropdown');\n\n    if (typeof options.position.of != 'string') {\n      var id = originalId(_this.node.menu.id);\n\n      if (id && id.length) {\n        options.position.of = '[href=\"#' + id + '\"]';\n      }\n    }\n\n    if (typeof options.position.of != 'string') {\n      return;\n    } //\tGet the button to put the menu next to\n\n\n    button = find(document.body, options.position.of)[0]; //\tEmulate hover effect\n\n    var events = options.event.split(' ');\n\n    if (events.length == 1) {\n      events[1] = events[0];\n    }\n\n    if (events[0] == 'hover') {\n      button.addEventListener('mouseenter', function (evnt) {\n        _this.open();\n      }, {\n        passive: true\n      });\n    }\n\n    if (events[1] == 'hover') {\n      _this.node.menu.addEventListener('mouseleave', function (evnt) {\n        _this.close();\n      }, {\n        passive: true\n      });\n    }\n  }); //\tAdd/remove classname and style when opening/closing the menu\n\n  this.bind('open:start', function () {\n    _this.node.menu['mmStyle'] = _this.node.menu.getAttribute('style');\n\n    _this.node.wrpr.classList.add('mm-wrapper_dropdown');\n  });\n  this.bind('close:finish', function () {\n    _this.node.menu.setAttribute('style', _this.node.menu['mmStyle']);\n\n    _this.node.wrpr.classList.remove('mm-wrapper_dropdown');\n  });\n  /**\n   * Find the position (x, y) and sizes (width, height) for the menu.\n   *\n   * @param  {string} dir The direction to measure (\"x\" for horizontal, \"y\" for vertical)\n   * @param  {object} obj The object where (previously) measured values are stored.\n   * @return {object}\t\tThe object where measered values are stored.\n   */\n\n  var getPosition = function getPosition(dir, obj) {\n    var css = obj[0],\n        cls = obj[1];\n\n    var _scrollPos = dir == 'x' ? 'scrollX' : 'scrollY',\n        _outerSize = dir == 'x' ? 'offsetWidth' : 'offsetHeight',\n        _startPos = dir == 'x' ? 'left' : 'top',\n        _stopPos = dir == 'x' ? 'right' : 'bottom',\n        _size = dir == 'x' ? 'width' : 'height',\n        _winSize = dir == 'x' ? 'innerWidth' : 'innerHeight',\n        _maxSize = dir == 'x' ? 'maxWidth' : 'maxHeight',\n        _position = null;\n\n    var scrollPos = window[_scrollPos],\n        startPos = offset(button, _startPos) - scrollPos,\n        stopPos = startPos + button[_outerSize],\n        windowSize = window[_winSize];\n    /** Offset for the menu relative to the button. */\n\n    var offs = configs.offset.button[dir] + configs.offset.viewport[dir]; //\tPosition set in option\n\n    if (options.position[dir]) {\n      switch (options.position[dir]) {\n        case 'left':\n        case 'bottom':\n          _position = 'after';\n          break;\n\n        case 'right':\n        case 'top':\n          _position = 'before';\n          break;\n      }\n    } //\tPosition not set in option, find most space\n\n\n    if (_position === null) {\n      _position = startPos + (stopPos - startPos) / 2 < windowSize / 2 ? 'after' : 'before';\n    } //\tSet position and max\n\n\n    var val, max;\n\n    if (_position == 'after') {\n      val = dir == 'x' ? startPos : stopPos;\n      max = windowSize - (val + offs);\n      css[_startPos] = val + configs.offset.button[dir] + 'px';\n      css[_stopPos] = 'auto';\n\n      if (options.tip) {\n        cls.push('mm-menu_tip-' + (dir == 'x' ? 'left' : 'top'));\n      }\n    } else {\n      val = dir == 'x' ? stopPos : startPos;\n      max = val - offs;\n      css[_stopPos] = 'calc( 100% - ' + (val - configs.offset.button[dir]) + 'px )';\n      css[_startPos] = 'auto';\n\n      if (options.tip) {\n        cls.push('mm-menu_tip-' + (dir == 'x' ? 'right' : 'bottom'));\n      }\n    }\n\n    if (options.fitViewport) {\n      css[_maxSize] = Math.min(configs[_size].max, max) + 'px';\n    }\n\n    return [css, cls];\n  };\n\n  function position() {\n    if (!this.vars.opened) {\n      return;\n    }\n\n    this.node.menu.setAttribute('style', this.node.menu['mmStyle']);\n    var obj = [{}, []];\n    obj = getPosition.call(this, 'y', obj);\n    obj = getPosition.call(this, 'x', obj);\n\n    for (var s in obj[0]) {\n      this.node.menu.style[s] = obj[0][s];\n    }\n\n    if (options.tip) {\n      var _this$node$menu$class;\n\n      this.node.menu.classList.remove('mm-menu_tip-left', 'mm-menu_tip-right', 'mm-menu_tip-top', 'mm-menu_tip-bottom');\n\n      (_this$node$menu$class = this.node.menu.classList).add.apply(_this$node$menu$class, mmenu_dropdown_toConsumableArray(obj[1]));\n    }\n  }\n\n  this.bind('open:start', position);\n  window.addEventListener('resize', function (evnt) {\n    position.call(_this);\n  }, {\n    passive: true\n  });\n\n  if (!this.opts.offCanvas.blockUI) {\n    window.addEventListener('scroll', function (evnt) {\n      position.call(_this);\n    }, {\n      passive: true\n    });\n  }\n});\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.string.fixed.js\nvar es6_string_fixed = __webpack_require__(156);\n\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/fixedelements/_configs.js\nvar fixedelements_configs_configs = {\n  fixed: {\n    insertMethod: 'append',\n    insertSelector: 'body'\n  },\n  sticky: {\n    offset: 0\n  }\n};\n/* harmony default export */ var fixedelements_configs = (fixedelements_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/fixedelements/mmenu.fixedelements.js\n\n\n\n //\tAdd the configs.\n\nmmenu_oncanvas_Mmenu.configs.fixedElements = fixedelements_configs; //\tAdd the classnames.\n\nmmenu_oncanvas_Mmenu.configs.classNames.fixedElements = {\n  fixed: 'Fixed',\n  sticky: 'Sticky'\n};\n/* harmony default export */ var mmenu_fixedelements = (function () {\n  var _this = this;\n\n  if (!this.opts.offCanvas) {\n    return;\n  }\n\n  var configs = this.conf.fixedElements;\n\n  var _fixd, _stck, fixed, stick, wrppr;\n\n  this.bind('setPage:after', function (page) {\n    //\tFixed elements\n    _fixd = _this.conf.classNames.fixedElements.fixed;\n    wrppr = find(document, configs.fixed.insertSelector)[0];\n    fixed = find(page, '.' + _fixd);\n    fixed.forEach(function (fxd) {\n      reClass(fxd, _fixd, 'mm-slideout');\n      wrppr[configs.fixed.insertMethod](fxd);\n    }); //\tSticky elements\n\n    _stck = _this.conf.classNames.fixedElements.sticky;\n    find(page, '.' + _stck).forEach(function (stick) {\n      reClass(stick, _stck, 'mm-sticky');\n    });\n    stick = find(page, '.mm-sticky');\n  });\n  this.bind('open:start', function () {\n    if (stick.length) {\n      if (window.getComputedStyle(_this.node.wrpr).overflow == 'hidden') {\n        var scrollTop = window.scrollY + configs.sticky.offset;\n        stick.forEach(function (element) {\n          element.style.top = parseInt(window.getComputedStyle(element).top, 10) + scrollTop + 'px';\n        });\n      }\n    }\n  });\n  this.bind('close:finish', function () {\n    stick.forEach(function (element) {\n      element.style.top = '';\n    });\n  });\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/iconbar/_options.js\n\nvar iconbar_options_options = {\n  use: false,\n  top: [],\n  bottom: [],\n  position: 'left',\n  type: 'default'\n};\n/* harmony default export */ var iconbar_options = (iconbar_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction iconbar_options_extendShorthandOptions(options) {\n  if (type(options) == 'array') {\n    options = {\n      use: true,\n      top: options\n    };\n  }\n\n  if (type(options) != 'object') {\n    options = {};\n  }\n\n  if (typeof options.use == 'undefined') {\n    options.use = true;\n  }\n\n  if (typeof options.use == 'boolean' && options.use) {\n    options.use = true;\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/iconbar/mmenu.iconbar.js\n\n\n\n\n\n //  Add the options.\n\nmmenu_oncanvas_Mmenu.options.iconbar = iconbar_options;\n/* harmony default export */ var mmenu_iconbar = (function () {\n  var _this = this;\n\n  var options = iconbar_options_extendShorthandOptions(this.opts.iconbar);\n  this.opts.iconbar = extend(options, mmenu_oncanvas_Mmenu.options.iconbar);\n\n  if (!options.use) {\n    return;\n  }\n\n  var iconbar;\n  ['top', 'bottom'].forEach(function (position, n) {\n    var ctnt = options[position]; //\tExtend shorthand options\n\n    if (type(ctnt) != 'array') {\n      ctnt = [ctnt];\n    } //\tCreate node\n\n\n    var part = create('div.mm-iconbar__' + position); //\tAdd content\n\n    for (var c = 0, l = ctnt.length; c < l; c++) {\n      if (typeof ctnt[c] == 'string') {\n        part.innerHTML += ctnt[c];\n      } else {\n        part.append(ctnt[c]);\n      }\n    }\n\n    if (part.children.length) {\n      if (!iconbar) {\n        iconbar = create('div.mm-iconbar');\n      }\n\n      iconbar.append(part);\n    }\n  }); //\tAdd to menu\n\n  if (iconbar) {\n    //\tAdd the iconbar.\n    this.bind('initMenu:after', function () {\n      _this.node.menu.prepend(iconbar);\n    }); //\tEn-/disable the iconbar.\n\n    var classname = 'mm-menu_iconbar-' + options.position;\n\n    var enable = function enable() {\n      _this.node.menu.classList.add(classname);\n\n      mmenu_oncanvas_Mmenu.sr_aria(iconbar, 'hidden', false);\n    };\n\n    var disable = function disable() {\n      _this.node.menu.classList.remove(classname);\n\n      mmenu_oncanvas_Mmenu.sr_aria(iconbar, 'hidden', true);\n    };\n\n    if (typeof options.use == 'boolean') {\n      this.bind('initMenu:after', enable);\n    } else {\n      _matchmedia_add(options.use, enable, disable);\n    } //\tTabs\n\n\n    if (options.type == 'tabs') {\n      iconbar.classList.add('mm-iconbar_tabs');\n      iconbar.addEventListener('click', function (evnt) {\n        var anchor = evnt.target;\n\n        if (!anchor.matches('a')) {\n          return;\n        }\n\n        if (anchor.matches('.mm-iconbar__tab_selected')) {\n          evnt.stopImmediatePropagation();\n          return;\n        }\n\n        try {\n          var panel = _this.node.menu.querySelector(anchor.getAttribute('href'))[0];\n\n          if (panel && panel.matches('.mm-panel')) {\n            evnt.preventDefault();\n            evnt.stopImmediatePropagation();\n\n            _this.openPanel(panel, false);\n          }\n        } catch (err) {}\n      });\n\n      var selectTab = function selectTab(panel) {\n        find(iconbar, 'a').forEach(function (anchor) {\n          anchor.classList.remove('mm-iconbar__tab_selected');\n        });\n        var anchor = find(iconbar, '[href=\"#' + panel.id + '\"]')[0];\n\n        if (anchor) {\n          anchor.classList.add('mm-iconbar__tab_selected');\n        } else {\n          var parent = panel['mmParent'];\n\n          if (parent) {\n            selectTab(parent.closest('.mm-panel'));\n          }\n        }\n      };\n\n      this.bind('openPanel:start', selectTab);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/iconpanels/_options.js\n\n\n\nfunction iconpanels_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { iconpanels_options_typeof = function _typeof(obj) { return typeof obj; }; } else { iconpanels_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return iconpanels_options_typeof(obj); }\n\nvar iconpanels_options_options = {\n  add: false,\n  blockPanel: true,\n  hideDivider: false,\n  hideNavbar: true,\n  visible: 3\n};\n/* harmony default export */ var iconpanels_options = (iconpanels_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction iconpanels_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      add: options\n    };\n  }\n\n  if (typeof options == 'number' || typeof options == 'string') {\n    options = {\n      add: true,\n      visible: options\n    };\n  }\n\n  if (iconpanels_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/iconpanels/mmenu.iconpanels.js\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.iconPanels = iconpanels_options;\n/* harmony default export */ var mmenu_iconpanels = (function () {\n  var _this = this;\n\n  var options = iconpanels_options_extendShorthandOptions(this.opts.iconPanels);\n  this.opts.iconPanels = extend(options, mmenu_oncanvas_Mmenu.options.iconPanels);\n  var keepFirst = false;\n\n  if (options.visible == 'first') {\n    keepFirst = true;\n    options.visible = 1;\n  }\n\n  options.visible = Math.min(3, Math.max(1, options.visible));\n  options.visible++; //\tAdd the iconpanels\n\n  if (options.add) {\n    this.bind('initMenu:after', function () {\n      var _this$node$menu$class;\n\n      var classnames = ['mm-menu_iconpanel'];\n\n      if (options.hideNavbar) {\n        classnames.push('mm-menu_hidenavbar');\n      }\n\n      if (options.hideDivider) {\n        classnames.push('mm-menu_hidedivider');\n      }\n\n      (_this$node$menu$class = _this.node.menu.classList).add.apply(_this$node$menu$class, classnames);\n    });\n    var classnames = [];\n\n    if (!keepFirst) {\n      for (var i = 0; i <= options.visible; i++) {\n        classnames.push('mm-panel_iconpanel-' + i);\n      }\n    }\n\n    this.bind('openPanel:start', function (panel) {\n      var panels = _dom_children(_this.node.pnls, '.mm-panel');\n      panel = panel || panels[0];\n\n      if (panel.parentElement.matches('.mm-listitem_vertical')) {\n        return;\n      }\n\n      if (keepFirst) {\n        panels.forEach(function (panel, p) {\n          panel.classList[p == 0 ? 'add' : 'remove']('mm-panel_iconpanel-first');\n        });\n      } else {\n        //\tRemove the \"iconpanel\" classnames from all panels.\n        panels.forEach(function (panel) {\n          var _panel$classList;\n\n          (_panel$classList = panel.classList).remove.apply(_panel$classList, classnames);\n        }); //\tFilter out panels that are not opened.\n\n        panels = panels.filter(function (panel) {\n          return panel.matches('.mm-panel_opened-parent');\n        }); //\tAdd the current panel to the list.\n\n        var panelAdded = false;\n        panels.forEach(function (elem) {\n          if (panel === elem) {\n            panelAdded = true;\n          }\n        });\n\n        if (!panelAdded) {\n          panels.push(panel);\n        } //\tRemove the \"hidden\" classname from all opened panels.\n\n\n        panels.forEach(function (panel) {\n          panel.classList.remove('mm-hidden');\n        }); //\tSlice the opened panels to the max visible amount.\n\n        panels = panels.slice(-options.visible); //\tAdd the \"iconpanel\" classnames.\n\n        panels.forEach(function (panel, p) {\n          panel.classList.add('mm-panel_iconpanel-' + p);\n        });\n      }\n    });\n    this.bind('initListview:after', function (panel) {\n      if (options.blockPanel && !panel.parentElement.matches('.mm-listitem_vertical') && !_dom_children(panel, '.mm-panel__blocker')[0]) {\n        var blocker = create('a.mm-panel__blocker');\n        blocker.setAttribute('href', '#' + panel.closest('.mm-panel').id);\n        panel.prepend(blocker);\n      }\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/keyboardnavigation/_options.js\n\n\n\nfunction keyboardnavigation_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { keyboardnavigation_options_typeof = function _typeof(obj) { return typeof obj; }; } else { keyboardnavigation_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return keyboardnavigation_options_typeof(obj); }\n\nvar keyboardnavigation_options_options = {\n  enable: false,\n  enhance: false\n};\n/* harmony default export */ var keyboardnavigation_options = (keyboardnavigation_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction keyboardnavigation_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean' || typeof options == 'string') {\n    options = {\n      enable: options\n    };\n  }\n\n  if (keyboardnavigation_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/keyboardnavigation/mmenu.keyboardnavigation.js\n\n\n\n\n\n\n\n\n\nfunction mmenu_keyboardnavigation_toConsumableArray(arr) { return mmenu_keyboardnavigation_arrayWithoutHoles(arr) || mmenu_keyboardnavigation_iterableToArray(arr) || mmenu_keyboardnavigation_unsupportedIterableToArray(arr) || mmenu_keyboardnavigation_nonIterableSpread(); }\n\nfunction mmenu_keyboardnavigation_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction mmenu_keyboardnavigation_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return mmenu_keyboardnavigation_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mmenu_keyboardnavigation_arrayLikeToArray(o, minLen); }\n\nfunction mmenu_keyboardnavigation_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction mmenu_keyboardnavigation_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return mmenu_keyboardnavigation_arrayLikeToArray(arr); }\n\nfunction mmenu_keyboardnavigation_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n //  Add the options.\n\nmmenu_oncanvas_Mmenu.options.keyboardNavigation = keyboardnavigation_options;\n/* harmony default export */ var mmenu_keyboardnavigation = (function () {\n  var _this = this;\n\n  //\tKeyboard navigation on touchscreens opens the virtual keyboard :/\n  //\tLets prevent that.\n  if (touch) {\n    return;\n  }\n\n  var options = keyboardnavigation_options_extendShorthandOptions(this.opts.keyboardNavigation);\n  this.opts.keyboardNavigation = extend(options, mmenu_oncanvas_Mmenu.options.keyboardNavigation); //\tEnable keyboard navigation\n\n  if (options.enable) {\n    var menuStart = create('button.mm-tabstart.mm-sronly'),\n        menuEnd = create('button.mm-tabend.mm-sronly'),\n        blockerEnd = create('button.mm-tabend.mm-sronly');\n    this.bind('initMenu:after', function () {\n      if (options.enhance) {\n        _this.node.menu.classList.add('mm-menu_keyboardfocus');\n      }\n\n      mmenu_keyboardnavigation_initWindow.call(_this, options.enhance);\n    });\n    this.bind('initOpened:before', function () {\n      _this.node.menu.prepend(menuStart);\n\n      _this.node.menu.append(menuEnd);\n\n      _dom_children(_this.node.menu, '.mm-navbars-top, .mm-navbars-bottom').forEach(function (navbars) {\n        navbars.querySelectorAll('.mm-navbar__title').forEach(function (title) {\n          title.setAttribute('tabindex', '-1');\n        });\n      });\n    });\n    this.bind('initBlocker:after', function () {\n      mmenu_oncanvas_Mmenu.node.blck.append(blockerEnd);\n      _dom_children(mmenu_oncanvas_Mmenu.node.blck, 'a')[0].classList.add('mm-tabstart');\n    });\n    var focusable = 'input, select, textarea, button, label, a[href]';\n\n    var setFocus = function setFocus(panel) {\n      panel = panel || _dom_children(_this.node.pnls, '.mm-panel_opened')[0];\n      var focus = null; //\tFocus already is on an element in a navbar in this menu.\n\n      var navbar = document.activeElement.closest('.mm-navbar');\n\n      if (navbar) {\n        if (navbar.closest('.mm-menu') == _this.node.menu) {\n          return;\n        }\n      } //\tSet the focus to the first focusable element by default.\n\n\n      if (options.enable == 'default') {\n        //\tFirst visible anchor in a listview in the current panel.\n        focus = find(panel, '.mm-listview a[href]:not(.mm-hidden)')[0]; //\tFirst focusable and visible element in the current panel.\n\n        if (!focus) {\n          focus = find(panel, focusable + ':not(.mm-hidden)')[0];\n        } //\tFirst focusable and visible element in a navbar.\n\n\n        if (!focus) {\n          var elements = [];\n          _dom_children(_this.node.menu, '.mm-navbars_top, .mm-navbars_bottom').forEach(function (navbar) {\n            elements.push.apply(elements, mmenu_keyboardnavigation_toConsumableArray(find(navbar, focusable + ':not(.mm-hidden)')));\n          });\n          focus = elements[0];\n        }\n      } //\tDefault.\n\n\n      if (!focus) {\n        focus = _dom_children(_this.node.menu, '.mm-tabstart')[0];\n      }\n\n      if (focus) {\n        focus.focus();\n      }\n    };\n\n    this.bind('open:finish', setFocus);\n    this.bind('openPanel:finish', setFocus); //\tAdd screenreader / aria support.\n\n    this.bind('initOpened:after:sr-aria', function () {\n      [_this.node.menu, mmenu_oncanvas_Mmenu.node.blck].forEach(function (element) {\n        _dom_children(element, '.mm-tabstart, .mm-tabend').forEach(function (tabber) {\n          mmenu_oncanvas_Mmenu.sr_aria(tabber, 'hidden', true);\n          mmenu_oncanvas_Mmenu.sr_role(tabber, 'presentation');\n        });\n      });\n    });\n  }\n});\n/**\n * Initialize the window for keyboard navigation.\n * @param {boolean} enhance - Whether or not to also rich enhance the keyboard behavior.\n **/\n\nvar mmenu_keyboardnavigation_initWindow = function initWindow(enhance) {\n  var _this2 = this;\n\n  //\tRe-enable tabbing in general\n  off(document.body, 'keydown.tabguard'); //\tIntersept the target when tabbing.\n\n  off(document.body, 'focusin.tabguard');\n  on(document.body, 'focusin.tabguard', function (evnt) {\n    if (_this2.node.wrpr.matches('.mm-wrapper_opened')) {\n      var target = evnt.target;\n\n      if (target.matches('.mm-tabend')) {\n        var next; //\tJump from menu to blocker.\n\n        if (target.parentElement.matches('.mm-menu')) {\n          if (mmenu_oncanvas_Mmenu.node.blck) {\n            next = mmenu_oncanvas_Mmenu.node.blck;\n          }\n        } //\tJump to opened menu.\n\n\n        if (target.parentElement.matches('.mm-wrapper__blocker')) {\n          next = find(document.body, '.mm-menu_offcanvas.mm-menu_opened')[0];\n        } //\tIf no available element found, stay in current element.\n\n\n        if (!next) {\n          next = target.parentElement;\n        }\n\n        if (next) {\n          _dom_children(next, '.mm-tabstart')[0].focus();\n        }\n      }\n    }\n  }); //\tAdd Additional keyboard behavior.\n\n  off(document.body, 'keydown.navigate');\n  on(document.body, 'keydown.navigate', function (evnt) {\n    var target = evnt.target;\n    var menu = target.closest('.mm-menu');\n\n    if (menu) {\n      var api = menu['mmApi'];\n\n      if (!target.matches('input, textarea')) {\n        switch (evnt.keyCode) {\n          //\tpress enter to toggle and check\n          case 13:\n            if (target.matches('.mm-toggle') || target.matches('.mm-check')) {\n              target.dispatchEvent(new Event('click'));\n            }\n\n            break;\n          //\tprevent spacebar or arrows from scrolling the page\n\n          case 32: //\tspace\n\n          case 37: //\tleft\n\n          case 38: //\ttop\n\n          case 39: //\tright\n\n          case 40:\n            //\tbottom\n            evnt.preventDefault();\n            break;\n        }\n      }\n\n      if (enhance) {\n        //\tspecial case for input\n        if (target.matches('input')) {\n          switch (evnt.keyCode) {\n            //\tempty searchfield with esc\n            case 27:\n              target.value = '';\n              break;\n          }\n        } else {\n          var _api = menu['mmApi'];\n\n          switch (evnt.keyCode) {\n            //\tclose submenu with backspace\n            case 8:\n              var parent = find(menu, '.mm-panel_opened')[0]['mmParent'];\n\n              if (parent) {\n                _api.openPanel(parent.closest('.mm-panel'));\n              }\n\n              break;\n            //\tclose menu with esc\n\n            case 27:\n              if (menu.matches('.mm-menu_offcanvas')) {\n                _api.close();\n              }\n\n              break;\n          }\n        }\n      }\n    }\n  });\n};\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/lazysubmenus/_options.js\n\n\n\nfunction lazysubmenus_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { lazysubmenus_options_typeof = function _typeof(obj) { return typeof obj; }; } else { lazysubmenus_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return lazysubmenus_options_typeof(obj); }\n\nvar lazysubmenus_options_options = {\n  load: false\n};\n/* harmony default export */ var lazysubmenus_options = (lazysubmenus_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction lazysubmenus_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      load: options\n    };\n  }\n\n  if (lazysubmenus_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/lazysubmenus/mmenu.lazysubmenus.js\n\n\n\n\n\n\n\n\n\nfunction mmenu_lazysubmenus_toConsumableArray(arr) { return mmenu_lazysubmenus_arrayWithoutHoles(arr) || mmenu_lazysubmenus_iterableToArray(arr) || mmenu_lazysubmenus_unsupportedIterableToArray(arr) || mmenu_lazysubmenus_nonIterableSpread(); }\n\nfunction mmenu_lazysubmenus_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction mmenu_lazysubmenus_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return mmenu_lazysubmenus_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mmenu_lazysubmenus_arrayLikeToArray(o, minLen); }\n\nfunction mmenu_lazysubmenus_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction mmenu_lazysubmenus_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return mmenu_lazysubmenus_arrayLikeToArray(arr); }\n\nfunction mmenu_lazysubmenus_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.lazySubmenus = lazysubmenus_options;\n/* harmony default export */ var mmenu_lazysubmenus = (function () {\n  var _this = this;\n\n  var options = lazysubmenus_options_extendShorthandOptions(this.opts.lazySubmenus);\n  this.opts.lazySubmenus = extend(options, mmenu_oncanvas_Mmenu.options.lazySubmenus);\n\n  if (options.load) {\n    //\tPrevent all sub panels from being initialized.\n    this.bind('initMenu:after', function () {\n      var panels = []; //\tFind all potential subpanels.\n\n      find(_this.node.pnls, 'li').forEach(function (listitem) {\n        panels.push.apply(panels, mmenu_lazysubmenus_toConsumableArray(_dom_children(listitem, _this.conf.panelNodetype.join(', '))));\n      }); //\tFilter out all non-panels and add the lazyload classes\n\n      panels.filter(function (panel) {\n        return !panel.matches('.mm-listview_inset');\n      }).filter(function (panel) {\n        return !panel.matches('.mm-nolistview');\n      }).filter(function (panel) {\n        return !panel.matches('.mm-nopanel');\n      }).forEach(function (panel) {\n        panel.classList.add('mm-panel_lazysubmenu', 'mm-nolistview', 'mm-nopanel');\n      });\n    }); //\tPrepare current and one level sub panels for initPanels\n\n    this.bind('initPanels:before', function () {\n      var panels = _dom_children(_this.node.pnls, _this.conf.panelNodetype.join(', '));\n      panels.forEach(function (panel) {\n        var filter = '.mm-panel_lazysubmenu',\n            children = find(panel, filter);\n\n        if (panel.matches(filter)) {\n          children.unshift(panel);\n        }\n\n        children.filter(function (child) {\n          return !child.matches('.mm-panel_lazysubmenu .mm-panel_lazysubmenu');\n        }).forEach(function (child) {\n          child.classList.remove('mm-panel_lazysubmenu', 'mm-nolistview', 'mm-nopanel');\n        });\n      });\n    }); //\tinitPanels for the default opened panel\n\n    this.bind('initOpened:before', function () {\n      var panels = [];\n      find(_this.node.pnls, '.' + _this.conf.classNames.selected).forEach(function (listitem) {\n        panels.push.apply(panels, mmenu_lazysubmenus_toConsumableArray(_dom_parents(listitem, '.mm-panel_lazysubmenu')));\n      });\n\n      if (panels.length) {\n        panels.forEach(function (panel) {\n          panel.classList.remove('mm-panel_lazysubmenu', 'mm-nolistview mm-nopanel');\n        });\n\n        _this.initPanel(panels[panels.length - 1]);\n      }\n    }); //\tinitPanels for current- and sub panels before openPanel\n\n    this.bind('openPanel:before', function (panel) {\n      var filter = '.mm-panel_lazysubmenu',\n          panels = find(panel, filter);\n\n      if (panel.matches(filter)) {\n        panels.unshift(panel);\n      }\n\n      panels = panels.filter(function (panel) {\n        return !panel.matches('.mm-panel_lazysubmenu .mm-panel_lazysubmenu');\n      });\n      panels.forEach(function (panel) {\n        _this.initPanel(panel);\n      });\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_options.js\n\n\n\nfunction navbars_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { navbars_options_typeof = function _typeof(obj) { return typeof obj; }; } else { navbars_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return navbars_options_typeof(obj); }\n\nvar navbars_options_options = [];\n/* harmony default export */ var navbars_options = (navbars_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction navbars_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean' && options) {\n    options = {};\n  }\n\n  if (navbars_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  if (typeof options.content == 'undefined') {\n    options.content = ['prev', 'title'];\n  }\n\n  if (!(options.content instanceof Array)) {\n    options.content = [options.content];\n  }\n\n  if (typeof options.use == 'undefined') {\n    options.use = true;\n  }\n\n  if (typeof options.use == 'boolean' && options.use) {\n    options.use = true;\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_configs.js\nvar navbars_configs_configs = {\n  breadcrumbs: {\n    separator: '/',\n    removeFirst: false\n  }\n};\n/* harmony default export */ var navbars_configs = (navbars_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_navbar.breadcrumbs.js\n\n\n/* harmony default export */ var _navbar_breadcrumbs = (function (navbar) {\n  var _this = this;\n\n  //\tAdd content\n  var breadcrumbs = create('div.mm-navbar__breadcrumbs');\n  navbar.append(breadcrumbs);\n  this.bind('initNavbar:after', function (panel) {\n    if (panel.querySelector('.mm-navbar__breadcrumbs')) {\n      return;\n    }\n\n    _dom_children(panel, '.mm-navbar')[0].classList.add('mm-hidden');\n    var crumbs = [],\n        breadcrumbs = create('span.mm-navbar__breadcrumbs'),\n        current = panel,\n        first = true;\n\n    while (current) {\n      if (!current.matches('.mm-panel')) {\n        current = current.closest('.mm-panel');\n      }\n\n      if (!current.parentElement.matches('.mm-listitem_vertical')) {\n        var text = find(current, '.mm-navbar__title')[0].textContent;\n\n        if (text.length) {\n          crumbs.unshift(first ? '<span>' + text + '</span>' : '<a href=\"#' + current.id + '\">' + text + '</a>');\n        }\n\n        first = false;\n      }\n\n      current = current['mmParent'];\n    }\n\n    if (_this.conf.navbars.breadcrumbs.removeFirst) {\n      crumbs.shift();\n    }\n\n    breadcrumbs.innerHTML = crumbs.join('<span class=\"mm-separator\">' + _this.conf.navbars.breadcrumbs.separator + '</span>');\n    _dom_children(panel, '.mm-navbar')[0].append(breadcrumbs);\n  }); //\tUpdate for to opened panel\n\n  this.bind('openPanel:start', function (panel) {\n    var crumbs = panel.querySelector('.mm-navbar__breadcrumbs');\n\n    if (crumbs) {\n      breadcrumbs.innerHTML = crumbs.innerHTML;\n    }\n  }); //\tAdd screenreader / aria support\n\n  this.bind('initNavbar:after:sr-aria', function (panel) {\n    find(panel, '.mm-breadcrumbs a').forEach(function (anchor) {\n      mmenu_oncanvas_Mmenu.sr_aria(anchor, 'owns', anchor.getAttribute('href').slice(1));\n    });\n  });\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_navbar.close.js\n\n\n/* harmony default export */ var _navbar_close = (function (navbar) {\n  var _this = this;\n\n  //\tAdd content\n  var close = create('a.mm-btn.mm-btn_close.mm-navbar__btn');\n  navbar.append(close); //\tUpdate to page node\n\n  this.bind('setPage:after', function (page) {\n    close.setAttribute('href', '#' + page.id);\n  }); //\tAdd screenreader / text support\n\n  this.bind('setPage:after:sr-text', function () {\n    close.innerHTML = mmenu_oncanvas_Mmenu.sr_text(_this.i18n(_this.conf.screenReader.text.closeMenu));\n    mmenu_oncanvas_Mmenu.sr_aria(close, 'owns', close.getAttribute('href').slice(1));\n  });\n});\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_navbar.next.js\n\n //\tDEPRECATED\n//\tWill be removed in version 8.2\n\n/* harmony default export */ var _navbar_next = (function (navbar) {\n  var _this = this;\n\n  //\tAdd content\n  var next = create('a.mm-btn.mm-btn_next.mm-navbar__btn');\n  navbar.append(next); //\tUpdate to opened panel\n\n  var org;\n\n  var _url, _txt;\n\n  this.bind('openPanel:start', function (panel) {\n    org = panel.querySelector('.' + _this.conf.classNames.navbars.panelNext);\n    _url = org ? org.getAttribute('href') : '';\n    _txt = org ? org.innerHTML : '';\n\n    if (_url) {\n      next.setAttribute('href', _url);\n    } else {\n      next.removeAttribute('href');\n    }\n\n    next.classList[_url || _txt ? 'remove' : 'add']('mm-hidden');\n    next.innerHTML = _txt;\n  }); //\tAdd screenreader / aria support\n\n  this.bind('openPanel:start:sr-aria', function (panel) {\n    mmenu_oncanvas_Mmenu.sr_aria(next, 'hidden', next.matches('mm-hidden'));\n    mmenu_oncanvas_Mmenu.sr_aria(next, 'owns', (next.getAttribute('href') || '').slice(1));\n  });\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_navbar.prev.js\n\n\n/* harmony default export */ var _navbar_prev = (function (navbar) {\n  var _this = this;\n\n  //\tAdd content.\n  var prev = create('a.mm-btn.mm-btn_prev.mm-navbar__btn');\n  navbar.append(prev);\n  this.bind('initNavbar:after', function (panel) {\n    _dom_children(panel, '.mm-navbar')[0].classList.add('mm-hidden');\n  }); //\tUpdate to opened panel.\n\n  var org;\n\n  var _url, _txt;\n\n  this.bind('openPanel:start', function (panel) {\n    if (panel.parentElement.matches('.mm-listitem_vertical')) {\n      return;\n    }\n\n    org = panel.querySelector('.' + _this.conf.classNames.navbars.panelPrev);\n\n    if (!org) {\n      org = panel.querySelector('.mm-navbar__btn.mm-btn_prev');\n    }\n\n    _url = org ? org.getAttribute('href') : '';\n    _txt = org ? org.innerHTML : '';\n\n    if (_url) {\n      prev.setAttribute('href', _url);\n    } else {\n      prev.removeAttribute('href');\n    }\n\n    prev.classList[_url || _txt ? 'remove' : 'add']('mm-hidden');\n    prev.innerHTML = _txt;\n  }); //\tAdd screenreader / aria support\n\n  this.bind('initNavbar:after:sr-aria', function (panel) {\n    mmenu_oncanvas_Mmenu.sr_aria(panel.querySelector('.mm-navbar'), 'hidden', true);\n  });\n  this.bind('openPanel:start:sr-aria', function (panel) {\n    mmenu_oncanvas_Mmenu.sr_aria(prev, 'hidden', prev.matches('.mm-hidden'));\n    mmenu_oncanvas_Mmenu.sr_aria(prev, 'owns', (prev.getAttribute('href') || '').slice(1));\n  });\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_navbar.searchfield.js\n\n\n/* harmony default export */ var _navbar_searchfield = (function (navbar) {\n  if (type(this.opts.searchfield) != 'object') {\n    this.opts.searchfield = {};\n  }\n\n  var searchfield = create('div.mm-navbar__searchfield');\n  navbar.append(searchfield);\n  this.opts.searchfield.add = true;\n  this.opts.searchfield.addTo = [searchfield];\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_navbar.title.js\n\n\n/* harmony default export */ var _navbar_title = (function (navbar) {\n  var _this = this;\n\n  //\tAdd content to the navbar.\n  var title = create('a.mm-navbar__title');\n  navbar.append(title); //\tUpdate the title to the opened panel.\n\n  var _url, _txt;\n\n  var original;\n  this.bind('openPanel:start', function (panel) {\n    //\tDo nothing in a vertically expanding panel.\n    if (panel.parentElement.matches('.mm-listitem_vertical')) {\n      return;\n    } //\tFind the original title in the opened panel.\n\n\n    original = panel.querySelector('.' + _this.conf.classNames.navbars.panelTitle);\n\n    if (!original) {\n      original = panel.querySelector('.mm-navbar__title');\n    } //\tGet the URL for the title.\n\n\n    _url = original ? original.getAttribute('href') : '';\n\n    if (_url) {\n      title.setAttribute('href', _url);\n    } else {\n      title.removeAttribute('href');\n    } //\tGet the text for the title.\n\n\n    _txt = original ? original.innerHTML : '';\n    title.innerHTML = _txt; //\tShow or hide the title.\n\n    title.classList[_url || _txt ? 'remove' : 'add']('mm-hidden');\n  }); //\tAdd screenreader / aria support\n\n  var prev;\n  this.bind('openPanel:start:sr-aria', function (panel) {\n    if (_this.opts.screenReader.text) {\n      if (!prev) {\n        var navbars = _dom_children(_this.node.menu, '.mm-navbars_top, .mm-navbars_bottom');\n        navbars.forEach(function (navbar) {\n          var btn = navbar.querySelector('.mm-btn_prev');\n\n          if (btn) {\n            prev = btn;\n          }\n        });\n      }\n\n      if (prev) {\n        var hidden = true;\n\n        if (_this.opts.navbar.titleLink == 'parent') {\n          hidden = !prev.matches('.mm-hidden');\n        }\n\n        mmenu_oncanvas_Mmenu.sr_aria(title, 'hidden', hidden);\n      }\n    }\n  });\n});\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/_navbar.tabs.js\n\n/* harmony default export */ var _navbar_tabs = (function (navbar) {\n  var _this = this;\n\n  navbar.classList.add('mm-navbar_tabs');\n  navbar.parentElement.classList.add('mm-navbars_has-tabs');\n  var anchors = _dom_children(navbar, 'a');\n  navbar.addEventListener('click', function (evnt) {\n    var anchor = evnt.target;\n\n    if (!anchor.matches('a')) {\n      return;\n    }\n\n    if (anchor.matches('.mm-navbar__tab_selected')) {\n      evnt.stopImmediatePropagation();\n      return;\n    }\n\n    try {\n      _this.openPanel(_this.node.menu.querySelector(anchor.getAttribute('href')), false);\n\n      evnt.stopImmediatePropagation();\n    } catch (err) {}\n  });\n\n  function selectTab(panel) {\n    anchors.forEach(function (anchor) {\n      anchor.classList.remove('mm-navbar__tab_selected');\n    });\n    var anchor = anchors.filter(function (anchor) {\n      return anchor.matches('[href=\"#' + panel.id + '\"]');\n    })[0];\n\n    if (anchor) {\n      anchor.classList.add('mm-navbar__tab_selected');\n    } else {\n      var parent = panel['mmParent'];\n\n      if (parent) {\n        selectTab.call(this, parent.closest('.mm-panel'));\n      }\n    }\n  }\n\n  this.bind('openPanel:start', selectTab);\n});\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/navbars/mmenu.navbars.js\n\n\n\n\n\n //  Add the options and configs.\n\nmmenu_oncanvas_Mmenu.options.navbars = navbars_options;\nmmenu_oncanvas_Mmenu.configs.navbars = navbars_configs; //  Add the classnames.\n\nmmenu_oncanvas_Mmenu.configs.classNames.navbars = {\n  panelNext: 'Next',\n  panelPrev: 'Prev',\n  panelTitle: 'Title'\n};\n\n\n\n\n\n\nNavbars.navbarContents = {\n  breadcrumbs: _navbar_breadcrumbs,\n  close: _navbar_close,\n  next: _navbar_next,\n  prev: _navbar_prev,\n  searchfield: _navbar_searchfield,\n  title: _navbar_title\n};\n\nNavbars.navbarTypes = {\n  tabs: _navbar_tabs\n};\nfunction Navbars() {\n  var _this = this;\n\n  var navs = this.opts.navbars;\n\n  if (typeof navs == 'undefined') {\n    return;\n  }\n\n  if (!(navs instanceof Array)) {\n    navs = [navs];\n  }\n\n  var navbars = {};\n\n  if (!navs.length) {\n    return;\n  }\n\n  navs.forEach(function (options) {\n    options = navbars_options_extendShorthandOptions(options);\n\n    if (!options.use) {\n      return false;\n    } //\tCreate the navbar element.\n\n\n    var navbar = create('div.mm-navbar'); //\tGet the position for the navbar.\n\n    var position = options.position; //\tRestrict the position to either \"bottom\" or \"top\" (default).\n\n    if (position !== 'bottom') {\n      position = 'top';\n    } //\tCreate the wrapper for the navbar position.\n\n\n    if (!navbars[position]) {\n      navbars[position] = create('div.mm-navbars_' + position);\n    }\n\n    navbars[position].append(navbar); //\tAdd content to the navbar.\n\n    for (var c = 0, l = options.content.length; c < l; c++) {\n      var ctnt = options.content[c]; //\tThe content is a string.\n\n      if (typeof ctnt == 'string') {\n        var func = Navbars.navbarContents[ctnt]; //\tThe content refers to one of the navbar-presets (\"prev\", \"title\", etc).\n\n        if (typeof func == 'function') {\n          //\tCall the preset function.\n          func.call(_this, navbar); //\tThe content is just HTML.\n        } else {\n          //\tAdd the HTML.\n          //  Wrap the HTML in a single node\n          var node = create('span');\n          node.innerHTML = ctnt; //  If there was only a single node, use that.\n\n          var children = _dom_children(node);\n\n          if (children.length == 1) {\n            node = children[0];\n          }\n\n          navbar.append(node);\n        } //\tThe content is not a string, it must be an element.\n\n      } else {\n        navbar.append(ctnt);\n      }\n    } //\tThe type option is set.\n\n\n    if (typeof options.type == 'string') {\n      //\tThe function refers to one of the navbar-presets (\"tabs\").\n      var _func = Navbars.navbarTypes[options.type];\n\n      if (typeof _func == 'function') {\n        //\tCall the preset function.\n        _func.call(_this, navbar);\n      }\n    } //\tEn-/disable the navbar.\n\n\n    var enable = function enable() {\n      navbar.classList.remove('mm-hidden');\n      mmenu_oncanvas_Mmenu.sr_aria(navbar, 'hidden', false);\n    };\n\n    var disable = function disable() {\n      navbar.classList.add('mm-hidden');\n      mmenu_oncanvas_Mmenu.sr_aria(navbar, 'hidden', true);\n    };\n\n    if (typeof options.use != 'boolean') {\n      _matchmedia_add(options.use, enable, disable);\n    }\n  }); //\tAdd to menu.\n\n  this.bind('initMenu:after', function () {\n    for (var position in navbars) {\n      _this.node.menu[position == 'bottom' ? 'append' : 'prepend'](navbars[position]);\n    }\n  });\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/pagescroll/_options.js\n\n\n\nfunction pagescroll_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { pagescroll_options_typeof = function _typeof(obj) { return typeof obj; }; } else { pagescroll_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return pagescroll_options_typeof(obj); }\n\nvar pagescroll_options_options = {\n  scroll: false,\n  update: false\n};\n/* harmony default export */ var pagescroll_options = (pagescroll_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction pagescroll_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      scroll: options\n    };\n  }\n\n  if (pagescroll_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/pagescroll/_configs.js\nvar pagescroll_configs_configs = {\n  scrollOffset: 0,\n  updateOffset: 50\n};\n/* harmony default export */ var pagescroll_configs = (pagescroll_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/pagescroll/mmenu.pagescroll.js\n\n\n\n\n\n //\tAdd the options and configs.\n\nmmenu_oncanvas_Mmenu.options.pageScroll = pagescroll_options;\nmmenu_oncanvas_Mmenu.configs.pageScroll = pagescroll_configs;\n/* harmony default export */ var mmenu_pagescroll = (function () {\n  var _this = this;\n\n  var options = pagescroll_options_extendShorthandOptions(this.opts.pageScroll);\n  this.opts.pageScroll = extend(options, mmenu_oncanvas_Mmenu.options.pageScroll);\n  var configs = this.conf.pageScroll;\n  /** The currently \"active\" section */\n\n  var section;\n\n  function scrollTo() {\n    if (section) {\n      // section.scrollIntoView({ behavior: 'smooth' });\n      window.scrollTo({\n        top: section.getBoundingClientRect().top - configs.scrollOffset,\n        behavior: 'smooth'\n      });\n    }\n\n    section = null;\n  }\n\n  function anchorInPage(href) {\n    try {\n      if (href != '#' && href.slice(0, 1) == '#') {\n        return mmenu_oncanvas_Mmenu.node.page.querySelector(href);\n      }\n\n      return null;\n    } catch (err) {\n      return null;\n    }\n  } //\tScroll to section after clicking menu item.\n\n\n  if (options.scroll) {\n    this.bind('close:finish', function () {\n      scrollTo();\n    });\n  } //\tAdd click behavior.\n  //\tPrevents default behavior when clicking an anchor.\n\n\n  if (this.opts.offCanvas && options.scroll) {\n    this.clck.push(function (anchor, args) {\n      section = null; //\tDon't continue if the clicked anchor is not in the menu.\n\n      if (!args.inMenu) {\n        return;\n      } //\tDon't continue if the targeted section is not on the page.\n\n\n      var href = anchor.getAttribute('href');\n      section = anchorInPage(href);\n\n      if (!section) {\n        return;\n      } //\tIf the sidebar add-on is \"expanded\"...\n\n\n      if (_this.node.menu.matches('.mm-menu_sidebar-expanded') && _this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n        //\t... scroll the page to the section.\n        scrollTo(); //\t... otherwise...\n      } else {\n        //\t... close the menu.\n        return {\n          close: true\n        };\n      }\n    });\n  } //\tUpdate selected menu item after scrolling.\n\n\n  if (options.update) {\n    var scts = [];\n    this.bind('initListview:after', function (panel) {\n      var listitems = find(panel, '.mm-listitem');\n      filterLIA(listitems).forEach(function (anchor) {\n        var href = anchor.getAttribute('href');\n        var section = anchorInPage(href);\n\n        if (section) {\n          scts.unshift(section);\n        }\n      });\n    });\n\n    var _selected = -1;\n\n    window.addEventListener('scroll', function (evnt) {\n      var scrollTop = window.scrollY;\n\n      for (var s = 0; s < scts.length; s++) {\n        if (scts[s].offsetTop < scrollTop + configs.updateOffset) {\n          if (_selected !== s) {\n            _selected = s;\n            var panel = _dom_children(_this.node.pnls, '.mm-panel_opened')[0];\n            var listitems = find(panel, '.mm-listitem');\n            var anchors = filterLIA(listitems);\n            anchors = anchors.filter(function (anchor) {\n              return anchor.matches('[href=\"#' + scts[s].id + '\"]');\n            });\n\n            if (anchors.length) {\n              _this.setSelected(anchors[0].parentElement);\n            }\n          }\n\n          break;\n        }\n      }\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/_options.js\n\n\n\nfunction searchfield_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { searchfield_options_typeof = function _typeof(obj) { return typeof obj; }; } else { searchfield_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return searchfield_options_typeof(obj); }\n\nvar searchfield_options_options = {\n  add: false,\n  addTo: 'panels',\n  cancel: false,\n  noResults: 'No results found.',\n  placeholder: 'Search',\n  panel: {\n    add: false,\n    dividers: true,\n    fx: 'none',\n    id: null,\n    splash: null,\n    title: 'Search'\n  },\n  search: true,\n  showTextItems: false,\n  showSubPanels: true\n};\n/* harmony default export */ var searchfield_options = (searchfield_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction searchfield_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      add: options\n    };\n  }\n\n  if (searchfield_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  if (typeof options.panel == 'boolean') {\n    options.panel = {\n      add: options.panel\n    };\n  }\n\n  if (searchfield_options_typeof(options.panel) != 'object') {\n    options.panel = {};\n  } //\tExtend logical options.\n\n\n  if (options.addTo == 'panel') {\n    options.panel.add = true;\n  }\n\n  if (options.panel.add) {\n    options.showSubPanels = false;\n\n    if (options.panel.splash) {\n      options.cancel = true;\n    }\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/_configs.js\nvar searchfield_configs_configs = {\n  clear: false,\n  form: false,\n  input: false,\n  submit: false\n};\n/* harmony default export */ var searchfield_configs = (searchfield_configs_configs);\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/translations/nl.js\n/* harmony default export */ var searchfield_translations_nl = ({\n  Search: 'Zoeken',\n  'No results found.': 'Geen resultaten gevonden.',\n  cancel: 'annuleren'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/translations/fa.js\n/* harmony default export */ var searchfield_translations_fa = ({\n  Search: 'جستجو',\n  'No results found.': 'نتیجه‌ای یافت نشد.',\n  cancel: 'انصراف'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/translations/de.js\n/* harmony default export */ var searchfield_translations_de = ({\n  Search: 'Suche',\n  'No results found.': 'Keine Ergebnisse gefunden.',\n  cancel: 'beenden'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/translations/ru.js\n/* harmony default export */ var searchfield_translations_ru = ({\n  Search: 'Найти',\n  'No results found.': 'Ничего не найдено.',\n  cancel: 'отменить'\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/translations/translate.js\n\n\n\n\n\n/* harmony default export */ var searchfield_translations_translate = (function () {\n  _i18n_add(searchfield_translations_nl, 'nl');\n  _i18n_add(searchfield_translations_fa, 'fa');\n  _i18n_add(searchfield_translations_de, 'de');\n  _i18n_add(searchfield_translations_ru, 'ru');\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/searchfield/mmenu.searchfield.js\n\n\n\n\n\n\n\n\n\n\nfunction mmenu_searchfield_toConsumableArray(arr) { return mmenu_searchfield_arrayWithoutHoles(arr) || mmenu_searchfield_iterableToArray(arr) || mmenu_searchfield_unsupportedIterableToArray(arr) || mmenu_searchfield_nonIterableSpread(); }\n\nfunction mmenu_searchfield_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction mmenu_searchfield_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return mmenu_searchfield_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mmenu_searchfield_arrayLikeToArray(o, minLen); }\n\nfunction mmenu_searchfield_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction mmenu_searchfield_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return mmenu_searchfield_arrayLikeToArray(arr); }\n\nfunction mmenu_searchfield_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n\n //  Add the translations.\n\nsearchfield_translations_translate(); //  Add the options and configs.\n\nmmenu_oncanvas_Mmenu.options.searchfield = searchfield_options;\nmmenu_oncanvas_Mmenu.configs.searchfield = searchfield_configs;\n/* harmony default export */ var mmenu_searchfield = (function () {\n  var _this = this;\n\n  var options = searchfield_options_extendShorthandOptions(this.opts.searchfield);\n  this.opts.searchfield = extend(options, mmenu_oncanvas_Mmenu.options.searchfield);\n  var configs = this.conf.searchfield;\n\n  if (!options.add) {\n    return;\n  } //\tBlur searchfield\n\n\n  this.bind('close:start', function () {\n    find(_this.node.menu, '.mm-searchfield').forEach(function (input) {\n      input.blur();\n    });\n  });\n  this.bind('initPanel:after', function (panel) {\n    var searchpanel = null; //\tAdd the search panel\n\n    if (options.panel.add) {\n      searchpanel = mmenu_searchfield_initSearchPanel.call(_this);\n    } //\tAdd the searchfield\n\n\n    var addTo = null;\n\n    switch (options.addTo) {\n      case 'panels':\n        addTo = [panel];\n        break;\n\n      case 'panel':\n        addTo = [searchpanel];\n        break;\n\n      default:\n        if (typeof options.addTo == 'string') {\n          addTo = find(_this.node.menu, options.addTo);\n        } else if (type(options.addTo) == 'array') {\n          addTo = options.addTo;\n        }\n\n        break;\n    }\n\n    addTo.forEach(function (form) {\n      form = mmenu_searchfield_initSearchfield.call(_this, form);\n\n      if (options.search && form) {\n        mmenu_searchfield_initSearching.call(_this, form);\n      }\n    }); //\tAdd the no-results message\n\n    if (options.noResults) {\n      mmenu_searchfield_initNoResultsMsg.call(_this, options.panel.add ? searchpanel : panel);\n    }\n  }); //\tAdd click behavior.\n  //\tPrevents default behavior when clicking an anchor\n\n  this.clck.push(function (anchor, args) {\n    if (args.inMenu) {\n      if (anchor.matches('.mm-searchfield__btn')) {\n        //\tClicking the clear button\n        if (anchor.matches('.mm-btn_close')) {\n          var form = anchor.closest('.mm-searchfield'),\n              input = find(form, 'input')[0];\n          input.value = '';\n\n          _this.search(input);\n\n          return true;\n        } //\tClicking the submit button\n\n\n        if (anchor.matches('.mm-btn_next')) {\n          var _form = anchor.closest('form');\n\n          if (_form) {\n            _form.submit();\n          }\n\n          return true;\n        }\n      }\n    }\n  });\n});\n\nvar mmenu_searchfield_initSearchPanel = function initSearchPanel() {\n  var options = this.opts.searchfield,\n      configs = this.conf.searchfield; //\tOnly once\n\n  if (_dom_children(this.node.pnls, '.mm-panel_search').length) {\n    return null;\n  }\n\n  var searchpanel = create('div.mm-panel_search'),\n      listview = create('ul');\n  searchpanel.append(listview);\n  this.node.pnls.append(searchpanel);\n\n  if (options.panel.id) {\n    searchpanel.id = options.panel.id;\n  }\n\n  if (options.panel.title) {\n    searchpanel.setAttribute('data-mm-title', options.panel.title);\n  }\n\n  switch (options.panel.fx) {\n    case false:\n      break;\n\n    case 'none':\n      searchpanel.classList.add('mm-panel_noanimation');\n      break;\n\n    default:\n      searchpanel.classList.add('mm-panel_fx-' + options.panel.fx);\n      break;\n  } //\tAdd splash content\n\n\n  if (options.panel.splash) {\n    var splash = create('div.mm-panel__content');\n    splash.innerHTML = options.panel.splash;\n    searchpanel.append(splash);\n  }\n\n  this.initPanel(searchpanel);\n  return searchpanel;\n};\n\nvar mmenu_searchfield_initSearchfield = function initSearchfield(wrapper) {\n  var options = this.opts.searchfield,\n      configs = this.conf.searchfield; //\tNo searchfield in vertical submenus\n\n  if (wrapper.parentElement.matches('.mm-listitem_vertical')) {\n    return null;\n  } //\tOnly one searchfield per panel\n\n\n  var form = find(wrapper, '.mm-searchfield')[0];\n\n  if (form) {\n    return form;\n  }\n\n  function addAttributes(element, attr) {\n    if (attr) {\n      for (var a in attr) {\n        element.setAttribute(a, attr[a]);\n      }\n    }\n  }\n\n  var form = create((configs.form ? 'form' : 'div') + '.mm-searchfield'),\n      field = create('div.mm-searchfield__input'),\n      input = create('input');\n  input.type = 'text';\n  input.autocomplete = 'off';\n  input.placeholder = this.i18n(options.placeholder);\n  field.append(input);\n  form.append(field);\n  wrapper.prepend(form); //\tAdd attributes to the input\n\n  addAttributes(input, configs.input); //\tAdd the clear button\n\n  if (configs.clear) {\n    var anchor = create('a.mm-btn.mm-btn_close.mm-searchfield__btn');\n    anchor.setAttribute('href', '#');\n    field.append(anchor);\n  } //\tAdd attributes and submit to the form\n\n\n  addAttributes(form, configs.form);\n\n  if (configs.form && configs.submit && !configs.clear) {\n    var _anchor = create('a.mm-btn.mm-btn_next.mm-searchfield__btn');\n\n    _anchor.setAttribute('href', '#');\n\n    field.append(_anchor);\n  }\n\n  if (options.cancel) {\n    var _anchor2 = create('a.mm-searchfield__cancel');\n\n    _anchor2.setAttribute('href', '#');\n\n    _anchor2.textContent = this.i18n('cancel');\n    form.append(_anchor2);\n  }\n\n  return form;\n};\n\nvar mmenu_searchfield_initSearching = function initSearching(form) {\n  var _this2 = this;\n\n  var options = this.opts.searchfield,\n      configs = this.conf.searchfield;\n  var data = {}; //\tIn the searchpanel.\n\n  if (form.closest('.mm-panel_search')) {\n    data.panels = find(this.node.pnls, '.mm-panel');\n    data.noresults = [form.closest('.mm-panel')]; //\tIn a panel\n  } else if (form.closest('.mm-panel')) {\n    data.panels = [form.closest('.mm-panel')];\n    data.noresults = data.panels; //\tNot in a panel, global\n  } else {\n    data.panels = find(this.node.pnls, '.mm-panel');\n    data.noresults = [this.node.menu];\n  } //\tFilter out vertical submenus\n\n\n  data.panels = data.panels.filter(function (panel) {\n    return !panel.parentElement.matches('.mm-listitem_vertical');\n  }); //\tFilter out search panel\n\n  data.panels = data.panels.filter(function (panel) {\n    return !panel.matches('.mm-panel_search');\n  }); //  Find listitems and dividers.\n\n  data.listitems = [];\n  data.dividers = [];\n  data.panels.forEach(function (panel) {\n    var _data$listitems, _data$dividers;\n\n    (_data$listitems = data.listitems).push.apply(_data$listitems, mmenu_searchfield_toConsumableArray(find(panel, '.mm-listitem')));\n\n    (_data$dividers = data.dividers).push.apply(_data$dividers, mmenu_searchfield_toConsumableArray(find(panel, '.mm-divider')));\n  });\n  var searchpanel = _dom_children(this.node.pnls, '.mm-panel_search')[0],\n      input = find(form, 'input')[0],\n      cancel = find(form, '.mm-searchfield__cancel')[0];\n  input['mmSearchfield'] = data; //\tOpen the splash panel when focussing the input.\n\n  if (options.panel.add && options.panel.splash) {\n    off(input, 'focus.splash');\n    on(input, 'focus.splash', function (evnt) {\n      _this2.openPanel(searchpanel);\n    });\n  }\n\n  if (options.cancel) {\n    //\tShow the cancel button when focussing the input.\n    off(input, 'focus.cancel');\n    on(input, 'focus.cancel', function (evnt) {\n      cancel.classList.add('mm-searchfield__cancel-active');\n    }); //\tClose the splash panel when clicking the cancel button.\n\n    off(cancel, 'click.splash');\n    on(cancel, 'click.splash', function (evnt) {\n      evnt.preventDefault();\n      cancel.classList.remove('mm-searchfield__cancel-active');\n\n      if (searchpanel.matches('.mm-panel_opened')) {\n        var parents = _dom_children(_this2.node.pnls, '.mm-panel_opened-parent');\n\n        if (parents.length) {\n          _this2.openPanel(parents[parents.length - 1]);\n        }\n      }\n    });\n  } //\tFocus the input in the searchpanel when opening the searchpanel.\n\n\n  if (options.panel.add && options.addTo == 'panel') {\n    this.bind('openPanel:finish', function (panel) {\n      if (panel === searchpanel) {\n        input.focus();\n      }\n    });\n  } //\tSearch while typing.\n\n\n  off(input, 'input.search');\n  on(input, 'input.search', function (evnt) {\n    switch (evnt.keyCode) {\n      case 9: //\ttab\n\n      case 16: //\tshift\n\n      case 17: //\tcontrol\n\n      case 18: //\talt\n\n      case 37: //\tleft\n\n      case 38: //\ttop\n\n      case 39: //\tright\n\n      case 40:\n        //\tbottom\n        break;\n\n      default:\n        _this2.search(input);\n\n        break;\n    }\n  }); //\tSearch initially.\n\n  this.search(input);\n};\n\nvar mmenu_searchfield_initNoResultsMsg = function initNoResultsMsg(wrapper) {\n  if (!wrapper) {\n    return;\n  }\n\n  var options = this.opts.searchfield,\n      configs = this.conf.searchfield; //\tNot in a panel\n\n  if (!wrapper.closest('.mm-panel')) {\n    wrapper = _dom_children(this.node.pnls, '.mm-panel')[0];\n  } //\tOnly once\n\n\n  if (_dom_children(wrapper, '.mm-panel__noresultsmsg').length) {\n    return;\n  } //\tAdd no-results message\n\n\n  var message = create('div.mm-panel__noresultsmsg.mm-hidden');\n  message.innerHTML = this.i18n(options.noResults);\n  wrapper.append(message);\n};\n\nmmenu_oncanvas_Mmenu.prototype.search = function (input, query) {\n  var _this3 = this;\n\n  var options = this.opts.searchfield,\n      configs = this.conf.searchfield;\n  query = query || '' + input.value;\n  query = query.toLowerCase().trim();\n  var data = input['mmSearchfield'];\n  var form = input.closest('.mm-searchfield'),\n      buttons = find(form, '.mm-btn'),\n      searchpanel = _dom_children(this.node.pnls, '.mm-panel_search')[0];\n  /** The panels. */\n\n  var panels = data.panels;\n  /** The \"no results\" messages in a cloned array. */\n\n  var noresults = data.noresults;\n  /** The listitems in a cloned array. */\n\n  var listitems = data.listitems;\n  /** Tje dividers in a cloned array. */\n\n  var dividers = data.dividers; //\tReset previous results\n\n  listitems.forEach(function (listitem) {\n    listitem.classList.remove('mm-listitem_nosubitems', 'mm-listitem_onlysubitems', 'mm-hidden');\n  });\n\n  if (searchpanel) {\n    _dom_children(searchpanel, '.mm-listview')[0].innerHTML = '';\n  }\n\n  panels.forEach(function (panel) {\n    panel.scrollTop = 0;\n  }); //\tSearch\n\n  if (query.length) {\n    //\tInitially hide all dividers.\n    dividers.forEach(function (divider) {\n      divider.classList.add('mm-hidden');\n    }); //\tHide listitems that do not match.\n\n    listitems.forEach(function (listitem) {\n      var text = _dom_children(listitem, '.mm-listitem__text')[0];\n      var add = false; //  The listitem should be shown if:\n      //      1) The text matches the query and\n      //          2a) The text is a open-button and\n      //          2b) the option showSubPanels is set to true.\n      //      or  3a) The text is not an anchor and\n      //          3b) the option showTextItems is set to true.\n      //      or  4)  The text is an anchor.\n      //  1\n\n      if (text && _dom_text(text).toLowerCase().indexOf(query) > -1) {\n        //  2a\n        if (text.matches('.mm-listitem__btn')) {\n          //  2b\n          if (options.showSubPanels) {\n            add = true;\n          } //  3a\n\n        } else if (!text.matches('a')) {\n          //  3b\n          if (options.showTextItems) {\n            add = true;\n          } // 4\n\n        } else {\n          add = true;\n        }\n      }\n\n      if (!add) {\n        listitem.classList.add('mm-hidden');\n      }\n    });\n    /** Whether or not the query yielded results. */\n\n    var hasResults = listitems.filter(function (listitem) {\n      return !listitem.matches('.mm-hidden');\n    }).length; //\tShow all mached listitems in the search panel\n\n    if (options.panel.add) {\n      var _DOM$children$;\n\n      //\tClone all matched listitems into the search panel\n      var allitems = [];\n      panels.forEach(function (panel) {\n        var listitems = filterLI(find(panel, '.mm-listitem'));\n        listitems = listitems.filter(function (listitem) {\n          return !listitem.matches('.mm-hidden');\n        });\n\n        if (listitems.length) {\n          //  Add a divider to indicate in what panel the listitems were.\n          if (options.panel.dividers) {\n            var divider = create('li.mm-divider');\n            divider.innerHTML = panel.querySelector('.mm-navbar__title').innerHTML;\n            allitems.push(divider);\n          }\n\n          listitems.forEach(function (listitem) {\n            allitems.push(listitem.cloneNode(true));\n          });\n        }\n      }); //\tRemove toggles and checks.\n\n      allitems.forEach(function (listitem) {\n        listitem.querySelectorAll('.mm-toggle, .mm-check').forEach(function (element) {\n          element.remove();\n        });\n      }); //\tAdd to the search panel.\n\n      (_DOM$children$ = _dom_children(searchpanel, '.mm-listview')[0]).append.apply(_DOM$children$, allitems); //\tOpen the search panel.\n\n\n      this.openPanel(searchpanel);\n    } else {\n      //\tAlso show listitems in sub-panels for matched listitems\n      if (options.showSubPanels) {\n        panels.forEach(function (panel) {\n          var listitems = find(panel, '.mm-listitem');\n          filterLI(listitems).forEach(function (listitem) {\n            var child = listitem['mmChild'];\n\n            if (child) {\n              find(child, '.mm-listitem').forEach(function (listitem) {\n                listitem.classList.remove('mm-hidden');\n              });\n            }\n          });\n        });\n      } //\tUpdate parent for sub-panel\n      //  .reverse() mutates the original array, therefor we \"clone\" it first using [...panels].\n\n\n      mmenu_searchfield_toConsumableArray(panels).reverse().forEach(function (panel, p) {\n        var parent = panel['mmParent'];\n\n        if (parent) {\n          //\tThe current panel has mached listitems\n          var _listitems = find(panel, '.mm-listitem');\n\n          if (filterLI(_listitems).length) {\n            //\tShow parent\n            if (parent.matches('.mm-hidden')) {\n              parent.classList.remove('mm-hidden');\n            }\n\n            parent.classList.add('mm-listitem_onlysubitems');\n          } else if (!input.closest('.mm-panel')) {\n            if (panel.matches('.mm-panel_opened') || panel.matches('.mm-panel_opened-parent')) {\n              //\tCompensate the timeout for the opening animation\n              setTimeout(function () {\n                _this3.openPanel(parent.closest('.mm-panel'));\n              }, (p + 1) * (_this3.conf.openingInterval * 1.5));\n            }\n\n            parent.classList.add('mm-listitem_nosubitems');\n          }\n        }\n      }); //\tShow first preceeding divider of parent\n\n\n      panels.forEach(function (panel) {\n        var listitems = find(panel, '.mm-listitem');\n        filterLI(listitems).forEach(function (listitem) {\n          var divider = prevAll(listitem, '.mm-divider')[0];\n\n          if (divider) {\n            divider.classList.remove('mm-hidden');\n          }\n        });\n      });\n    } //\tShow submit / clear button\n\n\n    buttons.forEach(function (button) {\n      return button.classList.remove('mm-hidden');\n    }); //\tShow/hide no results message\n\n    noresults.forEach(function (wrapper) {\n      find(wrapper, '.mm-panel__noresultsmsg').forEach(function (message) {\n        return message.classList[hasResults ? 'add' : 'remove']('mm-hidden');\n      });\n    });\n\n    if (options.panel.add) {\n      //\tHide splash\n      if (options.panel.splash) {\n        find(searchpanel, '.mm-panel__content').forEach(function (splash) {\n          return splash.classList.add('mm-hidden');\n        });\n      } //\tRe-show original listitems when in search panel\n\n\n      listitems.forEach(function (listitem) {\n        return listitem.classList.remove('mm-hidden');\n      });\n      dividers.forEach(function (divider) {\n        return divider.classList.remove('mm-hidden');\n      });\n    } //\tDon't search\n\n  } else {\n    //\tShow all items\n    listitems.forEach(function (listitem) {\n      return listitem.classList.remove('mm-hidden');\n    });\n    dividers.forEach(function (divider) {\n      return divider.classList.remove('mm-hidden');\n    }); //\tHide submit / clear button\n\n    buttons.forEach(function (button) {\n      return button.classList.add('mm-hidden');\n    }); //\tHide no results message\n\n    noresults.forEach(function (wrapper) {\n      find(wrapper, '.mm-panel__noresultsmsg').forEach(function (message) {\n        return message.classList.add('mm-hidden');\n      });\n    });\n\n    if (options.panel.add) {\n      //\tShow splash\n      if (options.panel.splash) {\n        find(searchpanel, '.mm-panel__content').forEach(function (splash) {\n          return splash.classList.remove('mm-hidden');\n        }); //\tClose panel\n      } else if (!input.closest('.mm-panel_search')) {\n        var opened = _dom_children(this.node.pnls, '.mm-panel_opened-parent');\n        this.openPanel(opened.slice(-1)[0]);\n      }\n    }\n  } //\tUpdate for other addons\n\n\n  this.trigger('updateListview');\n};\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/sectionindexer/_options.js\n\n\n\nfunction sectionindexer_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { sectionindexer_options_typeof = function _typeof(obj) { return typeof obj; }; } else { sectionindexer_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return sectionindexer_options_typeof(obj); }\n\nvar sectionindexer_options_options = {\n  add: false,\n  addTo: 'panels'\n};\n/* harmony default export */ var sectionindexer_options = (sectionindexer_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction sectionindexer_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      add: options\n    };\n  }\n\n  if (sectionindexer_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/sectionindexer/mmenu.sectionindexer.js\n\n\n\n\n\n\n //  Add the options.\n\nmmenu_oncanvas_Mmenu.options.sectionIndexer = sectionindexer_options;\n/* harmony default export */ var mmenu_sectionindexer = (function () {\n  var _this = this;\n\n  var options = sectionindexer_options_extendShorthandOptions(this.opts.sectionIndexer);\n  this.opts.sectionIndexer = extend(options, mmenu_oncanvas_Mmenu.options.sectionIndexer);\n\n  if (!options.add) {\n    return;\n  }\n\n  this.bind('initPanels:after', function () {\n    //\tAdd the indexer, only if it does not allready excists\n    if (!_this.node.indx) {\n      var buttons = '';\n      'abcdefghijklmnopqrstuvwxyz'.split('').forEach(function (letter) {\n        buttons += '<a href=\"#\">' + letter + '</a>';\n      });\n      var indexer = create('div.mm-sectionindexer');\n      indexer.innerHTML = buttons;\n\n      _this.node.pnls.prepend(indexer);\n\n      _this.node.indx = indexer; //\tPrevent default behavior when clicking an anchor\n\n      _this.node.indx.addEventListener('click', function (evnt) {\n        var anchor = evnt.target;\n\n        if (anchor.matches('a')) {\n          evnt.preventDefault();\n        }\n      }); //\tScroll onMouseOver / onTouchStart\n\n\n      var mouseOverEvent = function mouseOverEvent(evnt) {\n        if (!evnt.target.matches('a')) {\n          return;\n        }\n\n        var letter = evnt.target.textContent,\n            panel = _dom_children(_this.node.pnls, '.mm-panel_opened')[0];\n        var newTop = -1,\n            oldTop = panel.scrollTop;\n        panel.scrollTop = 0;\n        find(panel, '.mm-divider').filter(function (divider) {\n          return !divider.matches('.mm-hidden');\n        }).forEach(function (divider) {\n          if (newTop < 0 && letter == divider.textContent.trim().slice(0, 1).toLowerCase()) {\n            newTop = divider.offsetTop;\n          }\n        });\n        panel.scrollTop = newTop > -1 ? newTop : oldTop;\n      };\n\n      if (touch) {\n        _this.node.indx.addEventListener('touchstart', mouseOverEvent);\n\n        _this.node.indx.addEventListener('touchmove', mouseOverEvent);\n      } else {\n        _this.node.indx.addEventListener('mouseover', mouseOverEvent);\n      }\n    } //\tShow or hide the indexer\n\n\n    _this.bind('openPanel:start', function (panel) {\n      var active = find(panel, '.mm-divider').filter(function (divider) {\n        return !divider.matches('.mm-hidden');\n      }).length;\n\n      _this.node.indx.classList[active ? 'add' : 'remove']('mm-sectionindexer_active');\n    });\n  });\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/setselected/_options.js\n\n\n\nfunction setselected_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { setselected_options_typeof = function _typeof(obj) { return typeof obj; }; } else { setselected_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return setselected_options_typeof(obj); }\n\nvar setselected_options_options = {\n  current: true,\n  hover: false,\n  parent: false\n};\n/* harmony default export */ var setselected_options = (setselected_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction setselected_options_extendShorthandOptions(options) {\n  if (typeof options == 'boolean') {\n    options = {\n      hover: options,\n      parent: options\n    };\n  }\n\n  if (setselected_options_typeof(options) != 'object') {\n    options = {};\n  }\n\n  return options;\n}\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/setselected/mmenu.setselected.js\n\n\n\n\n\n //\tAdd the options.\n\nmmenu_oncanvas_Mmenu.options.setSelected = setselected_options;\n/* harmony default export */ var mmenu_setselected = (function () {\n  var _this = this;\n\n  var options = setselected_options_extendShorthandOptions(this.opts.setSelected);\n  this.opts.setSelected = extend(options, mmenu_oncanvas_Mmenu.options.setSelected); //\tFind current by URL\n\n  if (options.current == 'detect') {\n    var findCurrent = function findCurrent(url) {\n      url = url.split('?')[0].split('#')[0];\n\n      var anchor = _this.node.menu.querySelector('a[href=\"' + url + '\"], a[href=\"' + url + '/\"]');\n\n      if (anchor) {\n        _this.setSelected(anchor.parentElement);\n      } else {\n        var arr = url.split('/').slice(0, -1);\n\n        if (arr.length) {\n          findCurrent(arr.join('/'));\n        }\n      }\n    };\n\n    this.bind('initMenu:after', function () {\n      findCurrent.call(_this, window.location.href);\n    }); //\tRemove current selected item\n  } else if (!options.current) {\n    this.bind('initListview:after', function (panel) {\n      find(panel, '.mm-listitem_selected').forEach(function (listitem) {\n        listitem.classList.remove('mm-listitem_selected');\n      });\n    });\n  } //\tAdd :hover effect on items\n\n\n  if (options.hover) {\n    this.bind('initMenu:after', function () {\n      _this.node.menu.classList.add('mm-menu_selected-hover');\n    });\n  } //\tSet parent item selected for submenus\n\n\n  if (options.parent) {\n    this.bind('openPanel:finish', function (panel) {\n      //\tRemove all\n      find(_this.node.pnls, '.mm-listitem_selected-parent').forEach(function (listitem) {\n        listitem.classList.remove('mm-listitem_selected-parent');\n      }); //\tMove up the DOM tree\n\n      var parent = panel['mmParent'];\n\n      while (parent) {\n        if (!parent.matches('.mm-listitem_vertical')) {\n          parent.classList.add('mm-listitem_selected-parent');\n        }\n\n        parent = parent.closest('.mm-panel');\n        parent = parent['mmParent'];\n      }\n    });\n    this.bind('initMenu:after', function () {\n      _this.node.menu.classList.add('mm-menu_selected-parent');\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/sidebar/_options.js\n\n\n\nfunction sidebar_options_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { sidebar_options_typeof = function _typeof(obj) { return typeof obj; }; } else { sidebar_options_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return sidebar_options_typeof(obj); }\n\nvar sidebar_options_options = {\n  collapsed: {\n    use: false,\n    blockMenu: true,\n    hideDivider: false,\n    hideNavbar: true\n  },\n  expanded: {\n    use: false,\n    initial: 'open'\n  }\n};\n/* harmony default export */ var sidebar_options = (sidebar_options_options);\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\n\nfunction sidebar_options_extendShorthandOptions(options) {\n  if (typeof options == 'string' || typeof options == 'boolean' && options || typeof options == 'number') {\n    options = {\n      expanded: options\n    };\n  }\n\n  if (sidebar_options_typeof(options) != 'object') {\n    options = {};\n  } //\tExtend collapsed shorthand options.\n\n\n  if (typeof options.collapsed == 'boolean' && options.collapsed) {\n    options.collapsed = {\n      use: true\n    };\n  }\n\n  if (typeof options.collapsed == 'string' || typeof options.collapsed == 'number') {\n    options.collapsed = {\n      use: options.collapsed\n    };\n  }\n\n  if (sidebar_options_typeof(options.collapsed) != 'object') {\n    options.collapsed = {};\n  } //\tExtend expanded shorthand options.\n\n\n  if (typeof options.expanded == 'boolean' && options.expanded) {\n    options.expanded = {\n      use: true\n    };\n  }\n\n  if (typeof options.expanded == 'string' || typeof options.expanded == 'number') {\n    options.expanded = {\n      use: options.expanded\n    };\n  }\n\n  if (sidebar_options_typeof(options.expanded) != 'object') {\n    options.expanded = {};\n  }\n\n  return options;\n}\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/sidebar/mmenu.sidebar.js\n\n\n\n\n\n //  Add the options.\n\nmmenu_oncanvas_Mmenu.options.sidebar = sidebar_options;\n/* harmony default export */ var mmenu_sidebar = (function () {\n  var _this = this;\n\n  if (!this.opts.offCanvas) {\n    return;\n  }\n\n  var options = sidebar_options_extendShorthandOptions(this.opts.sidebar);\n  this.opts.sidebar = extend(options, mmenu_oncanvas_Mmenu.options.sidebar); //\tCollapsed\n\n  if (options.collapsed.use) {\n    //\tMake the menu collapsable.\n    this.bind('initMenu:after', function () {\n      _this.node.menu.classList.add('mm-menu_sidebar-collapsed');\n\n      if (options.collapsed.blockMenu && _this.opts.offCanvas && !_dom_children(_this.node.menu, '.mm-menu__blocker')[0]) {\n        var anchor = create('a.mm-menu__blocker');\n        anchor.setAttribute('href', '#' + _this.node.menu.id);\n\n        _this.node.menu.prepend(anchor);\n      }\n\n      if (options.collapsed.hideNavbar) {\n        _this.node.menu.classList.add('mm-menu_hidenavbar');\n      }\n\n      if (options.collapsed.hideDivider) {\n        _this.node.menu.classList.add('mm-menu_hidedivider');\n      }\n    }); //\tEn-/disable the collapsed sidebar.\n\n    var enable = function enable() {\n      _this.node.wrpr.classList.add('mm-wrapper_sidebar-collapsed');\n    };\n\n    var disable = function disable() {\n      _this.node.wrpr.classList.remove('mm-wrapper_sidebar-collapsed');\n    };\n\n    if (typeof options.collapsed.use == 'boolean') {\n      this.bind('initMenu:after', enable);\n    } else {\n      _matchmedia_add(options.collapsed.use, enable, disable);\n    }\n  } //\tExpanded\n\n\n  if (options.expanded.use) {\n    //\tMake the menu expandable\n    this.bind('initMenu:after', function () {\n      _this.node.menu.classList.add('mm-menu_sidebar-expanded');\n    }); //\tEn-/disable the expanded sidebar.\n\n    var _enable = function _enable() {\n      _this.node.wrpr.classList.add('mm-wrapper_sidebar-expanded');\n\n      if (!_this.node.wrpr.matches('.mm-wrapper_sidebar-closed')) {\n        _this.open();\n      }\n    };\n\n    var _disable = function _disable() {\n      _this.node.wrpr.classList.remove('mm-wrapper_sidebar-expanded');\n\n      _this.close();\n    };\n\n    if (typeof options.expanded.use == 'boolean') {\n      this.bind('initMenu:after', _enable);\n    } else {\n      _matchmedia_add(options.expanded.use, _enable, _disable);\n    } //  Manually en-/disable the expanded sidebar (open / close the menu)\n\n\n    this.bind('close:start', function () {\n      if (_this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n        _this.node.wrpr.classList.add('mm-wrapper_sidebar-closed');\n\n        if (options.expanded.initial == 'remember') {\n          window.localStorage.setItem('mmenuExpandedState', 'closed');\n        }\n      }\n    });\n    this.bind('open:start', function () {\n      if (_this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n        _this.node.wrpr.classList.remove('mm-wrapper_sidebar-closed');\n\n        if (options.expanded.initial == 'remember') {\n          window.localStorage.setItem('mmenuExpandedState', 'open');\n        }\n      }\n    }); //  Set the initial state\n\n    var initialState = options.expanded.initial;\n\n    if (options.expanded.initial == 'remember') {\n      var state = window.localStorage.getItem('mmenuExpandedState');\n\n      switch (state) {\n        case 'open':\n        case 'closed':\n          initialState = state;\n          break;\n      }\n    }\n\n    if (initialState == 'closed') {\n      this.bind('initMenu:after', function () {\n        _this.node.wrpr.classList.add('mm-wrapper_sidebar-closed');\n      });\n    } //\tAdd click behavior.\n    //\tPrevents default behavior when clicking an anchor\n\n\n    this.clck.push(function (anchor, args) {\n      if (args.inMenu && args.inListview) {\n        if (_this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n          return {\n            close: options.expanded.initial == 'closed'\n          };\n        }\n      }\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/addons/toggles/mmenu.toggles.js\n\n //\tAdd the classnames.\n\nmmenu_oncanvas_Mmenu.configs.classNames.toggles = {\n  toggle: 'Toggle',\n  check: 'Check'\n};\n/* harmony default export */ var mmenu_toggles = (function () {\n  var _this = this;\n\n  this.bind('initPanel:after', function (panel) {\n    //\tRefactor toggle classes\n    find(panel, 'input').forEach(function (input) {\n      reClass(input, _this.conf.classNames.toggles.toggle, 'mm-toggle');\n      reClass(input, _this.conf.classNames.toggles.check, 'mm-check');\n    });\n  });\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/wrappers/angular/mmenu.angular.js\n/* harmony default export */ var mmenu_angular = (function () {\n  this.opts.onClick = {\n    close: true,\n    preventDefault: false,\n    setSelected: true\n  };\n});\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/wrappers/bootstrap/mmenu.bootstrap.js\n\n/* harmony default export */ var mmenu_bootstrap = (function () {\n  var _this = this;\n\n  //\tCreate the menu\n  if (this.node.menu.matches('.navbar-collapse')) {\n    //\tNo need for cloning the menu...\n    if (this.conf.offCanvas) {\n      this.conf.offCanvas.clone = false;\n    } //\t... We'll create a new menu\n\n\n    var nav = create('nav'),\n        panel = create('div');\n    nav.append(panel);\n    _dom_children(this.node.menu).forEach(function (child) {\n      switch (true) {\n        case child.matches('.navbar-nav'):\n          panel.append(cloneNav(child));\n          break;\n\n        case child.matches('.dropdown-menu'):\n          panel.append(cloneDropdown(child));\n          break;\n\n        case child.matches('.form-inline'):\n          _this.conf.searchfield.form = {\n            action: child.getAttribute('action') || null,\n            method: child.getAttribute('method') || null\n          };\n          _this.conf.searchfield.input = {\n            name: child.querySelector('input').getAttribute('name') || null\n          };\n          _this.conf.searchfield.clear = false;\n          _this.conf.searchfield.submit = true;\n          break;\n\n        default:\n          panel.append(child.cloneNode(true));\n          break;\n      }\n    }); //\tSet the menu\n\n    this.bind('initMenu:before', function () {\n      document.body.prepend(nav);\n      _this.node.menu = nav;\n    }); //\tHijack the toggler.\n\n    var parent = this.node.menu.parentElement;\n\n    if (parent) {\n      var toggler = parent.querySelector('.navbar-toggler');\n\n      if (toggler) {\n        // toggler.removeAttribute('data-target');\n        delete toggler.dataset.target;\n        toggler.removeAttribute('aria-controls'); //\tRemove all bound events.\n\n        toggler.outerHTML = toggler.outerHTML;\n        toggler = parent.querySelector('.navbar-toggler'); //  Open the menu on-click.\n\n        toggler.addEventListener('click', function (evnt) {\n          evnt.preventDefault();\n          evnt.stopImmediatePropagation();\n\n          _this[_this.vars.opened ? 'close' : 'open']();\n        });\n      }\n    }\n  }\n\n  function cloneLink(anchor) {\n    var link = create(anchor.matches('a') ? 'a' : 'span'); //\tCopy attributes\n\n    var attr = ['href', 'title', 'target'];\n\n    for (var a = 0; a < attr.length; a++) {\n      if (typeof anchor.getAttribute(attr[a]) != 'undefined') {\n        link.setAttribute(attr[a], anchor.getAttribute(attr[a]));\n      }\n    } //\tCopy contents\n\n\n    link.innerHTML = anchor.innerHTML; //\tRemove Screen reader text.\n\n    find(link, '.sr-only').forEach(function (sro) {\n      sro.remove();\n    });\n    return link;\n  }\n\n  function cloneDropdown(dropdown) {\n    var list = create('ul');\n    _dom_children(dropdown).forEach(function (anchor) {\n      var item = create('li');\n\n      if (anchor.matches('.dropdown-divider')) {\n        item.classList.add('Divider');\n      } else if (anchor.matches('.dropdown-item')) {\n        item.append(cloneLink(anchor));\n      }\n\n      list.append(item);\n    });\n    return list;\n  }\n\n  function cloneNav(nav) {\n    var list = create('ul');\n    find(nav, '.nav-item').forEach(function (anchor) {\n      var item = create('li');\n\n      if (anchor.matches('.active')) {\n        item.classList.add('Selected');\n      }\n\n      if (!anchor.matches('.nav-link')) {\n        var dropdown = _dom_children(anchor, '.dropdown-menu')[0];\n\n        if (dropdown) {\n          item.append(cloneDropdown(dropdown));\n        }\n\n        anchor = _dom_children(anchor, '.nav-link')[0];\n      }\n\n      item.prepend(cloneLink(anchor));\n      list.append(item);\n    });\n    return list;\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/wrappers/olark/mmenu.olark.js\n/* harmony default export */ var mmenu_olark = (function () {\n  this.conf.offCanvas.page.noSelector.push('#olark');\n});\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/wrappers/turbolinks/mmenu.turbolinks.js\n\n/* harmony default export */ var mmenu_turbolinks = (function () {\n  var classnames;\n\n  var grep = function grep(items, callback) {\n    var filtered = [];\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n\n      if (callback(item)) {\n        filtered.push(item);\n      }\n    }\n\n    return filtered;\n  };\n\n  document.addEventListener('turbolinks:before-visit', function (evnt) {\n    classnames = document.documentElement.className;\n    classnames = grep(classnames.split(' '), function (name) {\n      return !/mm-/.test(name);\n    }).join(' ');\n  });\n  document.addEventListener('turbolinks:load', function (evnt) {\n    if (typeof classnames === 'undefined') {\n      return;\n    }\n\n    document.documentElement.className = classnames;\n  });\n});\n;\n// CONCATENATED MODULE: ./node_modules/mmenu-js/dist/wrappers/wordpress/mmenu.wordpress.js\n/* harmony default export */ var mmenu_wordpress = (function () {\n  this.conf.classNames.selected = 'current-menu-item';\n  var wpadminbar = document.getElementById('wpadminbar');\n\n  if (wpadminbar) {\n    wpadminbar.style.position = 'fixed';\n    wpadminbar.classList.add('mm-slideout');\n  }\n});\n// CONCATENATED MODULE: ./node_modules/mmenu-js/src/mmenu.js\n/*!\n * mmenu.js\n * mmenujs.com\n *\n * Copyright (c) Fred Heusschen\n * www.frebsite.nl\n *\n * License: CC-BY-NC-4.0\n * http://creativecommons.org/licenses/by-nc/4.0/\n */\n//\tCore\n //\tCore add-ons\n\n\n\n //\tAdd-ons\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n //\tWrappers\n\n\n\n\n\n\nmmenu_oncanvas_Mmenu.addons = {\n  //\tCore add-ons\n  offcanvas: mmenu_offcanvas,\n  screenReader: mmenu_screenreader,\n  scrollBugFix: mmenu_scrollbugfix,\n  //\tAdd-ons\n  autoHeight: mmenu_autoheight,\n  backButton: mmenu_backbutton,\n  columns: mmenu_columns,\n  counters: mmenu_counters,\n  dividers: mmenu_dividers,\n  drag: mmenu_drag,\n  dropdown: mmenu_dropdown,\n  fixedElements: mmenu_fixedelements,\n  iconbar: mmenu_iconbar,\n  iconPanels: mmenu_iconpanels,\n  keyboardNavigation: mmenu_keyboardnavigation,\n  lazySubmenus: mmenu_lazysubmenus,\n  navbars: Navbars,\n  pageScroll: mmenu_pagescroll,\n  searchfield: mmenu_searchfield,\n  sectionIndexer: mmenu_sectionindexer,\n  setSelected: mmenu_setselected,\n  sidebar: mmenu_sidebar,\n  toggles: mmenu_toggles\n}; //\tWrappers\n\nmmenu_oncanvas_Mmenu.wrappers = {\n  angular: mmenu_angular,\n  bootstrap: mmenu_bootstrap,\n  olark: mmenu_olark,\n  turbolinks: mmenu_turbolinks,\n  wordpress: mmenu_wordpress\n}; //\tGlobal namespace\n\nwindow.Mmenu = mmenu_oncanvas_Mmenu; //\tjQuery plugin\n\n(function ($) {\n  if ($) {\n    $.fn.mmenu = function (options, configs) {\n      var $result = $();\n      this.each(function (e, element) {\n        //\tDon't proceed if the element already is a mmenu.\n        if (element['mmApi']) {\n          return;\n        }\n\n        var menu = new mmenu_oncanvas_Mmenu(element, options, configs),\n            $menu = $(menu.node.menu); //\tStore the API.\n\n        $menu.data('mmenu', menu.API);\n        $result = $result.add($menu);\n      });\n      return $result;\n    };\n  }\n})(window.jQuery || window.Zepto || null);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9fdmVyc2lvbi5qcz9jYjcxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvb25jYW52YXMvX29wdGlvbnMuanM/ZjBkMSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL29uY2FudmFzL19jb25maWdzLmpzPzUyODciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvY29yZS9faGVscGVycy5qcz9hZTE4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvX2kxOG4uanM/YjA0ZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL29uY2FudmFzL3RyYW5zbGF0aW9ucy9ubC5qcz9kZjU4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvb25jYW52YXMvdHJhbnNsYXRpb25zL2ZhLmpzP2Y3MGMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvY29yZS9vbmNhbnZhcy90cmFuc2xhdGlvbnMvZGUuanM/YTE2YyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL29uY2FudmFzL3RyYW5zbGF0aW9ucy9ydS5qcz80ODYzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvb25jYW52YXMvdHJhbnNsYXRpb25zL3RyYW5zbGF0ZS5qcz9iY2M0Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvX2RvbS5qcz84OGMzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvX21hdGNobWVkaWEuanM/Y2FhNyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzLmpzPzA2OWQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvY29yZS9vZmZjYW52YXMvX29wdGlvbnMuanM/NzRmMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL29mZmNhbnZhcy9fY29uZmlncy5qcz9mMzhjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvX2V2ZW50bGlzdGVuZXJzLmpzPzIxM2IiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvY29yZS9vZmZjYW52YXMvbW1lbnUub2ZmY2FudmFzLmpzPzEzYzEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvY29yZS9zY3JlZW5yZWFkZXIvX29wdGlvbnMuanM/ZDYyMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL3NjcmVlbnJlYWRlci9fY29uZmlncy5qcz9mMTI3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvc2NyZWVucmVhZGVyL3RyYW5zbGF0aW9ucy9ubC5qcz8yMDE4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvc2NyZWVucmVhZGVyL3RyYW5zbGF0aW9ucy9mYS5qcz8zODdjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvc2NyZWVucmVhZGVyL3RyYW5zbGF0aW9ucy9kZS5qcz8xYzAxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvc2NyZWVucmVhZGVyL3RyYW5zbGF0aW9ucy9ydS5qcz83ZjAyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvc2NyZWVucmVhZGVyL3RyYW5zbGF0aW9ucy90cmFuc2xhdGUuanM/YzhlMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL3NjcmVlbnJlYWRlci9tbWVudS5zY3JlZW5yZWFkZXIuanM/YTJiNSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL3Njcm9sbGJ1Z2ZpeC9fb3B0aW9ucy5qcz9lMTc5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2NvcmUvX3N1cHBvcnQuanM/M2NhMSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9jb3JlL3Njcm9sbGJ1Z2ZpeC9tbWVudS5zY3JvbGxidWdmaXguanM/ZDQ4ZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvYXV0b2hlaWdodC9fb3B0aW9ucy5qcz9lZmEyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9hdXRvaGVpZ2h0L21tZW51LmF1dG9oZWlnaHQuanM/MjM5NSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvYmFja2J1dHRvbi9fb3B0aW9ucy5qcz81ZmQxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9iYWNrYnV0dG9uL21tZW51LmJhY2tidXR0b24uanM/MzEwOSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvY29sdW1ucy9fb3B0aW9ucy5qcz8yMTlmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9jb2x1bW5zL21tZW51LmNvbHVtbnMuanM/YzhlYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvY291bnRlcnMvX29wdGlvbnMuanM/OTM3ZCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvY291bnRlcnMvbW1lbnUuY291bnRlcnMuanM/NmY5MCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvZGl2aWRlcnMvX29wdGlvbnMuanM/ZDQzNSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvZGl2aWRlcnMvbW1lbnUuZGl2aWRlcnMuanM/MTc4ZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvZHJhZy9fb3B0aW9ucy5qcz8wZmI4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9kcmFnL19jb25maWdzLmpzPzAwMGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL2RyYWcvbW1lbnUuZHJhZy5qcz8wNTljIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9kcm9wZG93bi9fb3B0aW9ucy5qcz81MmFhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9kcm9wZG93bi9fY29uZmlncy5qcz8yZDQ3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9kcm9wZG93bi9tbWVudS5kcm9wZG93bi5qcz9hNzQ3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9maXhlZGVsZW1lbnRzL19jb25maWdzLmpzP2M4NWIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL2ZpeGVkZWxlbWVudHMvbW1lbnUuZml4ZWRlbGVtZW50cy5qcz8zMzZiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9pY29uYmFyL19vcHRpb25zLmpzP2M3ZWEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL2ljb25iYXIvbW1lbnUuaWNvbmJhci5qcz9mMmZlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9pY29ucGFuZWxzL19vcHRpb25zLmpzPzkyMmMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL2ljb25wYW5lbHMvbW1lbnUuaWNvbnBhbmVscy5qcz8zNzUyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9rZXlib2FyZG5hdmlnYXRpb24vX29wdGlvbnMuanM/ODM5MSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMva2V5Ym9hcmRuYXZpZ2F0aW9uL21tZW51LmtleWJvYXJkbmF2aWdhdGlvbi5qcz9iOTZlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9sYXp5c3VibWVudXMvX29wdGlvbnMuanM/OWQyMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvbGF6eXN1Ym1lbnVzL21tZW51LmxhenlzdWJtZW51cy5qcz82MmEzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9uYXZiYXJzL19vcHRpb25zLmpzP2Y0Y2UiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL25hdmJhcnMvX2NvbmZpZ3MuanM/OGZlMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvbmF2YmFycy9fbmF2YmFyLmJyZWFkY3J1bWJzLmpzPzQxZjQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL25hdmJhcnMvX25hdmJhci5jbG9zZS5qcz80MTFlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9uYXZiYXJzL19uYXZiYXIubmV4dC5qcz8yYjhjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9uYXZiYXJzL19uYXZiYXIucHJldi5qcz8zMGViIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9uYXZiYXJzL19uYXZiYXIuc2VhcmNoZmllbGQuanM/MTJiMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvbmF2YmFycy9fbmF2YmFyLnRpdGxlLmpzPzFmOTUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL25hdmJhcnMvX25hdmJhci50YWJzLmpzPzE2NjMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL25hdmJhcnMvbW1lbnUubmF2YmFycy5qcz9iMTYwIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9wYWdlc2Nyb2xsL19vcHRpb25zLmpzP2JiNmMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3BhZ2VzY3JvbGwvX2NvbmZpZ3MuanM/YjgzNSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvcGFnZXNjcm9sbC9tbWVudS5wYWdlc2Nyb2xsLmpzP2Q4MzkiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NlYXJjaGZpZWxkL19vcHRpb25zLmpzPzk5NjIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NlYXJjaGZpZWxkL19jb25maWdzLmpzP2U4ZjYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NlYXJjaGZpZWxkL3RyYW5zbGF0aW9ucy9ubC5qcz9kZDhmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9zZWFyY2hmaWVsZC90cmFuc2xhdGlvbnMvZmEuanM/Y2ZhNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvc2VhcmNoZmllbGQvdHJhbnNsYXRpb25zL2RlLmpzP2JkYzkiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NlYXJjaGZpZWxkL3RyYW5zbGF0aW9ucy9ydS5qcz9kNDc2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L2FkZG9ucy9zZWFyY2hmaWVsZC90cmFuc2xhdGlvbnMvdHJhbnNsYXRlLmpzPzFlYjQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NlYXJjaGZpZWxkL21tZW51LnNlYXJjaGZpZWxkLmpzPzIyMTIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NlY3Rpb25pbmRleGVyL19vcHRpb25zLmpzPzBkMzMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NlY3Rpb25pbmRleGVyL21tZW51LnNlY3Rpb25pbmRleGVyLmpzPzNlNjAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NldHNlbGVjdGVkL19vcHRpb25zLmpzPzk1YjYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NldHNlbGVjdGVkL21tZW51LnNldHNlbGVjdGVkLmpzP2NkMDQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3NpZGViYXIvX29wdGlvbnMuanM/ZDBlMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC9hZGRvbnMvc2lkZWJhci9tbWVudS5zaWRlYmFyLmpzP2MwZDgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21tZW51LWpzL2Rpc3QvYWRkb25zL3RvZ2dsZXMvbW1lbnUudG9nZ2xlcy5qcz85MTg4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L3dyYXBwZXJzL2FuZ3VsYXIvbW1lbnUuYW5ndWxhci5qcz9iMGMyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L3dyYXBwZXJzL2Jvb3RzdHJhcC9tbWVudS5ib290c3RyYXAuanM/YWQ5MCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvZGlzdC93cmFwcGVycy9vbGFyay9tbWVudS5vbGFyay5qcz80ZDcyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L3dyYXBwZXJzL3R1cmJvbGlua3MvbW1lbnUudHVyYm9saW5rcy5qcz9kNTNlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tbWVudS1qcy9kaXN0L3dyYXBwZXJzL3dvcmRwcmVzcy9tbWVudS53b3JkcHJlc3MuanM/ZDc4NSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW1lbnUtanMvc3JjL21tZW51LmpzPzc4Y2QiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgJzguMi4xJzsiLCJ2YXIgb3B0aW9ucyA9IHtcbiAgaG9va3M6IHt9LFxuICBleHRlbnNpb25zOiBbXSxcbiAgd3JhcHBlcnM6IFtdLFxuICBuYXZiYXI6IHtcbiAgICBhZGQ6IHRydWUsXG4gICAgdGl0bGU6ICdNZW51JyxcbiAgICB0aXRsZUxpbms6ICdwYXJlbnQnXG4gIH0sXG4gIG9uQ2xpY2s6IHtcbiAgICBjbG9zZTogbnVsbCxcbiAgICBwcmV2ZW50RGVmYXVsdDogbnVsbCxcbiAgICBzZXRTZWxlY3RlZDogdHJ1ZVxuICB9LFxuICBzbGlkaW5nU3VibWVudXM6IHRydWVcbn07XG5leHBvcnQgZGVmYXVsdCBvcHRpb25zOyIsInZhciBjb25maWdzID0ge1xuICBjbGFzc05hbWVzOiB7XG4gICAgaW5zZXQ6ICdJbnNldCcsXG4gICAgbm9saXN0dmlldzogJ05vTGlzdHZpZXcnLFxuICAgIG5vcGFuZWw6ICdOb1BhbmVsJyxcbiAgICBwYW5lbDogJ1BhbmVsJyxcbiAgICBzZWxlY3RlZDogJ1NlbGVjdGVkJyxcbiAgICBzcGFjZXI6ICdTcGFjZXInLFxuICAgIHZlcnRpY2FsOiAnVmVydGljYWwnXG4gIH0sXG4gIGxhbmd1YWdlOiBudWxsLFxuICBvcGVuaW5nSW50ZXJ2YWw6IDI1LFxuICBwYW5lbE5vZGV0eXBlOiBbJ3VsJywgJ29sJywgJ2RpdiddLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IDQwMFxufTtcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3M7IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLm1hdGNoXCI7XG5cbi8qKlxuICogRGVlcCBleHRlbmQgYW4gb2JqZWN0IHdpdGggdGhlIGdpdmVuIGRlZmF1bHRzLlxuICogTm90ZSB0aGF0IHRoZSBleHRlbmRlZCBvYmplY3QgaXMgbm90IGEgY2xvbmUsIG1lYW5pbmcgdGhlIG9yaWdpbmFsIG9iamVjdCB3aWxsIGFsc28gYmUgdXBkYXRlZC5cbiAqXG4gKiBAcGFyYW0gXHR7b2JqZWN0fVx0b3JpZ25sXHRUaGUgb2JqZWN0IHRvIGV4dGVuZCB0by5cbiAqIEBwYXJhbSBcdHtvYmplY3R9XHRkZmF1bHRcdFRoZSBvYmplY3QgdG8gZXh0ZW5kIGZyb20uXG4gKiBAcmV0dXJuXHR7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBcIm9yaWdubFwiIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChvcmlnbmwsIGRmYXVsdCkge1xuICBpZiAodHlwZShvcmlnbmwpICE9ICdvYmplY3QnKSB7XG4gICAgb3JpZ25sID0ge307XG4gIH1cblxuICBpZiAodHlwZShkZmF1bHQpICE9ICdvYmplY3QnKSB7XG4gICAgZGZhdWx0ID0ge307XG4gIH1cblxuICBmb3IgKHZhciBrIGluIGRmYXVsdCkge1xuICAgIGlmICghZGZhdWx0Lmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9yaWdubFtrXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgb3JpZ25sW2tdID0gZGZhdWx0W2tdO1xuICAgIH0gZWxzZSBpZiAodHlwZShvcmlnbmxba10pID09ICdvYmplY3QnKSB7XG4gICAgICBleHRlbmQob3JpZ25sW2tdLCBkZmF1bHRba10pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvcmlnbmw7XG59XG4vKipcbiAqIERldGVjdCB0aGUgdG91Y2ggLyBkcmFnZ2luZyBkaXJlY3Rpb24gb24gYSB0b3VjaCBkZXZpY2UuXG4gKlxuICogQHBhcmFtICAge0hUTUxFbGVtZW50fSBzdXJmYWNlICAgVGhlIGVsZW1lbnQgdG8gbW9uaXRvciBmb3IgdG91Y2ggZXZlbnRzLlxuICogQHJldHVybiAge29iamVjdH0gICAgICAgICAgICAgICAgT2JqZWN0IHdpdGggXCJnZXRcIiBmdW5jdGlvbi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG91Y2hEaXJlY3Rpb24oc3VyZmFjZSkge1xuICB2YXIgZGlyZWN0aW9uID0gJyc7XG4gIHZhciBwb3NpdGlvbiA9IC0xO1xuICBzdXJmYWNlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgIHBvc2l0aW9uID0gZXZudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcbiAgfSk7XG4gIHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICB2YXIgbmV3UG9zaXRpb24gPSBldm50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgIGRpcmVjdGlvbiA9IG5ld1Bvc2l0aW9uID4gcG9zaXRpb24gPyAnZG93bicgOiAndXAnO1xuICAgIHBvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGRpcmVjdGlvbjtcbiAgICB9XG4gIH07XG59XG4vKipcbiAqIEdldCB0aGUgdHlwZSBvZiBhbnkgZ2l2ZW4gdmFyaWFibGUuIEltcHJvdmVtZW50IG9mIFwidHlwZW9mXCIuXG4gKlxuICogQHBhcmFtIFx0e2FueX1cdFx0dmFyaWFibGVcdFRoZSB2YXJpYWJsZS5cbiAqIEByZXR1cm5cdHtzdHJpbmd9XHRcdFx0XHRUaGUgdHlwZSBvZiB0aGUgdmFyaWFibGUgaW4gbG93ZXJjYXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0eXBlKHZhcmlhYmxlKSB7XG4gIHJldHVybiB7fS50b1N0cmluZy5jYWxsKHZhcmlhYmxlKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpO1xufVxuLyoqXG4gKiBGaW5kIHRoZSB2YWx1ZSBmcm9tIGFuIG9wdGlvbiBvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSBcdHtIVE1MRWxlbWVudH0gXHRlbGVtZW50IFx0U2NvcGUgZm9yIHRoZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSBcdHthbnl9IFx0XHRcdFtvcHRpb25dIFx0VmFsdWUgb3IgZnVuY3Rpb24uXG4gKiBAcGFyYW0gXHR7YW55fSBcdFx0XHRbZGZhdWx0XSBcdERlZmF1bHQgZmFsbGJhY2sgdmFsdWUuXG4gKiBAcmV0dXJuXHR7YW55fVx0XHRcdFx0XHRcdFRoZSBnaXZlbiBldmFsdWF0aW9uIG9mIHRoZSBnaXZlbiBvcHRpb24sIG9yIHRoZSBkZWZhdWx0IGZhbGxiYWNrIHZhbHVlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZU9yRm4oZWxlbWVudCwgb3B0aW9uLCBkZmF1bHQpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciB2YWx1ZSA9IG9wdGlvbi5jYWxsKGVsZW1lbnQpO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICgob3B0aW9uID09PSBudWxsIHx8IHR5cGVvZiBvcHRpb24gPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb3B0aW9uID09ICd1bmRlZmluZWQnKSAmJiB0eXBlb2YgZGZhdWx0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGRmYXVsdDtcbiAgfVxuXG4gIHJldHVybiBvcHRpb247XG59XG4vKipcbiAqIFNldCBhbmQgaW52b2tlIGEgKHNpbmdsZSkgdHJhbnNpdGlvbi1lbmQgZnVuY3Rpb24gd2l0aCBmYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBcdGVsZW1lbnQgXHRTY29wZSBmb3IgdGhlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn1cdFx0ZnVuY1x0XHRGdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0ge251bWJlcn1cdFx0XHRkdXJhdGlvblx0VGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gKGZvciB0aGUgZmFsbGJhY2spLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uZW5kKGVsZW1lbnQsIGZ1bmMsIGR1cmF0aW9uKSB7XG4gIHZhciBfZW5kZWQgPSBmYWxzZSxcbiAgICAgIF9mbiA9IGZ1bmN0aW9uIF9mbihldm50KSB7XG4gICAgaWYgKHR5cGVvZiBldm50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGV2bnQudGFyZ2V0ICE9PSBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIV9lbmRlZCkge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgX2ZuKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIF9mbik7XG4gICAgICBmdW5jLmNhbGwoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgX2VuZGVkID0gdHJ1ZTtcbiAgfTtcblxuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBfZm4pO1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBfZm4pO1xuICBzZXRUaW1lb3V0KF9mbiwgZHVyYXRpb24gKiAxLjEpO1xufVxuLyoqXG4gKiBHZXQgYSAocGFnZSB3aWRlKSB1bmlxdWUgSUQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICByZXR1cm4gJ21tLScgKyBfX2lkKys7XG59XG52YXIgX19pZCA9IDA7XG4vKipcbiAqIEdldCB0aGUgb3JpZ2luYWwgSUQgZnJvbSBhIHBvc3NpYmx5IHByZWZpeGVkIElELlxuICogQHBhcmFtIGlkIFRoZSBwb3NzaWJseSBwcmVmaXhlZCBJRC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3JpZ2luYWxJZChpZCkge1xuICBpZiAoaWQuc2xpY2UoMCwgMykgPT0gJ21tLScpIHtcbiAgICByZXR1cm4gaWQuc2xpY2UoMyk7XG4gIH1cblxuICByZXR1cm4gaWQ7XG59IiwiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi9faGVscGVycyc7XG52YXIgdHJhbnNsYXRpb25zID0ge307XG4vKipcbiAqIEFkZCB0cmFuc2xhdGlvbnMgdG8gYSBsYW5ndWFnZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSAgdGV4dCAgICAgICAgT2JqZWN0IG9mIGtleS92YWx1ZSB0cmFuc2xhdGlvbnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gIGxhbmd1YWdlICAgIFRoZSB0cmFuc2xhdGVkIGxhbmd1YWdlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQodGV4dCwgbGFuZ3VhZ2UpIHtcbiAgaWYgKHR5cGVvZiB0cmFuc2xhdGlvbnNbbGFuZ3VhZ2VdID09ICd1bmRlZmluZWQnKSB7XG4gICAgdHJhbnNsYXRpb25zW2xhbmd1YWdlXSA9IHt9O1xuICB9XG5cbiAgZXh0ZW5kKHRyYW5zbGF0aW9uc1tsYW5ndWFnZV0sIHRleHQpO1xufVxuLyoqXG4gKiBGaW5kIGEgdHJhbnNsYXRlZCB0ZXh0IGluIGEgbGFuZ3VhZ2UuXG4gKiBAcGFyYW0gICB7c3RyaW5nfSB0ZXh0ICAgICAgIFRoZSB0ZXh0IHRvIGZpbmQgdGhlIHRyYW5zbGF0aW9uIGZvci5cbiAqIEBwYXJhbSAgIHtzdHJpbmd9IGxhbmd1YWdlICAgVGhlIGxhbmd1YWdlIHRvIHNlYXJjaCBpbi5cbiAqIEByZXR1cm4gIHtzdHJpbmd9ICAgICAgICAgICAgVGhlIHRyYW5zbGF0ZWQgdGV4dC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHRleHQsIGxhbmd1YWdlKSB7XG4gIGlmICh0eXBlb2YgbGFuZ3VhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHRyYW5zbGF0aW9uc1tsYW5ndWFnZV0gIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdHJhbnNsYXRpb25zW2xhbmd1YWdlXVt0ZXh0XSB8fCB0ZXh0O1xuICB9XG5cbiAgcmV0dXJuIHRleHQ7XG59XG4vKipcbiAqIEdldCBhbGwgdHJhbnNsYXRlZCB0ZXh0IGluIGEgbGFuZ3VhZ2UuXG4gKiBAcGFyYW0gICB7c3RyaW5nfSBsYW5ndWFnZSAgIFRoZSBsYW5ndWFnZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybiAge29iamVjdH0gICAgICAgICAgICBUaGUgdHJhbnNsYXRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbGwobGFuZ3VhZ2UpIHtcbiAgcmV0dXJuIHRyYW5zbGF0aW9ucztcbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gICdNZW51JzogJ01lbnUnXG59OyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgJ01lbnUnOiAn2YXZhtmIJ1xufTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gICdNZW51JzogJ01lbsO8J1xufTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gICdNZW51JzogJ9Cc0LXQvdGOJ1xufTsiLCJpbXBvcnQgeyBhZGQgfSBmcm9tICcuLi8uLi9faTE4bic7XG5pbXBvcnQgbmwgZnJvbSAnLi9ubCc7XG5pbXBvcnQgZmEgZnJvbSAnLi9mYSc7XG5pbXBvcnQgZGUgZnJvbSAnLi9kZSc7XG5pbXBvcnQgcnUgZnJvbSAnLi9ydSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIGFkZChubCwgJ25sJyk7XG4gIGFkZChmYSwgJ2ZhJyk7XG4gIGFkZChkZSwgJ2RlJyk7XG4gIGFkZChydSwgJ3J1Jyk7XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZ1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZnJvbVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGVcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXRcIjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4vKipcbiAqIENyZWF0ZSBhbiBlbGVtZW50IHdpdGggY2xhc3NuYW1lLlxuICpcbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdHNlbGVjdG9yXHRUaGUgbm9kZU5hbWUgYW5kIGNsYXNzbmFtZXMgZm9yIHRoZSBlbGVtZW50IHRvIGNyZWF0ZS5cbiAqIEByZXR1cm5cdHtIVE1MRWxlbWVudH1cdFx0XHRcdFRoZSBjcmVhdGVkIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoc2VsZWN0b3IpIHtcbiAgdmFyIGVsZW07XG4gIHNlbGVjdG9yLnNwbGl0KCcuJykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBhKSB7XG4gICAgaWYgKGEgPT0gMCkge1xuICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGFyZyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGVsZW07XG59XG4vKipcbiAqIEZpbmQgYWxsIGVsZW1lbnRzIG1hdGNoaW5nIHRoZSBzZWxlY3Rvci5cbiAqIEJhc2ljYWxseSB0aGUgc2FtZSBhcyBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoKSBidXQgaXQgcmV0dXJucyBhbiBhY3R1YWxsIGFycmF5LlxuICpcbiAqIEBwYXJhbSBcdHtIVE1MRWxlbWVudH0gXHRlbGVtZW50IEVsZW1lbnQgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIFx0e3N0cmluZ31cdFx0ZmlsdGVyXHRUaGUgZmlsdGVyIHRvIG1hdGNoLlxuICogQHJldHVyblx0e2FycmF5fVx0XHRcdFx0XHRBcnJheSBvZiBlbGVtZW50cyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXIuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQoZWxlbWVudCwgZmlsdGVyKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZmlsdGVyKSk7XG59XG4vKipcbiAqIEZpbmQgYWxsIGNoaWxkIGVsZW1lbnRzIG1hdGNoaW5nIHRoZSAob3B0aW9uYWwpIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSBcdHtIVE1MRWxlbWVudH0gXHRlbGVtZW50IEVsZW1lbnQgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIFx0e3N0cmluZ31cdFx0ZmlsdGVyXHRUaGUgZmlsdGVyIHRvIG1hdGNoLlxuICogQHJldHVyblx0e2FycmF5fVx0XHRcdFx0XHRBcnJheSBvZiBjaGlsZCBlbGVtZW50cyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXIuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQsIGZpbHRlcikge1xuICB2YXIgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlbGVtZW50LmNoaWxkcmVuKTtcbiAgcmV0dXJuIGZpbHRlciA/IGNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXR1cm4gY2hpbGQubWF0Y2hlcyhmaWx0ZXIpO1xuICB9KSA6IGNoaWxkcmVuO1xufVxuLyoqXG4gKiBGaW5kIHRleHQgZXhjbHVkaW5nIHRleHQgZnJvbSB3aXRoaW4gY2hpbGQgZWxlbWVudHMuXG4gKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9ICAgZWxlbWVudCBFbGVtZW50IHRvIHNlYXJjaCBpbi5cbiAqIEByZXR1cm4gIHtzdHJpbmd9ICAgICAgICAgICAgICAgIFRoZSB0ZXh0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsZW1lbnQuY2hpbGROb2RlcykuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZC5ub2RlVHlwZSA9PSAzO1xuICB9KS5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkLnRleHRDb250ZW50O1xuICB9KS5qb2luKCcgJyk7XG59XG4vKipcbiAqIEZpbmQgYWxsIHByZWNlZGluZyBlbGVtZW50cyBtYXRjaGluZyB0aGUgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIFx0e0hUTUxFbGVtZW50fSBcdGVsZW1lbnQgRWxlbWVudCB0byBzdGFydCBzZWFyY2hpbmcgZnJvbS5cbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdGZpbHRlclx0VGhlIGZpbHRlciB0byBtYXRjaC5cbiAqIEByZXR1cm5cdHthcnJheX1cdFx0XHRcdFx0QXJyYXkgb2YgcHJlY2VkaW5nIGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJlbnRzKGVsZW1lbnQsIGZpbHRlcikge1xuICAvKiogQXJyYXkgb2YgcHJlY2VkaW5nIGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLiAqL1xuICB2YXIgcGFyZW50cyA9IFtdO1xuICAvKiogQXJyYXkgb2YgcHJlY2VkaW5nIGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLiAqL1xuXG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGZpbHRlciA/IHBhcmVudHMuZmlsdGVyKGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICByZXR1cm4gcGFyZW50Lm1hdGNoZXMoZmlsdGVyKTtcbiAgfSkgOiBwYXJlbnRzO1xufVxuLyoqXG4gKiBGaW5kIGFsbCBwcmV2aW91cyBzaWJsaW5ncyBtYXRjaGluZyB0aGUgc2VsZWNvdHIuXG4gKlxuICogQHBhcmFtIFx0e0hUTUxFbGVtZW50fSBcdGVsZW1lbnQgRWxlbWVudCB0byBzdGFydCBzZWFyY2hpbmcgZnJvbS5cbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdGZpbHRlclx0VGhlIGZpbHRlciB0byBtYXRjaC5cbiAqIEByZXR1cm5cdHthcnJheX1cdFx0XHRcdFx0QXJyYXkgb2YgcHJldmlvdXMgc2libGluZ3MgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXZBbGwoZWxlbWVudCwgZmlsdGVyKSB7XG4gIC8qKiBBcnJheSBvZiBwcmV2aW91cyBzaWJsaW5ncyB0aGF0IG1hdGNoIHRoZSBzZWxlY3Rvci4gKi9cbiAgdmFyIHByZXZpb3VzID0gW107XG4gIC8qKiBDdXJyZW50IGVsZW1lbnQgaW4gdGhlIGxvb3AgKi9cblxuICB2YXIgY3VycmVudCA9IGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICB3aGlsZSAoY3VycmVudCkge1xuICAgIGlmICghZmlsdGVyIHx8IGN1cnJlbnQubWF0Y2hlcyhmaWx0ZXIpKSB7XG4gICAgICBwcmV2aW91cy5wdXNoKGN1cnJlbnQpO1xuICAgIH1cblxuICAgIGN1cnJlbnQgPSBjdXJyZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIH1cblxuICByZXR1cm4gcHJldmlvdXM7XG59XG4vKipcbiAqIEdldCBhbiBlbGVtZW50IG9mZnNldCByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIFx0e0hUTUxFbGVtZW50fVx0IGVsZW1lbnQgXHRcdFx0RWxlbWVudCB0byBzdGFydCBtZWFzdXJpbmcgZnJvbS5cbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdCBbZGlyZWN0aW9uPXRvcF0gXHRPZmZzZXQgdG9wIG9yIGxlZnQuXG4gKiBAcmV0dXJuXHR7bnVtYmVyfVx0XHRcdFx0XHRcdFx0VGhlIGVsZW1lbnQgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGVsZW1lbnQsIGRpcmVjdGlvbikge1xuICByZXR1cm4gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtkaXJlY3Rpb25dICsgZG9jdW1lbnQuYm9keVtkaXJlY3Rpb24gPT09ICdsZWZ0JyA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXTtcbn1cbi8qKlxuICogRmlsdGVyIG91dCBub24tbGlzdGl0ZW0gbGlzdGl0ZW1zLlxuICogQHBhcmFtICB7YXJyYXl9IGxpc3RpdGVtcyBcdEVsZW1lbnRzIHRvIGZpbHRlci5cbiAqIEByZXR1cm4ge2FycmF5fVx0XHRcdFx0VGhlIGZpbHRlcmVkIHNldCBvZiBsaXN0aXRlbXMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckxJKGxpc3RpdGVtcykge1xuICByZXR1cm4gbGlzdGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICByZXR1cm4gIWxpc3RpdGVtLm1hdGNoZXMoJy5tbS1oaWRkZW4nKTtcbiAgfSk7XG59XG4vKipcbiAqIEZpbmQgYW5jaG9ycyBpbiBsaXN0aXRlbXMgKGV4Y2x1ZGluZyBhbmNob3IgdGhhdCBvcGVuIGEgc3ViLXBhbmVsKS5cbiAqIEBwYXJhbSAge2FycmF5fSBcdGxpc3RpdGVtcyBcdEVsZW1lbnRzIHRvIGZpbHRlci5cbiAqIEByZXR1cm4ge2FycmF5fVx0XHRcdFx0VGhlIGZvdW5kIHNldCBvZiBhbmNob3JzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJMSUEobGlzdGl0ZW1zKSB7XG4gIHZhciBhbmNob3JzID0gW107XG4gIGZpbHRlckxJKGxpc3RpdGVtcykuZm9yRWFjaChmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICBhbmNob3JzLnB1c2guYXBwbHkoYW5jaG9ycywgX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuKGxpc3RpdGVtLCAnYS5tbS1saXN0aXRlbV9fdGV4dCcpKSk7XG4gIH0pO1xuICByZXR1cm4gYW5jaG9ycy5maWx0ZXIoZnVuY3Rpb24gKGFuY2hvcikge1xuICAgIHJldHVybiAhYW5jaG9yLm1hdGNoZXMoJy5tbS1idG5fbmV4dCcpO1xuICB9KTtcbn1cbi8qKlxuICogUmVmYWN0b3IgYSBjbGFzc25hbWUgb24gbXVsdGlwbGUgZWxlbWVudHMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFx0RWxlbWVudCB0byByZWZhY3Rvci5cbiAqIEBwYXJhbSB7c3RyaW5nfVx0XHRvbGRDbGFzcyBcdENsYXNzbmFtZSB0byByZW1vdmUuXG4gKiBAcGFyYW0ge3N0cmluZ31cdFx0bmV3Q2xhc3MgXHRDbGFzc25hbWUgdG8gYWRkLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZUNsYXNzKGVsZW1lbnQsIG9sZENsYXNzLCBuZXdDbGFzcykge1xuICBpZiAoZWxlbWVudC5tYXRjaGVzKCcuJyArIG9sZENsYXNzKSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShvbGRDbGFzcyk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5ld0NsYXNzKTtcbiAgfVxufSIsIi8qKiBDb2xsZWN0aW9uIG9mIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgbWVkaWEgcXVlcnlzLiAqL1xudmFyIGxpc3RlbmVycyA9IHt9O1xuLyoqXG4gKiBCaW5kIGZ1bmN0aW9ucyB0byBhIG1hdGNoTWVkaWEgbGlzdGVuZXIgKHN1YnNjcmliZXIpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gXHRxdWVyeSBcdE1lZGlhIHF1ZXJ5IHRvIG1hdGNoIG9yIG51bWJlciBmb3IgbWluLXdpZHRoLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gXHRcdHllcyBcdEZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHRoZSBtZWRpYSBxdWVyeSBtYXRjaGVzLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gXHRcdG5vIFx0XHRGdW5jdGlvbiB0byBpbnZva2Ugd2hlbiB0aGUgbWVkaWEgcXVlcnkgZG9lc24ndCBtYXRjaC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKHF1ZXJ5LCB5ZXMsIG5vKSB7XG4gIGlmICh0eXBlb2YgcXVlcnkgPT0gJ251bWJlcicpIHtcbiAgICBxdWVyeSA9ICcobWluLXdpZHRoOiAnICsgcXVlcnkgKyAncHgpJztcbiAgfVxuXG4gIGxpc3RlbmVyc1txdWVyeV0gPSBsaXN0ZW5lcnNbcXVlcnldIHx8IFtdO1xuICBsaXN0ZW5lcnNbcXVlcnldLnB1c2goe1xuICAgIHllczogeWVzLFxuICAgIG5vOiBub1xuICB9KTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgbWF0Y2hNZWRpYSBsaXN0ZW5lci5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gd2F0Y2goKSB7XG4gIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKHF1ZXJ5KSB7XG4gICAgdmFyIG1xbGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICBmaXJlKHF1ZXJ5LCBtcWxpc3QpO1xuXG4gICAgbXFsaXN0Lm9uY2hhbmdlID0gZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgIGZpcmUocXVlcnksIG1xbGlzdCk7XG4gICAgfTtcbiAgfTtcblxuICBmb3IgKHZhciBxdWVyeSBpbiBsaXN0ZW5lcnMpIHtcbiAgICBfbG9vcChxdWVyeSk7XG4gIH1cbn1cbi8qKlxuICogSW52b2tlIHRoZSBcInllc1wiIG9yIFwibm9cIiBmdW5jdGlvbiBmb3IgYSBtYXRjaE1lZGlhIGxpc3RlbmVyIChwdWJsaXNoZXIpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBcdFx0XHRxdWVyeSBcdE1lZGlhIHF1ZXJ5IHRvIGNoZWNrIGZvci5cbiAqIEBwYXJhbSB7TWVkaWFRdWVyeUxpc3R9IFx0bXFsaXN0IFx0TWVkaWEgcXVlcnkgbGlzdCB0byBjaGVjayB3aXRoLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmaXJlKHF1ZXJ5LCBtcWxpc3QpIHtcbiAgdmFyIGZuID0gbXFsaXN0Lm1hdGNoZXMgPyAneWVzJyA6ICdubyc7XG5cbiAgZm9yICh2YXIgbSA9IDA7IG0gPCBsaXN0ZW5lcnNbcXVlcnldLmxlbmd0aDsgbSsrKSB7XG4gICAgbGlzdGVuZXJzW3F1ZXJ5XVttXVtmbl0oKTtcbiAgfVxufSIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZyb21cIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4uLy4uL192ZXJzaW9uJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IGNvbmZpZ3MgZnJvbSAnLi9fY29uZmlncyc7XG5pbXBvcnQgdHJhbnNsYXRlIGZyb20gJy4vdHJhbnNsYXRpb25zL3RyYW5zbGF0ZSc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vX2RvbSc7XG5pbXBvcnQgKiBhcyBfaTE4biBmcm9tICcuLi9faTE4bic7XG5pbXBvcnQgKiBhcyBtZWRpYSBmcm9tICcuLi9fbWF0Y2htZWRpYSc7XG5pbXBvcnQgeyB0eXBlLCBleHRlbmQsIHRyYW5zaXRpb25lbmQsIHVuaXF1ZUlkLCB2YWx1ZU9yRm4gfSBmcm9tICcuLi9faGVscGVycyc7IC8vICBBZGQgdGhlIHRyYW5zbGF0aW9ucy5cblxudHJhbnNsYXRlKCk7XG4vKipcbiAqIENsYXNzIGZvciBhIG1vYmlsZSBtZW51LlxuICovXG5cbnZhciBNbWVudSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtb2JpbGUgbWVudS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IFx0bWVudVx0XHRcdFx0XHRcdFRoZSBtZW51IG5vZGUuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBcdFx0XHRcdFtvcHRpb25zPU1tZW51Lm9wdGlvbnNdXHRcdE9wdGlvbnMgZm9yIHRoZSBtZW51LlxuICAgKiBAcGFyYW0ge29iamVjdH0gXHRcdFx0XHRbY29uZmlncz1NbWVudS5jb25maWdzXVx0XHRDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBtZW51LlxuICAgKi9cbiAgZnVuY3Rpb24gTW1lbnUobWVudSwgb3B0aW9ucywgY29uZmlncykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNbWVudSk7XG5cbiAgICAvL1x0RXh0ZW5kIG9wdGlvbnMgYW5kIGNvbmZpZ3VyYXRpb24gZnJvbSBkZWZhdWx0cy5cbiAgICB0aGlzLm9wdHMgPSBleHRlbmQob3B0aW9ucywgTW1lbnUub3B0aW9ucyk7XG4gICAgdGhpcy5jb25mID0gZXh0ZW5kKGNvbmZpZ3MsIE1tZW51LmNvbmZpZ3MpOyAvL1x0TWV0aG9kcyB0byBleHBvc2UgaW4gdGhlIEFQSS5cblxuICAgIHRoaXMuX2FwaSA9IFsnYmluZCcsICdpbml0UGFuZWxzJywgJ2luaXRQYW5lbCcsICdvcGVuUGFuZWwnLCAnY2xvc2VQYW5lbCcsICdjbG9zZUFsbFBhbmVscycsICdzZXRTZWxlY3RlZCddOyAvL1x0U3RvcmFnZSBvYmplY3RzIGZvciBub2RlcywgdmFyaWFibGVzLCBob29rcyBhbmQgY2xpY2sgaGFuZGxlcnMuXG5cbiAgICB0aGlzLm5vZGUgPSB7fTtcbiAgICB0aGlzLnZhcnMgPSB7fTtcbiAgICB0aGlzLmhvb2sgPSB7fTtcbiAgICB0aGlzLmNsY2sgPSBbXTsgLy9cdEdldCBtZW51IG5vZGUgZnJvbSBzdHJpbmcgb3IgZWxlbWVudC5cblxuICAgIHRoaXMubm9kZS5tZW51ID0gdHlwZW9mIG1lbnUgPT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1lbnUpIDogbWVudTtcblxuICAgIGlmICh0eXBlb2YgdGhpcy5fZGVwcmVjYXRlZFdhcm5pbmdzID09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX2RlcHJlY2F0ZWRXYXJuaW5ncygpO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRXcmFwcGVycygpO1xuXG4gICAgdGhpcy5faW5pdEFkZG9ucygpO1xuXG4gICAgdGhpcy5faW5pdEV4dGVuc2lvbnMoKTtcblxuICAgIHRoaXMuX2luaXRIb29rcygpO1xuXG4gICAgdGhpcy5faW5pdEFQSSgpO1xuXG4gICAgdGhpcy5faW5pdE1lbnUoKTtcblxuICAgIHRoaXMuX2luaXRQYW5lbHMoKTtcblxuICAgIHRoaXMuX2luaXRPcGVuZWQoKTtcblxuICAgIHRoaXMuX2luaXRBbmNob3JzKCk7XG5cbiAgICBtZWRpYS53YXRjaCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIGEgcGFuZWwuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhbmVsXHRcdFx0XHRQYW5lbCB0byBvcGVuLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59XHRcdFthbmltYXRpb249dHJ1ZV1cdFdoZXRoZXIgb3Igbm90IHRvIG9wZW4gdGhlIHBhbmVsIHdpdGggYW4gYW5pbWF0aW9uLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhNbWVudSwgW3tcbiAgICBrZXk6IFwib3BlblBhbmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5QYW5lbChwYW5lbCwgYW5pbWF0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAvL1x0SW52b2tlIFwiYmVmb3JlXCIgaG9vay5cbiAgICAgIHRoaXMudHJpZ2dlcignb3BlblBhbmVsOmJlZm9yZScsIFtwYW5lbF0pOyAvL1x0RmluZCBwYW5lbC5cblxuICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghcGFuZWwubWF0Y2hlcygnLm1tLXBhbmVsJykpIHtcbiAgICAgICAgcGFuZWwgPSBwYW5lbC5jbG9zZXN0KCcubW0tcGFuZWwnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vXHQvRmluZCBwYW5lbC5cblxuXG4gICAgICBpZiAodHlwZW9mIGFuaW1hdGlvbiAhPSAnYm9vbGVhbicpIHtcbiAgICAgICAgYW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgIH0gLy9cdE9wZW4gYSBcInZlcnRpY2FsXCIgcGFuZWwuXG5cblxuICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJykpIHtcbiAgICAgICAgLy9cdE9wZW4gY3VycmVudCBhbmQgYWxsIHZlcnRpY2FsIHBhcmVudCBwYW5lbHMuXG4gICAgICAgIERPTS5wYXJlbnRzKHBhbmVsLCAnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJykuZm9yRWFjaChmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICAgICAgICBsaXN0aXRlbS5jbGFzc0xpc3QuYWRkKCdtbS1saXN0aXRlbV9vcGVuZWQnKTtcbiAgICAgICAgICBET00uY2hpbGRyZW4obGlzdGl0ZW0sICcubW0tcGFuZWwnKS5mb3JFYWNoKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnbW0taGlkZGVuJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pOyAvL1x0T3BlbiBmaXJzdCBub24tdmVydGljYWwgcGFyZW50IHBhbmVsLlxuXG4gICAgICAgIHZhciBwYXJlbnRzID0gRE9NLnBhcmVudHMocGFuZWwsICcubW0tcGFuZWwnKS5maWx0ZXIoZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgICAgcmV0dXJuICFwYW5lbC5wYXJlbnRFbGVtZW50Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV92ZXJ0aWNhbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdvcGVuUGFuZWw6c3RhcnQnLCBbcGFuZWxdKTtcblxuICAgICAgICBpZiAocGFyZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLm9wZW5QYW5lbChwYXJlbnRzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJpZ2dlcignb3BlblBhbmVsOmZpbmlzaCcsIFtwYW5lbF0pOyAvL1x0T3BlbiBhIFwiaG9yaXpvbnRhbFwiIHBhbmVsLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBhbmVsLm1hdGNoZXMoJy5tbS1wYW5lbF9vcGVuZWQnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYW5lbHMgPSBET00uY2hpbGRyZW4odGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWwnKSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBET00uY2hpbGRyZW4odGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWxfb3BlbmVkJylbMF07IC8vXHRDbG9zZSBhbGwgY2hpbGQgcGFuZWxzLlxuXG4gICAgICAgIHBhbmVscy5maWx0ZXIoZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnQgIT09IHBhbmVsO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnbW0tcGFuZWxfb3BlbmVkLXBhcmVudCcpO1xuICAgICAgICB9KTsgLy9cdE9wZW4gYWxsIHBhcmVudCBwYW5lbHMuXG5cbiAgICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddO1xuXG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuY2xvc2VzdCgnLm1tLXBhbmVsJyk7XG5cbiAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoIXBhcmVudC5wYXJlbnRFbGVtZW50Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV92ZXJ0aWNhbCcpKSB7XG4gICAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3QuYWRkKCdtbS1wYW5lbF9vcGVuZWQtcGFyZW50Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudFsnbW1QYXJlbnQnXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy9cdEFkZCBjbGFzc2VzIGZvciBhbmltYXRpb24uXG5cblxuICAgICAgICBwYW5lbHMuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdtbS1wYW5lbF9oaWdoZXN0Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBwYW5lbHMuZmlsdGVyKGZ1bmN0aW9uIChoaWRkZW4pIHtcbiAgICAgICAgICByZXR1cm4gaGlkZGVuICE9PSBjdXJyZW50O1xuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGhpZGRlbikge1xuICAgICAgICAgIHJldHVybiBoaWRkZW4gIT09IHBhbmVsO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChoaWRkZW4pIHtcbiAgICAgICAgICBoaWRkZW4uY2xhc3NMaXN0LmFkZCgnbW0taGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdtbS1oaWRkZW4nKTtcbiAgICAgICAgLyoqXHRTdGFydCBvcGVuaW5nIHRoZSBwYW5lbC4gKi9cblxuICAgICAgICB2YXIgb3BlblBhbmVsU3RhcnQgPSBmdW5jdGlvbiBvcGVuUGFuZWxTdGFydCgpIHtcbiAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdtbS1wYW5lbF9vcGVuZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdtbS1wYW5lbF9vcGVuZWQnKTtcblxuICAgICAgICAgIGlmIChwYW5lbC5tYXRjaGVzKCcubW0tcGFuZWxfb3BlbmVkLXBhcmVudCcpKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5hZGQoJ21tLXBhbmVsX2hpZ2hlc3QnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnbW0tcGFuZWxfb3BlbmVkLXBhcmVudCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5hZGQoJ21tLXBhbmVsX29wZW5lZC1wYXJlbnQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnbW0tcGFuZWxfaGlnaGVzdCcpO1xuICAgICAgICAgIH0gLy9cdEludm9rZSBcInN0YXJ0XCIgaG9vay5cblxuXG4gICAgICAgICAgX3RoaXMudHJpZ2dlcignb3BlblBhbmVsOnN0YXJ0JywgW3BhbmVsXSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlx0RmluaXNoIG9wZW5pbmcgdGhlIHBhbmVsLiAqL1xuXG5cbiAgICAgICAgdmFyIG9wZW5QYW5lbEZpbmlzaCA9IGZ1bmN0aW9uIG9wZW5QYW5lbEZpbmlzaCgpIHtcbiAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdtbS1wYW5lbF9oaWdoZXN0Jyk7XG4gICAgICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5hZGQoJ21tLWhpZGRlbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ21tLXBhbmVsX2hpZ2hlc3QnKTsgLy9cdEludm9rZSBcImZpbmlzaFwiIGhvb2suXG5cbiAgICAgICAgICBfdGhpcy50cmlnZ2VyKCdvcGVuUGFuZWw6ZmluaXNoJywgW3BhbmVsXSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGFuaW1hdGlvbiAmJiAhcGFuZWwubWF0Y2hlcygnLm1tLXBhbmVsX25vYW5pbWF0aW9uJykpIHtcbiAgICAgICAgICAvL1x0V2l0aG91dCB0aGUgdGltZW91dCB0aGUgYW5pbWF0aW9uIHdpbGwgbm90IHdvcmsgYmVjYXVzZSB0aGUgZWxlbWVudCBoYWQgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vXHRDYWxsYmFja1xuICAgICAgICAgICAgdHJhbnNpdGlvbmVuZChwYW5lbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBvcGVuUGFuZWxGaW5pc2goKTtcbiAgICAgICAgICAgIH0sIF90aGlzLmNvbmYudHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIG9wZW5QYW5lbFN0YXJ0KCk7XG4gICAgICAgICAgfSwgdGhpcy5jb25mLm9wZW5pbmdJbnRlcnZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlblBhbmVsU3RhcnQoKTtcbiAgICAgICAgICBvcGVuUGFuZWxGaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgfSAvL1x0SW52b2tlIFwiYWZ0ZXJcIiBob29rLlxuXG5cbiAgICAgIHRoaXMudHJpZ2dlcignb3BlblBhbmVsOmFmdGVyJywgW3BhbmVsXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIGEgcGFuZWwuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFuZWwgUGFuZWwgdG8gY2xvc2UuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZVBhbmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlUGFuZWwocGFuZWwpIHtcbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdjbG9zZVBhbmVsOmJlZm9yZScsIFtwYW5lbF0pO1xuICAgICAgdmFyIGxpID0gcGFuZWwucGFyZW50RWxlbWVudDsgLy9cdE9ubHkgd29ya3MgZm9yIFwidmVydGljYWxcIiBwYW5lbHMuXG5cbiAgICAgIGlmIChsaS5tYXRjaGVzKCcubW0tbGlzdGl0ZW1fdmVydGljYWwnKSkge1xuICAgICAgICBsaS5jbGFzc0xpc3QucmVtb3ZlKCdtbS1saXN0aXRlbV9vcGVuZWQnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnbW0taGlkZGVuJyk7IC8vXHRJbnZva2UgbWFpbiBob29rLlxuXG4gICAgICAgIHRoaXMudHJpZ2dlcignY2xvc2VQYW5lbCcsIFtwYW5lbF0pO1xuICAgICAgfSAvL1x0SW52b2tlIFwiYWZ0ZXJcIiBob29rLlxuXG5cbiAgICAgIHRoaXMudHJpZ2dlcignY2xvc2VQYW5lbDphZnRlcicsIFtwYW5lbF0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSBhbGwgb3BlbmVkIHBhbmVscy5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYW5lbCBQYW5lbCB0byBvcGVuIGFmdGVyIGNsb3NpbmcgYWxsIG90aGVyIHBhbmVscy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNsb3NlQWxsUGFuZWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlQWxsUGFuZWxzKHBhbmVsKSB7XG4gICAgICAvL1x0SW52b2tlIFwiYmVmb3JlXCIgaG9vay5cbiAgICAgIHRoaXMudHJpZ2dlcignY2xvc2VBbGxQYW5lbHM6YmVmb3JlJyk7IC8vXHRDbG9zZSBhbGwgXCJ2ZXJ0aWNhbFwiIHBhbmVscy5cblxuICAgICAgdmFyIGxpc3RpdGVtcyA9IHRoaXMubm9kZS5wbmxzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tbS1saXN0aXRlbScpO1xuICAgICAgbGlzdGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgIGxpc3RpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ21tLWxpc3RpdGVtX3NlbGVjdGVkJywgJ21tLWxpc3RpdGVtX29wZW5lZCcpO1xuICAgICAgfSk7IC8vXHRDbG9zZSBhbGwgXCJob3Jpem9udGFsXCIgcGFuZWxzLlxuXG4gICAgICB2YXIgcGFuZWxzID0gRE9NLmNoaWxkcmVuKHRoaXMubm9kZS5wbmxzLCAnLm1tLXBhbmVsJyksXG4gICAgICAgICAgb3BlbmVkID0gcGFuZWwgPyBwYW5lbCA6IHBhbmVsc1swXTtcbiAgICAgIERPTS5jaGlsZHJlbih0aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbCcpLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIGlmIChwYW5lbCAhPT0gb3BlbmVkKSB7XG4gICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnbW0tcGFuZWxfb3BlbmVkJyk7XG4gICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnbW0tcGFuZWxfb3BlbmVkLXBhcmVudCcpO1xuICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ21tLXBhbmVsX2hpZ2hlc3QnKTtcbiAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdtbS1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vXHRPcGVuIGZpcnN0IHBhbmVsLlxuXG4gICAgICB0aGlzLm9wZW5QYW5lbChvcGVuZWQsIGZhbHNlKTsgLy9cdEludm9rZSBcImFmdGVyXCIgaG9vay5cblxuICAgICAgdGhpcy50cmlnZ2VyKCdjbG9zZUFsbFBhbmVsczphZnRlcicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgYSBwYW5lbCBvcGVuZWQvY2xvc2VkLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhbmVsIFBhbmVsIHRvIG9wZW4gb3IgY2xvc2UuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVQYW5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVQYW5lbChwYW5lbCkge1xuICAgICAgdmFyIGxpc3RpdGVtID0gcGFuZWwucGFyZW50RWxlbWVudDsgLy9cdE9ubHkgd29ya3MgZm9yIFwidmVydGljYWxcIiBwYW5lbHMuXG5cbiAgICAgIGlmIChsaXN0aXRlbS5tYXRjaGVzKCcubW0tbGlzdGl0ZW1fdmVydGljYWwnKSkge1xuICAgICAgICB0aGlzW2xpc3RpdGVtLm1hdGNoZXMoJy5tbS1saXN0aXRlbV9vcGVuZWQnKSA/ICdjbG9zZVBhbmVsJyA6ICdvcGVuUGFuZWwnXShwYW5lbCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3BsYXkgYSBsaXN0aXRlbSBhcyBiZWluZyBcInNlbGVjdGVkXCIuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbGlzdGl0ZW0gTGlzdGl0ZW0gdG8gbWFyay5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFNlbGVjdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGVkKGxpc3RpdGVtKSB7XG4gICAgICAvL1x0SW52b2tlIFwiYmVmb3JlXCIgaG9vay5cbiAgICAgIHRoaXMudHJpZ2dlcignc2V0U2VsZWN0ZWQ6YmVmb3JlJywgW2xpc3RpdGVtXSk7IC8vXHRGaXJzdCwgcmVtb3ZlIHRoZSBzZWxlY3RlZCBjbGFzcyBmcm9tIGFsbCBsaXN0aXRlbXMuXG5cbiAgICAgIERPTS5maW5kKHRoaXMubm9kZS5tZW51LCAnLm1tLWxpc3RpdGVtX3NlbGVjdGVkJykuZm9yRWFjaChmdW5jdGlvbiAobGkpIHtcbiAgICAgICAgbGkuY2xhc3NMaXN0LnJlbW92ZSgnbW0tbGlzdGl0ZW1fc2VsZWN0ZWQnKTtcbiAgICAgIH0pOyAvL1x0TmV4dCwgYWRkIHRoZSBzZWxlY3RlZCBjbGFzcyB0byB0aGUgcHJvdmlkZWQgbGlzdGl0ZW0uXG5cbiAgICAgIGxpc3RpdGVtLmNsYXNzTGlzdC5hZGQoJ21tLWxpc3RpdGVtX3NlbGVjdGVkJyk7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgICAgIHRoaXMudHJpZ2dlcignc2V0U2VsZWN0ZWQ6YWZ0ZXInLCBbbGlzdGl0ZW1dKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCBmdW5jdGlvbnMgdG8gYSBob29rIChzdWJzY3JpYmVyKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gXHRcdGhvb2sgVGhlIGhvb2suXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gXHRmdW5jIFRoZSBmdW5jdGlvbi5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJpbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZChob29rLCBmdW5jKSB7XG4gICAgICAvL1x0Q3JlYXRlIGFuIGFycmF5IGZvciB0aGUgaG9vayBpZiBpdCBkb2VzIG5vdCB5ZXQgZXhjaXN0LlxuICAgICAgdGhpcy5ob29rW2hvb2tdID0gdGhpcy5ob29rW2hvb2tdIHx8IFtdOyAvL1x0UHVzaCB0aGUgZnVuY3Rpb24gdG8gdGhlIGFycmF5LlxuXG4gICAgICB0aGlzLmhvb2tbaG9va10ucHVzaChmdW5jKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoZSBmdW5jdGlvbnMgYm91bmQgdG8gYSBob29rIChwdWJsaXNoZXIpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBcdGhvb2sgIFx0VGhlIGhvb2suXG4gICAgICogQHBhcmFtIHthcnJheX1cdFthcmdzXSBcdEFyZ3VtZW50cyBmb3IgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHJpZ2dlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGhvb2ssIGFyZ3MpIHtcbiAgICAgIGlmICh0aGlzLmhvb2tbaG9va10pIHtcbiAgICAgICAgZm9yICh2YXIgaCA9IDAsIGwgPSB0aGlzLmhvb2tbaG9va10ubGVuZ3RoOyBoIDwgbDsgaCsrKSB7XG4gICAgICAgICAgdGhpcy5ob29rW2hvb2tdW2hdLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgQVBJLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRBUElcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRBUEkoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgLy9cdFdlIG5lZWQgdGhpcz10aGF0IGJlY2F1c2U6XG4gICAgICAvL1x0MSkgdGhlIFwiYXJndW1lbnRzXCIgb2JqZWN0IGNhbiBub3QgYmUgcmVmZXJlbmNlZCBpbiBhbiBhcnJvdyBmdW5jdGlvbiBpbiBFUzMgYW5kIEVTNS5cbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHRoaXMuQVBJID0ge307XG5cbiAgICAgIHRoaXMuX2FwaS5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICBfdGhpczIuQVBJW2ZuXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmUgPSB0aGF0W2ZuXS5hcHBseSh0aGF0LCBhcmd1bWVudHMpOyAvLyAxKVxuXG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiByZSA9PSAndW5kZWZpbmVkJyA/IHRoYXQuQVBJIDogcmU7XG4gICAgICAgIH07XG4gICAgICB9KTsgLy9cdFN0b3JlIHRoZSBBUEkgaW4gdGhlIEhUTUwgbm9kZSBmb3IgZXh0ZXJuYWwgdXNhZ2UuXG5cblxuICAgICAgdGhpcy5ub2RlLm1lbnVbJ21tQXBpJ10gPSB0aGlzLkFQSTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCB0aGUgaG9va3Mgc3BlY2lmaWVkIGluIHRoZSBvcHRpb25zIChwdWJsaXNoZXIpLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRIb29rc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdEhvb2tzKCkge1xuICAgICAgZm9yICh2YXIgaG9vayBpbiB0aGlzLm9wdHMuaG9va3MpIHtcbiAgICAgICAgdGhpcy5iaW5kKGhvb2ssIHRoaXMub3B0cy5ob29rc1tob29rXSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHdyYXBwZXJzIHNwZWNpZmllZCBpbiB0aGUgb3B0aW9ucy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9pbml0V3JhcHBlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRXcmFwcGVycygpIHtcbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0V3JhcHBlcnM6YmVmb3JlJyk7XG5cbiAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgdGhpcy5vcHRzLndyYXBwZXJzLmxlbmd0aDsgdysrKSB7XG4gICAgICAgIHZhciB3cnByID0gTW1lbnUud3JhcHBlcnNbdGhpcy5vcHRzLndyYXBwZXJzW3ddXTtcblxuICAgICAgICBpZiAodHlwZW9mIHdycHIgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdycHIuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSAvL1x0SW52b2tlIFwiYWZ0ZXJcIiBob29rLlxuXG5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdFdyYXBwZXJzOmFmdGVyJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYWxsIGF2YWlsYWJsZSBhZGQtb25zLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRBZGRvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRBZGRvbnMoKSB7XG4gICAgICAvL1x0SW52b2tlIFwiYmVmb3JlXCIgaG9vay5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdEFkZG9uczpiZWZvcmUnKTtcblxuICAgICAgZm9yICh2YXIgYWRkb24gaW4gTW1lbnUuYWRkb25zKSB7XG4gICAgICAgIE1tZW51LmFkZG9uc1thZGRvbl0uY2FsbCh0aGlzKTtcbiAgICAgIH0gLy9cdEludm9rZSBcImFmdGVyXCIgaG9vay5cblxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2luaXRBZGRvbnM6YWZ0ZXInKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZXh0ZW5zaW9ucyBzcGVjaWZpZWQgaW4gdGhlIG9wdGlvbnMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfaW5pdEV4dGVuc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRFeHRlbnNpb25zKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0RXh0ZW5zaW9uczpiZWZvcmUnKTsgLy9cdENvbnZlcnQgYXJyYXkgdG8gb2JqZWN0IHdpdGggYXJyYXkuXG5cbiAgICAgIGlmICh0eXBlKHRoaXMub3B0cy5leHRlbnNpb25zKSA9PSAnYXJyYXknKSB7XG4gICAgICAgIHRoaXMub3B0cy5leHRlbnNpb25zID0ge1xuICAgICAgICAgIGFsbDogdGhpcy5vcHRzLmV4dGVuc2lvbnNcbiAgICAgICAgfTtcbiAgICAgIH0gLy9cdExvb3Agb3ZlciBvYmplY3QuXG5cblxuICAgICAgZm9yICh2YXIgcXVlcnkgaW4gdGhpcy5vcHRzLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5leHRlbnNpb25zW3F1ZXJ5XS5sZW5ndGgpIHtcbiAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzbmFtZXMgPSBfdGhpczMub3B0cy5leHRlbnNpb25zW3F1ZXJ5XS5tYXAoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgIHJldHVybiAnbW0tbWVudV8nICsgcXVlcnk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWVkaWEuYWRkKHF1ZXJ5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBfdGhpczMkbm9kZSRtZW51JGNsYXM7XG5cbiAgICAgICAgICAgICAgKF90aGlzMyRub2RlJG1lbnUkY2xhcyA9IF90aGlzMy5ub2RlLm1lbnUuY2xhc3NMaXN0KS5hZGQuYXBwbHkoX3RoaXMzJG5vZGUkbWVudSRjbGFzLCBfdG9Db25zdW1hYmxlQXJyYXkoY2xhc3NuYW1lcykpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgX3RoaXMzJG5vZGUkbWVudSRjbGFzMjtcblxuICAgICAgICAgICAgICAoX3RoaXMzJG5vZGUkbWVudSRjbGFzMiA9IF90aGlzMy5ub2RlLm1lbnUuY2xhc3NMaXN0KS5yZW1vdmUuYXBwbHkoX3RoaXMzJG5vZGUkbWVudSRjbGFzMiwgX3RvQ29uc3VtYWJsZUFycmF5KGNsYXNzbmFtZXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgIH0gLy9cdEludm9rZSBcImFmdGVyXCIgaG9vay5cblxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2luaXRFeHRlbnNpb25zOmFmdGVyJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIG1lbnUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfaW5pdE1lbnVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRNZW51KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0TWVudTpiZWZvcmUnKTsgLy9cdEFkZCBjbGFzcyB0byB0aGUgd3JhcHBlci5cblxuICAgICAgdGhpcy5ub2RlLndycHIgPSB0aGlzLm5vZGUud3JwciB8fCB0aGlzLm5vZGUubWVudS5wYXJlbnRFbGVtZW50O1xuICAgICAgdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LmFkZCgnbW0td3JhcHBlcicpOyAvL1x0QWRkIGFuIElEIHRvIHRoZSBtZW51IGlmIGl0IGRvZXMgbm90IHlldCBoYXZlIG9uZS5cblxuICAgICAgdGhpcy5ub2RlLm1lbnUuaWQgPSB0aGlzLm5vZGUubWVudS5pZCB8fCB1bmlxdWVJZCgpOyAvL1x0V3JhcCB0aGUgcGFuZWxzIGluIGEgbm9kZS5cblxuICAgICAgdmFyIHBhbmVscyA9IERPTS5jcmVhdGUoJ2Rpdi5tbS1wYW5lbHMnKTtcbiAgICAgIERPTS5jaGlsZHJlbih0aGlzLm5vZGUubWVudSkuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgaWYgKF90aGlzNC5jb25mLnBhbmVsTm9kZXR5cGUuaW5kZXhPZihwYW5lbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7XG4gICAgICAgICAgcGFuZWxzLmFwcGVuZChwYW5lbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5ub2RlLm1lbnUuYXBwZW5kKHBhbmVscyk7XG4gICAgICB0aGlzLm5vZGUucG5scyA9IHBhbmVsczsgLy9cdEFkZCBjbGFzcyB0byB0aGUgbWVudS5cblxuICAgICAgdGhpcy5ub2RlLm1lbnUuY2xhc3NMaXN0LmFkZCgnbW0tbWVudScpOyAvL1x0SW52b2tlIFwiYWZ0ZXJcIiBob29rLlxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2luaXRNZW51OmFmdGVyJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbml0UGFuZWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRQYW5lbHMocGFuZWxzKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0UGFuZWxzOmRlcHJlY2F0ZWQnKTtcbiAgICAgIHBhbmVscyA9IHBhbmVscyB8fCBET00uY2hpbGRyZW4odGhpcy5ub2RlLnBubHMpO1xuICAgICAgcGFuZWxzLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIF90aGlzNS5pbml0UGFuZWwocGFuZWwpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgcGFuZWxzLlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IFtwYW5lbHNdIFBhbmVscyB0byBpbml0aWFsaXplLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRQYW5lbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRQYW5lbHMoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgLy9cdEludm9rZSBcImJlZm9yZVwiIGhvb2suXG4gICAgICB0aGlzLnRyaWdnZXIoJ2luaXRQYW5lbHM6YmVmb3JlJyk7IC8vXHRPcGVuIC8gY2xvc2UgcGFuZWxzLlxuXG4gICAgICB0aGlzLmNsY2sucHVzaChmdW5jdGlvbiAoYW5jaG9yLCBhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmluTWVudSkge1xuICAgICAgICAgIHZhciBocmVmID0gYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXG4gICAgICAgICAgaWYgKGhyZWYgJiYgaHJlZi5sZW5ndGggPiAxICYmIGhyZWYuc2xpY2UoMCwgMSkgPT0gJyMnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgcGFuZWwgPSBET00uZmluZChfdGhpczYubm9kZS5tZW51LCBocmVmKVswXTtcblxuICAgICAgICAgICAgICBpZiAocGFuZWwgJiYgcGFuZWwubWF0Y2hlcygnLm1tLXBhbmVsJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yLnBhcmVudEVsZW1lbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJykpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzNi50b2dnbGVQYW5lbChwYW5lbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzNi5vcGVuUGFuZWwocGFuZWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8qKiBUaGUgcGFuZWxzIHRvIGluaXRpYXRlICovXG5cbiAgICAgIHZhciBwYW5lbHMgPSBET00uY2hpbGRyZW4odGhpcy5ub2RlLnBubHMpO1xuICAgICAgcGFuZWxzLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIF90aGlzNi5pbml0UGFuZWwocGFuZWwpO1xuICAgICAgfSk7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdFBhbmVsczphZnRlcicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgc2luZ2xlIHBhbmVsIGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFuZWwgVGhlIHBhbmVsIHRvIGluaXRpYWxpemUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbml0UGFuZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFBhbmVsKHBhbmVsKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgLyoqIFF1ZXJ5IHNlbGVjdG9yIGZvciBwb3NzaWJsZSBub2RlLXR5cGVzIGZvciBwYW5lbHMuICovXG4gICAgICB2YXIgcGFuZWxOb2RldHlwZSA9IHRoaXMuY29uZi5wYW5lbE5vZGV0eXBlLmpvaW4oJywgJyk7XG5cbiAgICAgIGlmIChwYW5lbC5tYXRjaGVzKHBhbmVsTm9kZXR5cGUpKSB7XG4gICAgICAgIC8vICBPbmx5IG9uY2VcbiAgICAgICAgaWYgKCFwYW5lbC5tYXRjaGVzKCcubW0tcGFuZWwnKSkge1xuICAgICAgICAgIHBhbmVsID0gdGhpcy5faW5pdFBhbmVsKHBhbmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYW5lbCkge1xuICAgICAgICAgIC8qKiBUaGUgc3ViIHBhbmVscy4gKi9cbiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTsgLy9cdEZpbmQgcGFuZWwgPiBwYW5lbFxuXG4gICAgICAgICAgY2hpbGRyZW4ucHVzaC5hcHBseShjaGlsZHJlbiwgX3RvQ29uc3VtYWJsZUFycmF5KERPTS5jaGlsZHJlbihwYW5lbCwgJy4nICsgdGhpcy5jb25mLmNsYXNzTmFtZXMucGFuZWwpKSk7IC8vXHRGaW5kIHBhbmVsIGxpc3RpdGVtID4gcGFuZWxcblxuICAgICAgICAgIERPTS5jaGlsZHJlbihwYW5lbCwgJy5tbS1saXN0dmlldycpLmZvckVhY2goZnVuY3Rpb24gKGxpc3R2aWV3KSB7XG4gICAgICAgICAgICBET00uY2hpbGRyZW4obGlzdHZpZXcsICcubW0tbGlzdGl0ZW0nKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoLmFwcGx5KGNoaWxkcmVuLCBfdG9Db25zdW1hYmxlQXJyYXkoRE9NLmNoaWxkcmVuKGxpc3RpdGVtLCBwYW5lbE5vZGV0eXBlKSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7IC8vICBJbml0aWF0ZSBzdWJwYW5lbChzKS5cblxuICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBfdGhpczcuaW5pdFBhbmVsKGNoaWxkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgc2luZ2xlIHBhbmVsLlxuICAgICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBcdFx0cGFuZWwgXHRQYW5lbCB0byBpbml0aWFsaXplLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fG51bGx9IFx0XHRcdEluaXRpYWxpemVkIHBhbmVsLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRQYW5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdFBhbmVsKHBhbmVsKSB7XG4gICAgICAvL1x0SW52b2tlIFwiYmVmb3JlXCIgaG9vay5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdFBhbmVsOmJlZm9yZScsIFtwYW5lbF0pOyAvL1x0UmVmYWN0b3IgcGFuZWwgY2xhc3NuYW1lc1xuXG4gICAgICBET00ucmVDbGFzcyhwYW5lbCwgdGhpcy5jb25mLmNsYXNzTmFtZXMucGFuZWwsICdtbS1wYW5lbCcpO1xuICAgICAgRE9NLnJlQ2xhc3MocGFuZWwsIHRoaXMuY29uZi5jbGFzc05hbWVzLm5vcGFuZWwsICdtbS1ub3BhbmVsJyk7XG4gICAgICBET00ucmVDbGFzcyhwYW5lbCwgdGhpcy5jb25mLmNsYXNzTmFtZXMuaW5zZXQsICdtbS1saXN0dmlld19pbnNldCcpO1xuXG4gICAgICBpZiAocGFuZWwubWF0Y2hlcygnLm1tLWxpc3R2aWV3X2luc2V0JykpIHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnbW0tbm9wYW5lbCcpO1xuICAgICAgfSAvL1x0U3RvcCBpZiBub3Qgc3VwcG9zZWQgdG8gYmUgYSBwYW5lbC5cblxuXG4gICAgICBpZiAocGFuZWwubWF0Y2hlcygnLm1tLW5vcGFuZWwnKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGlkID0gcGFuZWwuaWQgfHwgdW5pcXVlSWQoKTsgLy8gIFZlcnRpY2FsIHBhbmVsLlxuXG4gICAgICB2YXIgdmVydGljYWwgPSBwYW5lbC5tYXRjaGVzKCcuJyArIHRoaXMuY29uZi5jbGFzc05hbWVzLnZlcnRpY2FsKSB8fCAhdGhpcy5vcHRzLnNsaWRpbmdTdWJtZW51cztcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25mLmNsYXNzTmFtZXMudmVydGljYWwpOyAvL1x0V3JhcCBVTC9PTCBpbiBESVZcblxuICAgICAgaWYgKHBhbmVsLm1hdGNoZXMoJ3VsLCBvbCcpKSB7XG4gICAgICAgIHBhbmVsLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgLyoqIFRoZSBwYW5lbC4gKi9cblxuICAgICAgICB2YXIgd3JhcHBlciA9IERPTS5jcmVhdGUoJ2RpdicpOyAvL1x0V3JhcCB0aGUgbGlzdHZpZXcgaW4gdGhlIHBhbmVsLlxuXG4gICAgICAgIHBhbmVsLmJlZm9yZSh3cmFwcGVyKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmQocGFuZWwpO1xuICAgICAgICBwYW5lbCA9IHdyYXBwZXI7XG4gICAgICB9XG5cbiAgICAgIHBhbmVsLmlkID0gaWQ7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdtbS1wYW5lbCcsICdtbS1oaWRkZW4nKTtcbiAgICAgIC8qKiBUaGUgcGFyZW50IGxpc3RpdGVtLiAqL1xuXG4gICAgICB2YXIgcGFyZW50ID0gW3BhbmVsLnBhcmVudEVsZW1lbnRdLmZpbHRlcihmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGxpc3RpdGVtLm1hdGNoZXMoJ2xpJyk7XG4gICAgICB9KVswXTtcblxuICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnbW0tbGlzdGl0ZW1fdmVydGljYWwnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ub2RlLnBubHMuYXBwZW5kKHBhbmVsKTtcbiAgICAgIH0gLy9cdFN0b3JlIHBhcmVudC9jaGlsZCByZWxhdGlvbi5cblxuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudFsnbW1DaGlsZCddID0gcGFuZWw7XG4gICAgICAgIHBhbmVsWydtbVBhcmVudCddID0gcGFyZW50O1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pbml0TmF2YmFyKHBhbmVsKTtcblxuICAgICAgdGhpcy5faW5pdExpc3R2aWV3KHBhbmVsKTsgLy9cdEludm9rZSBcImFmdGVyXCIgaG9vay5cblxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2luaXRQYW5lbDphZnRlcicsIFtwYW5lbF0pO1xuICAgICAgcmV0dXJuIHBhbmVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmF2YmFyLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhbmVsIFBhbmVsIGZvciB0aGUgbmF2YmFyLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXROYXZiYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXROYXZiYXIocGFuZWwpIHtcbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0TmF2YmFyOmJlZm9yZScsIFtwYW5lbF0pOyAvL1x0T25seSBvbmUgbmF2YmFyIHBlciBwYW5lbC5cblxuICAgICAgaWYgKERPTS5jaGlsZHJlbihwYW5lbCwgJy5tbS1uYXZiYXInKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyoqIFRoZSBwYXJlbnQgbGlzdGl0ZW0uICovXG5cblxuICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddO1xuICAgICAgLyoqIFRoZSBuYXZiYXIgZWxlbWVudC4gKi9cblxuICAgICAgdmFyIG5hdmJhciA9IERPTS5jcmVhdGUoJ2Rpdi5tbS1uYXZiYXInKTtcbiAgICAgIC8qKiBUaXRsZSBpbiB0aGUgbmF2YmFyLiAqL1xuXG4gICAgICB2YXIgdGV4dCA9IHRoaXMuX2dldFBhbmVsVGl0bGUocGFuZWwsIHRoaXMub3B0cy5uYXZiYXIudGl0bGUpO1xuICAgICAgLyoqIEhyZWYgZm9yIHRoZSB0aXRsZS4gKi9cblxuXG4gICAgICB2YXIgaHJlZiA9ICcnO1xuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3BlbmVyOyAvL1x0TGlzdHZpZXcsIHRoZSBwYW5lbCB3cmFwcGluZyB0aGlzIHBhbmVsXG5cbiAgICAgICAgaWYgKHBhcmVudC5tYXRjaGVzKCcubW0tbGlzdGl0ZW0nKSkge1xuICAgICAgICAgIG9wZW5lciA9IERPTS5jaGlsZHJlbihwYXJlbnQsICcubW0tbGlzdGl0ZW1fX3RleHQnKVswXTsgLy9cdE5vbi1saXN0dmlldywgdGhlIGZpcnN0IGFuY2hvciBpbiB0aGUgcGFyZW50IHBhbmVsIHRoYXQgbGlua3MgdG8gdGhpcyBwYW5lbFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5lciA9IHBhbmVsLmNsb3Nlc3QoJy5tbS1wYW5lbCcpO1xuICAgICAgICAgIG9wZW5lciA9IERPTS5maW5kKG9wZW5lciwgJ2FbaHJlZj1cIiMnICsgcGFuZWwuaWQgKyAnXCJdJylbMF07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaWQgPSBvcGVuZXIuY2xvc2VzdCgnLm1tLXBhbmVsJykuaWQ7XG4gICAgICAgIHRleHQgPSB0aGlzLl9nZXRQYW5lbFRpdGxlKHBhbmVsLCBvcGVuZXIudGV4dENvbnRlbnQpO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5vcHRzLm5hdmJhci50aXRsZUxpbmspIHtcbiAgICAgICAgICBjYXNlICdhbmNob3InOlxuICAgICAgICAgICAgaHJlZiA9IG9wZW5lci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAncGFyZW50JzpcbiAgICAgICAgICAgIGhyZWYgPSAnIycgKyBpZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByZXYgPSBET00uY3JlYXRlKCdhLm1tLWJ0bi5tbS1idG5fcHJldi5tbS1uYXZiYXJfX2J0bicpO1xuICAgICAgICBwcmV2LnNldEF0dHJpYnV0ZSgnaHJlZicsICcjJyArIGlkKTtcbiAgICAgICAgbmF2YmFyLmFwcGVuZChwcmV2KTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0cy5uYXZiYXIudGl0bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0cy5uYXZiYXIuYWRkKSB7XG4gICAgICAgIERPTS5jaGlsZHJlbihwYW5lbCwgJy5tbS1uYXZiYXInKVswXS5jbGFzc0xpc3QuYWRkKCdtbS1oaWRkZW4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRpdGxlID0gRE9NLmNyZWF0ZSgnYS5tbS1uYXZiYXJfX3RpdGxlJyk7XG4gICAgICB0aXRsZS5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICBpZiAoaHJlZikge1xuICAgICAgICB0aXRsZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgIH1cblxuICAgICAgbmF2YmFyLmFwcGVuZCh0aXRsZSk7IC8vXHRKdXN0IHRvIGNlbnRlciB0aGUgdGl0bGUuXG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIG5leHQgPSBET00uY3JlYXRlKCdzcGFuLm1tLWJ0bi5tbS1uYXZiYXJfX2J0bicpO1xuICAgICAgICBuYXZiYXIuYXBwZW5kKG5leHQpO1xuICAgICAgfVxuXG4gICAgICBwYW5lbC5wcmVwZW5kKG5hdmJhcik7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdE5hdmJhcjphZnRlcicsIFtwYW5lbF0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbGlzdHZpZXcuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFuZWwgUGFuZWwgZm9yIHRoZSBsaXN0dmlldyhzKS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9pbml0TGlzdHZpZXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRMaXN0dmlldyhwYW5lbCkge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0TGlzdHZpZXc6YmVmb3JlJywgW3BhbmVsXSk7XG4gICAgICAvKiogTGlzdHZpZXdzIGluIHRoZSBwYW5lbC4gKi9cblxuICAgICAgdmFyIGxpc3R2aWV3cyA9IERPTS5jaGlsZHJlbihwYW5lbCwgJ3VsLCBvbCcpOyAvL1x0UmVmYWN0b3IgbGlzdGl0ZW1zIGNsYXNzbmFtZXNcblxuICAgICAgbGlzdHZpZXdzLmZvckVhY2goZnVuY3Rpb24gKGxpc3R2aWV3KSB7XG4gICAgICAgIERPTS5yZUNsYXNzKGxpc3R2aWV3LCBfdGhpczguY29uZi5jbGFzc05hbWVzLm5vbGlzdHZpZXcsICdtbS1ub2xpc3R2aWV3Jyk7XG5cbiAgICAgICAgaWYgKCFsaXN0dmlldy5tYXRjaGVzKCcubW0tbm9saXN0dmlldycpKSB7XG4gICAgICAgICAgbGlzdHZpZXcuY2xhc3NMaXN0LmFkZCgnbW0tbGlzdHZpZXcnKTtcbiAgICAgICAgICBET00uY2hpbGRyZW4obGlzdHZpZXcpLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgICAgICBsaXN0aXRlbS5jbGFzc0xpc3QuYWRkKCdtbS1saXN0aXRlbScpO1xuICAgICAgICAgICAgRE9NLnJlQ2xhc3MobGlzdGl0ZW0sIF90aGlzOC5jb25mLmNsYXNzTmFtZXMuc2VsZWN0ZWQsICdtbS1saXN0aXRlbV9zZWxlY3RlZCcpO1xuICAgICAgICAgICAgRE9NLnJlQ2xhc3MobGlzdGl0ZW0sIF90aGlzOC5jb25mLmNsYXNzTmFtZXMuc3BhY2VyLCAnbW0tbGlzdGl0ZW1fc3BhY2VyJyk7XG4gICAgICAgICAgICBET00uY2hpbGRyZW4obGlzdGl0ZW0sICdhLCBzcGFuJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICBpZiAoIWl0ZW0ubWF0Y2hlcygnLm1tLWJ0bicpKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdtbS1saXN0aXRlbV9fdGV4dCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvKiogVGhlIHBhcmVudCBsaXN0aXRlbS4gKi9cblxuICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddOyAvL1x0QWRkIG9wZW4gbGluayB0byBwYXJlbnQgbGlzdGl0ZW1cblxuICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtJykpIHtcbiAgICAgICAgaWYgKCFET00uY2hpbGRyZW4ocGFyZW50LCAnLm1tLWJ0bicpLmxlbmd0aCkge1xuICAgICAgICAgIC8qKiBUaGUgdGV4dCBub2RlLiAqL1xuICAgICAgICAgIHZhciBpdGVtID0gRE9NLmNoaWxkcmVuKHBhcmVudCwgJy5tbS1saXN0aXRlbV9fdGV4dCcpWzBdO1xuXG4gICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIC8qKiBUaGUgb3BlbiBsaW5rLiAqL1xuICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IERPTS5jcmVhdGUoJ2EubW0tYnRuLm1tLWJ0bl9uZXh0Lm1tLWxpc3RpdGVtX19idG4nKTtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycgKyBwYW5lbC5pZCk7IC8vICBJZiB0aGUgaXRlbSBoYXMgbm8gbGluayxcbiAgICAgICAgICAgIC8vICAgICAgUmVwbGFjZSB0aGUgaXRlbSB3aXRoIHRoZSBvcGVuIGxpbmsuXG5cbiAgICAgICAgICAgIGlmIChpdGVtLm1hdGNoZXMoJ3NwYW4nKSkge1xuICAgICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnbW0tbGlzdGl0ZW1fX3RleHQnKTtcbiAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGl0ZW0uaW5uZXJIVE1MO1xuICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGJ1dHRvbiwgaXRlbS5uZXh0RWxlbWVudFNpYmxpbmcpO1xuICAgICAgICAgICAgICBpdGVtLnJlbW92ZSgpOyAvLyAgQXBwZW5kIHRoZSBidXR0b24gdG8gdGhlIGxpc3RpdGVtLlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZChidXR0b24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvL1x0SW52b2tlIFwiYWZ0ZXJcIiBob29rLlxuXG5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdExpc3R2aWV3OmFmdGVyJywgW3BhbmVsXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgYW5kIG9wZW4gdGhlIGNvcnJlY3QgcGFuZWwgYWZ0ZXIgY3JlYXRpbmcgdGhlIG1lbnUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfaW5pdE9wZW5lZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdE9wZW5lZCgpIHtcbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0T3BlbmVkOmJlZm9yZScpO1xuICAgICAgLyoqIFRoZSBzZWxlY3RlZCBsaXN0aXRlbShzKS4gKi9cblxuICAgICAgdmFyIGxpc3RpdGVtcyA9IHRoaXMubm9kZS5wbmxzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tbS1saXN0aXRlbV9zZWxlY3RlZCcpO1xuICAgICAgLyoqIFRoZSBsYXN0IHNlbGVjdGVkIGxpc3RpdGVtLiAqL1xuXG4gICAgICB2YXIgbGFzdGl0ZW0gPSBudWxsOyAvL1x0RGVzZWxlY3QgdGhlIGxpc3RpdGVtcy5cblxuICAgICAgbGlzdGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgIGxhc3RpdGVtID0gbGlzdGl0ZW07XG4gICAgICAgIGxpc3RpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ21tLWxpc3RpdGVtX3NlbGVjdGVkJyk7XG4gICAgICB9KTsgLy9cdFJlLXNlbGVjdCB0aGUgbGFzdCBsaXN0aXRlbS5cblxuICAgICAgaWYgKGxhc3RpdGVtKSB7XG4gICAgICAgIGxhc3RpdGVtLmNsYXNzTGlzdC5hZGQoJ21tLWxpc3RpdGVtX3NlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgICAvKipcdFRoZSBjdXJyZW50IG9wZW5lZCBwYW5lbC4gKi9cblxuXG4gICAgICB2YXIgY3VycmVudCA9IGxhc3RpdGVtID8gbGFzdGl0ZW0uY2xvc2VzdCgnLm1tLXBhbmVsJykgOiBET00uY2hpbGRyZW4odGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWwnKVswXTsgLy9cdE9wZW4gdGhlIGN1cnJlbnQgb3BlbmVkIHBhbmVsLlxuXG4gICAgICB0aGlzLm9wZW5QYW5lbChjdXJyZW50LCBmYWxzZSk7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdE9wZW5lZDphZnRlcicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGFuY2hvcnMgaW4gLyBmb3IgdGhlIG1lbnUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfaW5pdEFuY2hvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRBbmNob3JzKCkge1xuICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICAgICAgdGhpcy50cmlnZ2VyKCdpbml0QW5jaG9yczpiZWZvcmUnKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgLyoqIFRoZSBjbGlja2VkIGVsZW1lbnQuICovXG4gICAgICAgIHZhciB0YXJnZXQgPSBldm50LnRhcmdldC5jbG9zZXN0KCdhW2hyZWZdJyk7XG5cbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGJvdW5kIG1ldGhvZHMuICovXG5cblxuICAgICAgICB2YXIgYXJncyA9IHtcbiAgICAgICAgICBpbk1lbnU6IHRhcmdldC5jbG9zZXN0KCcubW0tbWVudScpID09PSBfdGhpczkubm9kZS5tZW51LFxuICAgICAgICAgIGluTGlzdHZpZXc6IHRhcmdldC5tYXRjaGVzKCcubW0tbGlzdGl0ZW0gPiBhJyksXG4gICAgICAgICAgdG9FeHRlcm5hbDogdGFyZ2V0Lm1hdGNoZXMoJ1tyZWw9XCJleHRlcm5hbFwiXScpIHx8IHRhcmdldC5tYXRjaGVzKCdbdGFyZ2V0PVwiX2JsYW5rXCJdJylcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uQ2xpY2sgPSB7XG4gICAgICAgICAgY2xvc2U6IG51bGwsXG4gICAgICAgICAgc2V0U2VsZWN0ZWQ6IG51bGwsXG4gICAgICAgICAgcHJldmVudERlZmF1bHQ6IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zbGljZSgwLCAxKSA9PSAnIydcbiAgICAgICAgfTsgLy9cdEZpbmQgaG9va2VkIGJlaGF2aW9yLlxuXG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgX3RoaXM5LmNsY2subGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICB2YXIgY2xpY2sgPSBfdGhpczkuY2xja1tjXS5jYWxsKF90aGlzOSwgdGFyZ2V0LCBhcmdzKTtcblxuICAgICAgICAgIGlmIChjbGljaykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjbGljayA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgZXZudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlKGNsaWNrKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBvbkNsaWNrID0gZXh0ZW5kKGNsaWNrLCBvbkNsaWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy9cdERlZmF1bHQgYmVoYXZpb3IgZm9yIGFuY2hvcnMgaW4gbGlzdHMuXG5cblxuICAgICAgICBpZiAoYXJncy5pbk1lbnUgJiYgYXJncy5pbkxpc3R2aWV3ICYmICFhcmdzLnRvRXh0ZXJuYWwpIHtcbiAgICAgICAgICAvL1x0U2V0IHNlbGVjdGVkIGl0ZW0sIERlZmF1bHQ6IHRydWVcbiAgICAgICAgICBpZiAodmFsdWVPckZuKHRhcmdldCwgX3RoaXM5Lm9wdHMub25DbGljay5zZXRTZWxlY3RlZCwgb25DbGljay5zZXRTZWxlY3RlZCkpIHtcbiAgICAgICAgICAgIF90aGlzOS5zZXRTZWxlY3RlZCh0YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgfSAvL1x0UHJldmVudCBkZWZhdWx0IC8gZG9uJ3QgZm9sbG93IGxpbmsuIERlZmF1bHQ6IGZhbHNlLlxuXG5cbiAgICAgICAgICBpZiAodmFsdWVPckZuKHRhcmdldCwgX3RoaXM5Lm9wdHMub25DbGljay5wcmV2ZW50RGVmYXVsdCwgb25DbGljay5wcmV2ZW50RGVmYXVsdCkpIHtcbiAgICAgICAgICAgIGV2bnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9IC8vXHRDbG9zZSBtZW51LiBEZWZhdWx0OiBmYWxzZVxuXG5cbiAgICAgICAgICBpZiAodmFsdWVPckZuKHRhcmdldCwgX3RoaXM5Lm9wdHMub25DbGljay5jbG9zZSwgb25DbGljay5jbG9zZSkpIHtcbiAgICAgICAgICAgIGlmIChfdGhpczkub3B0cy5vZmZDYW52YXMgJiYgdHlwZW9mIF90aGlzOS5jbG9zZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIF90aGlzOS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSk7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgICAgIHRoaXMudHJpZ2dlcignaW5pdEFuY2hvcnM6YWZ0ZXInKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0cmFuc2xhdGlvbiBmb3IgYSB0ZXh0LlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gdGV4dCBcdFRleHQgdG8gdHJhbnNsYXRlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cdFx0XHRUaGUgdHJhbnNsYXRlZCB0ZXh0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaTE4blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpMThuKHRleHQpIHtcbiAgICAgIHJldHVybiBfaTE4bi5nZXQodGV4dCwgdGhpcy5jb25mLmxhbmd1YWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgdGl0bGUgZm9yIGEgcGFuZWwuXG4gICAgICogQHBhcmFtIFx0e0hUTUxFbGVtZW50fVx0XHRcdHBhbmVsIFx0XHRQYW5lbCB0byBzZWFyY2ggaW4uXG4gICAgICogQHBhcmFtIFx0e3N0cmluZ3xGdW5jdGlvbn0gXHRcdFtkZmF1bHRdIFx0RmFsbGJhY2svZGVmYXVsdCB0aXRsZS5cbiAgICAgKiBAcmV0dXJuXHR7c3RyaW5nfVx0XHRcdFx0XHRcdFx0VGhlIHRpdGxlIGZvciB0aGUgcGFuZWwuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0UGFuZWxUaXRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UGFuZWxUaXRsZShwYW5lbCwgZGZhdWx0KSB7XG4gICAgICB2YXIgdGl0bGU7IC8vXHRGdW5jdGlvblxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0cy5uYXZiYXIudGl0bGUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aXRsZSA9IHRoaXMub3B0cy5uYXZiYXIudGl0bGUuY2FsbChwYW5lbCk7XG4gICAgICB9IC8vXHREYXRhIGF0dHJcblxuXG4gICAgICBpZiAodHlwZW9mIHRpdGxlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRpdGxlID0gcGFuZWwuZ2V0QXR0cmlidXRlKCdtbS1kYXRhLXRpdGxlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGl0bGUgPT0gJ3N0cmluZycgJiYgdGl0bGUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgIH0gLy9cdEZhbGxiYWNrXG5cblxuICAgICAgaWYgKHR5cGVvZiBkZmF1bHQgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaTE4bihkZmF1bHQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGZhdWx0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaTE4bihkZmF1bHQuY2FsbChwYW5lbCkpO1xuICAgICAgfSAvL1x0RGVmYXVsdFxuXG5cbiAgICAgIGlmICh0eXBlb2YgTW1lbnUub3B0aW9ucy5uYXZiYXIudGl0bGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaTE4bihNbWVudS5vcHRpb25zLm5hdmJhci50aXRsZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmkxOG4oJ01lbnUnKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTW1lbnU7XG59KCk7XG4vKipcdFBsdWdpbiB2ZXJzaW9uLiAqL1xuXG5cbmV4cG9ydCB7IE1tZW51IGFzIGRlZmF1bHQgfTtcbk1tZW51LnZlcnNpb24gPSB2ZXJzaW9uO1xuLyoqXHREZWZhdWx0IG9wdGlvbnMgZm9yIG1lbnVzLiAqL1xuXG5NbWVudS5vcHRpb25zID0gb3B0aW9ucztcbi8qKlx0RGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBtZW51cy4gKi9cblxuTW1lbnUuY29uZmlncyA9IGNvbmZpZ3M7XG4vKipcdEF2YWlsYWJsZSBhZGQtb25zIGZvciB0aGUgcGx1Z2luLiAqL1xuXG5NbWVudS5hZGRvbnMgPSB7fTtcbi8qKiBBdmFpbGFibGUgd3JhcHBlcnMgZm9yIHRoZSBwbHVnaW4uICovXG5cbk1tZW51LndyYXBwZXJzID0ge307XG4vKipcdEdsb2JhbGx5IHVzZWQgSFRNTCBlbGVtZW50cy4gKi9cblxuTW1lbnUubm9kZSA9IHt9O1xuLyoqIEdsb2JhbGx5IHVzZWQgdmFyaWFibGVzLiAqL1xuXG5NbWVudS52YXJzID0ge307IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGJsb2NrVUk6IHRydWUsXG4gIG1vdmVCYWNrZ3JvdW5kOiB0cnVlXG59O1xuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbi8qKlxuICogRXh0ZW5kIHNob3J0aGFuZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyB0byBleHRlbmQuXG4gKiBAcmV0dXJuIHtvYmplY3R9XHRcdFx0VGhlIGV4dGVuZGVkIG9wdGlvbnMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFNob3J0aGFuZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAoX3R5cGVvZihvcHRpb25zKSAhPSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsInZhciBjb25maWdzID0ge1xuICBjbG9uZTogZmFsc2UsXG4gIG1lbnU6IHtcbiAgICBpbnNlcnRNZXRob2Q6ICdwcmVwZW5kJyxcbiAgICBpbnNlcnRTZWxlY3RvcjogJ2JvZHknXG4gIH0sXG4gIHBhZ2U6IHtcbiAgICBub2RldHlwZTogJ2RpdicsXG4gICAgc2VsZWN0b3I6IG51bGwsXG4gICAgbm9TZWxlY3RvcjogW11cbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3M7IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXRcIjtcblxuLyoqXG4gKiBNYWtlIHRoZSBmaXJzdCBsZXR0ZXIgaW4gYSB3b3JkIHVwcGVyY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB3b3JkIFRoZSB3b3JkLlxuICovXG5mdW5jdGlvbiB1Y0ZpcnN0KHdvcmQpIHtcbiAgaWYgKCF3b3JkKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpO1xufVxuLyoqXG4gKiBCaW5kIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50ICAgICBUaGUgZWxlbWVudCB0byBiaW5kIHRoZSBldmVudCBsaXN0ZW5lciB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIGV2bnQgICAgICAgIFRoZSBldmVudCB0byBsaXN0ZW4gdG8uXG4gKiBAcGFyYW0ge2Z1bmNpb259ICAgICBoYW5kbGVyICAgICBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIG9uKGVsZW1lbnQsIGV2bnQsIGhhbmRsZXIpIHtcbiAgLy8gIEV4dHJhY3QgdGhlIGV2ZW50IG5hbWUgYW5kIHNwYWNlIGZyb20gdGhlIGV2ZW50ICh0aGUgZXZlbnQgY2FuIGluY2x1ZGUgYSBuYW1lc3BhY2UgKGNsaWNrLmZvbykpLlxuICB2YXIgZXZudFBhcnRzID0gZXZudC5zcGxpdCgnLicpO1xuICBldm50ID0gJ21tRXZlbnQnICsgdWNGaXJzdChldm50UGFydHNbMF0pICsgdWNGaXJzdChldm50UGFydHNbMV0pO1xuICBlbGVtZW50W2V2bnRdID0gZWxlbWVudFtldm50XSB8fCBbXTtcbiAgZWxlbWVudFtldm50XS5wdXNoKGhhbmRsZXIpO1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZudFBhcnRzWzBdLCBoYW5kbGVyKTtcbn1cbi8qKlxuICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyIGZyb20gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnMgZnJvbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIGV2bnQgICAgVGhlIGV2ZW50IHRvIHJlbW92ZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb2ZmKGVsZW1lbnQsIGV2bnQpIHtcbiAgLy8gIEV4dHJhY3QgdGhlIGV2ZW50IG5hbWUgYW5kIHNwYWNlIGZyb20gdGhlIGV2ZW50ICh0aGUgZXZlbnQgY2FuIGluY2x1ZGUgYSBuYW1lc3BhY2UgKGNsaWNrLmZvbykpLlxuICB2YXIgZXZudFBhcnRzID0gZXZudC5zcGxpdCgnLicpO1xuICBldm50ID0gJ21tRXZlbnQnICsgdWNGaXJzdChldm50UGFydHNbMF0pICsgdWNGaXJzdChldm50UGFydHNbMV0pO1xuICAoZWxlbWVudFtldm50XSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldm50UGFydHNbMF0sIGhhbmRsZXIpO1xuICB9KTtcbn1cbi8qKlxuICogVHJpZ2dlciB0aGUgYm91bmQgZXZlbnQgbGlzdGVuZXJzIG9uIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50ICAgICBUaGUgZWxlbWVudCBvZiB3aGljaCB0byB0cmlnZ2VyIHRoZSBldmVudCBsaXN0ZW5lcnMgZnJvbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIGV2bnQgICAgICAgIFRoZSBldmVudCB0byB0cmlnZ2VyLlxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgW29wdGlvbnNdICAgT3B0aW9ucyB0byBwYXNzIHRvIHRoZSBoYW5kbGVyLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyKGVsZW1lbnQsIGV2bnQsIG9wdGlvbnMpIHtcbiAgdmFyIGV2bnRQYXJ0cyA9IGV2bnQuc3BsaXQoJy4nKTtcbiAgZXZudCA9ICdtbUV2ZW50JyArIHVjRmlyc3QoZXZudFBhcnRzWzBdKSArIHVjRmlyc3QoZXZudFBhcnRzWzFdKTtcbiAgKGVsZW1lbnRbZXZudF0gfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICBoYW5kbGVyKG9wdGlvbnMgfHwge30pO1xuICB9KTtcbn0iLCJpbXBvcnQgTW1lbnUgZnJvbSAnLi8uLi9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCBjb25maWdzIGZyb20gJy4vX2NvbmZpZ3MnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uL19kb20nO1xuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gJy4uL19ldmVudGxpc3RlbmVycyc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQsIHRyYW5zaXRpb25lbmQsIHVuaXF1ZUlkLCBvcmlnaW5hbElkIH0gZnJvbSAnLi4vLi4vY29yZS9faGVscGVycyc7IC8vICBBZGQgdGhlIG9wdGlvbnMgYW5kIGNvbmZpZ3MuXG5cbk1tZW51Lm9wdGlvbnMub2ZmQ2FudmFzID0gb3B0aW9ucztcbk1tZW51LmNvbmZpZ3Mub2ZmQ2FudmFzID0gY29uZmlncztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAoIXRoaXMub3B0cy5vZmZDYW52YXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLm9mZkNhbnZhcyk7XG4gIHRoaXMub3B0cy5vZmZDYW52YXMgPSBleHRlbmQob3B0aW9ucywgTW1lbnUub3B0aW9ucy5vZmZDYW52YXMpO1xuICB2YXIgY29uZmlncyA9IHRoaXMuY29uZi5vZmZDYW52YXM7IC8vXHRBZGQgbWV0aG9kcyB0byB0aGUgQVBJLlxuXG4gIHRoaXMuX2FwaS5wdXNoKCdvcGVuJywgJ2Nsb3NlJywgJ3NldFBhZ2UnKTsgLy9cdFNldHVwIHRoZSBtZW51LlxuXG5cbiAgdGhpcy52YXJzLm9wZW5lZCA9IGZhbHNlOyAvL1x0QWRkIG9mZi1jYW52YXMgYmVoYXZpb3IuXG5cbiAgdGhpcy5iaW5kKCdpbml0TWVudTpiZWZvcmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgLy9cdENsb25lIGlmIG5lZWRlZC5cbiAgICBpZiAoY29uZmlncy5jbG9uZSkge1xuICAgICAgLy9cdENsb25lIHRoZSBvcmlnaW5hbCBtZW51IGFuZCBzdG9yZSBpdC5cbiAgICAgIF90aGlzLm5vZGUubWVudSA9IF90aGlzLm5vZGUubWVudS5jbG9uZU5vZGUodHJ1ZSk7IC8vXHRQcmVmaXggYWxsIElEJ3MgaW4gdGhlIGNsb25lZCBtZW51LlxuXG4gICAgICBpZiAoX3RoaXMubm9kZS5tZW51LmlkKSB7XG4gICAgICAgIF90aGlzLm5vZGUubWVudS5pZCA9ICdtbS0nICsgX3RoaXMubm9kZS5tZW51LmlkO1xuICAgICAgfVxuXG4gICAgICBET00uZmluZChfdGhpcy5ub2RlLm1lbnUsICdbaWRdJykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICBlbGVtLmlkID0gJ21tLScgKyBlbGVtLmlkO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RoaXMubm9kZS53cnByID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyAvL1x0UHJlcGVuZCB0byB0aGUgPGJvZHk+XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZ3MubWVudS5pbnNlcnRTZWxlY3RvcilbY29uZmlncy5tZW51Lmluc2VydE1ldGhvZF0oX3RoaXMubm9kZS5tZW51KTtcbiAgfSk7XG4gIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgLy9cdFNldHVwIHRoZSBVSSBibG9ja2VyLlxuICAgIGluaXRCbG9ja2VyLmNhbGwoX3RoaXMpOyAvL1x0U2V0dXAgdGhlIHBhZ2UuXG5cbiAgICBfdGhpcy5zZXRQYWdlKE1tZW51Lm5vZGUucGFnZSk7IC8vXHRTZXR1cCB3aW5kb3cgZXZlbnRzLlxuXG5cbiAgICBpbml0V2luZG93LmNhbGwoX3RoaXMpOyAvL1x0U2V0dXAgdGhlIG1lbnUuXG5cbiAgICBfdGhpcy5ub2RlLm1lbnUuY2xhc3NMaXN0LmFkZCgnbW0tbWVudV9vZmZjYW52YXMnKTsgLy9cdE9wZW4gaWYgdXJsIGhhc2ggZXF1YWxzIG1lbnUgaWQgKHVzZWZ1bGwgd2hlbiB1c2VyIGNsaWNrcyB0aGUgaGFtYnVyZ2VyIGljb24gYmVmb3JlIHRoZSBtZW51IGlzIGNyZWF0ZWQpXG5cblxuICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgICBpZiAoaGFzaCkge1xuICAgICAgdmFyIGlkID0gb3JpZ2luYWxJZChfdGhpcy5ub2RlLm1lbnUuaWQpO1xuXG4gICAgICBpZiAoaWQgJiYgaWQgPT0gaGFzaC5zbGljZSgxKSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7IC8vXHRTeW5jIHRoZSBibG9ja2VyIHRvIHRhcmdldCB0aGUgcGFnZS5cblxuICB0aGlzLmJpbmQoJ3NldFBhZ2U6YWZ0ZXInLCBmdW5jdGlvbiAocGFnZSkge1xuICAgIGlmIChNbWVudS5ub2RlLmJsY2spIHtcbiAgICAgIERPTS5jaGlsZHJlbihNbWVudS5ub2RlLmJsY2ssICdhJykuZm9yRWFjaChmdW5jdGlvbiAoYW5jaG9yKSB7XG4gICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycgKyBwYWdlLmlkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7IC8vXHRBZGQgc2NyZWVucmVhZGVyIC8gYXJpYSBzdXBwb3J0XG5cbiAgdGhpcy5iaW5kKCdvcGVuOnN0YXJ0OnNyLWFyaWEnLCBmdW5jdGlvbiAoKSB7XG4gICAgTW1lbnUuc3JfYXJpYShfdGhpcy5ub2RlLm1lbnUsICdoaWRkZW4nLCBmYWxzZSk7XG4gIH0pO1xuICB0aGlzLmJpbmQoJ2Nsb3NlOmZpbmlzaDpzci1hcmlhJywgZnVuY3Rpb24gKCkge1xuICAgIE1tZW51LnNyX2FyaWEoX3RoaXMubm9kZS5tZW51LCAnaGlkZGVuJywgdHJ1ZSk7XG4gIH0pO1xuICB0aGlzLmJpbmQoJ2luaXRNZW51OmFmdGVyOnNyLWFyaWEnLCBmdW5jdGlvbiAoKSB7XG4gICAgTW1lbnUuc3JfYXJpYShfdGhpcy5ub2RlLm1lbnUsICdoaWRkZW4nLCB0cnVlKTtcbiAgfSk7IC8vXHRBZGQgc2NyZWVucmVhZGVyIC8gdGV4dCBzdXBwb3J0XG5cbiAgdGhpcy5iaW5kKCdpbml0QmxvY2tlcjphZnRlcjpzci10ZXh0JywgZnVuY3Rpb24gKCkge1xuICAgIERPTS5jaGlsZHJlbihNbWVudS5ub2RlLmJsY2ssICdhJykuZm9yRWFjaChmdW5jdGlvbiAoYW5jaG9yKSB7XG4gICAgICBhbmNob3IuaW5uZXJIVE1MID0gTW1lbnUuc3JfdGV4dChfdGhpcy5pMThuKF90aGlzLmNvbmYuc2NyZWVuUmVhZGVyLnRleHQuY2xvc2VNZW51KSk7XG4gICAgfSk7XG4gIH0pOyAvL1x0QWRkIGNsaWNrIGJlaGF2aW9yLlxuICAvL1x0UHJldmVudHMgZGVmYXVsdCBiZWhhdmlvciB3aGVuIGNsaWNraW5nIGFuIGFuY2hvclxuXG4gIHRoaXMuY2xjay5wdXNoKGZ1bmN0aW9uIChhbmNob3IsIGFyZ3MpIHtcbiAgICAvL1x0T3BlbiBtZW51IGlmIHRoZSBjbGlja2VkIGFuY2hvciBsaW5rcyB0byB0aGUgbWVudVxuICAgIHZhciBpZCA9IG9yaWdpbmFsSWQoX3RoaXMubm9kZS5tZW51LmlkKTtcblxuICAgIGlmIChpZCkge1xuICAgICAgaWYgKGFuY2hvci5tYXRjaGVzKCdbaHJlZj1cIiMnICsgaWQgKyAnXCJdJykpIHtcbiAgICAgICAgLy9cdE9wZW5pbmcgdGhpcyBtZW51IGZyb20gd2l0aGluIHRoaXMgbWVudVxuICAgICAgICAvL1x0XHQtPiBPcGVuIG1lbnVcbiAgICAgICAgaWYgKGFyZ3MuaW5NZW51KSB7XG4gICAgICAgICAgX3RoaXMub3BlbigpO1xuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy9cdE9wZW5pbmcgdGhpcyBtZW51IGZyb20gd2l0aGluIGEgc2Vjb25kIG1lbnVcbiAgICAgICAgLy9cdFx0LT4gQ2xvc2UgdGhlIHNlY29uZCBtZW51IGJlZm9yZSBvcGVuaW5nIHRoaXMgbWVudVxuXG5cbiAgICAgICAgdmFyIG1lbnUgPSBhbmNob3IuY2xvc2VzdCgnLm1tLW1lbnUnKTtcblxuICAgICAgICBpZiAobWVudSkge1xuICAgICAgICAgIHZhciBhcGkgPSBtZW51WydtbUFwaSddO1xuXG4gICAgICAgICAgaWYgKGFwaSAmJiBhcGkuY2xvc2UpIHtcbiAgICAgICAgICAgIGFwaS5jbG9zZSgpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbmVuZChtZW51LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzLm9wZW4oKTtcbiAgICAgICAgICAgIH0sIF90aGlzLmNvbmYudHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvL1x0T3BlbmluZyB0aGlzIG1lbnVcblxuXG4gICAgICAgIF90aGlzLm9wZW4oKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IC8vXHRDbG9zZSBtZW51XG5cblxuICAgIGlkID0gTW1lbnUubm9kZS5wYWdlLmlkO1xuXG4gICAgaWYgKGlkKSB7XG4gICAgICBpZiAoYW5jaG9yLm1hdGNoZXMoJ1tocmVmPVwiIycgKyBpZCArICdcIl0nKSkge1xuICAgICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSk7XG59XG4vKipcbiAqIE9wZW4gdGhlIG1lbnUuXG4gKi9cblxuTW1lbnUucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICB0aGlzLnRyaWdnZXIoJ29wZW46YmVmb3JlJyk7XG5cbiAgaWYgKHRoaXMudmFycy5vcGVuZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9vcGVuU2V0dXAoKTsgLy9cdFdpdGhvdXQgdGhlIHRpbWVvdXQsIHRoZSBhbmltYXRpb24gd29uJ3Qgd29yayBiZWNhdXNlIHRoZSBtZW51IGhhZCBkaXNwbGF5OiBub25lO1xuXG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMyLl9vcGVuU3RhcnQoKTtcbiAgfSwgdGhpcy5jb25mLm9wZW5pbmdJbnRlcnZhbCk7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgdGhpcy50cmlnZ2VyKCdvcGVuOmFmdGVyJyk7XG59O1xuXG5NbWVudS5wcm90b3R5cGUuX29wZW5TZXR1cCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzJG5vZGUkd3JwciRjbGFzcyxcbiAgICAgIF90aGlzMyA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdHMub2ZmQ2FudmFzOyAvL1x0Q2xvc2Ugb3RoZXIgbWVudXNcblxuICB0aGlzLmNsb3NlQWxsT3RoZXJzKCk7IC8vXHRTdG9yZSBzdHlsZSBhbmQgcG9zaXRpb25cblxuICBNbWVudS5ub2RlLnBhZ2VbJ21tU3R5bGUnXSA9IE1tZW51Lm5vZGUucGFnZS5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykgfHwgJyc7IC8vXHRUcmlnZ2VyIHdpbmRvdy1yZXNpemUgdG8gbWVhc3VyZSBoZWlnaHRcblxuICBldmVudHMudHJpZ2dlcih3aW5kb3csICdyZXNpemUucGFnZScsIHtcbiAgICBmb3JjZTogdHJ1ZVxuICB9KTtcbiAgdmFyIGNsc24gPSBbJ21tLXdyYXBwZXJfb3BlbmVkJ107IC8vXHRBZGQgb3B0aW9uc1xuXG4gIGlmIChvcHRpb25zLmJsb2NrVUkpIHtcbiAgICBjbHNuLnB1c2goJ21tLXdyYXBwZXJfYmxvY2tpbmcnKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmJsb2NrVUkgPT0gJ21vZGFsJykge1xuICAgIGNsc24ucHVzaCgnbW0td3JhcHBlcl9tb2RhbCcpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMubW92ZUJhY2tncm91bmQpIHtcbiAgICBjbHNuLnB1c2goJ21tLXdyYXBwZXJfYmFja2dyb3VuZCcpO1xuICB9XG5cbiAgKF90aGlzJG5vZGUkd3JwciRjbGFzcyA9IHRoaXMubm9kZS53cnByLmNsYXNzTGlzdCkuYWRkLmFwcGx5KF90aGlzJG5vZGUkd3JwciRjbGFzcywgY2xzbik7IC8vXHRPcGVuXG4gIC8vXHRXaXRob3V0IHRoZSB0aW1lb3V0LCB0aGUgYW5pbWF0aW9uIHdvbid0IHdvcmsgYmVjYXVzZSB0aGUgbWVudSBoYWQgZGlzcGxheTogbm9uZTtcblxuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy52YXJzLm9wZW5lZCA9IHRydWU7XG4gIH0sIHRoaXMuY29uZi5vcGVuaW5nSW50ZXJ2YWwpO1xuICB0aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X29wZW5lZCcpO1xufTtcbi8qKlxuICogRmluaXNoIG9wZW5pbmcgdGhlIG1lbnUuXG4gKi9cblxuXG5NbWVudS5wcm90b3R5cGUuX29wZW5TdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgLy9cdENhbGxiYWNrIHdoZW4gdGhlIHBhZ2UgZmluaXNoZXMgb3BlbmluZy5cbiAgdHJhbnNpdGlvbmVuZChNbWVudS5ub2RlLnBhZ2UsIGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczQudHJpZ2dlcignb3BlbjpmaW5pc2gnKTtcbiAgfSwgdGhpcy5jb25mLnRyYW5zaXRpb25EdXJhdGlvbik7IC8vXHRPcGVuaW5nXG5cbiAgdGhpcy50cmlnZ2VyKCdvcGVuOnN0YXJ0Jyk7XG4gIHRoaXMubm9kZS53cnByLmNsYXNzTGlzdC5hZGQoJ21tLXdyYXBwZXJfb3BlbmluZycpO1xufTtcblxuTW1lbnUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAvL1x0SW52b2tlIFwiYmVmb3JlXCIgaG9vay5cbiAgdGhpcy50cmlnZ2VyKCdjbG9zZTpiZWZvcmUnKTtcblxuICBpZiAoIXRoaXMudmFycy5vcGVuZWQpIHtcbiAgICByZXR1cm47XG4gIH0gLy9cdENhbGxiYWNrIHdoZW4gdGhlIHBhZ2UgZmluaXNoZXMgY2xvc2luZy5cblxuXG4gIHRyYW5zaXRpb25lbmQoTW1lbnUubm9kZS5wYWdlLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzNSRub2RlJHdycHIkY2xhcztcblxuICAgIF90aGlzNS5ub2RlLm1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbW0tbWVudV9vcGVuZWQnKTtcblxuICAgIHZhciBjbHNuID0gWydtbS13cmFwcGVyX29wZW5lZCcsICdtbS13cmFwcGVyX2Jsb2NraW5nJywgJ21tLXdyYXBwZXJfbW9kYWwnLCAnbW0td3JhcHBlcl9iYWNrZ3JvdW5kJ107XG5cbiAgICAoX3RoaXM1JG5vZGUkd3JwciRjbGFzID0gX3RoaXM1Lm5vZGUud3Jwci5jbGFzc0xpc3QpLnJlbW92ZS5hcHBseShfdGhpczUkbm9kZSR3cnByJGNsYXMsIGNsc24pOyAvL1x0UmVzdG9yZSBzdHlsZSBhbmQgcG9zaXRpb25cblxuXG4gICAgTW1lbnUubm9kZS5wYWdlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBNbWVudS5ub2RlLnBhZ2VbJ21tU3R5bGUnXSk7XG4gICAgX3RoaXM1LnZhcnMub3BlbmVkID0gZmFsc2U7XG5cbiAgICBfdGhpczUudHJpZ2dlcignY2xvc2U6ZmluaXNoJyk7XG4gIH0sIHRoaXMuY29uZi50cmFuc2l0aW9uRHVyYXRpb24pOyAvL1x0Q2xvc2luZ1xuXG4gIHRoaXMudHJpZ2dlcignY2xvc2U6c3RhcnQnKTtcbiAgdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LnJlbW92ZSgnbW0td3JhcHBlcl9vcGVuaW5nJyk7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgdGhpcy50cmlnZ2VyKCdjbG9zZTphZnRlcicpO1xufTtcbi8qKlxuICogQ2xvc2UgYWxsIG90aGVyIG1lbnVzLlxuICovXG5cblxuTW1lbnUucHJvdG90eXBlLmNsb3NlQWxsT3RoZXJzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICBET00uZmluZChkb2N1bWVudC5ib2R5LCAnLm1tLW1lbnVfb2ZmY2FudmFzJykuZm9yRWFjaChmdW5jdGlvbiAobWVudSkge1xuICAgIGlmIChtZW51ICE9PSBfdGhpczYubm9kZS5tZW51KSB7XG4gICAgICB2YXIgYXBpID0gbWVudVsnbW1BcGknXTtcblxuICAgICAgaWYgKGFwaSAmJiBhcGkuY2xvc2UpIHtcbiAgICAgICAgYXBpLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4vKipcbiAqIFNldCB0aGUgXCJwYWdlXCIgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYWdlIEVsZW1lbnQgdG8gc2V0IGFzIHRoZSBwYWdlLlxuICovXG5cblxuTW1lbnUucHJvdG90eXBlLnNldFBhZ2UgPSBmdW5jdGlvbiAocGFnZSkge1xuICAvL1x0SW52b2tlIFwiYmVmb3JlXCIgaG9vay5cbiAgdGhpcy50cmlnZ2VyKCdzZXRQYWdlOmJlZm9yZScsIFtwYWdlXSk7XG4gIHZhciBjb25maWdzID0gdGhpcy5jb25mLm9mZkNhbnZhczsgLy9cdElmIG5vIHBhZ2Ugd2FzIHNwZWNpZmllZCwgZmluZCBpdC5cblxuICBpZiAoIXBhZ2UpIHtcbiAgICAvKiogQXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgLyBjb3VsZCBiZSBcInRoZSBwYWdlXCIuICovXG4gICAgdmFyIHBhZ2VzID0gdHlwZW9mIGNvbmZpZ3MucGFnZS5zZWxlY3RvciA9PSAnc3RyaW5nJyA/IERPTS5maW5kKGRvY3VtZW50LmJvZHksIGNvbmZpZ3MucGFnZS5zZWxlY3RvcikgOiBET00uY2hpbGRyZW4oZG9jdW1lbnQuYm9keSwgY29uZmlncy5wYWdlLm5vZGV0eXBlKTsgLy9cdEZpbHRlciBvdXQgZWxlbWVudHMgdGhhdCBhcmUgYWJzb2x1dGVseSBub3QgXCJ0aGUgcGFnZVwiLlxuXG4gICAgcGFnZXMgPSBwYWdlcy5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgIHJldHVybiAhcGFnZS5tYXRjaGVzKCcubW0tbWVudSwgLm1tLXdyYXBwZXJfX2Jsb2NrZXInKTtcbiAgICB9KTsgLy9cdEZpbHRlciBvdXQgZWxlbWVudHMgdGhhdCBhcmUgY29uZmlndXJlZCB0byBub3QgYmUgXCJ0aGUgcGFnZVwiLlxuXG4gICAgaWYgKGNvbmZpZ3MucGFnZS5ub1NlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgcGFnZXMgPSBwYWdlcy5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgcmV0dXJuICFwYWdlLm1hdGNoZXMoY29uZmlncy5wYWdlLm5vU2VsZWN0b3Iuam9pbignLCAnKSk7XG4gICAgICB9KTtcbiAgICB9IC8vXHRXcmFwIG11bHRpcGxlIHBhZ2VzIGluIGEgc2luZ2xlIGVsZW1lbnQuXG5cblxuICAgIGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgd3JhcHBlciA9IERPTS5jcmVhdGUoJ2RpdicpO1xuICAgICAgcGFnZXNbMF0uYmVmb3JlKHdyYXBwZXIpO1xuICAgICAgcGFnZXMuZm9yRWFjaChmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICB3cmFwcGVyLmFwcGVuZChwYWdlKTtcbiAgICAgIH0pO1xuICAgICAgcGFnZXMgPSBbd3JhcHBlcl07XG4gICAgfVxuXG4gICAgcGFnZSA9IHBhZ2VzWzBdO1xuICB9XG5cbiAgcGFnZS5jbGFzc0xpc3QuYWRkKCdtbS1wYWdlJywgJ21tLXNsaWRlb3V0Jyk7XG4gIHBhZ2UuaWQgPSBwYWdlLmlkIHx8IHVuaXF1ZUlkKCk7XG4gIE1tZW51Lm5vZGUucGFnZSA9IHBhZ2U7IC8vXHRJbnZva2UgXCJhZnRlclwiIGhvb2suXG5cbiAgdGhpcy50cmlnZ2VyKCdzZXRQYWdlOmFmdGVyJywgW3BhZ2VdKTtcbn07XG4vKipcbiAqIEluaXRpYWxpemUgdGhlIHdpbmRvdy5cbiAqL1xuXG5cbnZhciBpbml0V2luZG93ID0gZnVuY3Rpb24gaW5pdFdpbmRvdygpIHtcbiAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgLy9cdFByZXZlbnQgdGFiYmluZ1xuICAvL1x0QmVjYXVzZSB3aGVuIHRhYmJpbmcgb3V0c2lkZSB0aGUgbWVudSwgdGhlIGVsZW1lbnQgdGhhdCBnYWlucyBmb2N1cyB3aWxsIGJlIGNlbnRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gIC8vXHRJbiBvdGhlciB3b3JkczogVGhlIG1lbnUgd291bGQgbW92ZSBvdXQgb2Ygdmlldy5cbiAgZXZlbnRzLm9mZihkb2N1bWVudC5ib2R5LCAna2V5ZG93bi50YWJndWFyZCcpO1xuICBldmVudHMub24oZG9jdW1lbnQuYm9keSwgJ2tleWRvd24udGFiZ3VhcmQnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgIGlmIChldm50LmtleUNvZGUgPT0gOSkge1xuICAgICAgaWYgKF90aGlzNy5ub2RlLndycHIubWF0Y2hlcygnLm1tLXdyYXBwZXJfb3BlbmVkJykpIHtcbiAgICAgICAgZXZudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7IC8vXHRTZXQgXCJwYWdlXCIgZWxlbWVudCBtaW4taGVpZ2h0IHRvIHdpbmRvdyBoZWlnaHRcblxuICBldmVudHMub2ZmKHdpbmRvdywgJ3Jlc2l6ZS5wYWdlJyk7XG4gIGV2ZW50cy5vbih3aW5kb3csICdyZXNpemUucGFnZScsIGZ1bmN0aW9uIChldm50KSB7XG4gICAgaWYgKE1tZW51Lm5vZGUucGFnZSkge1xuICAgICAgaWYgKF90aGlzNy5ub2RlLndycHIubWF0Y2hlcygnLm1tLXdyYXBwZXJfb3BlbmluZycpIHx8IGV2bnQuZm9yY2UpIHtcbiAgICAgICAgTW1lbnUubm9kZS5wYWdlLnN0eWxlLm1pbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICdweCc7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4vKipcbiAqIEluaXRpYWxpemUgXCJibG9ja2VyXCIgbm9kZVxuICovXG5cblxudmFyIGluaXRCbG9ja2VyID0gZnVuY3Rpb24gaW5pdEJsb2NrZXIoKSB7XG4gIHZhciBfdGhpczggPSB0aGlzO1xuXG4gIC8vXHRJbnZva2UgXCJiZWZvcmVcIiBob29rLlxuICB0aGlzLnRyaWdnZXIoJ2luaXRCbG9ja2VyOmJlZm9yZScpO1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0cy5vZmZDYW52YXMsXG4gICAgICBjb25maWdzID0gdGhpcy5jb25mLm9mZkNhbnZhcztcblxuICBpZiAoIW9wdGlvbnMuYmxvY2tVSSkge1xuICAgIHJldHVybjtcbiAgfSAvL1x0Q3JlYXRlIHRoZSBibG9ja2VyIG5vZGUuXG5cblxuICBpZiAoIU1tZW51Lm5vZGUuYmxjaykge1xuICAgIHZhciBibGNrID0gRE9NLmNyZWF0ZSgnZGl2Lm1tLXdyYXBwZXJfX2Jsb2NrZXIubW0tc2xpZGVvdXQnKTtcbiAgICBibGNrLmlubmVySFRNTCA9ICc8YT48L2E+JzsgLy9cdEFwcGVuZCB0aGUgYmxvY2tlciBub2RlIHRvIHRoZSBib2R5LlxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWdzLm1lbnUuaW5zZXJ0U2VsZWN0b3IpLmFwcGVuZChibGNrKTsgLy9cdFN0b3JlIHRoZSBibG9ja2VyIG5vZGUuXG5cbiAgICBNbWVudS5ub2RlLmJsY2sgPSBibGNrO1xuICB9IC8vXHRDbG9zZSB0aGUgbWVudSB3aGVuXG4gIC8vXHRcdDEpIGNsaWNraW5nLFxuICAvL1x0XHQyKSB0b3VjaGluZyBvclxuICAvL1x0XHQzKSBkcmFnZ2luZyB0aGUgYmxvY2tlciBub2RlLlxuXG5cbiAgdmFyIGNsb3NlTWVudSA9IGZ1bmN0aW9uIGNsb3NlTWVudShldm50KSB7XG4gICAgZXZudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2bnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAoIV90aGlzOC5ub2RlLndycHIubWF0Y2hlcygnLm1tLXdyYXBwZXJfbW9kYWwnKSkge1xuICAgICAgX3RoaXM4LmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIE1tZW51Lm5vZGUuYmxjay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbG9zZU1lbnUpOyAvLyAxXG5cbiAgTW1lbnUubm9kZS5ibGNrLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBjbG9zZU1lbnUpOyAvLyAyXG5cbiAgTW1lbnUubm9kZS5ibGNrLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGNsb3NlTWVudSk7IC8vIDNcbiAgLy9cdEludm9rZSBcImFmdGVyXCIgaG9vay5cblxuICB0aGlzLnRyaWdnZXIoJ2luaXRCbG9ja2VyOmFmdGVyJyk7XG59OyIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBvcHRpb25zID0ge1xuICBhcmlhOiB0cnVlLFxuICB0ZXh0OiB0cnVlXG59O1xuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbi8qKlxuICogRXh0ZW5kIHNob3J0aGFuZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyB0byBleHRlbmQuXG4gKiBAcmV0dXJuIHtvYmplY3R9XHRcdFx0VGhlIGV4dGVuZGVkIG9wdGlvbnMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFNob3J0aGFuZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGFyaWE6IG9wdGlvbnMsXG4gICAgICB0ZXh0OiBvcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG47IiwidmFyIGNvbmZpZ3MgPSB7XG4gIHRleHQ6IHtcbiAgICBjbG9zZU1lbnU6ICdDbG9zZSBtZW51JyxcbiAgICBjbG9zZVN1Ym1lbnU6ICdDbG9zZSBzdWJtZW51JyxcbiAgICBvcGVuU3VibWVudTogJ09wZW4gc3VibWVudScsXG4gICAgdG9nZ2xlU3VibWVudTogJ1RvZ2dsZSBzdWJtZW51J1xuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgY29uZmlnczsiLCJleHBvcnQgZGVmYXVsdCB7XG4gICdDbG9zZSBtZW51JzogJ01lbnUgc2x1aXRlbicsXG4gICdDbG9zZSBzdWJtZW51JzogJ1N1Ym1lbnUgc2x1aXRlbicsXG4gICdPcGVuIHN1Ym1lbnUnOiAnU3VibWVudSBvcGVuZW4nLFxuICAnVG9nZ2xlIHN1Ym1lbnUnOiAnU3VibWVudSB3aXNzZWxlbidcbn07IiwiZXhwb3J0IGRlZmF1bHQge1xuICAnQ2xvc2UgbWVudSc6ICfYqNiz2KrZhiDZhdmG2YgnLFxuICAnQ2xvc2Ugc3VibWVudSc6ICfYqNiz2KrZhiDYstuM2LHZhdmG2YgnLFxuICAnT3BlbiBzdWJtZW51JzogJ9io2KfYstqp2LHYr9mGINiy24zYsdmF2YbZiCcsXG4gICdUb2dnbGUgc3VibWVudSc6ICfYs9mI24zbjNqGINiy24zYsdmF2YbZiCdcbn07IiwiZXhwb3J0IGRlZmF1bHQge1xuICAnQ2xvc2UgbWVudSc6ICdNZW7DvCBzY2hsaWXDn2VuJyxcbiAgJ0Nsb3NlIHN1Ym1lbnUnOiAnVW50ZXJtZW7DvCBzY2hsaWXDn2VuJyxcbiAgJ09wZW4gc3VibWVudSc6ICdVbnRlcm1lbsO8IMO2ZmZuZW4nLFxuICAnVG9nZ2xlIHN1Ym1lbnUnOiAnVW50ZXJtZW7DvCB3ZWNoc2Vsbidcbn07IiwiZXhwb3J0IGRlZmF1bHQge1xuICAnQ2xvc2UgbWVudSc6ICfQl9Cw0LrRgNGL0YLRjCDQvNC10L3RjicsXG4gICdDbG9zZSBzdWJtZW51JzogJ9CX0LDQutGA0YvRgtGMINC/0L7QtNC80LXQvdGOJyxcbiAgJ09wZW4gc3VibWVudSc6ICfQntGC0LrRgNGL0YLRjCDQv9C+0LTQvNC10L3RjicsXG4gICdUb2dnbGUgc3VibWVudSc6ICfQn9C10YDQtdC60LvRjtGH0LjRgtGMINC/0L7QtNC80LXQvdGOJ1xufTsiLCJpbXBvcnQgeyBhZGQgfSBmcm9tICcuLi8uLi9faTE4bic7XG5pbXBvcnQgbmwgZnJvbSAnLi9ubCc7XG5pbXBvcnQgZmEgZnJvbSAnLi9mYSc7XG5pbXBvcnQgZGUgZnJvbSAnLi9kZSc7XG5pbXBvcnQgcnUgZnJvbSAnLi9ydSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIGFkZChubCwgJ25sJyk7XG4gIGFkZChmYSwgJ2ZhJyk7XG4gIGFkZChkZSwgJ2RlJyk7XG4gIGFkZChydSwgJ3J1Jyk7XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5mcm9tXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZ1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZVwiO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmltcG9ydCBNbWVudSBmcm9tICcuLy4uL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IGNvbmZpZ3MgZnJvbSAnLi9fY29uZmlncyc7XG5pbXBvcnQgdHJhbnNsYXRlIGZyb20gJy4vdHJhbnNsYXRpb25zL3RyYW5zbGF0ZSc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vX2RvbSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy8gIEFkZCB0aGUgdHJhbnNsYXRpb25zLlxuXG50cmFuc2xhdGUoKTsgLy8gIEFkZCB0aGUgb3B0aW9ucyBhbmQgY29uZmlncy5cblxuTW1lbnUub3B0aW9ucy5zY3JlZW5SZWFkZXIgPSBvcHRpb25zO1xuTW1lbnUuY29uZmlncy5zY3JlZW5SZWFkZXIgPSBjb25maWdzO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vXHRFeHRlbmQgb3B0aW9ucy5cbiAgdmFyIG9wdGlvbnMgPSBleHRlbmRTaG9ydGhhbmRPcHRpb25zKHRoaXMub3B0cy5zY3JlZW5SZWFkZXIpO1xuICB0aGlzLm9wdHMuc2NyZWVuUmVhZGVyID0gZXh0ZW5kKG9wdGlvbnMsIE1tZW51Lm9wdGlvbnMuc2NyZWVuUmVhZGVyKTsgLy9cdEV4dGVuZCBjb25maWdzLlxuXG4gIHZhciBjb25maWdzID0gdGhpcy5jb25mLnNjcmVlblJlYWRlcjsgLy9cdEFkZCBBcmlhLSogYXR0cmlidXRlc1xuXG4gIGlmIChvcHRpb25zLmFyaWEpIHtcbiAgICAvL1x0QWRkIHNjcmVlbnJlYWRlciAvIGFyaWEgaG9va3MgZm9yIGFkZC1vbnNcbiAgICAvL1x0SW4gb3JkZSB0byBrZWVwIHRoaXMgbGlzdCBzaG9ydCwgb25seSBleHRlbmQgaG9va3MgdGhhdCBhcmUgYWN0dWFsbHkgdXNlZCBieSBvdGhlciBhZGQtb25zLlxuICAgIHRoaXMuYmluZCgnaW5pdEFkZG9uczphZnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmJpbmQoJ2luaXRNZW51OmFmdGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2luaXRNZW51OmFmdGVyOnNyLWFyaWEnLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmJpbmQoJ2luaXROYXZiYXI6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignaW5pdE5hdmJhcjphZnRlcjpzci1hcmlhJywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5iaW5kKCdvcGVuUGFuZWw6c3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignb3BlblBhbmVsOnN0YXJ0OnNyLWFyaWEnLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmJpbmQoJ2Nsb3NlOnN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2Nsb3NlOnN0YXJ0OnNyLWFyaWEnLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmJpbmQoJ2Nsb3NlOmZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjbG9zZTpmaW5pc2g6c3ItYXJpYScsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuYmluZCgnb3BlbjpzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdvcGVuOnN0YXJ0OnNyLWFyaWEnLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmJpbmQoJ2luaXRPcGVuZWQ6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignaW5pdE9wZW5lZDphZnRlcjpzci1hcmlhJywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvL1x0VXBkYXRlIGFyaWEtaGlkZGVuIGZvciBoaWRkZW4gLyB2aXNpYmxlIGxpc3RpdGVtc1xuXG4gICAgdGhpcy5iaW5kKCd1cGRhdGVMaXN0dmlldycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLm5vZGUucG5scy5xdWVyeVNlbGVjdG9yQWxsKCcubW0tbGlzdGl0ZW0nKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICBNbWVudS5zcl9hcmlhKGxpc3RpdGVtLCAnaGlkZGVuJywgbGlzdGl0ZW0ubWF0Y2hlcygnLm1tLWhpZGRlbicpKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvL1x0VXBkYXRlIGFyaWEtaGlkZGVuIGZvciB0aGUgcGFuZWxzIHdoZW4gb3BlbmluZyBhbmQgY2xvc2luZyBhIHBhbmVsLlxuXG4gICAgdGhpcy5iaW5kKCdvcGVuUGFuZWw6c3RhcnQnLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgIC8qKiBQYW5lbHMgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCBcImhpZGRlblwiLiAqL1xuICAgICAgdmFyIGhpZGRlbiA9IERPTS5maW5kKF90aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbCcpLmZpbHRlcihmdW5jdGlvbiAoaGlkZSkge1xuICAgICAgICByZXR1cm4gaGlkZSAhPT0gcGFuZWw7XG4gICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGhpZGUpIHtcbiAgICAgICAgcmV0dXJuICFoaWRlLnBhcmVudEVsZW1lbnQubWF0Y2hlcygnLm1tLXBhbmVsJyk7XG4gICAgICB9KTtcbiAgICAgIC8qKiBQYW5lbHMgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCBcInZpc2libGVcIi4gKi9cblxuICAgICAgdmFyIHZpc2libGUgPSBbcGFuZWxdO1xuICAgICAgRE9NLmZpbmQocGFuZWwsICcubW0tbGlzdGl0ZW1fdmVydGljYWwgLm1tLWxpc3RpdGVtX29wZW5lZCcpLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgIHZpc2libGUucHVzaC5hcHBseSh2aXNpYmxlLCBfdG9Db25zdW1hYmxlQXJyYXkoRE9NLmNoaWxkcmVuKGxpc3RpdGVtLCAnLm1tLXBhbmVsJykpKTtcbiAgICAgIH0pOyAvL1x0U2V0IHRoZSBwYW5lbHMgdG8gYmUgY29uc2lkZXJlZCBcImhpZGRlblwiIG9yIFwidmlzaWJsZVwiLlxuXG4gICAgICBoaWRkZW4uZm9yRWFjaChmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgTW1lbnUuc3JfYXJpYShwYW5lbCwgJ2hpZGRlbicsIHRydWUpO1xuICAgICAgfSk7XG4gICAgICB2aXNpYmxlLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIE1tZW51LnNyX2FyaWEocGFuZWwsICdoaWRkZW4nLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmJpbmQoJ2Nsb3NlUGFuZWwnLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgIE1tZW51LnNyX2FyaWEocGFuZWwsICdoaWRkZW4nLCB0cnVlKTtcbiAgICB9KTsgLy9cdEFkZCBhcmlhLWhhc3BvcHVwIGFuZCBhcmlhLW93bnMgdG8gcHJldi0gYW5kIG5leHQgYnV0dG9ucy5cblxuICAgIHRoaXMuYmluZCgnaW5pdFBhbmVsOmFmdGVyJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICBET00uZmluZChwYW5lbCwgJy5tbS1idG4nKS5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24pIHtcbiAgICAgICAgTW1lbnUuc3JfYXJpYShidXR0b24sICdoYXNwb3B1cCcsIHRydWUpO1xuICAgICAgICB2YXIgaHJlZiA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblxuICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgIE1tZW51LnNyX2FyaWEoYnV0dG9uLCAnb3ducycsIGhyZWYucmVwbGFjZSgnIycsICcnKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pOyAvL1x0QWRkIGFyaWEtaGlkZGVuIGZvciBuYXZiYXJzIGluIHBhbmVscy5cblxuICAgIHRoaXMuYmluZCgnaW5pdE5hdmJhcjphZnRlcicsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgLyoqIFRoZSBuYXZiYXIgaW4gdGhlIHBhbmVsLiAqL1xuICAgICAgdmFyIG5hdmJhciA9IERPTS5jaGlsZHJlbihwYW5lbCwgJy5tbS1uYXZiYXInKVswXTtcbiAgICAgIC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgbmF2YmFyIHNob3VsZCBiZSBjb25zaWRlcmVkIFwiaGlkZGVuXCIuICovXG5cbiAgICAgIHZhciBoaWRkZW4gPSBuYXZiYXIubWF0Y2hlcygnLm1tLWhpZGRlbicpOyAvL1x0U2V0IHRoZSBuYXZiYXIgdG8gYmUgY29uc2lkZXJlZCBcImhpZGRlblwiIG9yIFwidmlzaWJsZVwiLlxuXG4gICAgICBNbWVudS5zcl9hcmlhKG5hdmJhciwgJ2hpZGRlbicsIGhpZGRlbik7XG4gICAgfSk7IC8vXHRUZXh0XG5cbiAgICBpZiAob3B0aW9ucy50ZXh0KSB7XG4gICAgICAvL1x0QWRkIGFyaWEtaGlkZGVuIHRvIHRpdGxlcyBpbiBuYXZiYXJzXG4gICAgICBpZiAodGhpcy5vcHRzLm5hdmJhci50aXRsZUxpbmsgPT0gJ3BhcmVudCcpIHtcbiAgICAgICAgdGhpcy5iaW5kKCdpbml0TmF2YmFyOmFmdGVyJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgICAgLyoqIFRoZSBuYXZiYXIgaW4gdGhlIHBhbmVsLiAqL1xuICAgICAgICAgIHZhciBuYXZiYXIgPSBET00uY2hpbGRyZW4ocGFuZWwsICcubW0tbmF2YmFyJylbMF07XG4gICAgICAgICAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSBuYXZiYXIgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJoaWRkZW5cIi4gKi9cblxuICAgICAgICAgIHZhciBoaWRkZW4gPSBuYXZiYXIucXVlcnlTZWxlY3RvcignLm1tLWJ0bl9wcmV2JykgPyB0cnVlIDogZmFsc2U7IC8vXHRTZXQgdGhlIG5hdmJhci10aXRsZSB0byBiZSBjb25zaWRlcmVkIFwiaGlkZGVuXCIgb3IgXCJ2aXNpYmxlXCIuXG5cbiAgICAgICAgICBNbWVudS5zcl9hcmlhKERPTS5maW5kKG5hdmJhciwgJy5tbS1uYXZiYXJfX3RpdGxlJylbMF0sICdoaWRkZW4nLCBoaWRkZW4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy9cdEFkZCBzY3JlZW5yZWFkZXIgdGV4dFxuXG5cbiAgaWYgKG9wdGlvbnMudGV4dCkge1xuICAgIC8vXHRBZGQgc2NyZWVucmVhZGVyIC8gdGV4dCBob29rcyBmb3IgYWRkLW9uc1xuICAgIC8vXHRJbiBvcmRlIHRvIGtlZXAgdGhpcyBsaXN0IHNob3J0LCBvbmx5IGV4dGVuZCBob29rcyB0aGF0IGFyZSBhY3R1YWxseSB1c2VkIGJ5IG90aGVyIGFkZC1vbnMuXG4gICAgdGhpcy5iaW5kKCdpbml0QWRkb25zOmFmdGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuYmluZCgnc2V0UGFnZTphZnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdzZXRQYWdlOmFmdGVyOnNyLXRleHQnLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmJpbmQoJ2luaXRCbG9ja2VyOmFmdGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2luaXRCbG9ja2VyOmFmdGVyOnNyLXRleHQnLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgfSk7XG4gICAgfSk7IC8vXHRBZGQgdGV4dCB0byB0aGUgcHJldi1idXR0b25zLlxuXG4gICAgdGhpcy5iaW5kKCdpbml0TmF2YmFyOmFmdGVyJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICB2YXIgbmF2YmFyID0gRE9NLmNoaWxkcmVuKHBhbmVsLCAnLm1tLW5hdmJhcicpWzBdO1xuXG4gICAgICBpZiAobmF2YmFyKSB7XG4gICAgICAgIHZhciBidXR0b24gPSBET00uY2hpbGRyZW4obmF2YmFyLCAnLm1tLWJ0bl9wcmV2JylbMF07XG5cbiAgICAgICAgaWYgKGJ1dHRvbikge1xuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBNbWVudS5zcl90ZXh0KF90aGlzLmkxOG4oY29uZmlncy50ZXh0LmNsb3NlU3VibWVudSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vXHRBZGQgdGV4dCB0byB0aGUgbmV4dC1idXR0b25zLlxuXG4gICAgdGhpcy5iaW5kKCdpbml0TGlzdHZpZXc6YWZ0ZXInLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBwYW5lbFsnbW1QYXJlbnQnXTtcblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICB2YXIgbmV4dCA9IERPTS5jaGlsZHJlbihwYXJlbnQsICcubW0tYnRuX25leHQnKVswXTtcblxuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgIHZhciB0ZXh0ID0gX3RoaXMuaTE4bihjb25maWdzLnRleHRbbmV4dC5wYXJlbnRFbGVtZW50Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV92ZXJ0aWNhbCcpID8gJ3RvZ2dsZVN1Ym1lbnUnIDogJ29wZW5TdWJtZW51J10pO1xuXG4gICAgICAgICAgbmV4dC5pbm5lckhUTUwgKz0gTW1lbnUuc3JfdGV4dCh0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59IC8vXHRNZXRob2RzXG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBhdHRyID0gZnVuY3Rpb24gYXR0cihlbGVtZW50LCBfYXR0ciwgdmFsdWUpIHtcbiAgICBlbGVtZW50W19hdHRyXSA9IHZhbHVlO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShfYXR0ciwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKF9hdHRyKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBBZGQgYXJpYSAocHJvcGVydHkgYW5kKSBhdHRyaWJ1dGUgdG8gYSBIVE1MIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFx0ZWxlbWVudFx0VGhlIG5vZGUgdG8gYWRkIHRoZSBhdHRyaWJ1dGUgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nfVx0XHRcdG5hbWVcdFRoZSAobm9uLWFyaWEtcHJlZml4ZWQpIGF0dHJpYnV0ZSBuYW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufVx0dmFsdWVcdFRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqL1xuXG5cbiAgTW1lbnUuc3JfYXJpYSA9IGZ1bmN0aW9uIChlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIGF0dHIoZWxlbWVudCwgJ2FyaWEtJyArIG5hbWUsIHZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEFkZCByb2xlIGF0dHJpYnV0ZSB0byBhIEhUTUwgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH1cdFx0ZWxlbWVudFx0VGhlIG5vZGUgdG8gYWRkIHRoZSBhdHRyaWJ1dGUgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59XHR2YWx1ZVx0VGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICovXG5cblxuICBNbWVudS5zcl9yb2xlID0gZnVuY3Rpb24gKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgYXR0cihlbGVtZW50LCAncm9sZScsIHZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIFdyYXAgYSB0ZXh0IGluIGEgc2NyZWVuLXJlYWRlci1vbmx5IG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBcdHtzdHJpbmd9IHRleHRcdFRoZSB0ZXh0IHRvIHdyYXAuXG4gICAqIEByZXR1cm5cdHtzdHJpbmd9XHRcdFRoZSB3cmFwcGVkIHRleHQuXG4gICAqL1xuXG5cbiAgTW1lbnUuc3JfdGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1tLXNyb25seVwiPicgKyB0ZXh0ICsgJzwvc3Bhbj4nO1xuICB9O1xufSkoKTsiLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgb3B0aW9ucyA9IHtcbiAgZml4OiB0cnVlXG59O1xuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbi8qKlxuICogRXh0ZW5kIHNob3J0aGFuZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyB0byBleHRlbmQuXG4gKiBAcmV0dXJuIHtvYmplY3R9XHRcdFx0VGhlIGV4dGVuZGVkIG9wdGlvbnMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFNob3J0aGFuZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGZpeDogb3B0aW9uc1xuICAgIH07XG4gIH1cblxuICBpZiAoX3R5cGVvZihvcHRpb25zKSAhPSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsIi8qKiBXaGV0aGVyIG9yIG5vdCB0b3VjaCBnZXN0dXJlcyBhcmUgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLiAqL1xuZXhwb3J0IHZhciB0b3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAobmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPyB0cnVlIDogZmFsc2UpIHx8IGZhbHNlOyIsImltcG9ydCBNbWVudSBmcm9tICcuLy4uL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uL19kb20nO1xuaW1wb3J0ICogYXMgc3VwcG9ydCBmcm9tICcuLi8uLi9jb3JlL19zdXBwb3J0JztcbmltcG9ydCB7IGV4dGVuZFNob3J0aGFuZE9wdGlvbnMgfSBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCB7IGV4dGVuZCwgdG91Y2hEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy8gIEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5zY3JvbGxCdWdGaXggPSBvcHRpb25zO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vXHRUaGUgc2Nyb2xsQnVnRml4IGFkZC1vbiBmaXhlcyBhIHNjcm9sbGluZyBidWdcbiAgLy9cdFx0MSkgb24gdG91Y2ggZGV2aWNlc1xuICAvL1x0XHQyKSBpbiBhbiBvZmYtY2FudmFzIG1lbnVcbiAgLy9cdFx0MykgdGhhdCAtd2hlbiBvcGVuZWQtIGJsb2NrcyB0aGUgVUkgZnJvbSBpbnRlcmFjdGlvblxuICBpZiAoIXN1cHBvcnQudG91Y2ggfHwgLy8gMVxuICAhdGhpcy5vcHRzLm9mZkNhbnZhcyB8fCAvLyAyXG4gICF0aGlzLm9wdHMub2ZmQ2FudmFzLmJsb2NrVUkgLy8gM1xuICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vXHRFeHRlbmQgb3B0aW9ucy5cblxuXG4gIHZhciBvcHRpb25zID0gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyh0aGlzLm9wdHMuc2Nyb2xsQnVnRml4KTtcbiAgdGhpcy5vcHRzLnNjcm9sbEJ1Z0ZpeCA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLnNjcm9sbEJ1Z0ZpeCk7XG5cbiAgaWYgKCFvcHRpb25zLmZpeCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0b3VjaERpciA9IHRvdWNoRGlyZWN0aW9uKHRoaXMubm9kZS5tZW51KTtcbiAgLyoqXG4gICAqIFByZXZlbnQgYW4gZXZlbnQgZnJvbSBkb2luZyBpdHMgZGVmYXVsdCBhbmQgc3RvcCBpdHMgcHJvcGFnYXRpb24uXG4gICAqIEBwYXJhbSB7U2Nyb2xsQmVoYXZpb3J9IGV2bnQgVGhlIGV2ZW50IHRvIHN0b3AuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHN0b3AoZXZudCkge1xuICAgIGV2bnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldm50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9IC8vICBQcmV2ZW50IHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nIHdoZW4gc2Nyb2xsaW5nIGluIHRoZSBtZW51LlxuXG5cbiAgdGhpcy5ub2RlLm1lbnUuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RvcCwge1xuICAgIC8vICBNYWtlIHN1cmUgdG8gdGVsbCB0aGUgYnJvd3NlciB0aGUgZXZlbnQgd2lsbCBiZSBwcmV2ZW50ZWQuXG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7IC8vICBQcmV2ZW50IHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nIHdoZW4gZHJhZ2dpbmcgaW4gdGhlIG1lbnUuXG5cbiAgdGhpcy5ub2RlLm1lbnUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICB2YXIgcGFuZWwgPSBldm50LnRhcmdldC5jbG9zZXN0KCcubW0tcGFuZWwnKTtcblxuICAgIGlmIChwYW5lbCkge1xuICAgICAgLy8gIFdoZW4gZHJhZ2dpbmcgYSBub24tc2Nyb2xsYWJsZSBwYW5lbCxcbiAgICAgIC8vICAgICAgd2UgY2FuIHNpbXBsZSBwcmV2ZW50RGVmYXVsdCBhbmQgc3RvcFByb3BhZ2F0aW9uLlxuICAgICAgaWYgKHBhbmVsLnNjcm9sbEhlaWdodCA9PT0gcGFuZWwub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgIHN0b3AoZXZudCk7IC8vICBXaGVuIGRyYWdnaW5nIGEgc2Nyb2xsYWJsZSBwYW5lbCxcbiAgICAgICAgLy8gICAgICB0aGF0IGlzIGZ1bGx5IHNjcm9sbGVkIHVwIChvciBkb3duKS5cbiAgICAgICAgLy8gICAgICBJdCB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBzY3JvbGwgZXZlbnQgd2hlbiBkcmFnZ2luZyBkb3duIChvciB1cCkgKGJlY2F1c2UgeW91IGNhbid0IHNjcm9sbCB1cCAob3IgZG93bikpLFxuICAgICAgICAvLyAgICAgIHNvIHdlIG5lZWQgdG8gbWF0Y2ggdGhlIGRyYWdnaW5nIGRpcmVjdGlvbiB3aXRoIHRoZSBzY3JvbGwgcG9zaXRpb24gYmVmb3JlIHByZXZlbnREZWZhdWx0IGFuZCBzdG9wUHJvcGFnYXRpb24sXG4gICAgICAgIC8vICAgICAgb3RoZXJ3aXNlIHRoZSBwYW5lbCB3b3VsZCBub3Qgc2Nyb2xsIGF0IGFsbCBpbiBhbnkgZGlyZWN0aW9uLlxuICAgICAgfSBlbHNlIGlmICggLy8gIFdoZW4gc2Nyb2xsZWQgdXAgYW5kIGRyYWdnaW5nIGRvd25cbiAgICAgIHBhbmVsLnNjcm9sbFRvcCA9PSAwICYmIHRvdWNoRGlyLmdldCgpID09ICdkb3duJyB8fCAvLyAgV2hlbiBzY3JvbGxlZCBkb3duIGFuZCBkcmFnZ2luZyB1cFxuICAgICAgcGFuZWwuc2Nyb2xsSGVpZ2h0ID09IHBhbmVsLnNjcm9sbFRvcCArIHBhbmVsLm9mZnNldEhlaWdodCAmJiB0b3VjaERpci5nZXQoKSA9PSAndXAnKSB7XG4gICAgICAgIHN0b3AoZXZudCk7XG4gICAgICB9IC8vICBXaGVuIGRyYWdnaW5nIGFueXRoaW5nIG90aGVyIHRoYW4gYSBwYW5lbC5cblxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wKGV2bnQpO1xuICAgIH1cbiAgfSwge1xuICAgIC8vICBNYWtlIHN1cmUgdG8gdGVsbCB0aGUgYnJvd3NlciB0aGUgZXZlbnQgY2FuIGJlIHByZXZlbnRlZC5cbiAgICBwYXNzaXZlOiBmYWxzZVxuICB9KTsgLy8gIFNvbWUgc21hbGwgYWRkaXRpb25hbCBpbXByb3ZlbWVudHNcbiAgLy9cdFNjcm9sbCB0aGUgY3VycmVudCBvcGVuZWQgcGFuZWwgdG8gdGhlIHRvcCB3aGVuIG9wZW5pbmcgdGhlIG1lbnUuXG5cbiAgdGhpcy5iaW5kKCdvcGVuOnN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYW5lbCA9IERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWxfb3BlbmVkJylbMF07XG4gICAgcGFuZWwuc2Nyb2xsVG9wID0gMDtcbiAgfSk7IC8vXHRGaXggaXNzdWUgYWZ0ZXIgZGV2aWNlIHJvdGF0aW9uIGNoYW5nZS5cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgIHZhciBwYW5lbCA9IERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWxfb3BlbmVkJylbMF07XG4gICAgcGFuZWwuc2Nyb2xsVG9wID0gMDsgLy9cdEFwcGFyZW50bHksIGNoYW5naW5nIHRoZSBvdmVyZmxvdy1zY3JvbGxpbmcgcHJvcGVydHkgdHJpZ2dlcnMgc29tZSBldmVudCA6KVxuXG4gICAgcGFuZWwuc3R5bGVbJy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nJ10gPSAnYXV0byc7XG4gICAgcGFuZWwuc3R5bGVbJy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nJ10gPSAndG91Y2gnO1xuICB9KTtcbn0iLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgb3B0cyA9IHtcbiAgaGVpZ2h0OiAnZGVmYXVsdCdcbn07XG5leHBvcnQgZGVmYXVsdCBvcHRzO1xuLyoqXG4gKiBFeHRlbmQgc2hvcnRoYW5kIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGV4dGVuZC5cbiAqIEByZXR1cm4ge29iamVjdH1cdFx0XHRUaGUgZXh0ZW5kZWQgb3B0aW9ucy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnYm9vbGVhbicgJiYgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgaGVpZ2h0OiBvcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG47IiwiaW1wb3J0IE1tZW51IGZyb20gJy4vLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0IHsgZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyB9IGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29yZS9faGVscGVycyc7IC8vXHRBZGQgdGhlIG9wdGlvbnMuXG5cbk1tZW51Lm9wdGlvbnMuYXV0b0hlaWdodCA9IG9wdGlvbnM7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSBleHRlbmRTaG9ydGhhbmRPcHRpb25zKHRoaXMub3B0cy5hdXRvSGVpZ2h0KTtcbiAgdGhpcy5vcHRzLmF1dG9IZWlnaHQgPSBleHRlbmQob3B0aW9ucywgTW1lbnUub3B0aW9ucy5hdXRvSGVpZ2h0KTtcblxuICBpZiAob3B0aW9ucy5oZWlnaHQgIT0gJ2F1dG8nICYmIG9wdGlvbnMuaGVpZ2h0ICE9ICdoaWdoZXN0Jykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdldEN1cnJlbnQgPSBmdW5jdGlvbiBnZXRDdXJyZW50KCkge1xuICAgICAgdmFyIHBhbmVsID0gRE9NLmNoaWxkcmVuKF90aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbF9vcGVuZWQnKVswXTtcblxuICAgICAgaWYgKHBhbmVsKSB7XG4gICAgICAgIHBhbmVsID0gbWVhc3VyYWJsZVBhbmVsKHBhbmVsKTtcbiAgICAgIH0gLy9cdEZhbGxiYWNrLCBqdXN0IHRvIGJlIHN1cmUgd2UgaGF2ZSBhIHBhbmVsLlxuXG5cbiAgICAgIGlmICghcGFuZWwpIHtcbiAgICAgICAgcGFuZWwgPSBET00uY2hpbGRyZW4oX3RoaXMubm9kZS5wbmxzLCAnLm1tLXBhbmVsJylbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYW5lbC5vZmZzZXRIZWlnaHQ7XG4gICAgfTtcblxuICAgIHZhciBnZXRIaWdoZXN0ID0gZnVuY3Rpb24gZ2V0SGlnaGVzdCgpIHtcbiAgICAgIHZhciBoaWdoZXN0ID0gMDtcbiAgICAgIERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWwnKS5mb3JFYWNoKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgICBwYW5lbCA9IG1lYXN1cmFibGVQYW5lbChwYW5lbCk7XG4gICAgICAgIGhpZ2hlc3QgPSBNYXRoLm1heChoaWdoZXN0LCBwYW5lbC5vZmZzZXRIZWlnaHQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaGlnaGVzdDtcbiAgICB9O1xuXG4gICAgdmFyIG1lYXN1cmFibGVQYW5lbCA9IGZ1bmN0aW9uIG1lYXN1cmFibGVQYW5lbChwYW5lbCkge1xuICAgICAgLy9cdElmIGl0J3MgYSB2ZXJ0aWNhbGx5IGV4cGFuZGluZyBwYW5lbC4uLlxuICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJykpIHtcbiAgICAgICAgLy9cdC4uLmZpbmQgdGhlIGZpcnN0IHBhcmVudCBwYW5lbCB0aGF0IGlzbid0LlxuICAgICAgICBwYW5lbCA9IERPTS5wYXJlbnRzKHBhbmVsLCAnLm1tLXBhbmVsJykuZmlsdGVyKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgICAgIHJldHVybiAhcGFuZWwucGFyZW50RWxlbWVudC5tYXRjaGVzKCcubW0tbGlzdGl0ZW1fdmVydGljYWwnKTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYW5lbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5vcHRzLm9mZkNhbnZhcyAmJiAhX3RoaXMudmFycy5vcGVuZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShfdGhpcy5ub2RlLnBubHMpO1xuXG4gICAgICB2YXIgX3RvcCA9IE1hdGgubWF4KHBhcnNlSW50KHN0eWxlLnRvcCwgMTApLCAwKSB8fCAwLFxuICAgICAgICAgIF9ib3QgPSBNYXRoLm1heChwYXJzZUludChzdHlsZS5ib3R0b20sIDEwKSwgMCkgfHwgMCxcbiAgICAgICAgICBfaGdoID0gMDsgLy9cdFRoZSBcIm1lYXN1cmluZ1wiIGNsYXNzbmFtZSB1bmRvZXMgc29tZSBDU1MgdG8gYmUgYWJsZSB0byBtZWFzdXJlIHRoZSBoZWlnaHQuXG5cblxuICAgICAgX3RoaXMubm9kZS5tZW51LmNsYXNzTGlzdC5hZGQoJ21tLW1lbnVfYXV0b2hlaWdodC1tZWFzdXJpbmcnKTsgLy9cdE1lYXN1cmUgdGhlIGhlaWdodC5cblxuXG4gICAgICBpZiAob3B0aW9ucy5oZWlnaHQgPT0gJ2F1dG8nKSB7XG4gICAgICAgIF9oZ2ggPSBnZXRDdXJyZW50KCk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVpZ2h0ID09ICdoaWdoZXN0Jykge1xuICAgICAgICBfaGdoID0gZ2V0SGlnaGVzdCgpO1xuICAgICAgfSAvL1x0U2V0IHRoZSBoZWlnaHQuXG5cblxuICAgICAgX3RoaXMubm9kZS5tZW51LnN0eWxlLmhlaWdodCA9IF9oZ2ggKyBfdG9wICsgX2JvdCArICdweCc7IC8vXHRSZW1vdmUgdGhlIFwibWVhc3VyaW5nXCIgY2xhc3NuYW1lLlxuXG4gICAgICBfdGhpcy5ub2RlLm1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbW0tbWVudV9hdXRvaGVpZ2h0LW1lYXN1cmluZycpO1xuICAgIH07XG4gIH0oKTsgLy9cdEFkZCB0aGUgYXV0b2hlaWdodCBjbGFzcyB0byB0aGUgbWVudS5cblxuXG4gIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMubm9kZS5tZW51LmNsYXNzTGlzdC5hZGQoJ21tLW1lbnVfYXV0b2hlaWdodCcpO1xuICB9KTtcblxuICBpZiAodGhpcy5vcHRzLm9mZkNhbnZhcykge1xuICAgIC8vXHRNZWFzdXJlIHRoZSBoZWlnaHQgd2hlbiBvcGVuaW5nIHRoZSBvZmYtY2FudmFzIG1lbnUuXG4gICAgdGhpcy5iaW5kKCdvcGVuOnN0YXJ0Jywgc2V0SGVpZ2h0KTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhlaWdodCA9PSAnaGlnaGVzdCcpIHtcbiAgICAvL1x0TWVhc3VyZSB0aGUgaGVpZ2h0IHdoZW4gaW5pdGlhdGluZyBwYW5lbHMuXG4gICAgdGhpcy5iaW5kKCdpbml0UGFuZWxzOmFmdGVyJywgc2V0SGVpZ2h0KTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhlaWdodCA9PSAnYXV0bycpIHtcbiAgICAvL1x0TWVhc3VyZSB0aGUgaGVpZ2h0IHdoZW4gdXBkYXRpbmcgbGlzdHZpZXdzLlxuICAgIHRoaXMuYmluZCgndXBkYXRlTGlzdHZpZXcnLCBzZXRIZWlnaHQpOyAvL1x0TWVhc3VyZSB0aGUgaGVpZ2h0IHdoZW4gb3BlbmluZyBhIHBhbmVsLlxuXG4gICAgdGhpcy5iaW5kKCdvcGVuUGFuZWw6c3RhcnQnLCBzZXRIZWlnaHQpO1xuICB9XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGNsb3NlOiBmYWxzZSxcbiAgb3BlbjogZmFsc2Vcbn07XG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuLyoqXG4gKiBFeHRlbmQgc2hvcnRoYW5kIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGV4dGVuZC5cbiAqIEByZXR1cm4ge29iamVjdH1cdFx0XHRUaGUgZXh0ZW5kZWQgb3B0aW9ucy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgY2xvc2U6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cbjsiLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5zZWFyY2hcIjtcbmltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy9cdEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5iYWNrQnV0dG9uID0gb3B0aW9ucztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAoIXRoaXMub3B0cy5vZmZDYW52YXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLmJhY2tCdXR0b24pO1xuICB0aGlzLm9wdHMuYmFja0J1dHRvbiA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLmJhY2tCdXR0b24pO1xuXG4gIHZhciBfbWVudSA9ICcjJyArIHRoaXMubm9kZS5tZW51LmlkOyAvL1x0Q2xvc2UgbWVudVxuXG5cbiAgaWYgKG9wdGlvbnMuY2xvc2UpIHtcbiAgICB2YXIgc3RhdGVzID0gW107XG5cbiAgICB2YXIgc2V0U3RhdGVzID0gZnVuY3Rpb24gc2V0U3RhdGVzKCkge1xuICAgICAgc3RhdGVzID0gW19tZW51XTtcbiAgICAgIERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWxfb3BlbmVkLCAubW0tcGFuZWxfb3BlbmVkLXBhcmVudCcpLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIHN0YXRlcy5wdXNoKCcjJyArIHBhbmVsLmlkKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmJpbmQoJ29wZW46ZmluaXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgZG9jdW1lbnQudGl0bGUsIF9tZW51KTtcbiAgICB9KTtcbiAgICB0aGlzLmJpbmQoJ29wZW46ZmluaXNoJywgc2V0U3RhdGVzKTtcbiAgICB0aGlzLmJpbmQoJ29wZW5QYW5lbDpmaW5pc2gnLCBzZXRTdGF0ZXMpO1xuICAgIHRoaXMuYmluZCgnY2xvc2U6ZmluaXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgc3RhdGVzID0gW107XG4gICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIGRvY3VtZW50LnRpdGxlLCBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgIGlmIChfdGhpcy52YXJzLm9wZW5lZCkge1xuICAgICAgICBpZiAoc3RhdGVzLmxlbmd0aCkge1xuICAgICAgICAgIHN0YXRlcyA9IHN0YXRlcy5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgdmFyIGhhc2ggPSBzdGF0ZXNbc3RhdGVzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgaWYgKGhhc2ggPT0gX21lbnUpIHtcbiAgICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLm9wZW5QYW5lbChfdGhpcy5ub2RlLm1lbnUucXVlcnlTZWxlY3RvcihoYXNoKSk7XG5cbiAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIGRvY3VtZW50LnRpdGxlLCBfbWVudSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5vcGVuKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgIGlmICghX3RoaXMudmFycy5vcGVuZWQgJiYgbG9jYXRpb24uaGFzaCA9PSBfbWVudSkge1xuICAgICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgb3B0aW9ucyA9IHtcbiAgYWRkOiBmYWxzZSxcbiAgdmlzaWJsZToge1xuICAgIG1pbjogMSxcbiAgICBtYXg6IDNcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBhZGQ6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdudW1iZXInKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGFkZDogdHJ1ZSxcbiAgICAgIHZpc2libGU6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMudmlzaWJsZSA9PSAnbnVtYmVyJykge1xuICAgIG9wdGlvbnMudmlzaWJsZSA9IHtcbiAgICAgIG1pbjogb3B0aW9ucy52aXNpYmxlLFxuICAgICAgbWF4OiBvcHRpb25zLnZpc2libGVcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG47IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXRcIjtcbmltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy9cdEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5jb2x1bW5zID0gb3B0aW9ucztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLmNvbHVtbnMpO1xuICB0aGlzLm9wdHMuY29sdW1ucyA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLmNvbHVtbnMpOyAvL1x0QWRkIHRoZSBjb2x1bW5zXG5cbiAgaWYgKG9wdGlvbnMuYWRkKSB7XG4gICAgb3B0aW9ucy52aXNpYmxlLm1pbiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDYsIG9wdGlvbnMudmlzaWJsZS5taW4pKTtcbiAgICBvcHRpb25zLnZpc2libGUubWF4ID0gTWF0aC5tYXgob3B0aW9ucy52aXNpYmxlLm1pbiwgTWF0aC5taW4oNiwgb3B0aW9ucy52aXNpYmxlLm1heCkpO1xuICAgIC8qKiBDb2x1bW5zIHJlbGF0ZWQgY2xhc25hbWVzIGZvciB0aGUgbWVudS4gKi9cblxuICAgIHZhciBjb2xtID0gW107XG4gICAgLyoqIENvbHVtbnMgcmVsYXRlZCBjbGFzbmFtZXMgZm9yIHRoZSBwYW5lbHMuICovXG5cbiAgICB2YXIgY29scCA9IFtdO1xuICAgIC8qKiBDbGFzc25hbWVzIHRvIHJlbW92ZSBmcm9tIHBhbmVscyBpbiBmYXZvciBvZiBzaG93aW5nIGNvbHVtbnMuICovXG5cbiAgICB2YXIgcm12YyA9IFsnbW0tcGFuZWxfb3BlbmVkJywgJ21tLXBhbmVsX29wZW5lZC1wYXJlbnQnLCAnbW0tcGFuZWxfaGlnaGVzdCddO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gb3B0aW9ucy52aXNpYmxlLm1heDsgaSsrKSB7XG4gICAgICBjb2xtLnB1c2goJ21tLW1lbnVfY29sdW1ucy0nICsgaSk7XG4gICAgICBjb2xwLnB1c2goJ21tLXBhbmVsX2NvbHVtbnMtJyArIGkpO1xuICAgIH1cblxuICAgIHJtdmMucHVzaC5hcHBseShybXZjLCBjb2xwKTsgLy9cdENsb3NlIGFsbCBsYXRlciBvcGVuZWQgcGFuZWxzXG5cbiAgICB0aGlzLmJpbmQoJ29wZW5QYW5lbDpiZWZvcmUnLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgIC8qKiBUaGUgcGFyZW50IHBhbmVsLiAqL1xuICAgICAgdmFyIHBhcmVudDtcblxuICAgICAgaWYgKHBhbmVsKSB7XG4gICAgICAgIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBhcmVudCA9IHBhcmVudC5jbG9zZXN0KCcubW0tcGFuZWwnKTtcblxuICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xhc3NuYW1lID0gcGFyZW50LmNsYXNzTmFtZTtcblxuICAgICAgaWYgKCFjbGFzc25hbWUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xhc3NuYW1lID0gY2xhc3NuYW1lLnNwbGl0KCdtbS1wYW5lbF9jb2x1bW5zLScpWzFdO1xuXG4gICAgICBpZiAoIWNsYXNzbmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjb2xuciA9IHBhcnNlSW50KGNsYXNzbmFtZS5zcGxpdCgnICcpWzBdLCAxMCkgKyAxO1xuXG4gICAgICB3aGlsZSAoY29sbnIgPiAwKSB7XG4gICAgICAgIHBhbmVsID0gRE9NLmNoaWxkcmVuKF90aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbF9jb2x1bW5zLScgKyBjb2xucilbMF07XG5cbiAgICAgICAgaWYgKHBhbmVsKSB7XG4gICAgICAgICAgdmFyIF9wYW5lbCRjbGFzc0xpc3Q7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhwYW5lbCk7XG4gICAgICAgICAgY29sbnIrKztcblxuICAgICAgICAgIChfcGFuZWwkY2xhc3NMaXN0ID0gcGFuZWwuY2xhc3NMaXN0KS5yZW1vdmUuYXBwbHkoX3BhbmVsJGNsYXNzTGlzdCwgcm12Yyk7XG5cbiAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdtbS1oaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2xuciA9IC0xO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5iaW5kKCdvcGVuUGFuZWw6c3RhcnQnLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgIHZhciBfdGhpcyRub2RlJG1lbnUkY2xhc3M7XG5cbiAgICAgIHZhciBjb2x1bW5zID0gRE9NLmNoaWxkcmVuKF90aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbF9vcGVuZWQtcGFyZW50JykubGVuZ3RoO1xuXG4gICAgICBpZiAoIXBhbmVsLm1hdGNoZXMoJy5tbS1wYW5lbF9vcGVuZWQtcGFyZW50JykpIHtcbiAgICAgICAgY29sdW1ucysrO1xuICAgICAgfVxuXG4gICAgICBjb2x1bW5zID0gTWF0aC5taW4ob3B0aW9ucy52aXNpYmxlLm1heCwgTWF0aC5tYXgob3B0aW9ucy52aXNpYmxlLm1pbiwgY29sdW1ucykpO1xuXG4gICAgICAoX3RoaXMkbm9kZSRtZW51JGNsYXNzID0gX3RoaXMubm9kZS5tZW51LmNsYXNzTGlzdCkucmVtb3ZlLmFwcGx5KF90aGlzJG5vZGUkbWVudSRjbGFzcywgY29sbSk7XG5cbiAgICAgIF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X2NvbHVtbnMtJyArIGNvbHVtbnMpO1xuXG4gICAgICB2YXIgcGFuZWxzID0gW107XG4gICAgICBET00uY2hpbGRyZW4oX3RoaXMubm9kZS5wbmxzLCAnLm1tLXBhbmVsJykuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgdmFyIF9wYW5lbCRjbGFzc0xpc3QyO1xuXG4gICAgICAgIChfcGFuZWwkY2xhc3NMaXN0MiA9IHBhbmVsLmNsYXNzTGlzdCkucmVtb3ZlLmFwcGx5KF9wYW5lbCRjbGFzc0xpc3QyLCBjb2xwKTtcblxuICAgICAgICBpZiAocGFuZWwubWF0Y2hlcygnLm1tLXBhbmVsX29wZW5lZC1wYXJlbnQnKSkge1xuICAgICAgICAgIHBhbmVscy5wdXNoKHBhbmVsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBwYW5lbHMucHVzaChwYW5lbCk7XG4gICAgICBwYW5lbHMuc2xpY2UoLW9wdGlvbnMudmlzaWJsZS5tYXgpLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsLCBwKSB7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ21tLXBhbmVsX2NvbHVtbnMtJyArIHApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgb3B0aW9ucyA9IHtcbiAgYWRkOiBmYWxzZSxcbiAgYWRkVG86ICdwYW5lbHMnLFxuICBjb3VudDogZmFsc2Vcbn07XG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuLyoqXG4gKiBFeHRlbmQgc2hvcnRoYW5kIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGV4dGVuZC5cbiAqIEByZXR1cm4ge29iamVjdH1cdFx0XHRUaGUgZXh0ZW5kZWQgb3B0aW9ucy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgYWRkOiBvcHRpb25zLFxuICAgICAgYWRkVG86ICdwYW5lbHMnLFxuICAgICAgY291bnQ6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAob3B0aW9ucy5hZGRUbyA9PSAncGFuZWxzJykge1xuICAgIG9wdGlvbnMuYWRkVG8gPSAnLm1tLXBhbmVsJztcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufSIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZnJvbVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGVcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmdcIjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5pbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0IHsgZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyB9IGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29yZS9faGVscGVycyc7IC8vXHRBZGQgdGhlIG9wdGlvbnMuXG5cbk1tZW51Lm9wdGlvbnMuY291bnRlcnMgPSBvcHRpb25zOyAvL1x0QWRkIHRoZSBjbGFzc25hbWVzLlxuXG5NbWVudS5jb25maWdzLmNsYXNzTmFtZXMuY291bnRlcnMgPSB7XG4gIGNvdW50ZXI6ICdDb3VudGVyJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLmNvdW50ZXJzKTtcbiAgdGhpcy5vcHRzLmNvdW50ZXJzID0gZXh0ZW5kKG9wdGlvbnMsIE1tZW51Lm9wdGlvbnMuY291bnRlcnMpOyAvL1x0UmVmYWN0b3IgY291bnRlciBjbGFzc1xuXG4gIHRoaXMuYmluZCgnaW5pdExpc3R2aWV3OmFmdGVyJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgdmFyIGNudHJjbHNzID0gX3RoaXMuY29uZi5jbGFzc05hbWVzLmNvdW50ZXJzLmNvdW50ZXIsXG4gICAgICAgIGNvdW50ZXJzID0gcGFuZWwucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbnRyY2xzcyk7XG4gICAgY291bnRlcnMuZm9yRWFjaChmdW5jdGlvbiAoY291bnRlcikge1xuICAgICAgRE9NLnJlQ2xhc3MoY291bnRlciwgY250cmNsc3MsICdtbS1jb3VudGVyJyk7XG4gICAgfSk7XG4gIH0pOyAvL1x0QWRkIHRoZSBjb3VudGVycyBhZnRlciBhIGxpc3R2aWV3IGlzIGluaXRpYXRlZC5cblxuICBpZiAob3B0aW9ucy5hZGQpIHtcbiAgICB0aGlzLmJpbmQoJ2luaXRMaXN0dmlldzphZnRlcicsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgaWYgKCFwYW5lbC5tYXRjaGVzKG9wdGlvbnMuYWRkVG8pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddO1xuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vXHRDaGVjayBpZiBubyBjb3VudGVyIGFscmVhZHkgZXhjaXN0cy5cbiAgICAgICAgaWYgKCFwYXJlbnQucXVlcnlTZWxlY3RvcignLm1tLWNvdW50ZXInKSkge1xuICAgICAgICAgIHZhciBjb3VudGVyID0gRE9NLmNyZWF0ZSgnc3Bhbi5tbS1jb3VudGVyJyk7XG4gICAgICAgICAgdmFyIGJ0biA9IERPTS5jaGlsZHJlbihwYXJlbnQsICcubW0tYnRuJylbMF07XG5cbiAgICAgICAgICBpZiAoYnRuKSB7XG4gICAgICAgICAgICBidG4ucHJlcGVuZChjb3VudGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmNvdW50KSB7XG4gICAgdmFyIGNvdW50ID0gZnVuY3Rpb24gY291bnQocGFuZWwpIHtcbiAgICAgIHZhciBwYW5lbHMgPSBwYW5lbCA/IFtwYW5lbF0gOiBET00uY2hpbGRyZW4oX3RoaXMubm9kZS5wbmxzLCAnLm1tLXBhbmVsJyk7XG4gICAgICBwYW5lbHMuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddO1xuXG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvdW50ZXIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLm1tLWNvdW50ZXInKTtcblxuICAgICAgICBpZiAoIWNvdW50ZXIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGlzdGl0ZW1zID0gW107XG4gICAgICAgIERPTS5jaGlsZHJlbihwYW5lbCwgJy5tbS1saXN0dmlldycpLmZvckVhY2goZnVuY3Rpb24gKGxpc3R2aWV3KSB7XG4gICAgICAgICAgbGlzdGl0ZW1zLnB1c2guYXBwbHkobGlzdGl0ZW1zLCBfdG9Db25zdW1hYmxlQXJyYXkoRE9NLmNoaWxkcmVuKGxpc3R2aWV3KSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlci5pbm5lckhUTUwgPSBET00uZmlsdGVyTEkobGlzdGl0ZW1zKS5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmJpbmQoJ2luaXRMaXN0dmlldzphZnRlcicsIGNvdW50KTtcbiAgICB0aGlzLmJpbmQoJ3VwZGF0ZUxpc3R2aWV3JywgY291bnQpO1xuICB9XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGFkZDogZmFsc2UsXG4gIGFkZFRvOiAncGFuZWxzJyxcbiAgdHlwZTogbnVsbFxufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBhZGQ6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAob3B0aW9ucy5hZGRUbyA9PSAncGFuZWxzJykge1xuICAgIG9wdGlvbnMuYWRkVG8gPSAnLm1tLXBhbmVsJztcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufSIsImltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy9cdEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5kaXZpZGVycyA9IG9wdGlvbnM7IC8vICBBZGQgdGhlIGNsYXNzbmFtZXMuXG5cbk1tZW51LmNvbmZpZ3MuY2xhc3NOYW1lcy5kaXZpZGVyID0gJ0RpdmlkZXInO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBvcHRpb25zID0gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyh0aGlzLm9wdHMuZGl2aWRlcnMpO1xuICB0aGlzLm9wdHMuZGl2aWRlcnMgPSBleHRlbmQob3B0aW9ucywgTW1lbnUub3B0aW9ucy5kaXZpZGVycyk7IC8vXHRSZWZhY3RvciBkaXZpZGVyIGNsYXNzbmFtZVxuXG4gIHRoaXMuYmluZCgnaW5pdExpc3R2aWV3OmFmdGVyJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgdmFyIGxpc3R2aWV3cyA9IERPTS5jaGlsZHJlbihwYW5lbCwgJ3VsLCBvbCcpO1xuICAgIGxpc3R2aWV3cy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0dmlldykge1xuICAgICAgRE9NLmNoaWxkcmVuKGxpc3R2aWV3KS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICBET00ucmVDbGFzcyhsaXN0aXRlbSwgX3RoaXMuY29uZi5jbGFzc05hbWVzLmRpdmlkZXIsICdtbS1kaXZpZGVyJyk7XG5cbiAgICAgICAgaWYgKGxpc3RpdGVtLm1hdGNoZXMoJy5tbS1kaXZpZGVyJykpIHtcbiAgICAgICAgICBsaXN0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdtbS1saXN0aXRlbScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7IC8vXHRBZGQgY2xhc3NuYW1lIHRvIHRoZSBtZW51IHRvIHNwZWNpZnkgdGhlIHR5cGUgb2YgdGhlIGRpdmlkZXJzXG5cbiAgaWYgKG9wdGlvbnMudHlwZSkge1xuICAgIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5ub2RlLm1lbnUuY2xhc3NMaXN0LmFkZCgnbW0tbWVudV9kaXZpZGVycy0nICsgb3B0aW9ucy50eXBlKTtcbiAgICB9KTtcbiAgfSAvL1x0QWRkIGRpdmlkZXJzXG5cblxuICBpZiAob3B0aW9ucy5hZGQpIHtcbiAgICB0aGlzLmJpbmQoJ2luaXRMaXN0dmlldzphZnRlcicsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgaWYgKCFwYW5lbC5tYXRjaGVzKG9wdGlvbnMuYWRkVG8pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgRE9NLmZpbmQocGFuZWwsICcubW0tZGl2aWRlcicpLmZvckVhY2goZnVuY3Rpb24gKGRpdmlkZXIpIHtcbiAgICAgICAgZGl2aWRlci5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgICAgRE9NLmZpbmQocGFuZWwsICcubW0tbGlzdHZpZXcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0dmlldykge1xuICAgICAgICB2YXIgbGFzdGxldHRlciA9ICcnLFxuICAgICAgICAgICAgbGlzdGl0ZW1zID0gRE9NLmNoaWxkcmVuKGxpc3R2aWV3KTtcbiAgICAgICAgRE9NLmZpbHRlckxJKGxpc3RpdGVtcykuZm9yRWFjaChmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICAgICAgICB2YXIgbGV0dGVyID0gRE9NLmNoaWxkcmVuKGxpc3RpdGVtLCAnLm1tLWxpc3RpdGVtX190ZXh0JylbMF0udGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKClbMF07XG5cbiAgICAgICAgICBpZiAobGV0dGVyLmxlbmd0aCAmJiBsZXR0ZXIgIT0gbGFzdGxldHRlcikge1xuICAgICAgICAgICAgbGFzdGxldHRlciA9IGxldHRlcjtcbiAgICAgICAgICAgIHZhciBkaXZpZGVyID0gRE9NLmNyZWF0ZSgnbGkubW0tZGl2aWRlcicpO1xuICAgICAgICAgICAgZGl2aWRlci50ZXh0Q29udGVudCA9IGxldHRlcjtcbiAgICAgICAgICAgIGxpc3R2aWV3Lmluc2VydEJlZm9yZShkaXZpZGVyLCBsaXN0aXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIG1lbnU6IHtcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBub2RlOiBudWxsLFxuICAgIG1heFN0YXJ0UG9zOiAxMDAsXG4gICAgdGhyZXNob2xkOiA1MFxuICB9LFxuICBwYW5lbHM6IHtcbiAgICBjbG9zZTogZmFsc2VcbiAgfSxcbiAgdmVuZG9yczoge1xuICAgIGhhbW1lcjoge31cbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBtZW51OiBvcHRpb25zLFxuICAgICAgcGFuZWxzOiBvcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLm1lbnUgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5tZW51ID0ge1xuICAgICAgb3Blbjogb3B0aW9ucy5tZW51XG4gICAgfTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMubWVudSkgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zLm1lbnUgPSB7fTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5wYW5lbHMgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5wYW5lbHMgPSB7XG4gICAgICBjbG9zZTogb3B0aW9ucy5wYW5lbHNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucy5wYW5lbHMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucy5wYW5lbHMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsInZhciBjb25maWdzID0ge1xuICBtZW51OiB7XG4gICAgd2lkdGg6IHtcbiAgICAgIHBlcmM6IDAuOCxcbiAgICAgIG1pbjogMTQwLFxuICAgICAgbWF4OiA0NDBcbiAgICB9LFxuICAgIGhlaWdodDoge1xuICAgICAgcGVyYzogMC44LFxuICAgICAgbWluOiAxNDAsXG4gICAgICBtYXg6IDg4MFxuICAgIH1cbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3M7IiwiaW1wb3J0IE1tZW51IGZyb20gJy4uLy4uL2NvcmUvb25jYW52YXMvbW1lbnUub25jYW52YXMnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgY29uZmlncyBmcm9tICcuL19jb25maWdzJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0IHsgZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyB9IGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IHsgZXh0ZW5kLCB2YWx1ZU9yRm4gfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy9cdEFkZCB0aGUgb3B0aW9ucyBhbmQgY29uZmlncy5cblxuTW1lbnUub3B0aW9ucy5kcmFnID0gb3B0aW9ucztcbk1tZW51LmNvbmZpZ3MuZHJhZyA9IGNvbmZpZ3M7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKCF0aGlzLm9wdHMub2ZmQ2FudmFzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3dbJ0hhbW1lciddICE9ICdmdW5jdGlvbicgfHwgd2luZG93WydIYW1tZXInXS5WRVJTSU9OIDwgMikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBvcHRpb25zID0gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyh0aGlzLm9wdHMuZHJhZyk7XG4gIHRoaXMub3B0cy5kcmFnID0gZXh0ZW5kKG9wdGlvbnMsIE1tZW51Lm9wdGlvbnMuZHJhZyk7XG4gIHZhciBjb25maWdzID0gdGhpcy5jb25mLmRyYWc7XG5cbiAgZnVuY3Rpb24gbWluTWF4KHZhbCwgbWluLCBtYXgpIHtcbiAgICBpZiAodmFsIDwgbWluKSB7XG4gICAgICB2YWwgPSBtaW47XG4gICAgfVxuXG4gICAgaWYgKHZhbCA+IG1heCkge1xuICAgICAgdmFsID0gbWF4O1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG4gIH0gLy9cdERyYWcgb3BlbiB0aGUgbWVudVxuXG5cbiAgaWYgKG9wdGlvbnMubWVudS5vcGVuKSB7XG4gICAgdGhpcy5iaW5kKCdzZXRQYWdlOmFmdGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy9cdGRlZmF1bHRzIGZvciBcImxlZnRcIlxuICAgICAgdmFyIGRyYWcgPSB7XG4gICAgICAgIGV2ZW50czogJ3BhbmxlZnQgcGFucmlnaHQnLFxuICAgICAgICB0eXBlTG93ZXI6ICd4JyxcbiAgICAgICAgdHlwZVVwcGVyOiAnWCcsXG4gICAgICAgIG9wZW5fZGlyOiAncmlnaHQnLFxuICAgICAgICBjbG9zZV9kaXI6ICdsZWZ0JyxcbiAgICAgICAgbmVnYXRpdmU6IGZhbHNlXG4gICAgICB9O1xuICAgICAgdmFyIF9kaW1lbnNpb24gPSAnd2lkdGgnLFxuICAgICAgICAgIF93aW5EaW1lbnNpb24gPSAnaW5uZXJXaWR0aCcsXG4gICAgICAgICAgX2RpcmVjdGlvbiA9IGRyYWcub3Blbl9kaXI7XG5cbiAgICAgIHZhciBkb1BhbnN0YXJ0ID0gZnVuY3Rpb24gZG9QYW5zdGFydChwb3MpIHtcbiAgICAgICAgaWYgKHBvcyA8PSBvcHRpb25zLm1lbnUubWF4U3RhcnRQb3MpIHtcbiAgICAgICAgICBfc3RhZ2UgPSAxO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0U2xpZGVOb2RlcyA9IGZ1bmN0aW9uIGdldFNsaWRlTm9kZXMoKSB7XG4gICAgICAgIHJldHVybiBET00uZmluZChkb2N1bWVudC5ib2R5LCAnLm1tLXNsaWRlb3V0Jyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgX3N0YWdlID0gMCxcbiAgICAgICAgICBfZGlzdGFuY2UgPSAwLFxuICAgICAgICAgIF9tYXhEaXN0YW5jZSA9IDA7XG4gICAgICB2YXIgbmV3X2Rpc3RhbmNlLCBkcmFnX2Rpc3RhbmNlOyAvL1x0RmluZCBtZW51IHBvc2l0aW9uIGZyb20gUG9zaXRpb25pbmcgZXh0ZW5zaW9uXG5cbiAgICAgIHZhciB4ID0gX3RoaXMub3B0cy5leHRlbnNpb25zWydhbGwnXTtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHR5cGVvZiB4ID09ICd1bmRlZmluZWQnID8gJ2xlZnQnIDogeC5pbmRleE9mKCdtbS1tZW51X3Bvc2l0aW9uLXJpZ2h0JykgPiAtMSA/ICdyaWdodCcgOiB4LmluZGV4T2YoJ21tLW1lbnVfcG9zaXRpb24tdG9wJykgPiAtMSA/ICd0b3AnIDogeC5pbmRleE9mKCdtbS1tZW51X3Bvc2l0aW9uLWJvdHRvbScpID4gLTEgPyAnYm90dG9tJyA6ICdsZWZ0JztcbiAgICAgIHZhciB6cG9zaXRpb24gPSB0eXBlb2YgeCA9PSAndW5kZWZpbmVkJyA/ICdiYWNrJyA6IHguaW5kZXhPZignbW0tbWVudV9wb3NpdGlvbi10b3AnKSA+IC0xIHx8IHguaW5kZXhPZignbW0tbWVudV9wb3NpdGlvbi1ib3R0b20nKSA+IC0xIHx8IHguaW5kZXhPZignbW0tbWVudV9wb3NpdGlvbi1mcm9udCcpID4gLTEgPyAnZnJvbnQnIDogJ2JhY2snO1xuXG4gICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgZHJhZy5ldmVudHMgPSAncGFudXAgcGFuZG93bic7XG4gICAgICAgICAgZHJhZy50eXBlTG93ZXIgPSAneSc7XG4gICAgICAgICAgZHJhZy50eXBlVXBwZXIgPSAnWSc7XG4gICAgICAgICAgX2RpbWVuc2lvbiA9ICdoZWlnaHQnO1xuICAgICAgICAgIF93aW5EaW1lbnNpb24gPSAnaW5uZXJIZWlnaHQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICBkcmFnLm5lZ2F0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgIGRvUGFuc3RhcnQgPSBmdW5jdGlvbiBkb1BhbnN0YXJ0KHBvcykge1xuICAgICAgICAgICAgaWYgKHBvcyA+PSB3aW5kb3dbX3dpbkRpbWVuc2lvbl0gLSBvcHRpb25zLm1lbnUubWF4U3RhcnRQb3MpIHtcbiAgICAgICAgICAgICAgX3N0YWdlID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIGRyYWcub3Blbl9kaXIgPSAnbGVmdCc7XG4gICAgICAgICAgZHJhZy5jbG9zZV9kaXIgPSAncmlnaHQnO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgZHJhZy5vcGVuX2RpciA9ICdkb3duJztcbiAgICAgICAgICBkcmFnLmNsb3NlX2RpciA9ICd1cCc7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICBkcmFnLm9wZW5fZGlyID0gJ3VwJztcbiAgICAgICAgICBkcmFnLmNsb3NlX2RpciA9ICdkb3duJztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgc3dpdGNoICh6cG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSAnZnJvbnQnOlxuICAgICAgICAgIGdldFNsaWRlTm9kZXMgPSBmdW5jdGlvbiBnZXRTbGlkZU5vZGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLm5vZGUubWVudV07XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2xpZGVPdXROb2RlcztcbiAgICAgIHZhciBkcmFnTm9kZSA9IHZhbHVlT3JGbihfdGhpcy5ub2RlLm1lbnUsIG9wdGlvbnMubWVudS5ub2RlLCBNbWVudS5ub2RlLnBhZ2UpO1xuXG4gICAgICBpZiAodHlwZW9mIGRyYWdOb2RlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRyYWdOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkcmFnTm9kZSk7XG4gICAgICB9IC8vXHRCaW5kIGV2ZW50c1xuXG5cbiAgICAgIHZhciBfaGFtbWVyID0gbmV3IHdpbmRvd1snSGFtbWVyJ10oZHJhZ05vZGUsIF90aGlzLm9wdHMuZHJhZy52ZW5kb3JzLmhhbW1lcik7XG5cbiAgICAgIF9oYW1tZXIub24oJ3BhbnN0YXJ0JywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgZG9QYW5zdGFydC5jYWxsKF90aGlzLCBldm50LmNlbnRlcltkcmFnLnR5cGVMb3dlcl0pO1xuICAgICAgICBzbGlkZU91dE5vZGVzID0gZ2V0U2xpZGVOb2Rlcy5jYWxsKF90aGlzKTtcbiAgICAgICAgX2RpcmVjdGlvbiA9IGRyYWcub3Blbl9kaXI7XG4gICAgICB9KTtcblxuICAgICAgX2hhbW1lci5vbihkcmFnLmV2ZW50cyArICcgcGFuZW5kJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgaWYgKF9zdGFnZSA+IDApIHtcbiAgICAgICAgICBldm50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBfaGFtbWVyLm9uKGRyYWcuZXZlbnRzLCBmdW5jdGlvbiAoZXZudCkge1xuICAgICAgICBuZXdfZGlzdGFuY2UgPSBldm50WydkZWx0YScgKyBkcmFnLnR5cGVVcHBlcl07XG5cbiAgICAgICAgaWYgKGRyYWcubmVnYXRpdmUpIHtcbiAgICAgICAgICBuZXdfZGlzdGFuY2UgPSAtbmV3X2Rpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld19kaXN0YW5jZSAhPSBfZGlzdGFuY2UpIHtcbiAgICAgICAgICBfZGlyZWN0aW9uID0gbmV3X2Rpc3RhbmNlID49IF9kaXN0YW5jZSA/IGRyYWcub3Blbl9kaXIgOiBkcmFnLmNsb3NlX2RpcjtcbiAgICAgICAgfVxuXG4gICAgICAgIF9kaXN0YW5jZSA9IG5ld19kaXN0YW5jZTtcblxuICAgICAgICBpZiAoX2Rpc3RhbmNlID4gb3B0aW9ucy5tZW51LnRocmVzaG9sZCkge1xuICAgICAgICAgIGlmIChfc3RhZ2UgPT0gMSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLm5vZGUud3Jwci5tYXRjaGVzKCcubW0td3JhcHBlcl9vcGVuZWQnKSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9zdGFnZSA9IDI7XG5cbiAgICAgICAgICAgIF90aGlzLl9vcGVuU2V0dXAoKTtcblxuICAgICAgICAgICAgX3RoaXMudHJpZ2dlcignb3BlbjpzdGFydCcpO1xuXG4gICAgICAgICAgICBfdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LmFkZCgnbW0td3JhcHBlcl9kcmFnZ2luZycpO1xuXG4gICAgICAgICAgICBfbWF4RGlzdGFuY2UgPSBtaW5NYXgod2luZG93W193aW5EaW1lbnNpb25dICogY29uZmlncy5tZW51W19kaW1lbnNpb25dLnBlcmMsIGNvbmZpZ3MubWVudVtfZGltZW5zaW9uXS5taW4sIGNvbmZpZ3MubWVudVtfZGltZW5zaW9uXS5tYXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfc3RhZ2UgPT0gMikge1xuICAgICAgICAgIGRyYWdfZGlzdGFuY2UgPSBtaW5NYXgoX2Rpc3RhbmNlLCAxMCwgX21heERpc3RhbmNlKSAtICh6cG9zaXRpb24gPT0gJ2Zyb250JyA/IF9tYXhEaXN0YW5jZSA6IDApO1xuXG4gICAgICAgICAgaWYgKGRyYWcubmVnYXRpdmUpIHtcbiAgICAgICAgICAgIGRyYWdfZGlzdGFuY2UgPSAtZHJhZ19kaXN0YW5jZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgY3NzX3ZhbHVlID0gJ3RyYW5zbGF0ZScgKyBkcmFnLnR5cGVVcHBlciArICcoJyArIGRyYWdfZGlzdGFuY2UgKyAncHggKSc7XG4gICAgICAgICAgc2xpZGVPdXROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlWyctd2Via2l0LXRyYW5zZm9ybSddID0gJy13ZWJraXQtJyArIGNzc192YWx1ZTtcbiAgICAgICAgICAgIG5vZGUuc3R5bGVbJ3RyYW5zZm9ybSddID0gY3NzX3ZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgX2hhbW1lci5vbigncGFuZW5kJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgaWYgKF9zdGFnZSA9PSAyKSB7XG4gICAgICAgICAgX3RoaXMubm9kZS53cnByLmNsYXNzTGlzdC5yZW1vdmUoJ21tLXdyYXBwZXJfZHJhZ2dpbmcnKTtcblxuICAgICAgICAgIHNsaWRlT3V0Tm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZS5zdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXSA9ICcnO1xuICAgICAgICAgICAgbm9kZS5zdHlsZVsndHJhbnNmb3JtJ10gPSAnJztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzW19kaXJlY3Rpb24gPT0gZHJhZy5vcGVuX2RpciA/ICdfb3BlblN0YXJ0JyA6ICdjbG9zZSddKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfc3RhZ2UgPSAwO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gLy9cdERyYWcgY2xvc2UgcGFuZWxzXG5cblxuICBpZiAob3B0aW9ucy5wYW5lbHMuY2xvc2UpIHtcbiAgICB0aGlzLmJpbmQoJ2luaXRQYW5lbDphZnRlcicsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCAnXTtcblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuY2xvc2VzdCgnLm1tLXBhbmVsJyk7XG5cbiAgICAgICAgdmFyIF9oYW1tZXIgPSBuZXcgd2luZG93WydIYW1tZXInXShwYW5lbCwgX3RoaXMub3B0cy5kcmFnLnZlbmRvcnMuaGFtbWVyKSxcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgIF9oYW1tZXIub24oJ3BhbnJpZ2h0JywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLm9wZW5QYW5lbChwYXJlbnQpOyAvL1x0cHJldmVudCBkcmFnZ2luZyB3aGlsZSBwYW5lbCBzdGlsbCBvcGVuLlxuXG5cbiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICB9LCBfdGhpcy5jb25mLm9wZW5pbmdJbnRlcnZhbCArIF90aGlzLmNvbmYudHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgb3B0aW9ucyA9IHtcbiAgZHJvcDogZmFsc2UsXG4gIGZpdFZpZXdwb3J0OiB0cnVlLFxuICBldmVudDogJ2NsaWNrJyxcbiAgcG9zaXRpb246IHt9LFxuICB0aXA6IHRydWVcbn07XG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuLyoqXG4gKiBFeHRlbmQgc2hvcnRoYW5kIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGV4dGVuZC5cbiAqIEByZXR1cm4ge29iamVjdH1cdFx0XHRUaGUgZXh0ZW5kZWQgb3B0aW9ucy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnYm9vbGVhbicgJiYgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBkcm9wOiBvcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnBvc2l0aW9uID09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucy5wb3NpdGlvbiA9IHtcbiAgICAgIG9mOiBvcHRpb25zLnBvc2l0aW9uXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsInZhciBjb25maWdzID0ge1xuICBvZmZzZXQ6IHtcbiAgICBidXR0b246IHtcbiAgICAgIHg6IC01LFxuICAgICAgeTogNVxuICAgIH0sXG4gICAgdmlld3BvcnQ6IHtcbiAgICAgIHg6IDIwLFxuICAgICAgeTogMjBcbiAgICB9XG4gIH0sXG4gIGhlaWdodDoge1xuICAgIG1heDogODgwXG4gIH0sXG4gIHdpZHRoOiB7XG4gICAgbWF4OiA0NDBcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3M7IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZ1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZnJvbVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGVcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXRcIjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5pbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCBjb25maWdzIGZyb20gJy4vX2NvbmZpZ3MnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQsIG9yaWdpbmFsSWQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy9cdEFkZCB0aGUgb3B0aW9ucyBhbmQgY29uZmlncy5cblxuTW1lbnUub3B0aW9ucy5kcm9wZG93biA9IG9wdGlvbnM7XG5NbWVudS5jb25maWdzLmRyb3Bkb3duID0gY29uZmlncztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAoIXRoaXMub3B0cy5vZmZDYW52YXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLmRyb3Bkb3duKTtcbiAgdGhpcy5vcHRzLmRyb3Bkb3duID0gZXh0ZW5kKG9wdGlvbnMsIE1tZW51Lm9wdGlvbnMuZHJvcGRvd24pO1xuICB2YXIgY29uZmlncyA9IHRoaXMuY29uZi5kcm9wZG93bjtcblxuICBpZiAoIW9wdGlvbnMuZHJvcCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBidXR0b247XG4gIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMubm9kZS5tZW51LmNsYXNzTGlzdC5hZGQoJ21tLW1lbnVfZHJvcGRvd24nKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wb3NpdGlvbi5vZiAhPSAnc3RyaW5nJykge1xuICAgICAgdmFyIGlkID0gb3JpZ2luYWxJZChfdGhpcy5ub2RlLm1lbnUuaWQpO1xuXG4gICAgICBpZiAoaWQgJiYgaWQubGVuZ3RoKSB7XG4gICAgICAgIG9wdGlvbnMucG9zaXRpb24ub2YgPSAnW2hyZWY9XCIjJyArIGlkICsgJ1wiXSc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnBvc2l0aW9uLm9mICE9ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvL1x0R2V0IHRoZSBidXR0b24gdG8gcHV0IHRoZSBtZW51IG5leHQgdG9cblxuXG4gICAgYnV0dG9uID0gRE9NLmZpbmQoZG9jdW1lbnQuYm9keSwgb3B0aW9ucy5wb3NpdGlvbi5vZilbMF07IC8vXHRFbXVsYXRlIGhvdmVyIGVmZmVjdFxuXG4gICAgdmFyIGV2ZW50cyA9IG9wdGlvbnMuZXZlbnQuc3BsaXQoJyAnKTtcblxuICAgIGlmIChldmVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgIGV2ZW50c1sxXSA9IGV2ZW50c1swXTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnRzWzBdID09ICdob3ZlcicpIHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgX3RoaXMub3BlbigpO1xuICAgICAgfSwge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnRzWzFdID09ICdob3ZlcicpIHtcbiAgICAgIF90aGlzLm5vZGUubWVudS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgIH0sIHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTsgLy9cdEFkZC9yZW1vdmUgY2xhc3NuYW1lIGFuZCBzdHlsZSB3aGVuIG9wZW5pbmcvY2xvc2luZyB0aGUgbWVudVxuXG4gIHRoaXMuYmluZCgnb3BlbjpzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy5ub2RlLm1lbnVbJ21tU3R5bGUnXSA9IF90aGlzLm5vZGUubWVudS5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cbiAgICBfdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LmFkZCgnbW0td3JhcHBlcl9kcm9wZG93bicpO1xuICB9KTtcbiAgdGhpcy5iaW5kKCdjbG9zZTpmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMubm9kZS5tZW51LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBfdGhpcy5ub2RlLm1lbnVbJ21tU3R5bGUnXSk7XG5cbiAgICBfdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LnJlbW92ZSgnbW0td3JhcHBlcl9kcm9wZG93bicpO1xuICB9KTtcbiAgLyoqXG4gICAqIEZpbmQgdGhlIHBvc2l0aW9uICh4LCB5KSBhbmQgc2l6ZXMgKHdpZHRoLCBoZWlnaHQpIGZvciB0aGUgbWVudS5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSBkaXIgVGhlIGRpcmVjdGlvbiB0byBtZWFzdXJlIChcInhcIiBmb3IgaG9yaXpvbnRhbCwgXCJ5XCIgZm9yIHZlcnRpY2FsKVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IG9iaiBUaGUgb2JqZWN0IHdoZXJlIChwcmV2aW91c2x5KSBtZWFzdXJlZCB2YWx1ZXMgYXJlIHN0b3JlZC5cbiAgICogQHJldHVybiB7b2JqZWN0fVx0XHRUaGUgb2JqZWN0IHdoZXJlIG1lYXNlcmVkIHZhbHVlcyBhcmUgc3RvcmVkLlxuICAgKi9cblxuICB2YXIgZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiBnZXRQb3NpdGlvbihkaXIsIG9iaikge1xuICAgIHZhciBjc3MgPSBvYmpbMF0sXG4gICAgICAgIGNscyA9IG9ialsxXTtcblxuICAgIHZhciBfc2Nyb2xsUG9zID0gZGlyID09ICd4JyA/ICdzY3JvbGxYJyA6ICdzY3JvbGxZJyxcbiAgICAgICAgX291dGVyU2l6ZSA9IGRpciA9PSAneCcgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCcsXG4gICAgICAgIF9zdGFydFBvcyA9IGRpciA9PSAneCcgPyAnbGVmdCcgOiAndG9wJyxcbiAgICAgICAgX3N0b3BQb3MgPSBkaXIgPT0gJ3gnID8gJ3JpZ2h0JyA6ICdib3R0b20nLFxuICAgICAgICBfc2l6ZSA9IGRpciA9PSAneCcgPyAnd2lkdGgnIDogJ2hlaWdodCcsXG4gICAgICAgIF93aW5TaXplID0gZGlyID09ICd4JyA/ICdpbm5lcldpZHRoJyA6ICdpbm5lckhlaWdodCcsXG4gICAgICAgIF9tYXhTaXplID0gZGlyID09ICd4JyA/ICdtYXhXaWR0aCcgOiAnbWF4SGVpZ2h0JyxcbiAgICAgICAgX3Bvc2l0aW9uID0gbnVsbDtcblxuICAgIHZhciBzY3JvbGxQb3MgPSB3aW5kb3dbX3Njcm9sbFBvc10sXG4gICAgICAgIHN0YXJ0UG9zID0gRE9NLm9mZnNldChidXR0b24sIF9zdGFydFBvcykgLSBzY3JvbGxQb3MsXG4gICAgICAgIHN0b3BQb3MgPSBzdGFydFBvcyArIGJ1dHRvbltfb3V0ZXJTaXplXSxcbiAgICAgICAgd2luZG93U2l6ZSA9IHdpbmRvd1tfd2luU2l6ZV07XG4gICAgLyoqIE9mZnNldCBmb3IgdGhlIG1lbnUgcmVsYXRpdmUgdG8gdGhlIGJ1dHRvbi4gKi9cblxuICAgIHZhciBvZmZzID0gY29uZmlncy5vZmZzZXQuYnV0dG9uW2Rpcl0gKyBjb25maWdzLm9mZnNldC52aWV3cG9ydFtkaXJdOyAvL1x0UG9zaXRpb24gc2V0IGluIG9wdGlvblxuXG4gICAgaWYgKG9wdGlvbnMucG9zaXRpb25bZGlyXSkge1xuICAgICAgc3dpdGNoIChvcHRpb25zLnBvc2l0aW9uW2Rpcl0pIHtcbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgX3Bvc2l0aW9uID0gJ2FmdGVyJztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgX3Bvc2l0aW9uID0gJ2JlZm9yZSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSAvL1x0UG9zaXRpb24gbm90IHNldCBpbiBvcHRpb24sIGZpbmQgbW9zdCBzcGFjZVxuXG5cbiAgICBpZiAoX3Bvc2l0aW9uID09PSBudWxsKSB7XG4gICAgICBfcG9zaXRpb24gPSBzdGFydFBvcyArIChzdG9wUG9zIC0gc3RhcnRQb3MpIC8gMiA8IHdpbmRvd1NpemUgLyAyID8gJ2FmdGVyJyA6ICdiZWZvcmUnO1xuICAgIH0gLy9cdFNldCBwb3NpdGlvbiBhbmQgbWF4XG5cblxuICAgIHZhciB2YWwsIG1heDtcblxuICAgIGlmIChfcG9zaXRpb24gPT0gJ2FmdGVyJykge1xuICAgICAgdmFsID0gZGlyID09ICd4JyA/IHN0YXJ0UG9zIDogc3RvcFBvcztcbiAgICAgIG1heCA9IHdpbmRvd1NpemUgLSAodmFsICsgb2Zmcyk7XG4gICAgICBjc3NbX3N0YXJ0UG9zXSA9IHZhbCArIGNvbmZpZ3Mub2Zmc2V0LmJ1dHRvbltkaXJdICsgJ3B4JztcbiAgICAgIGNzc1tfc3RvcFBvc10gPSAnYXV0byc7XG5cbiAgICAgIGlmIChvcHRpb25zLnRpcCkge1xuICAgICAgICBjbHMucHVzaCgnbW0tbWVudV90aXAtJyArIChkaXIgPT0gJ3gnID8gJ2xlZnQnIDogJ3RvcCcpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gZGlyID09ICd4JyA/IHN0b3BQb3MgOiBzdGFydFBvcztcbiAgICAgIG1heCA9IHZhbCAtIG9mZnM7XG4gICAgICBjc3NbX3N0b3BQb3NdID0gJ2NhbGMoIDEwMCUgLSAnICsgKHZhbCAtIGNvbmZpZ3Mub2Zmc2V0LmJ1dHRvbltkaXJdKSArICdweCApJztcbiAgICAgIGNzc1tfc3RhcnRQb3NdID0gJ2F1dG8nO1xuXG4gICAgICBpZiAob3B0aW9ucy50aXApIHtcbiAgICAgICAgY2xzLnB1c2goJ21tLW1lbnVfdGlwLScgKyAoZGlyID09ICd4JyA/ICdyaWdodCcgOiAnYm90dG9tJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmZpdFZpZXdwb3J0KSB7XG4gICAgICBjc3NbX21heFNpemVdID0gTWF0aC5taW4oY29uZmlnc1tfc2l6ZV0ubWF4LCBtYXgpICsgJ3B4JztcbiAgICB9XG5cbiAgICByZXR1cm4gW2NzcywgY2xzXTtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3NpdGlvbigpIHtcbiAgICBpZiAoIXRoaXMudmFycy5vcGVuZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm5vZGUubWVudS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGhpcy5ub2RlLm1lbnVbJ21tU3R5bGUnXSk7XG4gICAgdmFyIG9iaiA9IFt7fSwgW11dO1xuICAgIG9iaiA9IGdldFBvc2l0aW9uLmNhbGwodGhpcywgJ3knLCBvYmopO1xuICAgIG9iaiA9IGdldFBvc2l0aW9uLmNhbGwodGhpcywgJ3gnLCBvYmopO1xuXG4gICAgZm9yICh2YXIgcyBpbiBvYmpbMF0pIHtcbiAgICAgIHRoaXMubm9kZS5tZW51LnN0eWxlW3NdID0gb2JqWzBdW3NdO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnRpcCkge1xuICAgICAgdmFyIF90aGlzJG5vZGUkbWVudSRjbGFzcztcblxuICAgICAgdGhpcy5ub2RlLm1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbW0tbWVudV90aXAtbGVmdCcsICdtbS1tZW51X3RpcC1yaWdodCcsICdtbS1tZW51X3RpcC10b3AnLCAnbW0tbWVudV90aXAtYm90dG9tJyk7XG5cbiAgICAgIChfdGhpcyRub2RlJG1lbnUkY2xhc3MgPSB0aGlzLm5vZGUubWVudS5jbGFzc0xpc3QpLmFkZC5hcHBseShfdGhpcyRub2RlJG1lbnUkY2xhc3MsIF90b0NvbnN1bWFibGVBcnJheShvYmpbMV0pKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLmJpbmQoJ29wZW46c3RhcnQnLCBwb3NpdGlvbik7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgIHBvc2l0aW9uLmNhbGwoX3RoaXMpO1xuICB9LCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcblxuICBpZiAoIXRoaXMub3B0cy5vZmZDYW52YXMuYmxvY2tVSSkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgICAgcG9zaXRpb24uY2FsbChfdGhpcyk7XG4gICAgfSwge1xuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59IiwidmFyIGNvbmZpZ3MgPSB7XG4gIGZpeGVkOiB7XG4gICAgaW5zZXJ0TWV0aG9kOiAnYXBwZW5kJyxcbiAgICBpbnNlcnRTZWxlY3RvcjogJ2JvZHknXG4gIH0sXG4gIHN0aWNreToge1xuICAgIG9mZnNldDogMFxuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgY29uZmlnczsiLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5maXhlZFwiO1xuaW1wb3J0IE1tZW51IGZyb20gJy4uLy4uL2NvcmUvb25jYW52YXMvbW1lbnUub25jYW52YXMnO1xuaW1wb3J0IGNvbmZpZ3MgZnJvbSAnLi9fY29uZmlncyc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vY29yZS9fZG9tJzsgLy9cdEFkZCB0aGUgY29uZmlncy5cblxuTW1lbnUuY29uZmlncy5maXhlZEVsZW1lbnRzID0gY29uZmlnczsgLy9cdEFkZCB0aGUgY2xhc3NuYW1lcy5cblxuTW1lbnUuY29uZmlncy5jbGFzc05hbWVzLmZpeGVkRWxlbWVudHMgPSB7XG4gIGZpeGVkOiAnRml4ZWQnLFxuICBzdGlja3k6ICdTdGlja3knXG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIGlmICghdGhpcy5vcHRzLm9mZkNhbnZhcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb25maWdzID0gdGhpcy5jb25mLmZpeGVkRWxlbWVudHM7XG5cbiAgdmFyIF9maXhkLCBfc3RjaywgZml4ZWQsIHN0aWNrLCB3cnBwcjtcblxuICB0aGlzLmJpbmQoJ3NldFBhZ2U6YWZ0ZXInLCBmdW5jdGlvbiAocGFnZSkge1xuICAgIC8vXHRGaXhlZCBlbGVtZW50c1xuICAgIF9maXhkID0gX3RoaXMuY29uZi5jbGFzc05hbWVzLmZpeGVkRWxlbWVudHMuZml4ZWQ7XG4gICAgd3JwcHIgPSBET00uZmluZChkb2N1bWVudCwgY29uZmlncy5maXhlZC5pbnNlcnRTZWxlY3RvcilbMF07XG4gICAgZml4ZWQgPSBET00uZmluZChwYWdlLCAnLicgKyBfZml4ZCk7XG4gICAgZml4ZWQuZm9yRWFjaChmdW5jdGlvbiAoZnhkKSB7XG4gICAgICBET00ucmVDbGFzcyhmeGQsIF9maXhkLCAnbW0tc2xpZGVvdXQnKTtcbiAgICAgIHdycHByW2NvbmZpZ3MuZml4ZWQuaW5zZXJ0TWV0aG9kXShmeGQpO1xuICAgIH0pOyAvL1x0U3RpY2t5IGVsZW1lbnRzXG5cbiAgICBfc3RjayA9IF90aGlzLmNvbmYuY2xhc3NOYW1lcy5maXhlZEVsZW1lbnRzLnN0aWNreTtcbiAgICBET00uZmluZChwYWdlLCAnLicgKyBfc3RjaykuZm9yRWFjaChmdW5jdGlvbiAoc3RpY2spIHtcbiAgICAgIERPTS5yZUNsYXNzKHN0aWNrLCBfc3RjaywgJ21tLXN0aWNreScpO1xuICAgIH0pO1xuICAgIHN0aWNrID0gRE9NLmZpbmQocGFnZSwgJy5tbS1zdGlja3knKTtcbiAgfSk7XG4gIHRoaXMuYmluZCgnb3BlbjpzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3RpY2subGVuZ3RoKSB7XG4gICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUoX3RoaXMubm9kZS53cnByKS5vdmVyZmxvdyA9PSAnaGlkZGVuJykge1xuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFkgKyBjb25maWdzLnN0aWNreS5vZmZzZXQ7XG4gICAgICAgIHN0aWNrLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnRvcCwgMTApICsgc2Nyb2xsVG9wICsgJ3B4JztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy5iaW5kKCdjbG9zZTpmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgc3RpY2suZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSAnJztcbiAgICB9KTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgdHlwZSB9IGZyb20gJy4uLy4uL2NvcmUvX2hlbHBlcnMnO1xudmFyIG9wdGlvbnMgPSB7XG4gIHVzZTogZmFsc2UsXG4gIHRvcDogW10sXG4gIGJvdHRvbTogW10sXG4gIHBvc2l0aW9uOiAnbGVmdCcsXG4gIHR5cGU6ICdkZWZhdWx0J1xufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGUob3B0aW9ucykgPT0gJ2FycmF5Jykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICB1c2U6IHRydWUsXG4gICAgICB0b3A6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGUob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMudXNlID09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0aW9ucy51c2UgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnVzZSA9PSAnYm9vbGVhbicgJiYgb3B0aW9ucy51c2UpIHtcbiAgICBvcHRpb25zLnVzZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cbjsiLCJpbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0ICogYXMgbWVkaWEgZnJvbSAnLi4vLi4vY29yZS9fbWF0Y2htZWRpYSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyB0eXBlLCBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy8gIEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5pY29uYmFyID0gb3B0aW9ucztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLmljb25iYXIpO1xuICB0aGlzLm9wdHMuaWNvbmJhciA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLmljb25iYXIpO1xuXG4gIGlmICghb3B0aW9ucy51c2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaWNvbmJhcjtcbiAgWyd0b3AnLCAnYm90dG9tJ10uZm9yRWFjaChmdW5jdGlvbiAocG9zaXRpb24sIG4pIHtcbiAgICB2YXIgY3RudCA9IG9wdGlvbnNbcG9zaXRpb25dOyAvL1x0RXh0ZW5kIHNob3J0aGFuZCBvcHRpb25zXG5cbiAgICBpZiAodHlwZShjdG50KSAhPSAnYXJyYXknKSB7XG4gICAgICBjdG50ID0gW2N0bnRdO1xuICAgIH0gLy9cdENyZWF0ZSBub2RlXG5cblxuICAgIHZhciBwYXJ0ID0gRE9NLmNyZWF0ZSgnZGl2Lm1tLWljb25iYXJfXycgKyBwb3NpdGlvbik7IC8vXHRBZGQgY29udGVudFxuXG4gICAgZm9yICh2YXIgYyA9IDAsIGwgPSBjdG50Lmxlbmd0aDsgYyA8IGw7IGMrKykge1xuICAgICAgaWYgKHR5cGVvZiBjdG50W2NdID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhcnQuaW5uZXJIVE1MICs9IGN0bnRbY107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0LmFwcGVuZChjdG50W2NdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFydC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIGlmICghaWNvbmJhcikge1xuICAgICAgICBpY29uYmFyID0gRE9NLmNyZWF0ZSgnZGl2Lm1tLWljb25iYXInKTtcbiAgICAgIH1cblxuICAgICAgaWNvbmJhci5hcHBlbmQocGFydCk7XG4gICAgfVxuICB9KTsgLy9cdEFkZCB0byBtZW51XG5cbiAgaWYgKGljb25iYXIpIHtcbiAgICAvL1x0QWRkIHRoZSBpY29uYmFyLlxuICAgIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5ub2RlLm1lbnUucHJlcGVuZChpY29uYmFyKTtcbiAgICB9KTsgLy9cdEVuLS9kaXNhYmxlIHRoZSBpY29uYmFyLlxuXG4gICAgdmFyIGNsYXNzbmFtZSA9ICdtbS1tZW51X2ljb25iYXItJyArIG9wdGlvbnMucG9zaXRpb247XG5cbiAgICB2YXIgZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgX3RoaXMubm9kZS5tZW51LmNsYXNzTGlzdC5hZGQoY2xhc3NuYW1lKTtcblxuICAgICAgTW1lbnUuc3JfYXJpYShpY29uYmFyLCAnaGlkZGVuJywgZmFsc2UpO1xuICAgIH07XG5cbiAgICB2YXIgZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICBfdGhpcy5ub2RlLm1lbnUuY2xhc3NMaXN0LnJlbW92ZShjbGFzc25hbWUpO1xuXG4gICAgICBNbWVudS5zcl9hcmlhKGljb25iYXIsICdoaWRkZW4nLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnVzZSA9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBlbmFibGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZWRpYS5hZGQob3B0aW9ucy51c2UsIGVuYWJsZSwgZGlzYWJsZSk7XG4gICAgfSAvL1x0VGFic1xuXG5cbiAgICBpZiAob3B0aW9ucy50eXBlID09ICd0YWJzJykge1xuICAgICAgaWNvbmJhci5jbGFzc0xpc3QuYWRkKCdtbS1pY29uYmFyX3RhYnMnKTtcbiAgICAgIGljb25iYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZudCkge1xuICAgICAgICB2YXIgYW5jaG9yID0gZXZudC50YXJnZXQ7XG5cbiAgICAgICAgaWYgKCFhbmNob3IubWF0Y2hlcygnYScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuY2hvci5tYXRjaGVzKCcubW0taWNvbmJhcl9fdGFiX3NlbGVjdGVkJykpIHtcbiAgICAgICAgICBldm50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHBhbmVsID0gX3RoaXMubm9kZS5tZW51LnF1ZXJ5U2VsZWN0b3IoYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpKVswXTtcblxuICAgICAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5tYXRjaGVzKCcubW0tcGFuZWwnKSkge1xuICAgICAgICAgICAgZXZudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgX3RoaXMub3BlblBhbmVsKHBhbmVsLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHNlbGVjdFRhYiA9IGZ1bmN0aW9uIHNlbGVjdFRhYihwYW5lbCkge1xuICAgICAgICBET00uZmluZChpY29uYmFyLCAnYScpLmZvckVhY2goZnVuY3Rpb24gKGFuY2hvcikge1xuICAgICAgICAgIGFuY2hvci5jbGFzc0xpc3QucmVtb3ZlKCdtbS1pY29uYmFyX190YWJfc2VsZWN0ZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBhbmNob3IgPSBET00uZmluZChpY29uYmFyLCAnW2hyZWY9XCIjJyArIHBhbmVsLmlkICsgJ1wiXScpWzBdO1xuXG4gICAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgICBhbmNob3IuY2xhc3NMaXN0LmFkZCgnbW0taWNvbmJhcl9fdGFiX3NlbGVjdGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddO1xuXG4gICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgc2VsZWN0VGFiKHBhcmVudC5jbG9zZXN0KCcubW0tcGFuZWwnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmJpbmQoJ29wZW5QYW5lbDpzdGFydCcsIHNlbGVjdFRhYik7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGFkZDogZmFsc2UsXG4gIGJsb2NrUGFuZWw6IHRydWUsXG4gIGhpZGVEaXZpZGVyOiBmYWxzZSxcbiAgaGlkZU5hdmJhcjogdHJ1ZSxcbiAgdmlzaWJsZTogM1xufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBhZGQ6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdudW1iZXInIHx8IHR5cGVvZiBvcHRpb25zID09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGFkZDogdHJ1ZSxcbiAgICAgIHZpc2libGU6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cbjsiLCJpbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0IHsgZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyB9IGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29yZS9faGVscGVycyc7IC8vXHRBZGQgdGhlIG9wdGlvbnMuXG5cbk1tZW51Lm9wdGlvbnMuaWNvblBhbmVscyA9IG9wdGlvbnM7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSBleHRlbmRTaG9ydGhhbmRPcHRpb25zKHRoaXMub3B0cy5pY29uUGFuZWxzKTtcbiAgdGhpcy5vcHRzLmljb25QYW5lbHMgPSBleHRlbmQob3B0aW9ucywgTW1lbnUub3B0aW9ucy5pY29uUGFuZWxzKTtcbiAgdmFyIGtlZXBGaXJzdCA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zLnZpc2libGUgPT0gJ2ZpcnN0Jykge1xuICAgIGtlZXBGaXJzdCA9IHRydWU7XG4gICAgb3B0aW9ucy52aXNpYmxlID0gMTtcbiAgfVxuXG4gIG9wdGlvbnMudmlzaWJsZSA9IE1hdGgubWluKDMsIE1hdGgubWF4KDEsIG9wdGlvbnMudmlzaWJsZSkpO1xuICBvcHRpb25zLnZpc2libGUrKzsgLy9cdEFkZCB0aGUgaWNvbnBhbmVsc1xuXG4gIGlmIChvcHRpb25zLmFkZCkge1xuICAgIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkbm9kZSRtZW51JGNsYXNzO1xuXG4gICAgICB2YXIgY2xhc3NuYW1lcyA9IFsnbW0tbWVudV9pY29ucGFuZWwnXTtcblxuICAgICAgaWYgKG9wdGlvbnMuaGlkZU5hdmJhcikge1xuICAgICAgICBjbGFzc25hbWVzLnB1c2goJ21tLW1lbnVfaGlkZW5hdmJhcicpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5oaWRlRGl2aWRlcikge1xuICAgICAgICBjbGFzc25hbWVzLnB1c2goJ21tLW1lbnVfaGlkZWRpdmlkZXInKTtcbiAgICAgIH1cblxuICAgICAgKF90aGlzJG5vZGUkbWVudSRjbGFzcyA9IF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QpLmFkZC5hcHBseShfdGhpcyRub2RlJG1lbnUkY2xhc3MsIGNsYXNzbmFtZXMpO1xuICAgIH0pO1xuICAgIHZhciBjbGFzc25hbWVzID0gW107XG5cbiAgICBpZiAoIWtlZXBGaXJzdCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gb3B0aW9ucy52aXNpYmxlOyBpKyspIHtcbiAgICAgICAgY2xhc3NuYW1lcy5wdXNoKCdtbS1wYW5lbF9pY29ucGFuZWwtJyArIGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYmluZCgnb3BlblBhbmVsOnN0YXJ0JywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICB2YXIgcGFuZWxzID0gRE9NLmNoaWxkcmVuKF90aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbCcpO1xuICAgICAgcGFuZWwgPSBwYW5lbCB8fCBwYW5lbHNbMF07XG5cbiAgICAgIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV92ZXJ0aWNhbCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtlZXBGaXJzdCkge1xuICAgICAgICBwYW5lbHMuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwsIHApIHtcbiAgICAgICAgICBwYW5lbC5jbGFzc0xpc3RbcCA9PSAwID8gJ2FkZCcgOiAncmVtb3ZlJ10oJ21tLXBhbmVsX2ljb25wYW5lbC1maXJzdCcpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vXHRSZW1vdmUgdGhlIFwiaWNvbnBhbmVsXCIgY2xhc3NuYW1lcyBmcm9tIGFsbCBwYW5lbHMuXG4gICAgICAgIHBhbmVscy5mb3JFYWNoKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgICAgIHZhciBfcGFuZWwkY2xhc3NMaXN0O1xuXG4gICAgICAgICAgKF9wYW5lbCRjbGFzc0xpc3QgPSBwYW5lbC5jbGFzc0xpc3QpLnJlbW92ZS5hcHBseShfcGFuZWwkY2xhc3NMaXN0LCBjbGFzc25hbWVzKTtcbiAgICAgICAgfSk7IC8vXHRGaWx0ZXIgb3V0IHBhbmVscyB0aGF0IGFyZSBub3Qgb3BlbmVkLlxuXG4gICAgICAgIHBhbmVscyA9IHBhbmVscy5maWx0ZXIoZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgICAgcmV0dXJuIHBhbmVsLm1hdGNoZXMoJy5tbS1wYW5lbF9vcGVuZWQtcGFyZW50Jyk7XG4gICAgICAgIH0pOyAvL1x0QWRkIHRoZSBjdXJyZW50IHBhbmVsIHRvIHRoZSBsaXN0LlxuXG4gICAgICAgIHZhciBwYW5lbEFkZGVkID0gZmFsc2U7XG4gICAgICAgIHBhbmVscy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgaWYgKHBhbmVsID09PSBlbGVtKSB7XG4gICAgICAgICAgICBwYW5lbEFkZGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcGFuZWxBZGRlZCkge1xuICAgICAgICAgIHBhbmVscy5wdXNoKHBhbmVsKTtcbiAgICAgICAgfSAvL1x0UmVtb3ZlIHRoZSBcImhpZGRlblwiIGNsYXNzbmFtZSBmcm9tIGFsbCBvcGVuZWQgcGFuZWxzLlxuXG5cbiAgICAgICAgcGFuZWxzLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnbW0taGlkZGVuJyk7XG4gICAgICAgIH0pOyAvL1x0U2xpY2UgdGhlIG9wZW5lZCBwYW5lbHMgdG8gdGhlIG1heCB2aXNpYmxlIGFtb3VudC5cblxuICAgICAgICBwYW5lbHMgPSBwYW5lbHMuc2xpY2UoLW9wdGlvbnMudmlzaWJsZSk7IC8vXHRBZGQgdGhlIFwiaWNvbnBhbmVsXCIgY2xhc3NuYW1lcy5cblxuICAgICAgICBwYW5lbHMuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwsIHApIHtcbiAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdtbS1wYW5lbF9pY29ucGFuZWwtJyArIHApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmJpbmQoJ2luaXRMaXN0dmlldzphZnRlcicsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgaWYgKG9wdGlvbnMuYmxvY2tQYW5lbCAmJiAhcGFuZWwucGFyZW50RWxlbWVudC5tYXRjaGVzKCcubW0tbGlzdGl0ZW1fdmVydGljYWwnKSAmJiAhRE9NLmNoaWxkcmVuKHBhbmVsLCAnLm1tLXBhbmVsX19ibG9ja2VyJylbMF0pIHtcbiAgICAgICAgdmFyIGJsb2NrZXIgPSBET00uY3JlYXRlKCdhLm1tLXBhbmVsX19ibG9ja2VyJyk7XG4gICAgICAgIGJsb2NrZXIuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnICsgcGFuZWwuY2xvc2VzdCgnLm1tLXBhbmVsJykuaWQpO1xuICAgICAgICBwYW5lbC5wcmVwZW5kKGJsb2NrZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGVuYWJsZTogZmFsc2UsXG4gIGVuaGFuY2U6IGZhbHNlXG59O1xuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbi8qKlxuICogRXh0ZW5kIHNob3J0aGFuZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyB0byBleHRlbmQuXG4gKiBAcmV0dXJuIHtvYmplY3R9XHRcdFx0VGhlIGV4dGVuZGVkIG9wdGlvbnMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFNob3J0aGFuZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBvcHRpb25zID09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGVuYWJsZTogb3B0aW9uc1xuICAgIH07XG4gIH1cblxuICBpZiAoX3R5cGVvZihvcHRpb25zKSAhPSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZyb21cIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5pbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gJy4uLy4uL2NvcmUvX2V2ZW50bGlzdGVuZXJzJztcbmltcG9ydCAqIGFzIHN1cHBvcnQgZnJvbSAnLi4vLi4vY29yZS9fc3VwcG9ydCc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy8gIEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5rZXlib2FyZE5hdmlnYXRpb24gPSBvcHRpb25zO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vXHRLZXlib2FyZCBuYXZpZ2F0aW9uIG9uIHRvdWNoc2NyZWVucyBvcGVucyB0aGUgdmlydHVhbCBrZXlib2FyZCA6L1xuICAvL1x0TGV0cyBwcmV2ZW50IHRoYXQuXG4gIGlmIChzdXBwb3J0LnRvdWNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG9wdGlvbnMgPSBleHRlbmRTaG9ydGhhbmRPcHRpb25zKHRoaXMub3B0cy5rZXlib2FyZE5hdmlnYXRpb24pO1xuICB0aGlzLm9wdHMua2V5Ym9hcmROYXZpZ2F0aW9uID0gZXh0ZW5kKG9wdGlvbnMsIE1tZW51Lm9wdGlvbnMua2V5Ym9hcmROYXZpZ2F0aW9uKTsgLy9cdEVuYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXG5cbiAgaWYgKG9wdGlvbnMuZW5hYmxlKSB7XG4gICAgdmFyIG1lbnVTdGFydCA9IERPTS5jcmVhdGUoJ2J1dHRvbi5tbS10YWJzdGFydC5tbS1zcm9ubHknKSxcbiAgICAgICAgbWVudUVuZCA9IERPTS5jcmVhdGUoJ2J1dHRvbi5tbS10YWJlbmQubW0tc3Jvbmx5JyksXG4gICAgICAgIGJsb2NrZXJFbmQgPSBET00uY3JlYXRlKCdidXR0b24ubW0tdGFiZW5kLm1tLXNyb25seScpO1xuICAgIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAob3B0aW9ucy5lbmhhbmNlKSB7XG4gICAgICAgIF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X2tleWJvYXJkZm9jdXMnKTtcbiAgICAgIH1cblxuICAgICAgaW5pdFdpbmRvdy5jYWxsKF90aGlzLCBvcHRpb25zLmVuaGFuY2UpO1xuICAgIH0pO1xuICAgIHRoaXMuYmluZCgnaW5pdE9wZW5lZDpiZWZvcmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5ub2RlLm1lbnUucHJlcGVuZChtZW51U3RhcnQpO1xuXG4gICAgICBfdGhpcy5ub2RlLm1lbnUuYXBwZW5kKG1lbnVFbmQpO1xuXG4gICAgICBET00uY2hpbGRyZW4oX3RoaXMubm9kZS5tZW51LCAnLm1tLW5hdmJhcnMtdG9wLCAubW0tbmF2YmFycy1ib3R0b20nKS5mb3JFYWNoKGZ1bmN0aW9uIChuYXZiYXJzKSB7XG4gICAgICAgIG5hdmJhcnMucXVlcnlTZWxlY3RvckFsbCgnLm1tLW5hdmJhcl9fdGl0bGUnKS5mb3JFYWNoKGZ1bmN0aW9uICh0aXRsZSkge1xuICAgICAgICAgIHRpdGxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmJpbmQoJ2luaXRCbG9ja2VyOmFmdGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgTW1lbnUubm9kZS5ibGNrLmFwcGVuZChibG9ja2VyRW5kKTtcbiAgICAgIERPTS5jaGlsZHJlbihNbWVudS5ub2RlLmJsY2ssICdhJylbMF0uY2xhc3NMaXN0LmFkZCgnbW0tdGFic3RhcnQnKTtcbiAgICB9KTtcbiAgICB2YXIgZm9jdXNhYmxlID0gJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBidXR0b24sIGxhYmVsLCBhW2hyZWZdJztcblxuICAgIHZhciBzZXRGb2N1cyA9IGZ1bmN0aW9uIHNldEZvY3VzKHBhbmVsKSB7XG4gICAgICBwYW5lbCA9IHBhbmVsIHx8IERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWxfb3BlbmVkJylbMF07XG4gICAgICB2YXIgZm9jdXMgPSBudWxsOyAvL1x0Rm9jdXMgYWxyZWFkeSBpcyBvbiBhbiBlbGVtZW50IGluIGEgbmF2YmFyIGluIHRoaXMgbWVudS5cblxuICAgICAgdmFyIG5hdmJhciA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xvc2VzdCgnLm1tLW5hdmJhcicpO1xuXG4gICAgICBpZiAobmF2YmFyKSB7XG4gICAgICAgIGlmIChuYXZiYXIuY2xvc2VzdCgnLm1tLW1lbnUnKSA9PSBfdGhpcy5ub2RlLm1lbnUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gLy9cdFNldCB0aGUgZm9jdXMgdG8gdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50IGJ5IGRlZmF1bHQuXG5cblxuICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlID09ICdkZWZhdWx0Jykge1xuICAgICAgICAvL1x0Rmlyc3QgdmlzaWJsZSBhbmNob3IgaW4gYSBsaXN0dmlldyBpbiB0aGUgY3VycmVudCBwYW5lbC5cbiAgICAgICAgZm9jdXMgPSBET00uZmluZChwYW5lbCwgJy5tbS1saXN0dmlldyBhW2hyZWZdOm5vdCgubW0taGlkZGVuKScpWzBdOyAvL1x0Rmlyc3QgZm9jdXNhYmxlIGFuZCB2aXNpYmxlIGVsZW1lbnQgaW4gdGhlIGN1cnJlbnQgcGFuZWwuXG5cbiAgICAgICAgaWYgKCFmb2N1cykge1xuICAgICAgICAgIGZvY3VzID0gRE9NLmZpbmQocGFuZWwsIGZvY3VzYWJsZSArICc6bm90KC5tbS1oaWRkZW4pJylbMF07XG4gICAgICAgIH0gLy9cdEZpcnN0IGZvY3VzYWJsZSBhbmQgdmlzaWJsZSBlbGVtZW50IGluIGEgbmF2YmFyLlxuXG5cbiAgICAgICAgaWYgKCFmb2N1cykge1xuICAgICAgICAgIHZhciBlbGVtZW50cyA9IFtdO1xuICAgICAgICAgIERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLm1lbnUsICcubW0tbmF2YmFyc190b3AsIC5tbS1uYXZiYXJzX2JvdHRvbScpLmZvckVhY2goZnVuY3Rpb24gKG5hdmJhcikge1xuICAgICAgICAgICAgZWxlbWVudHMucHVzaC5hcHBseShlbGVtZW50cywgX3RvQ29uc3VtYWJsZUFycmF5KERPTS5maW5kKG5hdmJhciwgZm9jdXNhYmxlICsgJzpub3QoLm1tLWhpZGRlbiknKSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvY3VzID0gZWxlbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgIH0gLy9cdERlZmF1bHQuXG5cblxuICAgICAgaWYgKCFmb2N1cykge1xuICAgICAgICBmb2N1cyA9IERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLm1lbnUsICcubW0tdGFic3RhcnQnKVswXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvY3VzKSB7XG4gICAgICAgIGZvY3VzLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYmluZCgnb3BlbjpmaW5pc2gnLCBzZXRGb2N1cyk7XG4gICAgdGhpcy5iaW5kKCdvcGVuUGFuZWw6ZmluaXNoJywgc2V0Rm9jdXMpOyAvL1x0QWRkIHNjcmVlbnJlYWRlciAvIGFyaWEgc3VwcG9ydC5cblxuICAgIHRoaXMuYmluZCgnaW5pdE9wZW5lZDphZnRlcjpzci1hcmlhJywgZnVuY3Rpb24gKCkge1xuICAgICAgW190aGlzLm5vZGUubWVudSwgTW1lbnUubm9kZS5ibGNrXS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIERPTS5jaGlsZHJlbihlbGVtZW50LCAnLm1tLXRhYnN0YXJ0LCAubW0tdGFiZW5kJykuZm9yRWFjaChmdW5jdGlvbiAodGFiYmVyKSB7XG4gICAgICAgICAgTW1lbnUuc3JfYXJpYSh0YWJiZXIsICdoaWRkZW4nLCB0cnVlKTtcbiAgICAgICAgICBNbWVudS5zcl9yb2xlKHRhYmJlciwgJ3ByZXNlbnRhdGlvbicpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4vKipcbiAqIEluaXRpYWxpemUgdGhlIHdpbmRvdyBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5oYW5jZSAtIFdoZXRoZXIgb3Igbm90IHRvIGFsc28gcmljaCBlbmhhbmNlIHRoZSBrZXlib2FyZCBiZWhhdmlvci5cbiAqKi9cblxudmFyIGluaXRXaW5kb3cgPSBmdW5jdGlvbiBpbml0V2luZG93KGVuaGFuY2UpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgLy9cdFJlLWVuYWJsZSB0YWJiaW5nIGluIGdlbmVyYWxcbiAgZXZlbnRzLm9mZihkb2N1bWVudC5ib2R5LCAna2V5ZG93bi50YWJndWFyZCcpOyAvL1x0SW50ZXJzZXB0IHRoZSB0YXJnZXQgd2hlbiB0YWJiaW5nLlxuXG4gIGV2ZW50cy5vZmYoZG9jdW1lbnQuYm9keSwgJ2ZvY3VzaW4udGFiZ3VhcmQnKTtcbiAgZXZlbnRzLm9uKGRvY3VtZW50LmJvZHksICdmb2N1c2luLnRhYmd1YXJkJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICBpZiAoX3RoaXMyLm5vZGUud3Jwci5tYXRjaGVzKCcubW0td3JhcHBlcl9vcGVuZWQnKSkge1xuICAgICAgdmFyIHRhcmdldCA9IGV2bnQudGFyZ2V0O1xuXG4gICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoJy5tbS10YWJlbmQnKSkge1xuICAgICAgICB2YXIgbmV4dDsgLy9cdEp1bXAgZnJvbSBtZW51IHRvIGJsb2NrZXIuXG5cbiAgICAgICAgaWYgKHRhcmdldC5wYXJlbnRFbGVtZW50Lm1hdGNoZXMoJy5tbS1tZW51JykpIHtcbiAgICAgICAgICBpZiAoTW1lbnUubm9kZS5ibGNrKSB7XG4gICAgICAgICAgICBuZXh0ID0gTW1lbnUubm9kZS5ibGNrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvL1x0SnVtcCB0byBvcGVuZWQgbWVudS5cblxuXG4gICAgICAgIGlmICh0YXJnZXQucGFyZW50RWxlbWVudC5tYXRjaGVzKCcubW0td3JhcHBlcl9fYmxvY2tlcicpKSB7XG4gICAgICAgICAgbmV4dCA9IERPTS5maW5kKGRvY3VtZW50LmJvZHksICcubW0tbWVudV9vZmZjYW52YXMubW0tbWVudV9vcGVuZWQnKVswXTtcbiAgICAgICAgfSAvL1x0SWYgbm8gYXZhaWxhYmxlIGVsZW1lbnQgZm91bmQsIHN0YXkgaW4gY3VycmVudCBlbGVtZW50LlxuXG5cbiAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgbmV4dCA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICBET00uY2hpbGRyZW4obmV4dCwgJy5tbS10YWJzdGFydCcpWzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pOyAvL1x0QWRkIEFkZGl0aW9uYWwga2V5Ym9hcmQgYmVoYXZpb3IuXG5cbiAgZXZlbnRzLm9mZihkb2N1bWVudC5ib2R5LCAna2V5ZG93bi5uYXZpZ2F0ZScpO1xuICBldmVudHMub24oZG9jdW1lbnQuYm9keSwgJ2tleWRvd24ubmF2aWdhdGUnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgIHZhciB0YXJnZXQgPSBldm50LnRhcmdldDtcbiAgICB2YXIgbWVudSA9IHRhcmdldC5jbG9zZXN0KCcubW0tbWVudScpO1xuXG4gICAgaWYgKG1lbnUpIHtcbiAgICAgIHZhciBhcGkgPSBtZW51WydtbUFwaSddO1xuXG4gICAgICBpZiAoIXRhcmdldC5tYXRjaGVzKCdpbnB1dCwgdGV4dGFyZWEnKSkge1xuICAgICAgICBzd2l0Y2ggKGV2bnQua2V5Q29kZSkge1xuICAgICAgICAgIC8vXHRwcmVzcyBlbnRlciB0byB0b2dnbGUgYW5kIGNoZWNrXG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIGlmICh0YXJnZXQubWF0Y2hlcygnLm1tLXRvZ2dsZScpIHx8IHRhcmdldC5tYXRjaGVzKCcubW0tY2hlY2snKSkge1xuICAgICAgICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NsaWNrJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvL1x0cHJldmVudCBzcGFjZWJhciBvciBhcnJvd3MgZnJvbSBzY3JvbGxpbmcgdGhlIHBhZ2VcblxuICAgICAgICAgIGNhc2UgMzI6IC8vXHRzcGFjZVxuXG4gICAgICAgICAgY2FzZSAzNzogLy9cdGxlZnRcblxuICAgICAgICAgIGNhc2UgMzg6IC8vXHR0b3BcblxuICAgICAgICAgIGNhc2UgMzk6IC8vXHRyaWdodFxuXG4gICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgIC8vXHRib3R0b21cbiAgICAgICAgICAgIGV2bnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmhhbmNlKSB7XG4gICAgICAgIC8vXHRzcGVjaWFsIGNhc2UgZm9yIGlucHV0XG4gICAgICAgIGlmICh0YXJnZXQubWF0Y2hlcygnaW5wdXQnKSkge1xuICAgICAgICAgIHN3aXRjaCAoZXZudC5rZXlDb2RlKSB7XG4gICAgICAgICAgICAvL1x0ZW1wdHkgc2VhcmNoZmllbGQgd2l0aCBlc2NcbiAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgIHRhcmdldC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9hcGkgPSBtZW51WydtbUFwaSddO1xuXG4gICAgICAgICAgc3dpdGNoIChldm50LmtleUNvZGUpIHtcbiAgICAgICAgICAgIC8vXHRjbG9zZSBzdWJtZW51IHdpdGggYmFja3NwYWNlXG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBET00uZmluZChtZW51LCAnLm1tLXBhbmVsX29wZW5lZCcpWzBdWydtbVBhcmVudCddO1xuXG4gICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBfYXBpLm9wZW5QYW5lbChwYXJlbnQuY2xvc2VzdCgnLm1tLXBhbmVsJykpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvL1x0Y2xvc2UgbWVudSB3aXRoIGVzY1xuXG4gICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICBpZiAobWVudS5tYXRjaGVzKCcubW0tbWVudV9vZmZjYW52YXMnKSkge1xuICAgICAgICAgICAgICAgIF9hcGkuY2xvc2UoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59OyIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBvcHRpb25zID0ge1xuICBsb2FkOiBmYWxzZVxufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBsb2FkOiBvcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG47IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZ1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZnJvbVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGVcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy9cdEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5sYXp5U3VibWVudXMgPSBvcHRpb25zO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBvcHRpb25zID0gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyh0aGlzLm9wdHMubGF6eVN1Ym1lbnVzKTtcbiAgdGhpcy5vcHRzLmxhenlTdWJtZW51cyA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLmxhenlTdWJtZW51cyk7XG5cbiAgaWYgKG9wdGlvbnMubG9hZCkge1xuICAgIC8vXHRQcmV2ZW50IGFsbCBzdWIgcGFuZWxzIGZyb20gYmVpbmcgaW5pdGlhbGl6ZWQuXG4gICAgdGhpcy5iaW5kKCdpbml0TWVudTphZnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYW5lbHMgPSBbXTsgLy9cdEZpbmQgYWxsIHBvdGVudGlhbCBzdWJwYW5lbHMuXG5cbiAgICAgIERPTS5maW5kKF90aGlzLm5vZGUucG5scywgJ2xpJykuZm9yRWFjaChmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICAgICAgcGFuZWxzLnB1c2guYXBwbHkocGFuZWxzLCBfdG9Db25zdW1hYmxlQXJyYXkoRE9NLmNoaWxkcmVuKGxpc3RpdGVtLCBfdGhpcy5jb25mLnBhbmVsTm9kZXR5cGUuam9pbignLCAnKSkpKTtcbiAgICAgIH0pOyAvL1x0RmlsdGVyIG91dCBhbGwgbm9uLXBhbmVscyBhbmQgYWRkIHRoZSBsYXp5bG9hZCBjbGFzc2VzXG5cbiAgICAgIHBhbmVscy5maWx0ZXIoZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIHJldHVybiAhcGFuZWwubWF0Y2hlcygnLm1tLWxpc3R2aWV3X2luc2V0Jyk7XG4gICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIHJldHVybiAhcGFuZWwubWF0Y2hlcygnLm1tLW5vbGlzdHZpZXcnKTtcbiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgcmV0dXJuICFwYW5lbC5tYXRjaGVzKCcubW0tbm9wYW5lbCcpO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnbW0tcGFuZWxfbGF6eXN1Ym1lbnUnLCAnbW0tbm9saXN0dmlldycsICdtbS1ub3BhbmVsJyk7XG4gICAgICB9KTtcbiAgICB9KTsgLy9cdFByZXBhcmUgY3VycmVudCBhbmQgb25lIGxldmVsIHN1YiBwYW5lbHMgZm9yIGluaXRQYW5lbHNcblxuICAgIHRoaXMuYmluZCgnaW5pdFBhbmVsczpiZWZvcmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFuZWxzID0gRE9NLmNoaWxkcmVuKF90aGlzLm5vZGUucG5scywgX3RoaXMuY29uZi5wYW5lbE5vZGV0eXBlLmpvaW4oJywgJykpO1xuICAgICAgcGFuZWxzLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSAnLm1tLXBhbmVsX2xhenlzdWJtZW51JyxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gRE9NLmZpbmQocGFuZWwsIGZpbHRlcik7XG5cbiAgICAgICAgaWYgKHBhbmVsLm1hdGNoZXMoZmlsdGVyKSkge1xuICAgICAgICAgIGNoaWxkcmVuLnVuc2hpZnQocGFuZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiAhY2hpbGQubWF0Y2hlcygnLm1tLXBhbmVsX2xhenlzdWJtZW51IC5tbS1wYW5lbF9sYXp5c3VibWVudScpO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ21tLXBhbmVsX2xhenlzdWJtZW51JywgJ21tLW5vbGlzdHZpZXcnLCAnbW0tbm9wYW5lbCcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pOyAvL1x0aW5pdFBhbmVscyBmb3IgdGhlIGRlZmF1bHQgb3BlbmVkIHBhbmVsXG5cbiAgICB0aGlzLmJpbmQoJ2luaXRPcGVuZWQ6YmVmb3JlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhbmVscyA9IFtdO1xuICAgICAgRE9NLmZpbmQoX3RoaXMubm9kZS5wbmxzLCAnLicgKyBfdGhpcy5jb25mLmNsYXNzTmFtZXMuc2VsZWN0ZWQpLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgIHBhbmVscy5wdXNoLmFwcGx5KHBhbmVscywgX3RvQ29uc3VtYWJsZUFycmF5KERPTS5wYXJlbnRzKGxpc3RpdGVtLCAnLm1tLXBhbmVsX2xhenlzdWJtZW51JykpKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGFuZWxzLmxlbmd0aCkge1xuICAgICAgICBwYW5lbHMuZm9yRWFjaChmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdtbS1wYW5lbF9sYXp5c3VibWVudScsICdtbS1ub2xpc3R2aWV3IG1tLW5vcGFuZWwnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuaW5pdFBhbmVsKHBhbmVsc1twYW5lbHMubGVuZ3RoIC0gMV0pO1xuICAgICAgfVxuICAgIH0pOyAvL1x0aW5pdFBhbmVscyBmb3IgY3VycmVudC0gYW5kIHN1YiBwYW5lbHMgYmVmb3JlIG9wZW5QYW5lbFxuXG4gICAgdGhpcy5iaW5kKCdvcGVuUGFuZWw6YmVmb3JlJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICB2YXIgZmlsdGVyID0gJy5tbS1wYW5lbF9sYXp5c3VibWVudScsXG4gICAgICAgICAgcGFuZWxzID0gRE9NLmZpbmQocGFuZWwsIGZpbHRlcik7XG5cbiAgICAgIGlmIChwYW5lbC5tYXRjaGVzKGZpbHRlcikpIHtcbiAgICAgICAgcGFuZWxzLnVuc2hpZnQocGFuZWwpO1xuICAgICAgfVxuXG4gICAgICBwYW5lbHMgPSBwYW5lbHMuZmlsdGVyKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgICByZXR1cm4gIXBhbmVsLm1hdGNoZXMoJy5tbS1wYW5lbF9sYXp5c3VibWVudSAubW0tcGFuZWxfbGF6eXN1Ym1lbnUnKTtcbiAgICAgIH0pO1xuICAgICAgcGFuZWxzLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIF90aGlzLmluaXRQYW5lbChwYW5lbCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBvcHRpb25zID0gW107XG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuLyoqXG4gKiBFeHRlbmQgc2hvcnRoYW5kIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGV4dGVuZC5cbiAqIEByZXR1cm4ge29iamVjdH1cdFx0XHRUaGUgZXh0ZW5kZWQgb3B0aW9ucy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnYm9vbGVhbicgJiYgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbnRlbnQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zLmNvbnRlbnQgPSBbJ3ByZXYnLCAndGl0bGUnXTtcbiAgfVxuXG4gIGlmICghKG9wdGlvbnMuY29udGVudCBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgIG9wdGlvbnMuY29udGVudCA9IFtvcHRpb25zLmNvbnRlbnRdO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnVzZSA9PSAndW5kZWZpbmVkJykge1xuICAgIG9wdGlvbnMudXNlID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy51c2UgPT0gJ2Jvb2xlYW4nICYmIG9wdGlvbnMudXNlKSB7XG4gICAgb3B0aW9ucy51c2UgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG47IiwidmFyIGNvbmZpZ3MgPSB7XG4gIGJyZWFkY3J1bWJzOiB7XG4gICAgc2VwYXJhdG9yOiAnLycsXG4gICAgcmVtb3ZlRmlyc3Q6IGZhbHNlXG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBjb25maWdzOyIsImltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hdmJhcikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vXHRBZGQgY29udGVudFxuICB2YXIgYnJlYWRjcnVtYnMgPSBET00uY3JlYXRlKCdkaXYubW0tbmF2YmFyX19icmVhZGNydW1icycpO1xuICBuYXZiYXIuYXBwZW5kKGJyZWFkY3J1bWJzKTtcbiAgdGhpcy5iaW5kKCdpbml0TmF2YmFyOmFmdGVyJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgaWYgKHBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5tbS1uYXZiYXJfX2JyZWFkY3J1bWJzJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBET00uY2hpbGRyZW4ocGFuZWwsICcubW0tbmF2YmFyJylbMF0uY2xhc3NMaXN0LmFkZCgnbW0taGlkZGVuJyk7XG4gICAgdmFyIGNydW1icyA9IFtdLFxuICAgICAgICBicmVhZGNydW1icyA9IERPTS5jcmVhdGUoJ3NwYW4ubW0tbmF2YmFyX19icmVhZGNydW1icycpLFxuICAgICAgICBjdXJyZW50ID0gcGFuZWwsXG4gICAgICAgIGZpcnN0ID0gdHJ1ZTtcblxuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBpZiAoIWN1cnJlbnQubWF0Y2hlcygnLm1tLXBhbmVsJykpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY2xvc2VzdCgnLm1tLXBhbmVsJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghY3VycmVudC5wYXJlbnRFbGVtZW50Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV92ZXJ0aWNhbCcpKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gRE9NLmZpbmQoY3VycmVudCwgJy5tbS1uYXZiYXJfX3RpdGxlJylbMF0udGV4dENvbnRlbnQ7XG5cbiAgICAgICAgaWYgKHRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgY3J1bWJzLnVuc2hpZnQoZmlyc3QgPyAnPHNwYW4+JyArIHRleHQgKyAnPC9zcGFuPicgOiAnPGEgaHJlZj1cIiMnICsgY3VycmVudC5pZCArICdcIj4nICsgdGV4dCArICc8L2E+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50ID0gY3VycmVudFsnbW1QYXJlbnQnXTtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuY29uZi5uYXZiYXJzLmJyZWFkY3J1bWJzLnJlbW92ZUZpcnN0KSB7XG4gICAgICBjcnVtYnMuc2hpZnQoKTtcbiAgICB9XG5cbiAgICBicmVhZGNydW1icy5pbm5lckhUTUwgPSBjcnVtYnMuam9pbignPHNwYW4gY2xhc3M9XCJtbS1zZXBhcmF0b3JcIj4nICsgX3RoaXMuY29uZi5uYXZiYXJzLmJyZWFkY3J1bWJzLnNlcGFyYXRvciArICc8L3NwYW4+Jyk7XG4gICAgRE9NLmNoaWxkcmVuKHBhbmVsLCAnLm1tLW5hdmJhcicpWzBdLmFwcGVuZChicmVhZGNydW1icyk7XG4gIH0pOyAvL1x0VXBkYXRlIGZvciB0byBvcGVuZWQgcGFuZWxcblxuICB0aGlzLmJpbmQoJ29wZW5QYW5lbDpzdGFydCcsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgIHZhciBjcnVtYnMgPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcubW0tbmF2YmFyX19icmVhZGNydW1icycpO1xuXG4gICAgaWYgKGNydW1icykge1xuICAgICAgYnJlYWRjcnVtYnMuaW5uZXJIVE1MID0gY3J1bWJzLmlubmVySFRNTDtcbiAgICB9XG4gIH0pOyAvL1x0QWRkIHNjcmVlbnJlYWRlciAvIGFyaWEgc3VwcG9ydFxuXG4gIHRoaXMuYmluZCgnaW5pdE5hdmJhcjphZnRlcjpzci1hcmlhJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgRE9NLmZpbmQocGFuZWwsICcubW0tYnJlYWRjcnVtYnMgYScpLmZvckVhY2goZnVuY3Rpb24gKGFuY2hvcikge1xuICAgICAgTW1lbnUuc3JfYXJpYShhbmNob3IsICdvd25zJywgYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpLnNsaWNlKDEpKTtcbiAgICB9KTtcbiAgfSk7XG59IiwiaW1wb3J0IE1tZW51IGZyb20gJy4uLy4uL2NvcmUvb25jYW52YXMvbW1lbnUub25jYW52YXMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAobmF2YmFyKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy9cdEFkZCBjb250ZW50XG4gIHZhciBjbG9zZSA9IERPTS5jcmVhdGUoJ2EubW0tYnRuLm1tLWJ0bl9jbG9zZS5tbS1uYXZiYXJfX2J0bicpO1xuICBuYXZiYXIuYXBwZW5kKGNsb3NlKTsgLy9cdFVwZGF0ZSB0byBwYWdlIG5vZGVcblxuICB0aGlzLmJpbmQoJ3NldFBhZ2U6YWZ0ZXInLCBmdW5jdGlvbiAocGFnZSkge1xuICAgIGNsb3NlLnNldEF0dHJpYnV0ZSgnaHJlZicsICcjJyArIHBhZ2UuaWQpO1xuICB9KTsgLy9cdEFkZCBzY3JlZW5yZWFkZXIgLyB0ZXh0IHN1cHBvcnRcblxuICB0aGlzLmJpbmQoJ3NldFBhZ2U6YWZ0ZXI6c3ItdGV4dCcsIGZ1bmN0aW9uICgpIHtcbiAgICBjbG9zZS5pbm5lckhUTUwgPSBNbWVudS5zcl90ZXh0KF90aGlzLmkxOG4oX3RoaXMuY29uZi5zY3JlZW5SZWFkZXIudGV4dC5jbG9zZU1lbnUpKTtcbiAgICBNbWVudS5zcl9hcmlhKGNsb3NlLCAnb3ducycsIGNsb3NlLmdldEF0dHJpYnV0ZSgnaHJlZicpLnNsaWNlKDEpKTtcbiAgfSk7XG59XG47IiwiaW1wb3J0IE1tZW51IGZyb20gJy4uLy4uL2NvcmUvb25jYW52YXMvbW1lbnUub25jYW52YXMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7IC8vXHRERVBSRUNBVEVEXG4vL1x0V2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gOC4yXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYXZiYXIpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvL1x0QWRkIGNvbnRlbnRcbiAgdmFyIG5leHQgPSBET00uY3JlYXRlKCdhLm1tLWJ0bi5tbS1idG5fbmV4dC5tbS1uYXZiYXJfX2J0bicpO1xuICBuYXZiYXIuYXBwZW5kKG5leHQpOyAvL1x0VXBkYXRlIHRvIG9wZW5lZCBwYW5lbFxuXG4gIHZhciBvcmc7XG5cbiAgdmFyIF91cmwsIF90eHQ7XG5cbiAgdGhpcy5iaW5kKCdvcGVuUGFuZWw6c3RhcnQnLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICBvcmcgPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcuJyArIF90aGlzLmNvbmYuY2xhc3NOYW1lcy5uYXZiYXJzLnBhbmVsTmV4dCk7XG4gICAgX3VybCA9IG9yZyA/IG9yZy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA6ICcnO1xuICAgIF90eHQgPSBvcmcgPyBvcmcuaW5uZXJIVE1MIDogJyc7XG5cbiAgICBpZiAoX3VybCkge1xuICAgICAgbmV4dC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBfdXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dC5yZW1vdmVBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICB9XG5cbiAgICBuZXh0LmNsYXNzTGlzdFtfdXJsIHx8IF90eHQgPyAncmVtb3ZlJyA6ICdhZGQnXSgnbW0taGlkZGVuJyk7XG4gICAgbmV4dC5pbm5lckhUTUwgPSBfdHh0O1xuICB9KTsgLy9cdEFkZCBzY3JlZW5yZWFkZXIgLyBhcmlhIHN1cHBvcnRcblxuICB0aGlzLmJpbmQoJ29wZW5QYW5lbDpzdGFydDpzci1hcmlhJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgTW1lbnUuc3JfYXJpYShuZXh0LCAnaGlkZGVuJywgbmV4dC5tYXRjaGVzKCdtbS1oaWRkZW4nKSk7XG4gICAgTW1lbnUuc3JfYXJpYShuZXh0LCAnb3ducycsIChuZXh0LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnKS5zbGljZSgxKSk7XG4gIH0pO1xufSIsImltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hdmJhcikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vXHRBZGQgY29udGVudC5cbiAgdmFyIHByZXYgPSBET00uY3JlYXRlKCdhLm1tLWJ0bi5tbS1idG5fcHJldi5tbS1uYXZiYXJfX2J0bicpO1xuICBuYXZiYXIuYXBwZW5kKHByZXYpO1xuICB0aGlzLmJpbmQoJ2luaXROYXZiYXI6YWZ0ZXInLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICBET00uY2hpbGRyZW4ocGFuZWwsICcubW0tbmF2YmFyJylbMF0uY2xhc3NMaXN0LmFkZCgnbW0taGlkZGVuJyk7XG4gIH0pOyAvL1x0VXBkYXRlIHRvIG9wZW5lZCBwYW5lbC5cblxuICB2YXIgb3JnO1xuXG4gIHZhciBfdXJsLCBfdHh0O1xuXG4gIHRoaXMuYmluZCgnb3BlblBhbmVsOnN0YXJ0JywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcmcgPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcuJyArIF90aGlzLmNvbmYuY2xhc3NOYW1lcy5uYXZiYXJzLnBhbmVsUHJldik7XG5cbiAgICBpZiAoIW9yZykge1xuICAgICAgb3JnID0gcGFuZWwucXVlcnlTZWxlY3RvcignLm1tLW5hdmJhcl9fYnRuLm1tLWJ0bl9wcmV2Jyk7XG4gICAgfVxuXG4gICAgX3VybCA9IG9yZyA/IG9yZy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA6ICcnO1xuICAgIF90eHQgPSBvcmcgPyBvcmcuaW5uZXJIVE1MIDogJyc7XG5cbiAgICBpZiAoX3VybCkge1xuICAgICAgcHJldi5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBfdXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldi5yZW1vdmVBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICB9XG5cbiAgICBwcmV2LmNsYXNzTGlzdFtfdXJsIHx8IF90eHQgPyAncmVtb3ZlJyA6ICdhZGQnXSgnbW0taGlkZGVuJyk7XG4gICAgcHJldi5pbm5lckhUTUwgPSBfdHh0O1xuICB9KTsgLy9cdEFkZCBzY3JlZW5yZWFkZXIgLyBhcmlhIHN1cHBvcnRcblxuICB0aGlzLmJpbmQoJ2luaXROYXZiYXI6YWZ0ZXI6c3ItYXJpYScsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgIE1tZW51LnNyX2FyaWEocGFuZWwucXVlcnlTZWxlY3RvcignLm1tLW5hdmJhcicpLCAnaGlkZGVuJywgdHJ1ZSk7XG4gIH0pO1xuICB0aGlzLmJpbmQoJ29wZW5QYW5lbDpzdGFydDpzci1hcmlhJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgTW1lbnUuc3JfYXJpYShwcmV2LCAnaGlkZGVuJywgcHJldi5tYXRjaGVzKCcubW0taGlkZGVuJykpO1xuICAgIE1tZW51LnNyX2FyaWEocHJldiwgJ293bnMnLCAocHJldi5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJykuc2xpY2UoMSkpO1xuICB9KTtcbn0iLCJpbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vY29yZS9fZG9tJztcbmltcG9ydCB7IHR5cGUgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYXZiYXIpIHtcbiAgaWYgKHR5cGUodGhpcy5vcHRzLnNlYXJjaGZpZWxkKSAhPSAnb2JqZWN0Jykge1xuICAgIHRoaXMub3B0cy5zZWFyY2hmaWVsZCA9IHt9O1xuICB9XG5cbiAgdmFyIHNlYXJjaGZpZWxkID0gRE9NLmNyZWF0ZSgnZGl2Lm1tLW5hdmJhcl9fc2VhcmNoZmllbGQnKTtcbiAgbmF2YmFyLmFwcGVuZChzZWFyY2hmaWVsZCk7XG4gIHRoaXMub3B0cy5zZWFyY2hmaWVsZC5hZGQgPSB0cnVlO1xuICB0aGlzLm9wdHMuc2VhcmNoZmllbGQuYWRkVG8gPSBbc2VhcmNoZmllbGRdO1xufSIsImltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hdmJhcikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vXHRBZGQgY29udGVudCB0byB0aGUgbmF2YmFyLlxuICB2YXIgdGl0bGUgPSBET00uY3JlYXRlKCdhLm1tLW5hdmJhcl9fdGl0bGUnKTtcbiAgbmF2YmFyLmFwcGVuZCh0aXRsZSk7IC8vXHRVcGRhdGUgdGhlIHRpdGxlIHRvIHRoZSBvcGVuZWQgcGFuZWwuXG5cbiAgdmFyIF91cmwsIF90eHQ7XG5cbiAgdmFyIG9yaWdpbmFsO1xuICB0aGlzLmJpbmQoJ29wZW5QYW5lbDpzdGFydCcsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgIC8vXHREbyBub3RoaW5nIGluIGEgdmVydGljYWxseSBleHBhbmRpbmcgcGFuZWwuXG4gICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vXHRGaW5kIHRoZSBvcmlnaW5hbCB0aXRsZSBpbiB0aGUgb3BlbmVkIHBhbmVsLlxuXG5cbiAgICBvcmlnaW5hbCA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgX3RoaXMuY29uZi5jbGFzc05hbWVzLm5hdmJhcnMucGFuZWxUaXRsZSk7XG5cbiAgICBpZiAoIW9yaWdpbmFsKSB7XG4gICAgICBvcmlnaW5hbCA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5tbS1uYXZiYXJfX3RpdGxlJyk7XG4gICAgfSAvL1x0R2V0IHRoZSBVUkwgZm9yIHRoZSB0aXRsZS5cblxuXG4gICAgX3VybCA9IG9yaWdpbmFsID8gb3JpZ2luYWwuZ2V0QXR0cmlidXRlKCdocmVmJykgOiAnJztcblxuICAgIGlmIChfdXJsKSB7XG4gICAgICB0aXRsZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBfdXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGUucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XG4gICAgfSAvL1x0R2V0IHRoZSB0ZXh0IGZvciB0aGUgdGl0bGUuXG5cblxuICAgIF90eHQgPSBvcmlnaW5hbCA/IG9yaWdpbmFsLmlubmVySFRNTCA6ICcnO1xuICAgIHRpdGxlLmlubmVySFRNTCA9IF90eHQ7IC8vXHRTaG93IG9yIGhpZGUgdGhlIHRpdGxlLlxuXG4gICAgdGl0bGUuY2xhc3NMaXN0W191cmwgfHwgX3R4dCA/ICdyZW1vdmUnIDogJ2FkZCddKCdtbS1oaWRkZW4nKTtcbiAgfSk7IC8vXHRBZGQgc2NyZWVucmVhZGVyIC8gYXJpYSBzdXBwb3J0XG5cbiAgdmFyIHByZXY7XG4gIHRoaXMuYmluZCgnb3BlblBhbmVsOnN0YXJ0OnNyLWFyaWEnLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICBpZiAoX3RoaXMub3B0cy5zY3JlZW5SZWFkZXIudGV4dCkge1xuICAgICAgaWYgKCFwcmV2KSB7XG4gICAgICAgIHZhciBuYXZiYXJzID0gRE9NLmNoaWxkcmVuKF90aGlzLm5vZGUubWVudSwgJy5tbS1uYXZiYXJzX3RvcCwgLm1tLW5hdmJhcnNfYm90dG9tJyk7XG4gICAgICAgIG5hdmJhcnMuZm9yRWFjaChmdW5jdGlvbiAobmF2YmFyKSB7XG4gICAgICAgICAgdmFyIGJ0biA9IG5hdmJhci5xdWVyeVNlbGVjdG9yKCcubW0tYnRuX3ByZXYnKTtcblxuICAgICAgICAgIGlmIChidG4pIHtcbiAgICAgICAgICAgIHByZXYgPSBidG47XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgdmFyIGhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgaWYgKF90aGlzLm9wdHMubmF2YmFyLnRpdGxlTGluayA9PSAncGFyZW50Jykge1xuICAgICAgICAgIGhpZGRlbiA9ICFwcmV2Lm1hdGNoZXMoJy5tbS1oaWRkZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1tZW51LnNyX2FyaWEodGl0bGUsICdoaWRkZW4nLCBoaWRkZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG47IiwiaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAobmF2YmFyKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgbmF2YmFyLmNsYXNzTGlzdC5hZGQoJ21tLW5hdmJhcl90YWJzJyk7XG4gIG5hdmJhci5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21tLW5hdmJhcnNfaGFzLXRhYnMnKTtcbiAgdmFyIGFuY2hvcnMgPSBET00uY2hpbGRyZW4obmF2YmFyLCAnYScpO1xuICBuYXZiYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZudCkge1xuICAgIHZhciBhbmNob3IgPSBldm50LnRhcmdldDtcblxuICAgIGlmICghYW5jaG9yLm1hdGNoZXMoJ2EnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChhbmNob3IubWF0Y2hlcygnLm1tLW5hdmJhcl9fdGFiX3NlbGVjdGVkJykpIHtcbiAgICAgIGV2bnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIF90aGlzLm9wZW5QYW5lbChfdGhpcy5ub2RlLm1lbnUucXVlcnlTZWxlY3RvcihhbmNob3IuZ2V0QXR0cmlidXRlKCdocmVmJykpLCBmYWxzZSk7XG5cbiAgICAgIGV2bnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuICB9KTtcblxuICBmdW5jdGlvbiBzZWxlY3RUYWIocGFuZWwpIHtcbiAgICBhbmNob3JzLmZvckVhY2goZnVuY3Rpb24gKGFuY2hvcikge1xuICAgICAgYW5jaG9yLmNsYXNzTGlzdC5yZW1vdmUoJ21tLW5hdmJhcl9fdGFiX3NlbGVjdGVkJyk7XG4gICAgfSk7XG4gICAgdmFyIGFuY2hvciA9IGFuY2hvcnMuZmlsdGVyKGZ1bmN0aW9uIChhbmNob3IpIHtcbiAgICAgIHJldHVybiBhbmNob3IubWF0Y2hlcygnW2hyZWY9XCIjJyArIHBhbmVsLmlkICsgJ1wiXScpO1xuICAgIH0pWzBdO1xuXG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgYW5jaG9yLmNsYXNzTGlzdC5hZGQoJ21tLW5hdmJhcl9fdGFiX3NlbGVjdGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwYXJlbnQgPSBwYW5lbFsnbW1QYXJlbnQnXTtcblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBzZWxlY3RUYWIuY2FsbCh0aGlzLCBwYXJlbnQuY2xvc2VzdCgnLm1tLXBhbmVsJykpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuYmluZCgnb3BlblBhbmVsOnN0YXJ0Jywgc2VsZWN0VGFiKTtcbn1cbjsiLCJpbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCBjb25maWdzIGZyb20gJy4vX2NvbmZpZ3MnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5pbXBvcnQgKiBhcyBtZWRpYSBmcm9tICcuLi8uLi9jb3JlL19tYXRjaG1lZGlhJztcbmltcG9ydCB7IGV4dGVuZFNob3J0aGFuZE9wdGlvbnMgfSBmcm9tICcuL19vcHRpb25zJzsgLy8gIEFkZCB0aGUgb3B0aW9ucyBhbmQgY29uZmlncy5cblxuTW1lbnUub3B0aW9ucy5uYXZiYXJzID0gb3B0aW9ucztcbk1tZW51LmNvbmZpZ3MubmF2YmFycyA9IGNvbmZpZ3M7IC8vICBBZGQgdGhlIGNsYXNzbmFtZXMuXG5cbk1tZW51LmNvbmZpZ3MuY2xhc3NOYW1lcy5uYXZiYXJzID0ge1xuICBwYW5lbE5leHQ6ICdOZXh0JyxcbiAgcGFuZWxQcmV2OiAnUHJldicsXG4gIHBhbmVsVGl0bGU6ICdUaXRsZSdcbn07XG5pbXBvcnQgYnJlYWRjcnVtYnMgZnJvbSAnLi9fbmF2YmFyLmJyZWFkY3J1bWJzJztcbmltcG9ydCBjbG9zZSBmcm9tICcuL19uYXZiYXIuY2xvc2UnO1xuaW1wb3J0IG5leHQgZnJvbSAnLi9fbmF2YmFyLm5leHQnO1xuaW1wb3J0IHByZXYgZnJvbSAnLi9fbmF2YmFyLnByZXYnO1xuaW1wb3J0IHNlYXJjaGZpZWxkIGZyb20gJy4vX25hdmJhci5zZWFyY2hmaWVsZCc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnLi9fbmF2YmFyLnRpdGxlJztcbk5hdmJhcnMubmF2YmFyQ29udGVudHMgPSB7XG4gIGJyZWFkY3J1bWJzOiBicmVhZGNydW1icyxcbiAgY2xvc2U6IGNsb3NlLFxuICBuZXh0OiBuZXh0LFxuICBwcmV2OiBwcmV2LFxuICBzZWFyY2hmaWVsZDogc2VhcmNoZmllbGQsXG4gIHRpdGxlOiB0aXRsZVxufTtcbmltcG9ydCB0YWJzIGZyb20gJy4vX25hdmJhci50YWJzJztcbk5hdmJhcnMubmF2YmFyVHlwZXMgPSB7XG4gIHRhYnM6IHRhYnNcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBOYXZiYXJzKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBuYXZzID0gdGhpcy5vcHRzLm5hdmJhcnM7XG5cbiAgaWYgKHR5cGVvZiBuYXZzID09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCEobmF2cyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgIG5hdnMgPSBbbmF2c107XG4gIH1cblxuICB2YXIgbmF2YmFycyA9IHt9O1xuXG4gIGlmICghbmF2cy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBuYXZzLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyhvcHRpb25zKTtcblxuICAgIGlmICghb3B0aW9ucy51c2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vXHRDcmVhdGUgdGhlIG5hdmJhciBlbGVtZW50LlxuXG5cbiAgICB2YXIgbmF2YmFyID0gRE9NLmNyZWF0ZSgnZGl2Lm1tLW5hdmJhcicpOyAvL1x0R2V0IHRoZSBwb3NpdGlvbiBmb3IgdGhlIG5hdmJhci5cblxuICAgIHZhciBwb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247IC8vXHRSZXN0cmljdCB0aGUgcG9zaXRpb24gdG8gZWl0aGVyIFwiYm90dG9tXCIgb3IgXCJ0b3BcIiAoZGVmYXVsdCkuXG5cbiAgICBpZiAocG9zaXRpb24gIT09ICdib3R0b20nKSB7XG4gICAgICBwb3NpdGlvbiA9ICd0b3AnO1xuICAgIH0gLy9cdENyZWF0ZSB0aGUgd3JhcHBlciBmb3IgdGhlIG5hdmJhciBwb3NpdGlvbi5cblxuXG4gICAgaWYgKCFuYXZiYXJzW3Bvc2l0aW9uXSkge1xuICAgICAgbmF2YmFyc1twb3NpdGlvbl0gPSBET00uY3JlYXRlKCdkaXYubW0tbmF2YmFyc18nICsgcG9zaXRpb24pO1xuICAgIH1cblxuICAgIG5hdmJhcnNbcG9zaXRpb25dLmFwcGVuZChuYXZiYXIpOyAvL1x0QWRkIGNvbnRlbnQgdG8gdGhlIG5hdmJhci5cblxuICAgIGZvciAodmFyIGMgPSAwLCBsID0gb3B0aW9ucy5jb250ZW50Lmxlbmd0aDsgYyA8IGw7IGMrKykge1xuICAgICAgdmFyIGN0bnQgPSBvcHRpb25zLmNvbnRlbnRbY107IC8vXHRUaGUgY29udGVudCBpcyBhIHN0cmluZy5cblxuICAgICAgaWYgKHR5cGVvZiBjdG50ID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBmdW5jID0gTmF2YmFycy5uYXZiYXJDb250ZW50c1tjdG50XTsgLy9cdFRoZSBjb250ZW50IHJlZmVycyB0byBvbmUgb2YgdGhlIG5hdmJhci1wcmVzZXRzIChcInByZXZcIiwgXCJ0aXRsZVwiLCBldGMpLlxuXG4gICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy9cdENhbGwgdGhlIHByZXNldCBmdW5jdGlvbi5cbiAgICAgICAgICBmdW5jLmNhbGwoX3RoaXMsIG5hdmJhcik7IC8vXHRUaGUgY29udGVudCBpcyBqdXN0IEhUTUwuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9cdEFkZCB0aGUgSFRNTC5cbiAgICAgICAgICAvLyAgV3JhcCB0aGUgSFRNTCBpbiBhIHNpbmdsZSBub2RlXG4gICAgICAgICAgdmFyIG5vZGUgPSBET00uY3JlYXRlKCdzcGFuJyk7XG4gICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBjdG50OyAvLyAgSWYgdGhlcmUgd2FzIG9ubHkgYSBzaW5nbGUgbm9kZSwgdXNlIHRoYXQuXG5cbiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBET00uY2hpbGRyZW4obm9kZSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIG5vZGUgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuYXZiYXIuYXBwZW5kKG5vZGUpO1xuICAgICAgICB9IC8vXHRUaGUgY29udGVudCBpcyBub3QgYSBzdHJpbmcsIGl0IG11c3QgYmUgYW4gZWxlbWVudC5cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmF2YmFyLmFwcGVuZChjdG50KTtcbiAgICAgIH1cbiAgICB9IC8vXHRUaGUgdHlwZSBvcHRpb24gaXMgc2V0LlxuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHlwZSA9PSAnc3RyaW5nJykge1xuICAgICAgLy9cdFRoZSBmdW5jdGlvbiByZWZlcnMgdG8gb25lIG9mIHRoZSBuYXZiYXItcHJlc2V0cyAoXCJ0YWJzXCIpLlxuICAgICAgdmFyIF9mdW5jID0gTmF2YmFycy5uYXZiYXJUeXBlc1tvcHRpb25zLnR5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIF9mdW5jID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy9cdENhbGwgdGhlIHByZXNldCBmdW5jdGlvbi5cbiAgICAgICAgX2Z1bmMuY2FsbChfdGhpcywgbmF2YmFyKTtcbiAgICAgIH1cbiAgICB9IC8vXHRFbi0vZGlzYWJsZSB0aGUgbmF2YmFyLlxuXG5cbiAgICB2YXIgZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgbmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ21tLWhpZGRlbicpO1xuICAgICAgTW1lbnUuc3JfYXJpYShuYXZiYXIsICdoaWRkZW4nLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIHZhciBkaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIG5hdmJhci5jbGFzc0xpc3QuYWRkKCdtbS1oaWRkZW4nKTtcbiAgICAgIE1tZW51LnNyX2FyaWEobmF2YmFyLCAnaGlkZGVuJywgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy51c2UgIT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBtZWRpYS5hZGQob3B0aW9ucy51c2UsIGVuYWJsZSwgZGlzYWJsZSk7XG4gICAgfVxuICB9KTsgLy9cdEFkZCB0byBtZW51LlxuXG4gIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcG9zaXRpb24gaW4gbmF2YmFycykge1xuICAgICAgX3RoaXMubm9kZS5tZW51W3Bvc2l0aW9uID09ICdib3R0b20nID8gJ2FwcGVuZCcgOiAncHJlcGVuZCddKG5hdmJhcnNbcG9zaXRpb25dKTtcbiAgICB9XG4gIH0pO1xufSIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBvcHRpb25zID0ge1xuICBzY3JvbGw6IGZhbHNlLFxuICB1cGRhdGU6IGZhbHNlXG59O1xuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbi8qKlxuICogRXh0ZW5kIHNob3J0aGFuZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyB0byBleHRlbmQuXG4gKiBAcmV0dXJuIHtvYmplY3R9XHRcdFx0VGhlIGV4dGVuZGVkIG9wdGlvbnMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFNob3J0aGFuZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHNjcm9sbDogb3B0aW9uc1xuICAgIH07XG4gIH1cblxuICBpZiAoX3R5cGVvZihvcHRpb25zKSAhPSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsInZhciBjb25maWdzID0ge1xuICBzY3JvbGxPZmZzZXQ6IDAsXG4gIHVwZGF0ZU9mZnNldDogNTBcbn07XG5leHBvcnQgZGVmYXVsdCBjb25maWdzOyIsImltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IGNvbmZpZ3MgZnJvbSAnLi9fY29uZmlncyc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vY29yZS9fZG9tJztcbmltcG9ydCB7IGV4dGVuZFNob3J0aGFuZE9wdGlvbnMgfSBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL2NvcmUvX2hlbHBlcnMnOyAvL1x0QWRkIHRoZSBvcHRpb25zIGFuZCBjb25maWdzLlxuXG5NbWVudS5vcHRpb25zLnBhZ2VTY3JvbGwgPSBvcHRpb25zO1xuTW1lbnUuY29uZmlncy5wYWdlU2Nyb2xsID0gY29uZmlncztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLnBhZ2VTY3JvbGwpO1xuICB0aGlzLm9wdHMucGFnZVNjcm9sbCA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLnBhZ2VTY3JvbGwpO1xuICB2YXIgY29uZmlncyA9IHRoaXMuY29uZi5wYWdlU2Nyb2xsO1xuICAvKiogVGhlIGN1cnJlbnRseSBcImFjdGl2ZVwiIHNlY3Rpb24gKi9cblxuICB2YXIgc2VjdGlvbjtcblxuICBmdW5jdGlvbiBzY3JvbGxUbygpIHtcbiAgICBpZiAoc2VjdGlvbikge1xuICAgICAgLy8gc2VjdGlvbi5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICAgIHRvcDogc2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBjb25maWdzLnNjcm9sbE9mZnNldCxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWN0aW9uID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFuY2hvckluUGFnZShocmVmKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChocmVmICE9ICcjJyAmJiBocmVmLnNsaWNlKDAsIDEpID09ICcjJykge1xuICAgICAgICByZXR1cm4gTW1lbnUubm9kZS5wYWdlLnF1ZXJ5U2VsZWN0b3IoaHJlZik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IC8vXHRTY3JvbGwgdG8gc2VjdGlvbiBhZnRlciBjbGlja2luZyBtZW51IGl0ZW0uXG5cblxuICBpZiAob3B0aW9ucy5zY3JvbGwpIHtcbiAgICB0aGlzLmJpbmQoJ2Nsb3NlOmZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNjcm9sbFRvKCk7XG4gICAgfSk7XG4gIH0gLy9cdEFkZCBjbGljayBiZWhhdmlvci5cbiAgLy9cdFByZXZlbnRzIGRlZmF1bHQgYmVoYXZpb3Igd2hlbiBjbGlja2luZyBhbiBhbmNob3IuXG5cblxuICBpZiAodGhpcy5vcHRzLm9mZkNhbnZhcyAmJiBvcHRpb25zLnNjcm9sbCkge1xuICAgIHRoaXMuY2xjay5wdXNoKGZ1bmN0aW9uIChhbmNob3IsIGFyZ3MpIHtcbiAgICAgIHNlY3Rpb24gPSBudWxsOyAvL1x0RG9uJ3QgY29udGludWUgaWYgdGhlIGNsaWNrZWQgYW5jaG9yIGlzIG5vdCBpbiB0aGUgbWVudS5cblxuICAgICAgaWYgKCFhcmdzLmluTWVudSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vXHREb24ndCBjb250aW51ZSBpZiB0aGUgdGFyZ2V0ZWQgc2VjdGlvbiBpcyBub3Qgb24gdGhlIHBhZ2UuXG5cblxuICAgICAgdmFyIGhyZWYgPSBhbmNob3IuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICBzZWN0aW9uID0gYW5jaG9ySW5QYWdlKGhyZWYpO1xuXG4gICAgICBpZiAoIXNlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvL1x0SWYgdGhlIHNpZGViYXIgYWRkLW9uIGlzIFwiZXhwYW5kZWRcIi4uLlxuXG5cbiAgICAgIGlmIChfdGhpcy5ub2RlLm1lbnUubWF0Y2hlcygnLm1tLW1lbnVfc2lkZWJhci1leHBhbmRlZCcpICYmIF90aGlzLm5vZGUud3Jwci5tYXRjaGVzKCcubW0td3JhcHBlcl9zaWRlYmFyLWV4cGFuZGVkJykpIHtcbiAgICAgICAgLy9cdC4uLiBzY3JvbGwgdGhlIHBhZ2UgdG8gdGhlIHNlY3Rpb24uXG4gICAgICAgIHNjcm9sbFRvKCk7IC8vXHQuLi4gb3RoZXJ3aXNlLi4uXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL1x0Li4uIGNsb3NlIHRoZSBtZW51LlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNsb3NlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH0gLy9cdFVwZGF0ZSBzZWxlY3RlZCBtZW51IGl0ZW0gYWZ0ZXIgc2Nyb2xsaW5nLlxuXG5cbiAgaWYgKG9wdGlvbnMudXBkYXRlKSB7XG4gICAgdmFyIHNjdHMgPSBbXTtcbiAgICB0aGlzLmJpbmQoJ2luaXRMaXN0dmlldzphZnRlcicsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgdmFyIGxpc3RpdGVtcyA9IERPTS5maW5kKHBhbmVsLCAnLm1tLWxpc3RpdGVtJyk7XG4gICAgICBET00uZmlsdGVyTElBKGxpc3RpdGVtcykuZm9yRWFjaChmdW5jdGlvbiAoYW5jaG9yKSB7XG4gICAgICAgIHZhciBocmVmID0gYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICB2YXIgc2VjdGlvbiA9IGFuY2hvckluUGFnZShocmVmKTtcblxuICAgICAgICBpZiAoc2VjdGlvbikge1xuICAgICAgICAgIHNjdHMudW5zaGlmdChzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgX3NlbGVjdGVkID0gLTE7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cuc2Nyb2xsWTtcblxuICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzY3RzLmxlbmd0aDsgcysrKSB7XG4gICAgICAgIGlmIChzY3RzW3NdLm9mZnNldFRvcCA8IHNjcm9sbFRvcCArIGNvbmZpZ3MudXBkYXRlT2Zmc2V0KSB7XG4gICAgICAgICAgaWYgKF9zZWxlY3RlZCAhPT0gcykge1xuICAgICAgICAgICAgX3NlbGVjdGVkID0gcztcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWxfb3BlbmVkJylbMF07XG4gICAgICAgICAgICB2YXIgbGlzdGl0ZW1zID0gRE9NLmZpbmQocGFuZWwsICcubW0tbGlzdGl0ZW0nKTtcbiAgICAgICAgICAgIHZhciBhbmNob3JzID0gRE9NLmZpbHRlckxJQShsaXN0aXRlbXMpO1xuICAgICAgICAgICAgYW5jaG9ycyA9IGFuY2hvcnMuZmlsdGVyKGZ1bmN0aW9uIChhbmNob3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFuY2hvci5tYXRjaGVzKCdbaHJlZj1cIiMnICsgc2N0c1tzXS5pZCArICdcIl0nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoYW5jaG9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWQoYW5jaG9yc1swXS5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGFkZDogZmFsc2UsXG4gIGFkZFRvOiAncGFuZWxzJyxcbiAgY2FuY2VsOiBmYWxzZSxcbiAgbm9SZXN1bHRzOiAnTm8gcmVzdWx0cyBmb3VuZC4nLFxuICBwbGFjZWhvbGRlcjogJ1NlYXJjaCcsXG4gIHBhbmVsOiB7XG4gICAgYWRkOiBmYWxzZSxcbiAgICBkaXZpZGVyczogdHJ1ZSxcbiAgICBmeDogJ25vbmUnLFxuICAgIGlkOiBudWxsLFxuICAgIHNwbGFzaDogbnVsbCxcbiAgICB0aXRsZTogJ1NlYXJjaCdcbiAgfSxcbiAgc2VhcmNoOiB0cnVlLFxuICBzaG93VGV4dEl0ZW1zOiBmYWxzZSxcbiAgc2hvd1N1YlBhbmVsczogdHJ1ZVxufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBhZGQ6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMucGFuZWwgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5wYW5lbCA9IHtcbiAgICAgIGFkZDogb3B0aW9ucy5wYW5lbFxuICAgIH07XG4gIH1cblxuICBpZiAoX3R5cGVvZihvcHRpb25zLnBhbmVsKSAhPSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMucGFuZWwgPSB7fTtcbiAgfSAvL1x0RXh0ZW5kIGxvZ2ljYWwgb3B0aW9ucy5cblxuXG4gIGlmIChvcHRpb25zLmFkZFRvID09ICdwYW5lbCcpIHtcbiAgICBvcHRpb25zLnBhbmVsLmFkZCA9IHRydWU7XG4gIH1cblxuICBpZiAob3B0aW9ucy5wYW5lbC5hZGQpIHtcbiAgICBvcHRpb25zLnNob3dTdWJQYW5lbHMgPSBmYWxzZTtcblxuICAgIGlmIChvcHRpb25zLnBhbmVsLnNwbGFzaCkge1xuICAgICAgb3B0aW9ucy5jYW5jZWwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsInZhciBjb25maWdzID0ge1xuICBjbGVhcjogZmFsc2UsXG4gIGZvcm06IGZhbHNlLFxuICBpbnB1dDogZmFsc2UsXG4gIHN1Ym1pdDogZmFsc2Vcbn07XG5leHBvcnQgZGVmYXVsdCBjb25maWdzOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgU2VhcmNoOiAnWm9la2VuJyxcbiAgJ05vIHJlc3VsdHMgZm91bmQuJzogJ0dlZW4gcmVzdWx0YXRlbiBnZXZvbmRlbi4nLFxuICBjYW5jZWw6ICdhbm51bGVyZW4nXG59OyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgU2VhcmNoOiAn2KzYs9iq2KzZiCcsXG4gICdObyByZXN1bHRzIGZvdW5kLic6ICfZhtiq24zYrNmH4oCM2KfbjCDbjNin2YHYqiDZhti02K8uJyxcbiAgY2FuY2VsOiAn2KfZhti12LHYp9mBJ1xufTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIFNlYXJjaDogJ1N1Y2hlJyxcbiAgJ05vIHJlc3VsdHMgZm91bmQuJzogJ0tlaW5lIEVyZ2Vibmlzc2UgZ2VmdW5kZW4uJyxcbiAgY2FuY2VsOiAnYmVlbmRlbidcbn07IiwiZXhwb3J0IGRlZmF1bHQge1xuICBTZWFyY2g6ICfQndCw0LnRgtC4JyxcbiAgJ05vIHJlc3VsdHMgZm91bmQuJzogJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+LicsXG4gIGNhbmNlbDogJ9C+0YLQvNC10L3QuNGC0YwnXG59OyIsImltcG9ydCB7IGFkZCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvX2kxOG4nO1xuaW1wb3J0IG5sIGZyb20gJy4vbmwnO1xuaW1wb3J0IGZhIGZyb20gJy4vZmEnO1xuaW1wb3J0IGRlIGZyb20gJy4vZGUnO1xuaW1wb3J0IHJ1IGZyb20gJy4vcnUnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICBhZGQobmwsICdubCcpO1xuICBhZGQoZmEsICdmYScpO1xuICBhZGQoZGUsICdkZScpO1xuICBhZGQocnUsICdydScpO1xufSIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZVwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmdcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZyb21cIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvclwiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2xcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNlYXJjaFwiO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IGNvbmZpZ3MgZnJvbSAnLi9fY29uZmlncyc7XG5pbXBvcnQgdHJhbnNsYXRlIGZyb20gJy4vdHJhbnNsYXRpb25zL3RyYW5zbGF0ZSc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vY29yZS9fZG9tJztcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICcuLi8uLi9jb3JlL19ldmVudGxpc3RlbmVycyc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyB0eXBlLCBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy8gIEFkZCB0aGUgdHJhbnNsYXRpb25zLlxuXG50cmFuc2xhdGUoKTsgLy8gIEFkZCB0aGUgb3B0aW9ucyBhbmQgY29uZmlncy5cblxuTW1lbnUub3B0aW9ucy5zZWFyY2hmaWVsZCA9IG9wdGlvbnM7XG5NbWVudS5jb25maWdzLnNlYXJjaGZpZWxkID0gY29uZmlncztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLnNlYXJjaGZpZWxkKTtcbiAgdGhpcy5vcHRzLnNlYXJjaGZpZWxkID0gZXh0ZW5kKG9wdGlvbnMsIE1tZW51Lm9wdGlvbnMuc2VhcmNoZmllbGQpO1xuICB2YXIgY29uZmlncyA9IHRoaXMuY29uZi5zZWFyY2hmaWVsZDtcblxuICBpZiAoIW9wdGlvbnMuYWRkKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vXHRCbHVyIHNlYXJjaGZpZWxkXG5cblxuICB0aGlzLmJpbmQoJ2Nsb3NlOnN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgIERPTS5maW5kKF90aGlzLm5vZGUubWVudSwgJy5tbS1zZWFyY2hmaWVsZCcpLmZvckVhY2goZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICBpbnB1dC5ibHVyKCk7XG4gICAgfSk7XG4gIH0pO1xuICB0aGlzLmJpbmQoJ2luaXRQYW5lbDphZnRlcicsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgIHZhciBzZWFyY2hwYW5lbCA9IG51bGw7IC8vXHRBZGQgdGhlIHNlYXJjaCBwYW5lbFxuXG4gICAgaWYgKG9wdGlvbnMucGFuZWwuYWRkKSB7XG4gICAgICBzZWFyY2hwYW5lbCA9IGluaXRTZWFyY2hQYW5lbC5jYWxsKF90aGlzKTtcbiAgICB9IC8vXHRBZGQgdGhlIHNlYXJjaGZpZWxkXG5cblxuICAgIHZhciBhZGRUbyA9IG51bGw7XG5cbiAgICBzd2l0Y2ggKG9wdGlvbnMuYWRkVG8pIHtcbiAgICAgIGNhc2UgJ3BhbmVscyc6XG4gICAgICAgIGFkZFRvID0gW3BhbmVsXTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3BhbmVsJzpcbiAgICAgICAgYWRkVG8gPSBbc2VhcmNocGFuZWxdO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmFkZFRvID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgYWRkVG8gPSBET00uZmluZChfdGhpcy5ub2RlLm1lbnUsIG9wdGlvbnMuYWRkVG8pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUob3B0aW9ucy5hZGRUbykgPT0gJ2FycmF5Jykge1xuICAgICAgICAgIGFkZFRvID0gb3B0aW9ucy5hZGRUbztcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGFkZFRvLmZvckVhY2goZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgIGZvcm0gPSBpbml0U2VhcmNoZmllbGQuY2FsbChfdGhpcywgZm9ybSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnNlYXJjaCAmJiBmb3JtKSB7XG4gICAgICAgIGluaXRTZWFyY2hpbmcuY2FsbChfdGhpcywgZm9ybSk7XG4gICAgICB9XG4gICAgfSk7IC8vXHRBZGQgdGhlIG5vLXJlc3VsdHMgbWVzc2FnZVxuXG4gICAgaWYgKG9wdGlvbnMubm9SZXN1bHRzKSB7XG4gICAgICBpbml0Tm9SZXN1bHRzTXNnLmNhbGwoX3RoaXMsIG9wdGlvbnMucGFuZWwuYWRkID8gc2VhcmNocGFuZWwgOiBwYW5lbCk7XG4gICAgfVxuICB9KTsgLy9cdEFkZCBjbGljayBiZWhhdmlvci5cbiAgLy9cdFByZXZlbnRzIGRlZmF1bHQgYmVoYXZpb3Igd2hlbiBjbGlja2luZyBhbiBhbmNob3JcblxuICB0aGlzLmNsY2sucHVzaChmdW5jdGlvbiAoYW5jaG9yLCBhcmdzKSB7XG4gICAgaWYgKGFyZ3MuaW5NZW51KSB7XG4gICAgICBpZiAoYW5jaG9yLm1hdGNoZXMoJy5tbS1zZWFyY2hmaWVsZF9fYnRuJykpIHtcbiAgICAgICAgLy9cdENsaWNraW5nIHRoZSBjbGVhciBidXR0b25cbiAgICAgICAgaWYgKGFuY2hvci5tYXRjaGVzKCcubW0tYnRuX2Nsb3NlJykpIHtcbiAgICAgICAgICB2YXIgZm9ybSA9IGFuY2hvci5jbG9zZXN0KCcubW0tc2VhcmNoZmllbGQnKSxcbiAgICAgICAgICAgICAgaW5wdXQgPSBET00uZmluZChmb3JtLCAnaW5wdXQnKVswXTtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuXG4gICAgICAgICAgX3RoaXMuc2VhcmNoKGlucHV0KTtcblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IC8vXHRDbGlja2luZyB0aGUgc3VibWl0IGJ1dHRvblxuXG5cbiAgICAgICAgaWYgKGFuY2hvci5tYXRjaGVzKCcubW0tYnRuX25leHQnKSkge1xuICAgICAgICAgIHZhciBfZm9ybSA9IGFuY2hvci5jbG9zZXN0KCdmb3JtJyk7XG5cbiAgICAgICAgICBpZiAoX2Zvcm0pIHtcbiAgICAgICAgICAgIF9mb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGluaXRTZWFyY2hQYW5lbCA9IGZ1bmN0aW9uIGluaXRTZWFyY2hQYW5lbCgpIHtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdHMuc2VhcmNoZmllbGQsXG4gICAgICBjb25maWdzID0gdGhpcy5jb25mLnNlYXJjaGZpZWxkOyAvL1x0T25seSBvbmNlXG5cbiAgaWYgKERPTS5jaGlsZHJlbih0aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbF9zZWFyY2gnKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBzZWFyY2hwYW5lbCA9IERPTS5jcmVhdGUoJ2Rpdi5tbS1wYW5lbF9zZWFyY2gnKSxcbiAgICAgIGxpc3R2aWV3ID0gRE9NLmNyZWF0ZSgndWwnKTtcbiAgc2VhcmNocGFuZWwuYXBwZW5kKGxpc3R2aWV3KTtcbiAgdGhpcy5ub2RlLnBubHMuYXBwZW5kKHNlYXJjaHBhbmVsKTtcblxuICBpZiAob3B0aW9ucy5wYW5lbC5pZCkge1xuICAgIHNlYXJjaHBhbmVsLmlkID0gb3B0aW9ucy5wYW5lbC5pZDtcbiAgfVxuXG4gIGlmIChvcHRpb25zLnBhbmVsLnRpdGxlKSB7XG4gICAgc2VhcmNocGFuZWwuc2V0QXR0cmlidXRlKCdkYXRhLW1tLXRpdGxlJywgb3B0aW9ucy5wYW5lbC50aXRsZSk7XG4gIH1cblxuICBzd2l0Y2ggKG9wdGlvbnMucGFuZWwuZngpIHtcbiAgICBjYXNlIGZhbHNlOlxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdub25lJzpcbiAgICAgIHNlYXJjaHBhbmVsLmNsYXNzTGlzdC5hZGQoJ21tLXBhbmVsX25vYW5pbWF0aW9uJyk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBzZWFyY2hwYW5lbC5jbGFzc0xpc3QuYWRkKCdtbS1wYW5lbF9meC0nICsgb3B0aW9ucy5wYW5lbC5meCk7XG4gICAgICBicmVhaztcbiAgfSAvL1x0QWRkIHNwbGFzaCBjb250ZW50XG5cblxuICBpZiAob3B0aW9ucy5wYW5lbC5zcGxhc2gpIHtcbiAgICB2YXIgc3BsYXNoID0gRE9NLmNyZWF0ZSgnZGl2Lm1tLXBhbmVsX19jb250ZW50Jyk7XG4gICAgc3BsYXNoLmlubmVySFRNTCA9IG9wdGlvbnMucGFuZWwuc3BsYXNoO1xuICAgIHNlYXJjaHBhbmVsLmFwcGVuZChzcGxhc2gpO1xuICB9XG5cbiAgdGhpcy5pbml0UGFuZWwoc2VhcmNocGFuZWwpO1xuICByZXR1cm4gc2VhcmNocGFuZWw7XG59O1xuXG52YXIgaW5pdFNlYXJjaGZpZWxkID0gZnVuY3Rpb24gaW5pdFNlYXJjaGZpZWxkKHdyYXBwZXIpIHtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdHMuc2VhcmNoZmllbGQsXG4gICAgICBjb25maWdzID0gdGhpcy5jb25mLnNlYXJjaGZpZWxkOyAvL1x0Tm8gc2VhcmNoZmllbGQgaW4gdmVydGljYWwgc3VibWVudXNcblxuICBpZiAod3JhcHBlci5wYXJlbnRFbGVtZW50Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV92ZXJ0aWNhbCcpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy9cdE9ubHkgb25lIHNlYXJjaGZpZWxkIHBlciBwYW5lbFxuXG5cbiAgdmFyIGZvcm0gPSBET00uZmluZCh3cmFwcGVyLCAnLm1tLXNlYXJjaGZpZWxkJylbMF07XG5cbiAgaWYgKGZvcm0pIHtcbiAgICByZXR1cm4gZm9ybTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cikge1xuICAgIGlmIChhdHRyKSB7XG4gICAgICBmb3IgKHZhciBhIGluIGF0dHIpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYSwgYXR0clthXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGZvcm0gPSBET00uY3JlYXRlKChjb25maWdzLmZvcm0gPyAnZm9ybScgOiAnZGl2JykgKyAnLm1tLXNlYXJjaGZpZWxkJyksXG4gICAgICBmaWVsZCA9IERPTS5jcmVhdGUoJ2Rpdi5tbS1zZWFyY2hmaWVsZF9faW5wdXQnKSxcbiAgICAgIGlucHV0ID0gRE9NLmNyZWF0ZSgnaW5wdXQnKTtcbiAgaW5wdXQudHlwZSA9ICd0ZXh0JztcbiAgaW5wdXQuYXV0b2NvbXBsZXRlID0gJ29mZic7XG4gIGlucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5pMThuKG9wdGlvbnMucGxhY2Vob2xkZXIpO1xuICBmaWVsZC5hcHBlbmQoaW5wdXQpO1xuICBmb3JtLmFwcGVuZChmaWVsZCk7XG4gIHdyYXBwZXIucHJlcGVuZChmb3JtKTsgLy9cdEFkZCBhdHRyaWJ1dGVzIHRvIHRoZSBpbnB1dFxuXG4gIGFkZEF0dHJpYnV0ZXMoaW5wdXQsIGNvbmZpZ3MuaW5wdXQpOyAvL1x0QWRkIHRoZSBjbGVhciBidXR0b25cblxuICBpZiAoY29uZmlncy5jbGVhcikge1xuICAgIHZhciBhbmNob3IgPSBET00uY3JlYXRlKCdhLm1tLWJ0bi5tbS1idG5fY2xvc2UubW0tc2VhcmNoZmllbGRfX2J0bicpO1xuICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpO1xuICAgIGZpZWxkLmFwcGVuZChhbmNob3IpO1xuICB9IC8vXHRBZGQgYXR0cmlidXRlcyBhbmQgc3VibWl0IHRvIHRoZSBmb3JtXG5cblxuICBhZGRBdHRyaWJ1dGVzKGZvcm0sIGNvbmZpZ3MuZm9ybSk7XG5cbiAgaWYgKGNvbmZpZ3MuZm9ybSAmJiBjb25maWdzLnN1Ym1pdCAmJiAhY29uZmlncy5jbGVhcikge1xuICAgIHZhciBfYW5jaG9yID0gRE9NLmNyZWF0ZSgnYS5tbS1idG4ubW0tYnRuX25leHQubW0tc2VhcmNoZmllbGRfX2J0bicpO1xuXG4gICAgX2FuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpO1xuXG4gICAgZmllbGQuYXBwZW5kKF9hbmNob3IpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuY2FuY2VsKSB7XG4gICAgdmFyIF9hbmNob3IyID0gRE9NLmNyZWF0ZSgnYS5tbS1zZWFyY2hmaWVsZF9fY2FuY2VsJyk7XG5cbiAgICBfYW5jaG9yMi5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpO1xuXG4gICAgX2FuY2hvcjIudGV4dENvbnRlbnQgPSB0aGlzLmkxOG4oJ2NhbmNlbCcpO1xuICAgIGZvcm0uYXBwZW5kKF9hbmNob3IyKTtcbiAgfVxuXG4gIHJldHVybiBmb3JtO1xufTtcblxudmFyIGluaXRTZWFyY2hpbmcgPSBmdW5jdGlvbiBpbml0U2VhcmNoaW5nKGZvcm0pIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdHMuc2VhcmNoZmllbGQsXG4gICAgICBjb25maWdzID0gdGhpcy5jb25mLnNlYXJjaGZpZWxkO1xuICB2YXIgZGF0YSA9IHt9OyAvL1x0SW4gdGhlIHNlYXJjaHBhbmVsLlxuXG4gIGlmIChmb3JtLmNsb3Nlc3QoJy5tbS1wYW5lbF9zZWFyY2gnKSkge1xuICAgIGRhdGEucGFuZWxzID0gRE9NLmZpbmQodGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWwnKTtcbiAgICBkYXRhLm5vcmVzdWx0cyA9IFtmb3JtLmNsb3Nlc3QoJy5tbS1wYW5lbCcpXTsgLy9cdEluIGEgcGFuZWxcbiAgfSBlbHNlIGlmIChmb3JtLmNsb3Nlc3QoJy5tbS1wYW5lbCcpKSB7XG4gICAgZGF0YS5wYW5lbHMgPSBbZm9ybS5jbG9zZXN0KCcubW0tcGFuZWwnKV07XG4gICAgZGF0YS5ub3Jlc3VsdHMgPSBkYXRhLnBhbmVsczsgLy9cdE5vdCBpbiBhIHBhbmVsLCBnbG9iYWxcbiAgfSBlbHNlIHtcbiAgICBkYXRhLnBhbmVscyA9IERPTS5maW5kKHRoaXMubm9kZS5wbmxzLCAnLm1tLXBhbmVsJyk7XG4gICAgZGF0YS5ub3Jlc3VsdHMgPSBbdGhpcy5ub2RlLm1lbnVdO1xuICB9IC8vXHRGaWx0ZXIgb3V0IHZlcnRpY2FsIHN1Ym1lbnVzXG5cblxuICBkYXRhLnBhbmVscyA9IGRhdGEucGFuZWxzLmZpbHRlcihmdW5jdGlvbiAocGFuZWwpIHtcbiAgICByZXR1cm4gIXBhbmVsLnBhcmVudEVsZW1lbnQubWF0Y2hlcygnLm1tLWxpc3RpdGVtX3ZlcnRpY2FsJyk7XG4gIH0pOyAvL1x0RmlsdGVyIG91dCBzZWFyY2ggcGFuZWxcblxuICBkYXRhLnBhbmVscyA9IGRhdGEucGFuZWxzLmZpbHRlcihmdW5jdGlvbiAocGFuZWwpIHtcbiAgICByZXR1cm4gIXBhbmVsLm1hdGNoZXMoJy5tbS1wYW5lbF9zZWFyY2gnKTtcbiAgfSk7IC8vICBGaW5kIGxpc3RpdGVtcyBhbmQgZGl2aWRlcnMuXG5cbiAgZGF0YS5saXN0aXRlbXMgPSBbXTtcbiAgZGF0YS5kaXZpZGVycyA9IFtdO1xuICBkYXRhLnBhbmVscy5mb3JFYWNoKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgIHZhciBfZGF0YSRsaXN0aXRlbXMsIF9kYXRhJGRpdmlkZXJzO1xuXG4gICAgKF9kYXRhJGxpc3RpdGVtcyA9IGRhdGEubGlzdGl0ZW1zKS5wdXNoLmFwcGx5KF9kYXRhJGxpc3RpdGVtcywgX3RvQ29uc3VtYWJsZUFycmF5KERPTS5maW5kKHBhbmVsLCAnLm1tLWxpc3RpdGVtJykpKTtcblxuICAgIChfZGF0YSRkaXZpZGVycyA9IGRhdGEuZGl2aWRlcnMpLnB1c2guYXBwbHkoX2RhdGEkZGl2aWRlcnMsIF90b0NvbnN1bWFibGVBcnJheShET00uZmluZChwYW5lbCwgJy5tbS1kaXZpZGVyJykpKTtcbiAgfSk7XG4gIHZhciBzZWFyY2hwYW5lbCA9IERPTS5jaGlsZHJlbih0aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbF9zZWFyY2gnKVswXSxcbiAgICAgIGlucHV0ID0gRE9NLmZpbmQoZm9ybSwgJ2lucHV0JylbMF0sXG4gICAgICBjYW5jZWwgPSBET00uZmluZChmb3JtLCAnLm1tLXNlYXJjaGZpZWxkX19jYW5jZWwnKVswXTtcbiAgaW5wdXRbJ21tU2VhcmNoZmllbGQnXSA9IGRhdGE7IC8vXHRPcGVuIHRoZSBzcGxhc2ggcGFuZWwgd2hlbiBmb2N1c3NpbmcgdGhlIGlucHV0LlxuXG4gIGlmIChvcHRpb25zLnBhbmVsLmFkZCAmJiBvcHRpb25zLnBhbmVsLnNwbGFzaCkge1xuICAgIGV2ZW50cy5vZmYoaW5wdXQsICdmb2N1cy5zcGxhc2gnKTtcbiAgICBldmVudHMub24oaW5wdXQsICdmb2N1cy5zcGxhc2gnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgICAgX3RoaXMyLm9wZW5QYW5lbChzZWFyY2hwYW5lbCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5jYW5jZWwpIHtcbiAgICAvL1x0U2hvdyB0aGUgY2FuY2VsIGJ1dHRvbiB3aGVuIGZvY3Vzc2luZyB0aGUgaW5wdXQuXG4gICAgZXZlbnRzLm9mZihpbnB1dCwgJ2ZvY3VzLmNhbmNlbCcpO1xuICAgIGV2ZW50cy5vbihpbnB1dCwgJ2ZvY3VzLmNhbmNlbCcsIGZ1bmN0aW9uIChldm50KSB7XG4gICAgICBjYW5jZWwuY2xhc3NMaXN0LmFkZCgnbW0tc2VhcmNoZmllbGRfX2NhbmNlbC1hY3RpdmUnKTtcbiAgICB9KTsgLy9cdENsb3NlIHRoZSBzcGxhc2ggcGFuZWwgd2hlbiBjbGlja2luZyB0aGUgY2FuY2VsIGJ1dHRvbi5cblxuICAgIGV2ZW50cy5vZmYoY2FuY2VsLCAnY2xpY2suc3BsYXNoJyk7XG4gICAgZXZlbnRzLm9uKGNhbmNlbCwgJ2NsaWNrLnNwbGFzaCcsIGZ1bmN0aW9uIChldm50KSB7XG4gICAgICBldm50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjYW5jZWwuY2xhc3NMaXN0LnJlbW92ZSgnbW0tc2VhcmNoZmllbGRfX2NhbmNlbC1hY3RpdmUnKTtcblxuICAgICAgaWYgKHNlYXJjaHBhbmVsLm1hdGNoZXMoJy5tbS1wYW5lbF9vcGVuZWQnKSkge1xuICAgICAgICB2YXIgcGFyZW50cyA9IERPTS5jaGlsZHJlbihfdGhpczIubm9kZS5wbmxzLCAnLm1tLXBhbmVsX29wZW5lZC1wYXJlbnQnKTtcblxuICAgICAgICBpZiAocGFyZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBfdGhpczIub3BlblBhbmVsKHBhcmVudHNbcGFyZW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSAvL1x0Rm9jdXMgdGhlIGlucHV0IGluIHRoZSBzZWFyY2hwYW5lbCB3aGVuIG9wZW5pbmcgdGhlIHNlYXJjaHBhbmVsLlxuXG5cbiAgaWYgKG9wdGlvbnMucGFuZWwuYWRkICYmIG9wdGlvbnMuYWRkVG8gPT0gJ3BhbmVsJykge1xuICAgIHRoaXMuYmluZCgnb3BlblBhbmVsOmZpbmlzaCcsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgaWYgKHBhbmVsID09PSBzZWFyY2hwYW5lbCkge1xuICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IC8vXHRTZWFyY2ggd2hpbGUgdHlwaW5nLlxuXG5cbiAgZXZlbnRzLm9mZihpbnB1dCwgJ2lucHV0LnNlYXJjaCcpO1xuICBldmVudHMub24oaW5wdXQsICdpbnB1dC5zZWFyY2gnLCBmdW5jdGlvbiAoZXZudCkge1xuICAgIHN3aXRjaCAoZXZudC5rZXlDb2RlKSB7XG4gICAgICBjYXNlIDk6IC8vXHR0YWJcblxuICAgICAgY2FzZSAxNjogLy9cdHNoaWZ0XG5cbiAgICAgIGNhc2UgMTc6IC8vXHRjb250cm9sXG5cbiAgICAgIGNhc2UgMTg6IC8vXHRhbHRcblxuICAgICAgY2FzZSAzNzogLy9cdGxlZnRcblxuICAgICAgY2FzZSAzODogLy9cdHRvcFxuXG4gICAgICBjYXNlIDM5OiAvL1x0cmlnaHRcblxuICAgICAgY2FzZSA0MDpcbiAgICAgICAgLy9cdGJvdHRvbVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgX3RoaXMyLnNlYXJjaChpbnB1dCk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTsgLy9cdFNlYXJjaCBpbml0aWFsbHkuXG5cbiAgdGhpcy5zZWFyY2goaW5wdXQpO1xufTtcblxudmFyIGluaXROb1Jlc3VsdHNNc2cgPSBmdW5jdGlvbiBpbml0Tm9SZXN1bHRzTXNnKHdyYXBwZXIpIHtcbiAgaWYgKCF3cmFwcGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdHMuc2VhcmNoZmllbGQsXG4gICAgICBjb25maWdzID0gdGhpcy5jb25mLnNlYXJjaGZpZWxkOyAvL1x0Tm90IGluIGEgcGFuZWxcblxuICBpZiAoIXdyYXBwZXIuY2xvc2VzdCgnLm1tLXBhbmVsJykpIHtcbiAgICB3cmFwcGVyID0gRE9NLmNoaWxkcmVuKHRoaXMubm9kZS5wbmxzLCAnLm1tLXBhbmVsJylbMF07XG4gIH0gLy9cdE9ubHkgb25jZVxuXG5cbiAgaWYgKERPTS5jaGlsZHJlbih3cmFwcGVyLCAnLm1tLXBhbmVsX19ub3Jlc3VsdHNtc2cnKS5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH0gLy9cdEFkZCBuby1yZXN1bHRzIG1lc3NhZ2VcblxuXG4gIHZhciBtZXNzYWdlID0gRE9NLmNyZWF0ZSgnZGl2Lm1tLXBhbmVsX19ub3Jlc3VsdHNtc2cubW0taGlkZGVuJyk7XG4gIG1lc3NhZ2UuaW5uZXJIVE1MID0gdGhpcy5pMThuKG9wdGlvbnMubm9SZXN1bHRzKTtcbiAgd3JhcHBlci5hcHBlbmQobWVzc2FnZSk7XG59O1xuXG5NbWVudS5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKGlucHV0LCBxdWVyeSkge1xuICB2YXIgX3RoaXMzID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0cy5zZWFyY2hmaWVsZCxcbiAgICAgIGNvbmZpZ3MgPSB0aGlzLmNvbmYuc2VhcmNoZmllbGQ7XG4gIHF1ZXJ5ID0gcXVlcnkgfHwgJycgKyBpbnB1dC52YWx1ZTtcbiAgcXVlcnkgPSBxdWVyeS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgdmFyIGRhdGEgPSBpbnB1dFsnbW1TZWFyY2hmaWVsZCddO1xuICB2YXIgZm9ybSA9IGlucHV0LmNsb3Nlc3QoJy5tbS1zZWFyY2hmaWVsZCcpLFxuICAgICAgYnV0dG9ucyA9IERPTS5maW5kKGZvcm0sICcubW0tYnRuJyksXG4gICAgICBzZWFyY2hwYW5lbCA9IERPTS5jaGlsZHJlbih0aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbF9zZWFyY2gnKVswXTtcbiAgLyoqIFRoZSBwYW5lbHMuICovXG5cbiAgdmFyIHBhbmVscyA9IGRhdGEucGFuZWxzO1xuICAvKiogVGhlIFwibm8gcmVzdWx0c1wiIG1lc3NhZ2VzIGluIGEgY2xvbmVkIGFycmF5LiAqL1xuXG4gIHZhciBub3Jlc3VsdHMgPSBkYXRhLm5vcmVzdWx0cztcbiAgLyoqIFRoZSBsaXN0aXRlbXMgaW4gYSBjbG9uZWQgYXJyYXkuICovXG5cbiAgdmFyIGxpc3RpdGVtcyA9IGRhdGEubGlzdGl0ZW1zO1xuICAvKiogVGplIGRpdmlkZXJzIGluIGEgY2xvbmVkIGFycmF5LiAqL1xuXG4gIHZhciBkaXZpZGVycyA9IGRhdGEuZGl2aWRlcnM7IC8vXHRSZXNldCBwcmV2aW91cyByZXN1bHRzXG5cbiAgbGlzdGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgbGlzdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbW0tbGlzdGl0ZW1fbm9zdWJpdGVtcycsICdtbS1saXN0aXRlbV9vbmx5c3ViaXRlbXMnLCAnbW0taGlkZGVuJyk7XG4gIH0pO1xuXG4gIGlmIChzZWFyY2hwYW5lbCkge1xuICAgIERPTS5jaGlsZHJlbihzZWFyY2hwYW5lbCwgJy5tbS1saXN0dmlldycpWzBdLmlubmVySFRNTCA9ICcnO1xuICB9XG5cbiAgcGFuZWxzLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgcGFuZWwuc2Nyb2xsVG9wID0gMDtcbiAgfSk7IC8vXHRTZWFyY2hcblxuICBpZiAocXVlcnkubGVuZ3RoKSB7XG4gICAgLy9cdEluaXRpYWxseSBoaWRlIGFsbCBkaXZpZGVycy5cbiAgICBkaXZpZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChkaXZpZGVyKSB7XG4gICAgICBkaXZpZGVyLmNsYXNzTGlzdC5hZGQoJ21tLWhpZGRlbicpO1xuICAgIH0pOyAvL1x0SGlkZSBsaXN0aXRlbXMgdGhhdCBkbyBub3QgbWF0Y2guXG5cbiAgICBsaXN0aXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICAgIHZhciB0ZXh0ID0gRE9NLmNoaWxkcmVuKGxpc3RpdGVtLCAnLm1tLWxpc3RpdGVtX190ZXh0JylbMF07XG4gICAgICB2YXIgYWRkID0gZmFsc2U7IC8vICBUaGUgbGlzdGl0ZW0gc2hvdWxkIGJlIHNob3duIGlmOlxuICAgICAgLy8gICAgICAxKSBUaGUgdGV4dCBtYXRjaGVzIHRoZSBxdWVyeSBhbmRcbiAgICAgIC8vICAgICAgICAgIDJhKSBUaGUgdGV4dCBpcyBhIG9wZW4tYnV0dG9uIGFuZFxuICAgICAgLy8gICAgICAgICAgMmIpIHRoZSBvcHRpb24gc2hvd1N1YlBhbmVscyBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgIC8vICAgICAgb3IgIDNhKSBUaGUgdGV4dCBpcyBub3QgYW4gYW5jaG9yIGFuZFxuICAgICAgLy8gICAgICAgICAgM2IpIHRoZSBvcHRpb24gc2hvd1RleHRJdGVtcyBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgIC8vICAgICAgb3IgIDQpICBUaGUgdGV4dCBpcyBhbiBhbmNob3IuXG4gICAgICAvLyAgMVxuXG4gICAgICBpZiAodGV4dCAmJiBET00udGV4dCh0ZXh0KS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnkpID4gLTEpIHtcbiAgICAgICAgLy8gIDJhXG4gICAgICAgIGlmICh0ZXh0Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV9fYnRuJykpIHtcbiAgICAgICAgICAvLyAgMmJcbiAgICAgICAgICBpZiAob3B0aW9ucy5zaG93U3ViUGFuZWxzKSB7XG4gICAgICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgICAgIH0gLy8gIDNhXG5cbiAgICAgICAgfSBlbHNlIGlmICghdGV4dC5tYXRjaGVzKCdhJykpIHtcbiAgICAgICAgICAvLyAgM2JcbiAgICAgICAgICBpZiAob3B0aW9ucy5zaG93VGV4dEl0ZW1zKSB7XG4gICAgICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgICAgIH0gLy8gNFxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWFkZCkge1xuICAgICAgICBsaXN0aXRlbS5jbGFzc0xpc3QuYWRkKCdtbS1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKiogV2hldGhlciBvciBub3QgdGhlIHF1ZXJ5IHlpZWxkZWQgcmVzdWx0cy4gKi9cblxuICAgIHZhciBoYXNSZXN1bHRzID0gbGlzdGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAobGlzdGl0ZW0pIHtcbiAgICAgIHJldHVybiAhbGlzdGl0ZW0ubWF0Y2hlcygnLm1tLWhpZGRlbicpO1xuICAgIH0pLmxlbmd0aDsgLy9cdFNob3cgYWxsIG1hY2hlZCBsaXN0aXRlbXMgaW4gdGhlIHNlYXJjaCBwYW5lbFxuXG4gICAgaWYgKG9wdGlvbnMucGFuZWwuYWRkKSB7XG4gICAgICB2YXIgX0RPTSRjaGlsZHJlbiQ7XG5cbiAgICAgIC8vXHRDbG9uZSBhbGwgbWF0Y2hlZCBsaXN0aXRlbXMgaW50byB0aGUgc2VhcmNoIHBhbmVsXG4gICAgICB2YXIgYWxsaXRlbXMgPSBbXTtcbiAgICAgIHBhbmVscy5mb3JFYWNoKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgICB2YXIgbGlzdGl0ZW1zID0gRE9NLmZpbHRlckxJKERPTS5maW5kKHBhbmVsLCAnLm1tLWxpc3RpdGVtJykpO1xuICAgICAgICBsaXN0aXRlbXMgPSBsaXN0aXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICAgIHJldHVybiAhbGlzdGl0ZW0ubWF0Y2hlcygnLm1tLWhpZGRlbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobGlzdGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIC8vICBBZGQgYSBkaXZpZGVyIHRvIGluZGljYXRlIGluIHdoYXQgcGFuZWwgdGhlIGxpc3RpdGVtcyB3ZXJlLlxuICAgICAgICAgIGlmIChvcHRpb25zLnBhbmVsLmRpdmlkZXJzKSB7XG4gICAgICAgICAgICB2YXIgZGl2aWRlciA9IERPTS5jcmVhdGUoJ2xpLm1tLWRpdmlkZXInKTtcbiAgICAgICAgICAgIGRpdmlkZXIuaW5uZXJIVE1MID0gcGFuZWwucXVlcnlTZWxlY3RvcignLm1tLW5hdmJhcl9fdGl0bGUnKS5pbm5lckhUTUw7XG4gICAgICAgICAgICBhbGxpdGVtcy5wdXNoKGRpdmlkZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICAgICAgYWxsaXRlbXMucHVzaChsaXN0aXRlbS5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTsgLy9cdFJlbW92ZSB0b2dnbGVzIGFuZCBjaGVja3MuXG5cbiAgICAgIGFsbGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgIGxpc3RpdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tbS10b2dnbGUsIC5tbS1jaGVjaycpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pOyAvL1x0QWRkIHRvIHRoZSBzZWFyY2ggcGFuZWwuXG5cbiAgICAgIChfRE9NJGNoaWxkcmVuJCA9IERPTS5jaGlsZHJlbihzZWFyY2hwYW5lbCwgJy5tbS1saXN0dmlldycpWzBdKS5hcHBlbmQuYXBwbHkoX0RPTSRjaGlsZHJlbiQsIGFsbGl0ZW1zKTsgLy9cdE9wZW4gdGhlIHNlYXJjaCBwYW5lbC5cblxuXG4gICAgICB0aGlzLm9wZW5QYW5lbChzZWFyY2hwYW5lbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vXHRBbHNvIHNob3cgbGlzdGl0ZW1zIGluIHN1Yi1wYW5lbHMgZm9yIG1hdGNoZWQgbGlzdGl0ZW1zXG4gICAgICBpZiAob3B0aW9ucy5zaG93U3ViUGFuZWxzKSB7XG4gICAgICAgIHBhbmVscy5mb3JFYWNoKGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgICAgIHZhciBsaXN0aXRlbXMgPSBET00uZmluZChwYW5lbCwgJy5tbS1saXN0aXRlbScpO1xuICAgICAgICAgIERPTS5maWx0ZXJMSShsaXN0aXRlbXMpLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBsaXN0aXRlbVsnbW1DaGlsZCddO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgRE9NLmZpbmQoY2hpbGQsICcubW0tbGlzdGl0ZW0nKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICAgICAgICAgIGxpc3RpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ21tLWhpZGRlbicpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vXHRVcGRhdGUgcGFyZW50IGZvciBzdWItcGFuZWxcbiAgICAgIC8vICAucmV2ZXJzZSgpIG11dGF0ZXMgdGhlIG9yaWdpbmFsIGFycmF5LCB0aGVyZWZvciB3ZSBcImNsb25lXCIgaXQgZmlyc3QgdXNpbmcgWy4uLnBhbmVsc10uXG5cblxuICAgICAgX3RvQ29uc3VtYWJsZUFycmF5KHBhbmVscykucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsLCBwKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBwYW5lbFsnbW1QYXJlbnQnXTtcblxuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgLy9cdFRoZSBjdXJyZW50IHBhbmVsIGhhcyBtYWNoZWQgbGlzdGl0ZW1zXG4gICAgICAgICAgdmFyIF9saXN0aXRlbXMgPSBET00uZmluZChwYW5lbCwgJy5tbS1saXN0aXRlbScpO1xuXG4gICAgICAgICAgaWYgKERPTS5maWx0ZXJMSShfbGlzdGl0ZW1zKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vXHRTaG93IHBhcmVudFxuICAgICAgICAgICAgaWYgKHBhcmVudC5tYXRjaGVzKCcubW0taGlkZGVuJykpIHtcbiAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21tLWhpZGRlbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnbW0tbGlzdGl0ZW1fb25seXN1Yml0ZW1zJyk7XG4gICAgICAgICAgfSBlbHNlIGlmICghaW5wdXQuY2xvc2VzdCgnLm1tLXBhbmVsJykpIHtcbiAgICAgICAgICAgIGlmIChwYW5lbC5tYXRjaGVzKCcubW0tcGFuZWxfb3BlbmVkJykgfHwgcGFuZWwubWF0Y2hlcygnLm1tLXBhbmVsX29wZW5lZC1wYXJlbnQnKSkge1xuICAgICAgICAgICAgICAvL1x0Q29tcGVuc2F0ZSB0aGUgdGltZW91dCBmb3IgdGhlIG9wZW5pbmcgYW5pbWF0aW9uXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vcGVuUGFuZWwocGFyZW50LmNsb3Nlc3QoJy5tbS1wYW5lbCcpKTtcbiAgICAgICAgICAgICAgfSwgKHAgKyAxKSAqIChfdGhpczMuY29uZi5vcGVuaW5nSW50ZXJ2YWwgKiAxLjUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoJ21tLWxpc3RpdGVtX25vc3ViaXRlbXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pOyAvL1x0U2hvdyBmaXJzdCBwcmVjZWVkaW5nIGRpdmlkZXIgb2YgcGFyZW50XG5cblxuICAgICAgcGFuZWxzLmZvckVhY2goZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgIHZhciBsaXN0aXRlbXMgPSBET00uZmluZChwYW5lbCwgJy5tbS1saXN0aXRlbScpO1xuICAgICAgICBET00uZmlsdGVyTEkobGlzdGl0ZW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICAgIHZhciBkaXZpZGVyID0gRE9NLnByZXZBbGwobGlzdGl0ZW0sICcubW0tZGl2aWRlcicpWzBdO1xuXG4gICAgICAgICAgaWYgKGRpdmlkZXIpIHtcbiAgICAgICAgICAgIGRpdmlkZXIuY2xhc3NMaXN0LnJlbW92ZSgnbW0taGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gLy9cdFNob3cgc3VibWl0IC8gY2xlYXIgYnV0dG9uXG5cblxuICAgIGJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICByZXR1cm4gYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21tLWhpZGRlbicpO1xuICAgIH0pOyAvL1x0U2hvdy9oaWRlIG5vIHJlc3VsdHMgbWVzc2FnZVxuXG4gICAgbm9yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHdyYXBwZXIpIHtcbiAgICAgIERPTS5maW5kKHdyYXBwZXIsICcubW0tcGFuZWxfX25vcmVzdWx0c21zZycpLmZvckVhY2goZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY2xhc3NMaXN0W2hhc1Jlc3VsdHMgPyAnYWRkJyA6ICdyZW1vdmUnXSgnbW0taGlkZGVuJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGlmIChvcHRpb25zLnBhbmVsLmFkZCkge1xuICAgICAgLy9cdEhpZGUgc3BsYXNoXG4gICAgICBpZiAob3B0aW9ucy5wYW5lbC5zcGxhc2gpIHtcbiAgICAgICAgRE9NLmZpbmQoc2VhcmNocGFuZWwsICcubW0tcGFuZWxfX2NvbnRlbnQnKS5mb3JFYWNoKGZ1bmN0aW9uIChzcGxhc2gpIHtcbiAgICAgICAgICByZXR1cm4gc3BsYXNoLmNsYXNzTGlzdC5hZGQoJ21tLWhpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy9cdFJlLXNob3cgb3JpZ2luYWwgbGlzdGl0ZW1zIHdoZW4gaW4gc2VhcmNoIHBhbmVsXG5cblxuICAgICAgbGlzdGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgIHJldHVybiBsaXN0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdtbS1oaWRkZW4nKTtcbiAgICAgIH0pO1xuICAgICAgZGl2aWRlcnMuZm9yRWFjaChmdW5jdGlvbiAoZGl2aWRlcikge1xuICAgICAgICByZXR1cm4gZGl2aWRlci5jbGFzc0xpc3QucmVtb3ZlKCdtbS1oaWRkZW4nKTtcbiAgICAgIH0pO1xuICAgIH0gLy9cdERvbid0IHNlYXJjaFxuXG4gIH0gZWxzZSB7XG4gICAgLy9cdFNob3cgYWxsIGl0ZW1zXG4gICAgbGlzdGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICByZXR1cm4gbGlzdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbW0taGlkZGVuJyk7XG4gICAgfSk7XG4gICAgZGl2aWRlcnMuZm9yRWFjaChmdW5jdGlvbiAoZGl2aWRlcikge1xuICAgICAgcmV0dXJuIGRpdmlkZXIuY2xhc3NMaXN0LnJlbW92ZSgnbW0taGlkZGVuJyk7XG4gICAgfSk7IC8vXHRIaWRlIHN1Ym1pdCAvIGNsZWFyIGJ1dHRvblxuXG4gICAgYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24pIHtcbiAgICAgIHJldHVybiBidXR0b24uY2xhc3NMaXN0LmFkZCgnbW0taGlkZGVuJyk7XG4gICAgfSk7IC8vXHRIaWRlIG5vIHJlc3VsdHMgbWVzc2FnZVxuXG4gICAgbm9yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHdyYXBwZXIpIHtcbiAgICAgIERPTS5maW5kKHdyYXBwZXIsICcubW0tcGFuZWxfX25vcmVzdWx0c21zZycpLmZvckVhY2goZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnbW0taGlkZGVuJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGlmIChvcHRpb25zLnBhbmVsLmFkZCkge1xuICAgICAgLy9cdFNob3cgc3BsYXNoXG4gICAgICBpZiAob3B0aW9ucy5wYW5lbC5zcGxhc2gpIHtcbiAgICAgICAgRE9NLmZpbmQoc2VhcmNocGFuZWwsICcubW0tcGFuZWxfX2NvbnRlbnQnKS5mb3JFYWNoKGZ1bmN0aW9uIChzcGxhc2gpIHtcbiAgICAgICAgICByZXR1cm4gc3BsYXNoLmNsYXNzTGlzdC5yZW1vdmUoJ21tLWhpZGRlbicpO1xuICAgICAgICB9KTsgLy9cdENsb3NlIHBhbmVsXG4gICAgICB9IGVsc2UgaWYgKCFpbnB1dC5jbG9zZXN0KCcubW0tcGFuZWxfc2VhcmNoJykpIHtcbiAgICAgICAgdmFyIG9wZW5lZCA9IERPTS5jaGlsZHJlbih0aGlzLm5vZGUucG5scywgJy5tbS1wYW5lbF9vcGVuZWQtcGFyZW50Jyk7XG4gICAgICAgIHRoaXMub3BlblBhbmVsKG9wZW5lZC5zbGljZSgtMSlbMF0pO1xuICAgICAgfVxuICAgIH1cbiAgfSAvL1x0VXBkYXRlIGZvciBvdGhlciBhZGRvbnNcblxuXG4gIHRoaXMudHJpZ2dlcigndXBkYXRlTGlzdHZpZXcnKTtcbn07IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGFkZDogZmFsc2UsXG4gIGFkZFRvOiAncGFuZWxzJ1xufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBhZGQ6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucykgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cbjsiLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5zcGxpdFwiO1xuaW1wb3J0IE1tZW51IGZyb20gJy4uLy4uL2NvcmUvb25jYW52YXMvbW1lbnUub25jYW52YXMnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vY29yZS9fZG9tJztcbmltcG9ydCAqIGFzIHN1cHBvcnQgZnJvbSAnLi4vLi4vY29yZS9fc3VwcG9ydCc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy8gIEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5zZWN0aW9uSW5kZXhlciA9IG9wdGlvbnM7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSBleHRlbmRTaG9ydGhhbmRPcHRpb25zKHRoaXMub3B0cy5zZWN0aW9uSW5kZXhlcik7XG4gIHRoaXMub3B0cy5zZWN0aW9uSW5kZXhlciA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLnNlY3Rpb25JbmRleGVyKTtcblxuICBpZiAoIW9wdGlvbnMuYWRkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5iaW5kKCdpbml0UGFuZWxzOmFmdGVyJywgZnVuY3Rpb24gKCkge1xuICAgIC8vXHRBZGQgdGhlIGluZGV4ZXIsIG9ubHkgaWYgaXQgZG9lcyBub3QgYWxscmVhZHkgZXhjaXN0c1xuICAgIGlmICghX3RoaXMubm9kZS5pbmR4KSB7XG4gICAgICB2YXIgYnV0dG9ucyA9ICcnO1xuICAgICAgJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG4gICAgICAgIGJ1dHRvbnMgKz0gJzxhIGhyZWY9XCIjXCI+JyArIGxldHRlciArICc8L2E+JztcbiAgICAgIH0pO1xuICAgICAgdmFyIGluZGV4ZXIgPSBET00uY3JlYXRlKCdkaXYubW0tc2VjdGlvbmluZGV4ZXInKTtcbiAgICAgIGluZGV4ZXIuaW5uZXJIVE1MID0gYnV0dG9ucztcblxuICAgICAgX3RoaXMubm9kZS5wbmxzLnByZXBlbmQoaW5kZXhlcik7XG5cbiAgICAgIF90aGlzLm5vZGUuaW5keCA9IGluZGV4ZXI7IC8vXHRQcmV2ZW50IGRlZmF1bHQgYmVoYXZpb3Igd2hlbiBjbGlja2luZyBhbiBhbmNob3JcblxuICAgICAgX3RoaXMubm9kZS5pbmR4LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2bnQpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IGV2bnQudGFyZ2V0O1xuXG4gICAgICAgIGlmIChhbmNob3IubWF0Y2hlcygnYScpKSB7XG4gICAgICAgICAgZXZudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy9cdFNjcm9sbCBvbk1vdXNlT3ZlciAvIG9uVG91Y2hTdGFydFxuXG5cbiAgICAgIHZhciBtb3VzZU92ZXJFdmVudCA9IGZ1bmN0aW9uIG1vdXNlT3ZlckV2ZW50KGV2bnQpIHtcbiAgICAgICAgaWYgKCFldm50LnRhcmdldC5tYXRjaGVzKCdhJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGV0dGVyID0gZXZudC50YXJnZXQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICBwYW5lbCA9IERPTS5jaGlsZHJlbihfdGhpcy5ub2RlLnBubHMsICcubW0tcGFuZWxfb3BlbmVkJylbMF07XG4gICAgICAgIHZhciBuZXdUb3AgPSAtMSxcbiAgICAgICAgICAgIG9sZFRvcCA9IHBhbmVsLnNjcm9sbFRvcDtcbiAgICAgICAgcGFuZWwuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgRE9NLmZpbmQocGFuZWwsICcubW0tZGl2aWRlcicpLmZpbHRlcihmdW5jdGlvbiAoZGl2aWRlcikge1xuICAgICAgICAgIHJldHVybiAhZGl2aWRlci5tYXRjaGVzKCcubW0taGlkZGVuJyk7XG4gICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGRpdmlkZXIpIHtcbiAgICAgICAgICBpZiAobmV3VG9wIDwgMCAmJiBsZXR0ZXIgPT0gZGl2aWRlci50ZXh0Q29udGVudC50cmltKCkuc2xpY2UoMCwgMSkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgbmV3VG9wID0gZGl2aWRlci5vZmZzZXRUb3A7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGFuZWwuc2Nyb2xsVG9wID0gbmV3VG9wID4gLTEgPyBuZXdUb3AgOiBvbGRUb3A7XG4gICAgICB9O1xuXG4gICAgICBpZiAoc3VwcG9ydC50b3VjaCkge1xuICAgICAgICBfdGhpcy5ub2RlLmluZHguYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG1vdXNlT3ZlckV2ZW50KTtcblxuICAgICAgICBfdGhpcy5ub2RlLmluZHguYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgbW91c2VPdmVyRXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMubm9kZS5pbmR4LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIG1vdXNlT3ZlckV2ZW50KTtcbiAgICAgIH1cbiAgICB9IC8vXHRTaG93IG9yIGhpZGUgdGhlIGluZGV4ZXJcblxuXG4gICAgX3RoaXMuYmluZCgnb3BlblBhbmVsOnN0YXJ0JywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICB2YXIgYWN0aXZlID0gRE9NLmZpbmQocGFuZWwsICcubW0tZGl2aWRlcicpLmZpbHRlcihmdW5jdGlvbiAoZGl2aWRlcikge1xuICAgICAgICByZXR1cm4gIWRpdmlkZXIubWF0Y2hlcygnLm1tLWhpZGRlbicpO1xuICAgICAgfSkubGVuZ3RoO1xuXG4gICAgICBfdGhpcy5ub2RlLmluZHguY2xhc3NMaXN0W2FjdGl2ZSA/ICdhZGQnIDogJ3JlbW92ZSddKCdtbS1zZWN0aW9uaW5kZXhlcl9hY3RpdmUnKTtcbiAgICB9KTtcbiAgfSk7XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGN1cnJlbnQ6IHRydWUsXG4gIGhvdmVyOiBmYWxzZSxcbiAgcGFyZW50OiBmYWxzZVxufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBob3Zlcjogb3B0aW9ucyxcbiAgICAgIHBhcmVudDogb3B0aW9uc1xuICAgIH07XG4gIH1cblxuICBpZiAoX3R5cGVvZihvcHRpb25zKSAhPSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuOyIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNwbGl0XCI7XG5pbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0IHsgZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyB9IGZyb20gJy4vX29wdGlvbnMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29yZS9faGVscGVycyc7IC8vXHRBZGQgdGhlIG9wdGlvbnMuXG5cbk1tZW51Lm9wdGlvbnMuc2V0U2VsZWN0ZWQgPSBvcHRpb25zO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBvcHRpb25zID0gZXh0ZW5kU2hvcnRoYW5kT3B0aW9ucyh0aGlzLm9wdHMuc2V0U2VsZWN0ZWQpO1xuICB0aGlzLm9wdHMuc2V0U2VsZWN0ZWQgPSBleHRlbmQob3B0aW9ucywgTW1lbnUub3B0aW9ucy5zZXRTZWxlY3RlZCk7IC8vXHRGaW5kIGN1cnJlbnQgYnkgVVJMXG5cbiAgaWYgKG9wdGlvbnMuY3VycmVudCA9PSAnZGV0ZWN0Jykge1xuICAgIHZhciBmaW5kQ3VycmVudCA9IGZ1bmN0aW9uIGZpbmRDdXJyZW50KHVybCkge1xuICAgICAgdXJsID0gdXJsLnNwbGl0KCc/JylbMF0uc3BsaXQoJyMnKVswXTtcblxuICAgICAgdmFyIGFuY2hvciA9IF90aGlzLm5vZGUubWVudS5xdWVyeVNlbGVjdG9yKCdhW2hyZWY9XCInICsgdXJsICsgJ1wiXSwgYVtocmVmPVwiJyArIHVybCArICcvXCJdJyk7XG5cbiAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWQoYW5jaG9yLnBhcmVudEVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFyciA9IHVybC5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKTtcblxuICAgICAgICBpZiAoYXJyLmxlbmd0aCkge1xuICAgICAgICAgIGZpbmRDdXJyZW50KGFyci5qb2luKCcvJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmaW5kQ3VycmVudC5jYWxsKF90aGlzLCB3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgfSk7IC8vXHRSZW1vdmUgY3VycmVudCBzZWxlY3RlZCBpdGVtXG4gIH0gZWxzZSBpZiAoIW9wdGlvbnMuY3VycmVudCkge1xuICAgIHRoaXMuYmluZCgnaW5pdExpc3R2aWV3OmFmdGVyJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICBET00uZmluZChwYW5lbCwgJy5tbS1saXN0aXRlbV9zZWxlY3RlZCcpLmZvckVhY2goZnVuY3Rpb24gKGxpc3RpdGVtKSB7XG4gICAgICAgIGxpc3RpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ21tLWxpc3RpdGVtX3NlbGVjdGVkJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSAvL1x0QWRkIDpob3ZlciBlZmZlY3Qgb24gaXRlbXNcblxuXG4gIGlmIChvcHRpb25zLmhvdmVyKSB7XG4gICAgdGhpcy5iaW5kKCdpbml0TWVudTphZnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X3NlbGVjdGVkLWhvdmVyJyk7XG4gICAgfSk7XG4gIH0gLy9cdFNldCBwYXJlbnQgaXRlbSBzZWxlY3RlZCBmb3Igc3VibWVudXNcblxuXG4gIGlmIChvcHRpb25zLnBhcmVudCkge1xuICAgIHRoaXMuYmluZCgnb3BlblBhbmVsOmZpbmlzaCcsIGZ1bmN0aW9uIChwYW5lbCkge1xuICAgICAgLy9cdFJlbW92ZSBhbGxcbiAgICAgIERPTS5maW5kKF90aGlzLm5vZGUucG5scywgJy5tbS1saXN0aXRlbV9zZWxlY3RlZC1wYXJlbnQnKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0aXRlbSkge1xuICAgICAgICBsaXN0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdtbS1saXN0aXRlbV9zZWxlY3RlZC1wYXJlbnQnKTtcbiAgICAgIH0pOyAvL1x0TW92ZSB1cCB0aGUgRE9NIHRyZWVcblxuICAgICAgdmFyIHBhcmVudCA9IHBhbmVsWydtbVBhcmVudCddO1xuXG4gICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmICghcGFyZW50Lm1hdGNoZXMoJy5tbS1saXN0aXRlbV92ZXJ0aWNhbCcpKSB7XG4gICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoJ21tLWxpc3RpdGVtX3NlbGVjdGVkLXBhcmVudCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LmNsb3Nlc3QoJy5tbS1wYW5lbCcpO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnRbJ21tUGFyZW50J107XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5iaW5kKCdpbml0TWVudTphZnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X3NlbGVjdGVkLXBhcmVudCcpO1xuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIG9wdGlvbnMgPSB7XG4gIGNvbGxhcHNlZDoge1xuICAgIHVzZTogZmFsc2UsXG4gICAgYmxvY2tNZW51OiB0cnVlLFxuICAgIGhpZGVEaXZpZGVyOiBmYWxzZSxcbiAgICBoaWRlTmF2YmFyOiB0cnVlXG4gIH0sXG4gIGV4cGFuZGVkOiB7XG4gICAgdXNlOiBmYWxzZSxcbiAgICBpbml0aWFsOiAnb3BlbidcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4vKipcbiAqIEV4dGVuZCBzaG9ydGhhbmQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7b2JqZWN0fVx0XHRcdFRoZSBleHRlbmRlZCBvcHRpb25zLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRTaG9ydGhhbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvcHRpb25zID09ICdib29sZWFuJyAmJiBvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zID09ICdudW1iZXInKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGV4cGFuZGVkOiBvcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9IC8vXHRFeHRlbmQgY29sbGFwc2VkIHNob3J0aGFuZCBvcHRpb25zLlxuXG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbGxhcHNlZCA9PSAnYm9vbGVhbicgJiYgb3B0aW9ucy5jb2xsYXBzZWQpIHtcbiAgICBvcHRpb25zLmNvbGxhcHNlZCA9IHtcbiAgICAgIHVzZTogdHJ1ZVxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMuY29sbGFwc2VkID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvcHRpb25zLmNvbGxhcHNlZCA9PSAnbnVtYmVyJykge1xuICAgIG9wdGlvbnMuY29sbGFwc2VkID0ge1xuICAgICAgdXNlOiBvcHRpb25zLmNvbGxhcHNlZFxuICAgIH07XG4gIH1cblxuICBpZiAoX3R5cGVvZihvcHRpb25zLmNvbGxhcHNlZCkgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zLmNvbGxhcHNlZCA9IHt9O1xuICB9IC8vXHRFeHRlbmQgZXhwYW5kZWQgc2hvcnRoYW5kIG9wdGlvbnMuXG5cblxuICBpZiAodHlwZW9mIG9wdGlvbnMuZXhwYW5kZWQgPT0gJ2Jvb2xlYW4nICYmIG9wdGlvbnMuZXhwYW5kZWQpIHtcbiAgICBvcHRpb25zLmV4cGFuZGVkID0ge1xuICAgICAgdXNlOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5leHBhbmRlZCA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9ucy5leHBhbmRlZCA9PSAnbnVtYmVyJykge1xuICAgIG9wdGlvbnMuZXhwYW5kZWQgPSB7XG4gICAgICB1c2U6IG9wdGlvbnMuZXhwYW5kZWRcbiAgICB9O1xuICB9XG5cbiAgaWYgKF90eXBlb2Yob3B0aW9ucy5leHBhbmRlZCkgIT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zLmV4cGFuZGVkID0ge307XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn0iLCJpbXBvcnQgTW1lbnUgZnJvbSAnLi4vLi4vY29yZS9vbmNhbnZhcy9tbWVudS5vbmNhbnZhcyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL19vcHRpb25zJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nO1xuaW1wb3J0ICogYXMgbWVkaWEgZnJvbSAnLi4vLi4vY29yZS9fbWF0Y2htZWRpYSc7XG5pbXBvcnQgeyBleHRlbmRTaG9ydGhhbmRPcHRpb25zIH0gZnJvbSAnLi9fb3B0aW9ucyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi9jb3JlL19oZWxwZXJzJzsgLy8gIEFkZCB0aGUgb3B0aW9ucy5cblxuTW1lbnUub3B0aW9ucy5zaWRlYmFyID0gb3B0aW9ucztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAoIXRoaXMub3B0cy5vZmZDYW52YXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IGV4dGVuZFNob3J0aGFuZE9wdGlvbnModGhpcy5vcHRzLnNpZGViYXIpO1xuICB0aGlzLm9wdHMuc2lkZWJhciA9IGV4dGVuZChvcHRpb25zLCBNbWVudS5vcHRpb25zLnNpZGViYXIpOyAvL1x0Q29sbGFwc2VkXG5cbiAgaWYgKG9wdGlvbnMuY29sbGFwc2VkLnVzZSkge1xuICAgIC8vXHRNYWtlIHRoZSBtZW51IGNvbGxhcHNhYmxlLlxuICAgIHRoaXMuYmluZCgnaW5pdE1lbnU6YWZ0ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5ub2RlLm1lbnUuY2xhc3NMaXN0LmFkZCgnbW0tbWVudV9zaWRlYmFyLWNvbGxhcHNlZCcpO1xuXG4gICAgICBpZiAob3B0aW9ucy5jb2xsYXBzZWQuYmxvY2tNZW51ICYmIF90aGlzLm9wdHMub2ZmQ2FudmFzICYmICFET00uY2hpbGRyZW4oX3RoaXMubm9kZS5tZW51LCAnLm1tLW1lbnVfX2Jsb2NrZXInKVswXSkge1xuICAgICAgICB2YXIgYW5jaG9yID0gRE9NLmNyZWF0ZSgnYS5tbS1tZW51X19ibG9ja2VyJyk7XG4gICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycgKyBfdGhpcy5ub2RlLm1lbnUuaWQpO1xuXG4gICAgICAgIF90aGlzLm5vZGUubWVudS5wcmVwZW5kKGFuY2hvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmNvbGxhcHNlZC5oaWRlTmF2YmFyKSB7XG4gICAgICAgIF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X2hpZGVuYXZiYXInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuY29sbGFwc2VkLmhpZGVEaXZpZGVyKSB7XG4gICAgICAgIF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X2hpZGVkaXZpZGVyJyk7XG4gICAgICB9XG4gICAgfSk7IC8vXHRFbi0vZGlzYWJsZSB0aGUgY29sbGFwc2VkIHNpZGViYXIuXG5cbiAgICB2YXIgZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgX3RoaXMubm9kZS53cnByLmNsYXNzTGlzdC5hZGQoJ21tLXdyYXBwZXJfc2lkZWJhci1jb2xsYXBzZWQnKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgX3RoaXMubm9kZS53cnByLmNsYXNzTGlzdC5yZW1vdmUoJ21tLXdyYXBwZXJfc2lkZWJhci1jb2xsYXBzZWQnKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbGxhcHNlZC51c2UgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLmJpbmQoJ2luaXRNZW51OmFmdGVyJywgZW5hYmxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVkaWEuYWRkKG9wdGlvbnMuY29sbGFwc2VkLnVzZSwgZW5hYmxlLCBkaXNhYmxlKTtcbiAgICB9XG4gIH0gLy9cdEV4cGFuZGVkXG5cblxuICBpZiAob3B0aW9ucy5leHBhbmRlZC51c2UpIHtcbiAgICAvL1x0TWFrZSB0aGUgbWVudSBleHBhbmRhYmxlXG4gICAgdGhpcy5iaW5kKCdpbml0TWVudTphZnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLm5vZGUubWVudS5jbGFzc0xpc3QuYWRkKCdtbS1tZW51X3NpZGViYXItZXhwYW5kZWQnKTtcbiAgICB9KTsgLy9cdEVuLS9kaXNhYmxlIHRoZSBleHBhbmRlZCBzaWRlYmFyLlxuXG4gICAgdmFyIF9lbmFibGUgPSBmdW5jdGlvbiBfZW5hYmxlKCkge1xuICAgICAgX3RoaXMubm9kZS53cnByLmNsYXNzTGlzdC5hZGQoJ21tLXdyYXBwZXJfc2lkZWJhci1leHBhbmRlZCcpO1xuXG4gICAgICBpZiAoIV90aGlzLm5vZGUud3Jwci5tYXRjaGVzKCcubW0td3JhcHBlcl9zaWRlYmFyLWNsb3NlZCcpKSB7XG4gICAgICAgIF90aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIF9kaXNhYmxlID0gZnVuY3Rpb24gX2Rpc2FibGUoKSB7XG4gICAgICBfdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LnJlbW92ZSgnbW0td3JhcHBlcl9zaWRlYmFyLWV4cGFuZGVkJyk7XG5cbiAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5leHBhbmRlZC51c2UgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLmJpbmQoJ2luaXRNZW51OmFmdGVyJywgX2VuYWJsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lZGlhLmFkZChvcHRpb25zLmV4cGFuZGVkLnVzZSwgX2VuYWJsZSwgX2Rpc2FibGUpO1xuICAgIH0gLy8gIE1hbnVhbGx5IGVuLS9kaXNhYmxlIHRoZSBleHBhbmRlZCBzaWRlYmFyIChvcGVuIC8gY2xvc2UgdGhlIG1lbnUpXG5cblxuICAgIHRoaXMuYmluZCgnY2xvc2U6c3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMubm9kZS53cnByLm1hdGNoZXMoJy5tbS13cmFwcGVyX3NpZGViYXItZXhwYW5kZWQnKSkge1xuICAgICAgICBfdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LmFkZCgnbW0td3JhcHBlcl9zaWRlYmFyLWNsb3NlZCcpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmV4cGFuZGVkLmluaXRpYWwgPT0gJ3JlbWVtYmVyJykge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW1lbnVFeHBhbmRlZFN0YXRlJywgJ2Nsb3NlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5iaW5kKCdvcGVuOnN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLm5vZGUud3Jwci5tYXRjaGVzKCcubW0td3JhcHBlcl9zaWRlYmFyLWV4cGFuZGVkJykpIHtcbiAgICAgICAgX3RoaXMubm9kZS53cnByLmNsYXNzTGlzdC5yZW1vdmUoJ21tLXdyYXBwZXJfc2lkZWJhci1jbG9zZWQnKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5leHBhbmRlZC5pbml0aWFsID09ICdyZW1lbWJlcicpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21tZW51RXhwYW5kZWRTdGF0ZScsICdvcGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTsgLy8gIFNldCB0aGUgaW5pdGlhbCBzdGF0ZVxuXG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IG9wdGlvbnMuZXhwYW5kZWQuaW5pdGlhbDtcblxuICAgIGlmIChvcHRpb25zLmV4cGFuZGVkLmluaXRpYWwgPT0gJ3JlbWVtYmVyJykge1xuICAgICAgdmFyIHN0YXRlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtbWVudUV4cGFuZGVkU3RhdGUnKTtcblxuICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgY2FzZSAnY2xvc2VkJzpcbiAgICAgICAgICBpbml0aWFsU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbFN0YXRlID09ICdjbG9zZWQnKSB7XG4gICAgICB0aGlzLmJpbmQoJ2luaXRNZW51OmFmdGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5ub2RlLndycHIuY2xhc3NMaXN0LmFkZCgnbW0td3JhcHBlcl9zaWRlYmFyLWNsb3NlZCcpO1xuICAgICAgfSk7XG4gICAgfSAvL1x0QWRkIGNsaWNrIGJlaGF2aW9yLlxuICAgIC8vXHRQcmV2ZW50cyBkZWZhdWx0IGJlaGF2aW9yIHdoZW4gY2xpY2tpbmcgYW4gYW5jaG9yXG5cblxuICAgIHRoaXMuY2xjay5wdXNoKGZ1bmN0aW9uIChhbmNob3IsIGFyZ3MpIHtcbiAgICAgIGlmIChhcmdzLmluTWVudSAmJiBhcmdzLmluTGlzdHZpZXcpIHtcbiAgICAgICAgaWYgKF90aGlzLm5vZGUud3Jwci5tYXRjaGVzKCcubW0td3JhcHBlcl9zaWRlYmFyLWV4cGFuZGVkJykpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2xvc2U6IG9wdGlvbnMuZXhwYW5kZWQuaW5pdGlhbCA9PSAnY2xvc2VkJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCBNbWVudSBmcm9tICcuLi8uLi9jb3JlL29uY2FudmFzL21tZW51Lm9uY2FudmFzJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi9jb3JlL19kb20nOyAvL1x0QWRkIHRoZSBjbGFzc25hbWVzLlxuXG5NbWVudS5jb25maWdzLmNsYXNzTmFtZXMudG9nZ2xlcyA9IHtcbiAgdG9nZ2xlOiAnVG9nZ2xlJyxcbiAgY2hlY2s6ICdDaGVjaydcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdGhpcy5iaW5kKCdpbml0UGFuZWw6YWZ0ZXInLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAvL1x0UmVmYWN0b3IgdG9nZ2xlIGNsYXNzZXNcbiAgICBET00uZmluZChwYW5lbCwgJ2lucHV0JykuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgIERPTS5yZUNsYXNzKGlucHV0LCBfdGhpcy5jb25mLmNsYXNzTmFtZXMudG9nZ2xlcy50b2dnbGUsICdtbS10b2dnbGUnKTtcbiAgICAgIERPTS5yZUNsYXNzKGlucHV0LCBfdGhpcy5jb25mLmNsYXNzTmFtZXMudG9nZ2xlcy5jaGVjaywgJ21tLWNoZWNrJyk7XG4gICAgfSk7XG4gIH0pO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5vcHRzLm9uQ2xpY2sgPSB7XG4gICAgY2xvc2U6IHRydWUsXG4gICAgcHJldmVudERlZmF1bHQ6IGZhbHNlLFxuICAgIHNldFNlbGVjdGVkOiB0cnVlXG4gIH07XG59XG47IiwiaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL2NvcmUvX2RvbSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy9cdENyZWF0ZSB0aGUgbWVudVxuICBpZiAodGhpcy5ub2RlLm1lbnUubWF0Y2hlcygnLm5hdmJhci1jb2xsYXBzZScpKSB7XG4gICAgLy9cdE5vIG5lZWQgZm9yIGNsb25pbmcgdGhlIG1lbnUuLi5cbiAgICBpZiAodGhpcy5jb25mLm9mZkNhbnZhcykge1xuICAgICAgdGhpcy5jb25mLm9mZkNhbnZhcy5jbG9uZSA9IGZhbHNlO1xuICAgIH0gLy9cdC4uLiBXZSdsbCBjcmVhdGUgYSBuZXcgbWVudVxuXG5cbiAgICB2YXIgbmF2ID0gRE9NLmNyZWF0ZSgnbmF2JyksXG4gICAgICAgIHBhbmVsID0gRE9NLmNyZWF0ZSgnZGl2Jyk7XG4gICAgbmF2LmFwcGVuZChwYW5lbCk7XG4gICAgRE9NLmNoaWxkcmVuKHRoaXMubm9kZS5tZW51KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgIGNhc2UgY2hpbGQubWF0Y2hlcygnLm5hdmJhci1uYXYnKTpcbiAgICAgICAgICBwYW5lbC5hcHBlbmQoY2xvbmVOYXYoY2hpbGQpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIGNoaWxkLm1hdGNoZXMoJy5kcm9wZG93bi1tZW51Jyk6XG4gICAgICAgICAgcGFuZWwuYXBwZW5kKGNsb25lRHJvcGRvd24oY2hpbGQpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIGNoaWxkLm1hdGNoZXMoJy5mb3JtLWlubGluZScpOlxuICAgICAgICAgIF90aGlzLmNvbmYuc2VhcmNoZmllbGQuZm9ybSA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogY2hpbGQuZ2V0QXR0cmlidXRlKCdhY3Rpb24nKSB8fCBudWxsLFxuICAgICAgICAgICAgbWV0aG9kOiBjaGlsZC5nZXRBdHRyaWJ1dGUoJ21ldGhvZCcpIHx8IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIF90aGlzLmNvbmYuc2VhcmNoZmllbGQuaW5wdXQgPSB7XG4gICAgICAgICAgICBuYW1lOiBjaGlsZC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmdldEF0dHJpYnV0ZSgnbmFtZScpIHx8IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIF90aGlzLmNvbmYuc2VhcmNoZmllbGQuY2xlYXIgPSBmYWxzZTtcbiAgICAgICAgICBfdGhpcy5jb25mLnNlYXJjaGZpZWxkLnN1Ym1pdCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwYW5lbC5hcHBlbmQoY2hpbGQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTsgLy9cdFNldCB0aGUgbWVudVxuXG4gICAgdGhpcy5iaW5kKCdpbml0TWVudTpiZWZvcmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQobmF2KTtcbiAgICAgIF90aGlzLm5vZGUubWVudSA9IG5hdjtcbiAgICB9KTsgLy9cdEhpamFjayB0aGUgdG9nZ2xlci5cblxuICAgIHZhciBwYXJlbnQgPSB0aGlzLm5vZGUubWVudS5wYXJlbnRFbGVtZW50O1xuXG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdmFyIHRvZ2dsZXIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLm5hdmJhci10b2dnbGVyJyk7XG5cbiAgICAgIGlmICh0b2dnbGVyKSB7XG4gICAgICAgIC8vIHRvZ2dsZXIucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXRhcmdldCcpO1xuICAgICAgICBkZWxldGUgdG9nZ2xlci5kYXRhc2V0LnRhcmdldDtcbiAgICAgICAgdG9nZ2xlci5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKTsgLy9cdFJlbW92ZSBhbGwgYm91bmQgZXZlbnRzLlxuXG4gICAgICAgIHRvZ2dsZXIub3V0ZXJIVE1MID0gdG9nZ2xlci5vdXRlckhUTUw7XG4gICAgICAgIHRvZ2dsZXIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLm5hdmJhci10b2dnbGVyJyk7IC8vICBPcGVuIHRoZSBtZW51IG9uLWNsaWNrLlxuXG4gICAgICAgIHRvZ2dsZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZudCkge1xuICAgICAgICAgIGV2bnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldm50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgX3RoaXNbX3RoaXMudmFycy5vcGVuZWQgPyAnY2xvc2UnIDogJ29wZW4nXSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbG9uZUxpbmsoYW5jaG9yKSB7XG4gICAgdmFyIGxpbmsgPSBET00uY3JlYXRlKGFuY2hvci5tYXRjaGVzKCdhJykgPyAnYScgOiAnc3BhbicpOyAvL1x0Q29weSBhdHRyaWJ1dGVzXG5cbiAgICB2YXIgYXR0ciA9IFsnaHJlZicsICd0aXRsZScsICd0YXJnZXQnXTtcblxuICAgIGZvciAodmFyIGEgPSAwOyBhIDwgYXR0ci5sZW5ndGg7IGErKykge1xuICAgICAgaWYgKHR5cGVvZiBhbmNob3IuZ2V0QXR0cmlidXRlKGF0dHJbYV0pICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKGF0dHJbYV0sIGFuY2hvci5nZXRBdHRyaWJ1dGUoYXR0clthXSkpO1xuICAgICAgfVxuICAgIH0gLy9cdENvcHkgY29udGVudHNcblxuXG4gICAgbGluay5pbm5lckhUTUwgPSBhbmNob3IuaW5uZXJIVE1MOyAvL1x0UmVtb3ZlIFNjcmVlbiByZWFkZXIgdGV4dC5cblxuICAgIERPTS5maW5kKGxpbmssICcuc3Itb25seScpLmZvckVhY2goZnVuY3Rpb24gKHNybykge1xuICAgICAgc3JvLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBsaW5rO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvbmVEcm9wZG93bihkcm9wZG93bikge1xuICAgIHZhciBsaXN0ID0gRE9NLmNyZWF0ZSgndWwnKTtcbiAgICBET00uY2hpbGRyZW4oZHJvcGRvd24pLmZvckVhY2goZnVuY3Rpb24gKGFuY2hvcikge1xuICAgICAgdmFyIGl0ZW0gPSBET00uY3JlYXRlKCdsaScpO1xuXG4gICAgICBpZiAoYW5jaG9yLm1hdGNoZXMoJy5kcm9wZG93bi1kaXZpZGVyJykpIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdEaXZpZGVyJyk7XG4gICAgICB9IGVsc2UgaWYgKGFuY2hvci5tYXRjaGVzKCcuZHJvcGRvd24taXRlbScpKSB7XG4gICAgICAgIGl0ZW0uYXBwZW5kKGNsb25lTGluayhhbmNob3IpKTtcbiAgICAgIH1cblxuICAgICAgbGlzdC5hcHBlbmQoaXRlbSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9uZU5hdihuYXYpIHtcbiAgICB2YXIgbGlzdCA9IERPTS5jcmVhdGUoJ3VsJyk7XG4gICAgRE9NLmZpbmQobmF2LCAnLm5hdi1pdGVtJykuZm9yRWFjaChmdW5jdGlvbiAoYW5jaG9yKSB7XG4gICAgICB2YXIgaXRlbSA9IERPTS5jcmVhdGUoJ2xpJyk7XG5cbiAgICAgIGlmIChhbmNob3IubWF0Y2hlcygnLmFjdGl2ZScpKSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnU2VsZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhbmNob3IubWF0Y2hlcygnLm5hdi1saW5rJykpIHtcbiAgICAgICAgdmFyIGRyb3Bkb3duID0gRE9NLmNoaWxkcmVuKGFuY2hvciwgJy5kcm9wZG93bi1tZW51JylbMF07XG5cbiAgICAgICAgaWYgKGRyb3Bkb3duKSB7XG4gICAgICAgICAgaXRlbS5hcHBlbmQoY2xvbmVEcm9wZG93bihkcm9wZG93bikpO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5jaG9yID0gRE9NLmNoaWxkcmVuKGFuY2hvciwgJy5uYXYtbGluaycpWzBdO1xuICAgICAgfVxuXG4gICAgICBpdGVtLnByZXBlbmQoY2xvbmVMaW5rKGFuY2hvcikpO1xuICAgICAgbGlzdC5hcHBlbmQoaXRlbSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY29uZi5vZmZDYW52YXMucGFnZS5ub1NlbGVjdG9yLnB1c2goJyNvbGFyaycpO1xufVxuOyIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNwbGl0XCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHZhciBjbGFzc25hbWVzO1xuXG4gIHZhciBncmVwID0gZnVuY3Rpb24gZ3JlcChpdGVtcywgY2FsbGJhY2spIHtcbiAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG5cbiAgICAgIGlmIChjYWxsYmFjayhpdGVtKSkge1xuICAgICAgICBmaWx0ZXJlZC5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0dXJib2xpbmtzOmJlZm9yZS12aXNpdCcsIGZ1bmN0aW9uIChldm50KSB7XG4gICAgY2xhc3NuYW1lcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc05hbWU7XG4gICAgY2xhc3NuYW1lcyA9IGdyZXAoY2xhc3NuYW1lcy5zcGxpdCgnICcpLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuICEvbW0tLy50ZXN0KG5hbWUpO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3R1cmJvbGlua3M6bG9hZCcsIGZ1bmN0aW9uIChldm50KSB7XG4gICAgaWYgKHR5cGVvZiBjbGFzc25hbWVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc25hbWVzO1xuICB9KTtcbn1cbjsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY29uZi5jbGFzc05hbWVzLnNlbGVjdGVkID0gJ2N1cnJlbnQtbWVudS1pdGVtJztcbiAgdmFyIHdwYWRtaW5iYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3BhZG1pbmJhcicpO1xuXG4gIGlmICh3cGFkbWluYmFyKSB7XG4gICAgd3BhZG1pbmJhci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgd3BhZG1pbmJhci5jbGFzc0xpc3QuYWRkKCdtbS1zbGlkZW91dCcpO1xuICB9XG59IiwiLyohXG4gKiBtbWVudS5qc1xuICogbW1lbnVqcy5jb21cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZyZWQgSGV1c3NjaGVuXG4gKiB3d3cuZnJlYnNpdGUubmxcbiAqXG4gKiBMaWNlbnNlOiBDQy1CWS1OQy00LjBcbiAqIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLzQuMC9cbiAqL1xuLy9cdENvcmVcbmltcG9ydCBNbWVudSBmcm9tICcuLi9kaXN0L2NvcmUvb25jYW52YXMvbW1lbnUub25jYW52YXMnOyAvL1x0Q29yZSBhZGQtb25zXG5cbmltcG9ydCBvZmZjYW52YXMgZnJvbSAnLi4vZGlzdC9jb3JlL29mZmNhbnZhcy9tbWVudS5vZmZjYW52YXMnO1xuaW1wb3J0IHNjcmVlblJlYWRlciBmcm9tICcuLi9kaXN0L2NvcmUvc2NyZWVucmVhZGVyL21tZW51LnNjcmVlbnJlYWRlcic7XG5pbXBvcnQgc2Nyb2xsQnVnRml4IGZyb20gJy4uL2Rpc3QvY29yZS9zY3JvbGxidWdmaXgvbW1lbnUuc2Nyb2xsYnVnZml4JzsgLy9cdEFkZC1vbnNcblxuaW1wb3J0IGF1dG9IZWlnaHQgZnJvbSAnLi4vZGlzdC9hZGRvbnMvYXV0b2hlaWdodC9tbWVudS5hdXRvaGVpZ2h0JztcbmltcG9ydCBiYWNrQnV0dG9uIGZyb20gJy4uL2Rpc3QvYWRkb25zL2JhY2tidXR0b24vbW1lbnUuYmFja2J1dHRvbic7XG5pbXBvcnQgY29sdW1ucyBmcm9tICcuLi9kaXN0L2FkZG9ucy9jb2x1bW5zL21tZW51LmNvbHVtbnMnO1xuaW1wb3J0IGNvdW50ZXJzIGZyb20gJy4uL2Rpc3QvYWRkb25zL2NvdW50ZXJzL21tZW51LmNvdW50ZXJzJztcbmltcG9ydCBkaXZpZGVycyBmcm9tICcuLi9kaXN0L2FkZG9ucy9kaXZpZGVycy9tbWVudS5kaXZpZGVycyc7XG5pbXBvcnQgZHJhZyBmcm9tICcuLi9kaXN0L2FkZG9ucy9kcmFnL21tZW51LmRyYWcnO1xuaW1wb3J0IGRyb3Bkb3duIGZyb20gJy4uL2Rpc3QvYWRkb25zL2Ryb3Bkb3duL21tZW51LmRyb3Bkb3duJztcbmltcG9ydCBmaXhlZEVsZW1lbnRzIGZyb20gJy4uL2Rpc3QvYWRkb25zL2ZpeGVkZWxlbWVudHMvbW1lbnUuZml4ZWRlbGVtZW50cyc7XG5pbXBvcnQgaWNvbmJhciBmcm9tICcuLi9kaXN0L2FkZG9ucy9pY29uYmFyL21tZW51Lmljb25iYXInO1xuaW1wb3J0IGljb25QYW5lbHMgZnJvbSAnLi4vZGlzdC9hZGRvbnMvaWNvbnBhbmVscy9tbWVudS5pY29ucGFuZWxzJztcbmltcG9ydCBrZXlib2FyZE5hdmlnYXRpb24gZnJvbSAnLi4vZGlzdC9hZGRvbnMva2V5Ym9hcmRuYXZpZ2F0aW9uL21tZW51LmtleWJvYXJkbmF2aWdhdGlvbic7XG5pbXBvcnQgbGF6eVN1Ym1lbnVzIGZyb20gJy4uL2Rpc3QvYWRkb25zL2xhenlzdWJtZW51cy9tbWVudS5sYXp5c3VibWVudXMnO1xuaW1wb3J0IG5hdmJhcnMgZnJvbSAnLi4vZGlzdC9hZGRvbnMvbmF2YmFycy9tbWVudS5uYXZiYXJzJztcbmltcG9ydCBwYWdlU2Nyb2xsIGZyb20gJy4uL2Rpc3QvYWRkb25zL3BhZ2VzY3JvbGwvbW1lbnUucGFnZXNjcm9sbCc7XG5pbXBvcnQgc2VhcmNoZmllbGQgZnJvbSAnLi4vZGlzdC9hZGRvbnMvc2VhcmNoZmllbGQvbW1lbnUuc2VhcmNoZmllbGQnO1xuaW1wb3J0IHNlY3Rpb25JbmRleGVyIGZyb20gJy4uL2Rpc3QvYWRkb25zL3NlY3Rpb25pbmRleGVyL21tZW51LnNlY3Rpb25pbmRleGVyJztcbmltcG9ydCBzZXRTZWxlY3RlZCBmcm9tICcuLi9kaXN0L2FkZG9ucy9zZXRzZWxlY3RlZC9tbWVudS5zZXRzZWxlY3RlZCc7XG5pbXBvcnQgc2lkZWJhciBmcm9tICcuLi9kaXN0L2FkZG9ucy9zaWRlYmFyL21tZW51LnNpZGViYXInO1xuaW1wb3J0IHRvZ2dsZXMgZnJvbSAnLi4vZGlzdC9hZGRvbnMvdG9nZ2xlcy9tbWVudS50b2dnbGVzJzsgLy9cdFdyYXBwZXJzXG5cbmltcG9ydCBhbmd1bGFyIGZyb20gJy4uL2Rpc3Qvd3JhcHBlcnMvYW5ndWxhci9tbWVudS5hbmd1bGFyJztcbmltcG9ydCBib290c3RyYXAgZnJvbSAnLi4vZGlzdC93cmFwcGVycy9ib290c3RyYXAvbW1lbnUuYm9vdHN0cmFwJztcbmltcG9ydCBvbGFyayBmcm9tICcuLi9kaXN0L3dyYXBwZXJzL29sYXJrL21tZW51Lm9sYXJrJztcbmltcG9ydCB0dXJib2xpbmtzIGZyb20gJy4uL2Rpc3Qvd3JhcHBlcnMvdHVyYm9saW5rcy9tbWVudS50dXJib2xpbmtzJztcbmltcG9ydCB3b3JkcHJlc3MgZnJvbSAnLi4vZGlzdC93cmFwcGVycy93b3JkcHJlc3MvbW1lbnUud29yZHByZXNzJztcbk1tZW51LmFkZG9ucyA9IHtcbiAgLy9cdENvcmUgYWRkLW9uc1xuICBvZmZjYW52YXM6IG9mZmNhbnZhcyxcbiAgc2NyZWVuUmVhZGVyOiBzY3JlZW5SZWFkZXIsXG4gIHNjcm9sbEJ1Z0ZpeDogc2Nyb2xsQnVnRml4LFxuICAvL1x0QWRkLW9uc1xuICBhdXRvSGVpZ2h0OiBhdXRvSGVpZ2h0LFxuICBiYWNrQnV0dG9uOiBiYWNrQnV0dG9uLFxuICBjb2x1bW5zOiBjb2x1bW5zLFxuICBjb3VudGVyczogY291bnRlcnMsXG4gIGRpdmlkZXJzOiBkaXZpZGVycyxcbiAgZHJhZzogZHJhZyxcbiAgZHJvcGRvd246IGRyb3Bkb3duLFxuICBmaXhlZEVsZW1lbnRzOiBmaXhlZEVsZW1lbnRzLFxuICBpY29uYmFyOiBpY29uYmFyLFxuICBpY29uUGFuZWxzOiBpY29uUGFuZWxzLFxuICBrZXlib2FyZE5hdmlnYXRpb246IGtleWJvYXJkTmF2aWdhdGlvbixcbiAgbGF6eVN1Ym1lbnVzOiBsYXp5U3VibWVudXMsXG4gIG5hdmJhcnM6IG5hdmJhcnMsXG4gIHBhZ2VTY3JvbGw6IHBhZ2VTY3JvbGwsXG4gIHNlYXJjaGZpZWxkOiBzZWFyY2hmaWVsZCxcbiAgc2VjdGlvbkluZGV4ZXI6IHNlY3Rpb25JbmRleGVyLFxuICBzZXRTZWxlY3RlZDogc2V0U2VsZWN0ZWQsXG4gIHNpZGViYXI6IHNpZGViYXIsXG4gIHRvZ2dsZXM6IHRvZ2dsZXNcbn07IC8vXHRXcmFwcGVyc1xuXG5NbWVudS53cmFwcGVycyA9IHtcbiAgYW5ndWxhcjogYW5ndWxhcixcbiAgYm9vdHN0cmFwOiBib290c3RyYXAsXG4gIG9sYXJrOiBvbGFyayxcbiAgdHVyYm9saW5rczogdHVyYm9saW5rcyxcbiAgd29yZHByZXNzOiB3b3JkcHJlc3Ncbn07IC8vXHRHbG9iYWwgbmFtZXNwYWNlXG5cbndpbmRvdy5NbWVudSA9IE1tZW51OyAvL1x0alF1ZXJ5IHBsdWdpblxuXG4oZnVuY3Rpb24gKCQpIHtcbiAgaWYgKCQpIHtcbiAgICAkLmZuLm1tZW51ID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNvbmZpZ3MpIHtcbiAgICAgIHZhciAkcmVzdWx0ID0gJCgpO1xuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlLCBlbGVtZW50KSB7XG4gICAgICAgIC8vXHREb24ndCBwcm9jZWVkIGlmIHRoZSBlbGVtZW50IGFscmVhZHkgaXMgYSBtbWVudS5cbiAgICAgICAgaWYgKGVsZW1lbnRbJ21tQXBpJ10pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWVudSA9IG5ldyBNbWVudShlbGVtZW50LCBvcHRpb25zLCBjb25maWdzKSxcbiAgICAgICAgICAgICRtZW51ID0gJChtZW51Lm5vZGUubWVudSk7IC8vXHRTdG9yZSB0aGUgQVBJLlxuXG4gICAgICAgICRtZW51LmRhdGEoJ21tZW51JywgbWVudS5BUEkpO1xuICAgICAgICAkcmVzdWx0ID0gJHJlc3VsdC5hZGQoJG1lbnUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gJHJlc3VsdDtcbiAgICB9O1xuICB9XG59KSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byB8fCBudWxsKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaitCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDM1lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN2R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDck5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25JQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///95\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("\n// EXTERNAL MODULE: ./node_modules/tiny-slider/src/helpers/Object.keys.js\nvar Object_keys = __webpack_require__(182);\n\n// EXTERNAL MODULE: ./node_modules/tiny-slider/src/helpers/childNode.remove.js\nvar childNode_remove = __webpack_require__(183);\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/raf.js\nvar raf_win = window;\n\nvar raf = raf_win.requestAnimationFrame\n  || raf_win.webkitRequestAnimationFrame\n  || raf_win.mozRequestAnimationFrame\n  || raf_win.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16); };\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/caf.js\nvar caf_win = window;\n\nvar caf = caf_win.cancelAnimationFrame\n  || caf_win.mozCancelAnimationFrame\n  || function(id){ clearTimeout(id); };\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/extend.js\nfunction extend() {\n  var obj, name, copy,\n      target = arguments[0] || {},\n      i = 1,\n      length = arguments.length;\n\n  for (; i < length; i++) {\n    if ((obj = arguments[i]) !== null) {\n      for (name in obj) {\n        copy = obj[name];\n\n        if (target === copy) {\n          continue;\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n  }\n  return target;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/checkStorageValue.js\nfunction checkStorageValue (value) {\n  return ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/setLocalStorage.js\nfunction setLocalStorage(storage, key, value, access) {\n  if (access) {\n    try { storage.setItem(key, value); } catch (e) {}\n  }\n  return value;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/getSlideId.js\nfunction getSlideId() {\n  var id = window.tnsId;\n  window.tnsId = !id ? 1 : id + 1;\n  \n  return 'tns' + window.tnsId;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/getBody.js\nfunction getBody () {\n  var doc = document,\n      body = doc.body;\n\n  if (!body) {\n    body = doc.createElement('body');\n    body.fake = true;\n  }\n\n  return body;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/docElement.js\nvar docElement = document.documentElement;\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/setFakeBody.js\n\n\nfunction setFakeBody (body) {\n  var docOverflow = '';\n  if (body.fake) {\n    docOverflow = docElement.style.overflow;\n    //avoid crashing IE8, if background image is used\n    body.style.background = '';\n    //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n    body.style.overflow = docElement.style.overflow = 'hidden';\n    docElement.appendChild(body);\n  }\n\n  return docOverflow;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/resetFakeBody.js\n\n\nfunction resetFakeBody (body, docOverflow) {\n  if (body.fake) {\n    body.remove();\n    docElement.style.overflow = docOverflow;\n    // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n    // eslint-disable-next-line\n    docElement.offsetHeight;\n  }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/calc.js\n// get css-calc \n// @return - false | calc | -webkit-calc | -moz-calc\n// @usage - var calc = getCalc(); \n\n\n\n\nfunction calc() {\n  var doc = document, \n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'), \n      result = false;\n\n  body.appendChild(div);\n  try {\n    var str = '(10px * 10)',\n        vals = ['calc' + str, '-moz-calc' + str, '-webkit-calc' + str],\n        val;\n    for (var i = 0; i < 3; i++) {\n      val = vals[i];\n      div.style.width = val;\n      if (div.offsetWidth === 100) { \n        result = val.replace(str, ''); \n        break;\n      }\n    }\n  } catch (e) {}\n  \n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return result;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/percentageLayout.js\n// get subpixel support value\n// @return - boolean\n\n\n\n\nfunction percentageLayout() {\n  // check subpixel layout supporting\n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      wrapper = doc.createElement('div'),\n      outer = doc.createElement('div'),\n      str = '',\n      count = 70,\n      perPage = 3,\n      supported = false;\n\n  wrapper.className = \"tns-t-subp2\";\n  outer.className = \"tns-t-ct\";\n\n  for (var i = 0; i < count; i++) {\n    str += '<div></div>';\n  }\n\n  outer.innerHTML = str;\n  wrapper.appendChild(outer);\n  body.appendChild(wrapper);\n\n  supported = Math.abs(wrapper.getBoundingClientRect().left - outer.children[count - perPage].getBoundingClientRect().left) < 2;\n\n  body.fake ? resetFakeBody(body, docOverflow) : wrapper.remove();\n\n  return supported;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/mediaquerySupport.js\n\n\n\n\nfunction mediaquerySupport () {\n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'),\n      style = doc.createElement('style'),\n      rule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n      position;\n\n  style.type = 'text/css';\n  div.className = 'tns-mq-test';\n\n  body.appendChild(style);\n  body.appendChild(div);\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = rule;\n  } else {\n    style.appendChild(doc.createTextNode(rule));\n  }\n\n  position = window.getComputedStyle ? window.getComputedStyle(div).position : div.currentStyle['position'];\n\n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return position === \"absolute\";\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/createStyleSheet.js\n// create and append style sheet\nfunction createStyleSheet (media) {\n  // Create the <style> tag\n  var style = document.createElement(\"style\");\n  // style.setAttribute(\"type\", \"text/css\");\n\n  // Add a media (and/or media query) here if you'd like!\n  // style.setAttribute(\"media\", \"screen\")\n  // style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n  if (media) { style.setAttribute(\"media\", media); }\n\n  // WebKit hack :(\n  // style.appendChild(document.createTextNode(\"\"));\n\n  // Add the <style> element to the page\n  document.querySelector('head').appendChild(style);\n\n  return style.sheet ? style.sheet : style.styleSheet;\n};\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/addCSSRule.js\n// cross browsers addRule method\n\nfunction addCSSRule(sheet, selector, rules, index) {\n  // return raf(function() {\n    'insertRule' in sheet ?\n      sheet.insertRule(selector + '{' + rules + '}', index) :\n      sheet.addRule(selector, rules, index);\n  // });\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/removeCSSRule.js\n// cross browsers addRule method\n\nfunction removeCSSRule(sheet, index) {\n  // return raf(function() {\n    'deleteRule' in sheet ?\n      sheet.deleteRule(index) :\n      sheet.removeRule(index);\n  // });\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/getCssRulesLength.js\nfunction getCssRulesLength(sheet) {\n  var rule = ('insertRule' in sheet) ? sheet.cssRules : sheet.rules;\n  return rule.length;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/toDegree.js\nfunction toDegree (y, x) {\n  return Math.atan2(y, x) * (180 / Math.PI);\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/getTouchDirection.js\nfunction getTouchDirection(angle, range) {\n  var direction = false,\n      gap = Math.abs(90 - Math.abs(angle));\n      \n  if (gap >= 90 - range) {\n    direction = 'horizontal';\n  } else if (gap <= range) {\n    direction = 'vertical';\n  }\n\n  return direction;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/forEach.js\n// https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\nfunction forEach (arr, callback, scope) {\n  for (var i = 0, l = arr.length; i < l; i++) {\n    callback.call(scope, arr[i], i);\n  }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/classListSupport.js\nvar classListSupport = 'classList' in document.createElement('_');\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/hasClass.js\n\n\nvar hasClass = classListSupport ?\n    function (el, str) { return el.classList.contains(str); } :\n    function (el, str) { return el.className.indexOf(str) >= 0; };\n\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/addClass.js\n\nvar addClass = classListSupport ?\n    function (el, str) {\n      if (!hasClass(el,  str)) { el.classList.add(str); }\n    } :\n    function (el, str) {\n      if (!hasClass(el,  str)) { el.className += ' ' + str; }\n    };\n\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/removeClass.js\n\nvar removeClass = classListSupport ?\n    function (el, str) {\n      if (hasClass(el,  str)) { el.classList.remove(str); }\n    } :\n    function (el, str) {\n      if (hasClass(el, str)) { el.className = el.className.replace(str, ''); }\n    };\n\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/hasAttr.js\nfunction hasAttr(el, attr) {\n  return el.hasAttribute(attr);\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/getAttr.js\nfunction getAttr(el, attr) {\n  return el.getAttribute(attr);\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/isNodeList.js\nfunction isNodeList(el) {\n  // Only NodeList has the \"item()\" function\n  return typeof el.item !== \"undefined\"; \n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/setAttrs.js\n\n\nfunction setAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  if (Object.prototype.toString.call(attrs) !== '[object Object]') { return; }\n\n  for (var i = els.length; i--;) {\n    for(var key in attrs) {\n      els[i].setAttribute(key, attrs[key]);\n    }\n  }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/removeAttrs.js\n\n\nfunction removeAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  attrs = (attrs instanceof Array) ? attrs : [attrs];\n\n  var attrLength = attrs.length;\n  for (var i = els.length; i--;) {\n    for (var j = attrLength; j--;) {\n      els[i].removeAttribute(attrs[j]);\n    }\n  }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/arrayFromNodeList.js\nfunction arrayFromNodeList (nl) {\n  var arr = [];\n  for (var i = 0, l = nl.length; i < l; i++) {\n    arr.push(nl[i]);\n  }\n  return arr;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/hideElement.js\nfunction hideElement(el, forceHide) {\n  if (el.style.display !== 'none') { el.style.display = 'none'; }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/showElement.js\nfunction showElement(el, forceHide) {\n  if (el.style.display === 'none') { el.style.display = ''; }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/isVisible.js\nfunction isVisible(el) {\n  return window.getComputedStyle(el).display !== 'none';\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/whichProperty.js\nfunction whichProperty(props){\n  if (typeof props === 'string') {\n    var arr = [props],\n        Props = props.charAt(0).toUpperCase() + props.substr(1),\n        prefixes = ['Webkit', 'Moz', 'ms', 'O'];\n        \n    prefixes.forEach(function(prefix) {\n      if (prefix !== 'ms' || props === 'transform') {\n        arr.push(prefix + Props);\n      }\n    });\n\n    props = arr;\n  }\n\n  var el = document.createElement('fakeelement'),\n      len = props.length;\n  for(var i = 0; i < props.length; i++){\n    var prop = props[i];\n    if( el.style[prop] !== undefined ){ return prop; }\n  }\n\n  return false; // explicit for ie9-\n}\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/has3DTransforms.js\n\n\n\n\nfunction has3DTransforms(tf){\n  if (!tf) { return false; }\n  if (!window.getComputedStyle) { return false; }\n  \n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      el = doc.createElement('p'),\n      has3d,\n      cssTF = tf.length > 9 ? '-' + tf.slice(0, -9).toLowerCase() + '-' : '';\n\n  cssTF += 'transform';\n\n  // Add it to the body to get the computed style\n  body.insertBefore(el, null);\n\n  el.style[tf] = 'translate3d(1px,1px,1px)';\n  has3d = window.getComputedStyle(el).getPropertyValue(cssTF);\n\n  body.fake ? resetFakeBody(body, docOverflow) : el.remove();\n\n  return (has3d !== undefined && has3d.length > 0 && has3d !== \"none\");\n}\n\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/getEndProperty.js\n// get transitionend, animationend based on transitionDuration\n// @propin: string\n// @propOut: string, first-letter uppercase\n// Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\nfunction getEndProperty(propIn, propOut) {\n  var endProp = false;\n  if (/^Webkit/.test(propIn)) {\n    endProp = 'webkit' + propOut + 'End';\n  } else if (/^O/.test(propIn)) {\n    endProp = 'o' + propOut + 'End';\n  } else if (propIn) {\n    endProp = propOut.toLowerCase() + 'end';\n  }\n  return endProp;\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/passiveOption.js\n// Test via a getter in the options object to see if the passive property is accessed\nvar supportsPassive = false;\ntry {\n  var passiveOption_opts = Object.defineProperty({}, 'passive', {\n    get: function() {\n      supportsPassive = true;\n    }\n  });\n  window.addEventListener(\"test\", null, passiveOption_opts);\n} catch (e) {}\nvar passiveOption = supportsPassive ? { passive: true } : false;\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/addEvents.js\n\n\nfunction addEvents(el, obj, preventScrolling) {\n  for (var prop in obj) {\n    var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 && !preventScrolling ? passiveOption : false;\n    el.addEventListener(prop, obj[prop], option);\n  }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/removeEvents.js\n\n\nfunction removeEvents(el, obj) {\n  for (var prop in obj) {\n    var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n    el.removeEventListener(prop, obj[prop], option);\n  }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/events.js\nfunction Events() {\n  return {\n    topics: {},\n    on: function (eventName, fn) {\n      this.topics[eventName] = this.topics[eventName] || [];\n      this.topics[eventName].push(fn);\n    },\n    off: function(eventName, fn) {\n      if (this.topics[eventName]) {\n        for (var i = 0; i < this.topics[eventName].length; i++) {\n          if (this.topics[eventName][i] === fn) {\n            this.topics[eventName].splice(i, 1);\n            break;\n          }\n        }\n      }\n    },\n    emit: function (eventName, data) {\n      data.type = eventName;\n      if (this.topics[eventName]) {\n        this.topics[eventName].forEach(function(fn) {\n          fn(data, eventName);\n        });\n      }\n    }\n  };\n};\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/helpers/jsTransform.js\nfunction jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n  var tick = Math.min(duration, 10),\n      unit = (to.indexOf('%') >= 0) ? '%' : 'px',\n      to = to.replace(unit, ''),\n      from = Number(element.style[attr].replace(prefix, '').replace(postfix, '').replace(unit, '')),\n      positionTick = (to - from) / duration * tick,\n      running;\n\n  setTimeout(moveElement, tick);\n  function moveElement() {\n    duration -= tick;\n    from += positionTick;\n    element.style[attr] = prefix + from + unit + postfix;\n    if (duration > 0) { \n      setTimeout(moveElement, tick); \n    } else {\n      callback();\n    }\n  }\n}\n// CONCATENATED MODULE: ./node_modules/tiny-slider/src/tiny-slider.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return tns; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar tns = function(options) {\n  options = extend({\n    container: '.slider',\n    mode: 'carousel',\n    axis: 'horizontal',\n    items: 1,\n    gutter: 0,\n    edgePadding: 0,\n    fixedWidth: false,\n    autoWidth: false,\n    viewportMax: false,\n    slideBy: 1,\n    center: false,\n    controls: true,\n    controlsPosition: 'top',\n    controlsText: ['prev', 'next'],\n    controlsContainer: false,\n    prevButton: false,\n    nextButton: false,\n    nav: true,\n    navPosition: 'top',\n    navContainer: false,\n    navAsThumbnails: false,\n    arrowKeys: false,\n    speed: 300,\n    autoplay: false,\n    autoplayPosition: 'top',\n    autoplayTimeout: 5000,\n    autoplayDirection: 'forward',\n    autoplayText: ['start', 'stop'],\n    autoplayHoverPause: false,\n    autoplayButton: false,\n    autoplayButtonOutput: true,\n    autoplayResetOnVisibility: true,\n    animateIn: 'tns-fadeIn',\n    animateOut: 'tns-fadeOut',\n    animateNormal: 'tns-normal',\n    animateDelay: false,\n    loop: true,\n    rewind: false,\n    autoHeight: false,\n    responsive: false,\n    lazyload: false,\n    lazyloadSelector: '.tns-lazy-img',\n    touch: true,\n    mouseDrag: false,\n    swipeAngle: 15,\n    nested: false,\n    preventActionWhenRunning: false,\n    preventScrollOnTouch: false,\n    freezable: true,\n    onInit: false,\n    useLocalStorage: true\n  }, options || {});\n  \n  var doc = document,\n      win = window,\n      KEYS = {\n        ENTER: 13,\n        SPACE: 32,\n        LEFT: 37,\n        RIGHT: 39\n      },\n      tnsStorage = {},\n      localStorageAccess = options.useLocalStorage;\n\n  if (localStorageAccess) {\n    // check browser version and local storage access\n    var browserInfo = navigator.userAgent;\n    var uid = new Date;\n\n    try {\n      tnsStorage = win.localStorage;\n      if (tnsStorage) {\n        tnsStorage.setItem(uid, uid);\n        localStorageAccess = tnsStorage.getItem(uid) == uid;\n        tnsStorage.removeItem(uid);\n      } else {\n        localStorageAccess = false;\n      }\n      if (!localStorageAccess) { tnsStorage = {}; }\n    } catch(e) {\n      localStorageAccess = false;\n    }\n\n    if (localStorageAccess) {\n      // remove storage when browser version changes\n      if (tnsStorage['tnsApp'] && tnsStorage['tnsApp'] !== browserInfo) {\n        ['tC', 'tPL', 'tMQ', 'tTf', 't3D', 'tTDu', 'tTDe', 'tADu', 'tADe', 'tTE', 'tAE'].forEach(function(item) { tnsStorage.removeItem(item); });\n      }\n      // update browserInfo\n      localStorage['tnsApp'] = browserInfo;\n    }\n  }\n\n  var CALC = tnsStorage['tC'] ? checkStorageValue(tnsStorage['tC']) : setLocalStorage(tnsStorage, 'tC', calc(), localStorageAccess),\n      PERCENTAGELAYOUT = tnsStorage['tPL'] ? checkStorageValue(tnsStorage['tPL']) : setLocalStorage(tnsStorage, 'tPL', percentageLayout(), localStorageAccess),\n      CSSMQ = tnsStorage['tMQ'] ? checkStorageValue(tnsStorage['tMQ']) : setLocalStorage(tnsStorage, 'tMQ', mediaquerySupport(), localStorageAccess),\n      TRANSFORM = tnsStorage['tTf'] ? checkStorageValue(tnsStorage['tTf']) : setLocalStorage(tnsStorage, 'tTf', whichProperty('transform'), localStorageAccess),\n      HAS3DTRANSFORMS = tnsStorage['t3D'] ? checkStorageValue(tnsStorage['t3D']) : setLocalStorage(tnsStorage, 't3D', has3DTransforms(TRANSFORM), localStorageAccess),\n      TRANSITIONDURATION = tnsStorage['tTDu'] ? checkStorageValue(tnsStorage['tTDu']) : setLocalStorage(tnsStorage, 'tTDu', whichProperty('transitionDuration'), localStorageAccess),\n      TRANSITIONDELAY = tnsStorage['tTDe'] ? checkStorageValue(tnsStorage['tTDe']) : setLocalStorage(tnsStorage, 'tTDe', whichProperty('transitionDelay'), localStorageAccess),\n      ANIMATIONDURATION = tnsStorage['tADu'] ? checkStorageValue(tnsStorage['tADu']) : setLocalStorage(tnsStorage, 'tADu', whichProperty('animationDuration'), localStorageAccess),\n      ANIMATIONDELAY = tnsStorage['tADe'] ? checkStorageValue(tnsStorage['tADe']) : setLocalStorage(tnsStorage, 'tADe', whichProperty('animationDelay'), localStorageAccess),\n      TRANSITIONEND = tnsStorage['tTE'] ? checkStorageValue(tnsStorage['tTE']) : setLocalStorage(tnsStorage, 'tTE', getEndProperty(TRANSITIONDURATION, 'Transition'), localStorageAccess),\n      ANIMATIONEND = tnsStorage['tAE'] ? checkStorageValue(tnsStorage['tAE']) : setLocalStorage(tnsStorage, 'tAE', getEndProperty(ANIMATIONDURATION, 'Animation'), localStorageAccess);\n\n  // get element nodes from selectors\n  var supportConsoleWarn = win.console && typeof win.console.warn === \"function\",\n      tnsList = ['container', 'controlsContainer', 'prevButton', 'nextButton', 'navContainer', 'autoplayButton'], \n      optionsElements = {};\n      \n  tnsList.forEach(function(item) {\n    if (typeof options[item] === 'string') {\n      var str = options[item],\n          el = doc.querySelector(str);\n      optionsElements[item] = str;\n\n      if (el && el.nodeName) {\n        options[item] = el;\n      } else {\n        if (supportConsoleWarn) { console.warn('Can\\'t find', options[item]); }\n        return;\n      }\n    }\n  });\n\n  // make sure at least 1 slide\n  if (options.container.children.length < 1) {\n    if (supportConsoleWarn) { console.warn('No slides found in', options.container); }\n    return;\n   }\n\n  // update options\n  var responsive = options.responsive,\n      nested = options.nested,\n      carousel = options.mode === 'carousel' ? true : false;\n\n  if (responsive) {\n    // apply responsive[0] to options and remove it\n    if (0 in responsive) {\n      options = extend(options, responsive[0]);\n      delete responsive[0];\n    }\n\n    var responsiveTem = {};\n    for (var key in responsive) {\n      var val = responsive[key];\n      // update responsive\n      // from: 300: 2\n      // to: \n      //   300: { \n      //     items: 2 \n      //   } \n      val = typeof val === 'number' ? {items: val} : val;\n      responsiveTem[key] = val;\n    }\n    responsive = responsiveTem;\n    responsiveTem = null;\n  }\n\n  // update options\n  function updateOptions (obj) {\n    for (var key in obj) {\n      if (!carousel) {\n        if (key === 'slideBy') { obj[key] = 'page'; }\n        if (key === 'edgePadding') { obj[key] = false; }\n        if (key === 'autoHeight') { obj[key] = false; }\n      }\n\n      // update responsive options\n      if (key === 'responsive') { updateOptions(obj[key]); }\n    }\n  }\n  if (!carousel) { updateOptions(options); }\n\n\n  // === define and set variables ===\n  if (!carousel) {\n    options.axis = 'horizontal';\n    options.slideBy = 'page';\n    options.edgePadding = false;\n\n    var animateIn = options.animateIn,\n        animateOut = options.animateOut,\n        animateDelay = options.animateDelay,\n        animateNormal = options.animateNormal;\n  }\n\n  var horizontal = options.axis === 'horizontal' ? true : false,\n      outerWrapper = doc.createElement('div'),\n      innerWrapper = doc.createElement('div'),\n      middleWrapper,\n      container = options.container,\n      containerParent = container.parentNode,\n      containerHTML = container.outerHTML,\n      slideItems = container.children,\n      slideCount = slideItems.length,\n      breakpointZone,\n      windowWidth = getWindowWidth(),\n      isOn = false;\n  if (responsive) { setBreakpointZone(); }\n  if (carousel) { container.className += ' tns-vpfix'; }\n\n  // fixedWidth: viewport > rightBoundary > indexMax\n  var autoWidth = options.autoWidth,\n      fixedWidth = getOption('fixedWidth'),\n      edgePadding = getOption('edgePadding'),\n      gutter = getOption('gutter'),\n      viewport = getViewportWidth(),\n      center = getOption('center'),\n      items = !autoWidth ? Math.floor(getOption('items')) : 1,\n      slideBy = getOption('slideBy'),\n      viewportMax = options.viewportMax || options.fixedWidthViewportWidth,\n      arrowKeys = getOption('arrowKeys'),\n      speed = getOption('speed'),\n      rewind = options.rewind,\n      loop = rewind ? false : options.loop,\n      autoHeight = getOption('autoHeight'),\n      controls = getOption('controls'),\n      controlsText = getOption('controlsText'),\n      nav = getOption('nav'),\n      touch = getOption('touch'),\n      mouseDrag = getOption('mouseDrag'),\n      autoplay = getOption('autoplay'),\n      autoplayTimeout = getOption('autoplayTimeout'),\n      autoplayText = getOption('autoplayText'),\n      autoplayHoverPause = getOption('autoplayHoverPause'),\n      autoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n      sheet = createStyleSheet(),\n      lazyload = options.lazyload,\n      lazyloadSelector = options.lazyloadSelector,\n      slidePositions, // collection of slide positions\n      slideItemsOut = [],\n      cloneCount = loop ? getCloneCountForLoop() : 0,\n      slideCountNew = !carousel ? slideCount + cloneCount : slideCount + cloneCount * 2,\n      hasRightDeadZone = (fixedWidth || autoWidth) && !loop ? true : false,\n      rightBoundary = fixedWidth ? getRightBoundary() : null,\n      updateIndexBeforeTransform = (!carousel || !loop) ? true : false,\n      // transform\n      transformAttr = horizontal ? 'left' : 'top',\n      transformPrefix = '',\n      transformPostfix = '',\n      // index\n      getIndexMax = (function () {\n        if (fixedWidth) {\n          return function() { return center && !loop ? slideCount - 1 : Math.ceil(- rightBoundary / (fixedWidth + gutter)); };\n        } else if (autoWidth) {\n          return function() {\n            for (var i = slideCountNew; i--;) {\n              if (slidePositions[i] >= - rightBoundary) { return i; }\n            }\n          };\n        } else {\n          return function() {\n            if (center && carousel && !loop) {\n              return slideCount - 1;\n            } else {\n              return loop || carousel ? Math.max(0, slideCountNew - Math.ceil(items)) : slideCountNew - 1;\n            }\n          };\n        }\n      })(),\n      index = getStartIndex(getOption('startIndex')),\n      indexCached = index,\n      displayIndex = getCurrentSlide(),\n      indexMin = 0,\n      indexMax = !autoWidth ? getIndexMax() : null,\n      // resize\n      resizeTimer,\n      preventActionWhenRunning = options.preventActionWhenRunning,\n      swipeAngle = options.swipeAngle,\n      moveDirectionExpected = swipeAngle ? '?' : true,\n      running = false,\n      onInit = options.onInit,\n      events = new Events(),\n      // id, class\n      newContainerClasses = ' tns-slider tns-' + options.mode,\n      slideId = container.id || getSlideId(),\n      disable = getOption('disable'),\n      disabled = false,\n      freezable = options.freezable,\n      freeze = freezable && !autoWidth ? getFreeze() : false,\n      frozen = false,\n      controlsEvents = {\n        'click': onControlsClick,\n        'keydown': onControlsKeydown\n      },\n      navEvents = {\n        'click': onNavClick,\n        'keydown': onNavKeydown\n      },\n      hoverEvents = {\n        'mouseover': mouseoverPause,\n        'mouseout': mouseoutRestart\n      },\n      visibilityEvent = {'visibilitychange': onVisibilityChange},\n      docmentKeydownEvent = {'keydown': onDocumentKeydown},\n      touchEvents = {\n        'touchstart': onPanStart,\n        'touchmove': onPanMove,\n        'touchend': onPanEnd,\n        'touchcancel': onPanEnd\n      }, dragEvents = {\n        'mousedown': onPanStart,\n        'mousemove': onPanMove,\n        'mouseup': onPanEnd,\n        'mouseleave': onPanEnd\n      },\n      hasControls = hasOption('controls'),\n      hasNav = hasOption('nav'),\n      navAsThumbnails = autoWidth ? true : options.navAsThumbnails,\n      hasAutoplay = hasOption('autoplay'),\n      hasTouch = hasOption('touch'),\n      hasMouseDrag = hasOption('mouseDrag'),\n      slideActiveClass = 'tns-slide-active',\n      imgCompleteClass = 'tns-complete',\n      imgEvents = {\n        'load': onImgLoaded,\n        'error': onImgFailed\n      },\n      imgsComplete,\n      liveregionCurrent,\n      preventScroll = options.preventScrollOnTouch === 'force' ? true : false;\n\n  // controls\n  if (hasControls) {\n    var controlsContainer = options.controlsContainer,\n        controlsContainerHTML = options.controlsContainer ? options.controlsContainer.outerHTML : '',\n        prevButton = options.prevButton,\n        nextButton = options.nextButton,\n        prevButtonHTML = options.prevButton ? options.prevButton.outerHTML : '',\n        nextButtonHTML = options.nextButton ? options.nextButton.outerHTML : '',\n        prevIsButton,\n        nextIsButton;\n  }\n\n  // nav\n  if (hasNav) {\n    var navContainer = options.navContainer,\n        navContainerHTML = options.navContainer ? options.navContainer.outerHTML : '',\n        navItems,\n        pages = autoWidth ? slideCount : getPages(),\n        pagesCached = 0,\n        navClicked = -1,\n        navCurrentIndex = getCurrentNavIndex(),\n        navCurrentIndexCached = navCurrentIndex,\n        navActiveClass = 'tns-nav-active',\n        navStr = 'Carousel Page ',\n        navStrCurrent = ' (Current Slide)';\n  }\n\n  // autoplay\n  if (hasAutoplay) {\n    var autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n        autoplayButton = options.autoplayButton,\n        autoplayButtonHTML = options.autoplayButton ? options.autoplayButton.outerHTML : '',\n        autoplayHtmlStrings = ['<span class=\\'tns-visually-hidden\\'>', ' animation</span>'],\n        autoplayTimer,\n        animating,\n        autoplayHoverPaused,\n        autoplayUserPaused,\n        autoplayVisibilityPaused;\n  }\n\n  if (hasTouch || hasMouseDrag) {\n    var initPosition = {},\n        lastPosition = {},\n        translateInit,\n        disX,\n        disY,\n        panStart = false,\n        rafIndex,\n        getDist = horizontal ? \n          function(a, b) { return a.x - b.x; } :\n          function(a, b) { return a.y - b.y; };\n  }\n  \n  // disable slider when slidecount <= items\n  if (!autoWidth) { resetVariblesWhenDisable(disable || freeze); }\n\n  if (TRANSFORM) {\n    transformAttr = TRANSFORM;\n    transformPrefix = 'translate';\n\n    if (HAS3DTRANSFORMS) {\n      transformPrefix += horizontal ? '3d(' : '3d(0px, ';\n      transformPostfix = horizontal ? ', 0px, 0px)' : ', 0px)';\n    } else {\n      transformPrefix += horizontal ? 'X(' : 'Y(';\n      transformPostfix = ')';\n    }\n\n  }\n\n  if (carousel) { container.className = container.className.replace('tns-vpfix', ''); }\n  initStructure();\n  initSheet();\n  initSliderTransform();\n\n  // === COMMON FUNCTIONS === //\n  function resetVariblesWhenDisable (condition) {\n    if (condition) {\n      controls = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n    }\n  }\n\n  function getCurrentSlide () {\n    var tem = carousel ? index - cloneCount : index;\n    while (tem < 0) { tem += slideCount; }\n    return tem%slideCount + 1;\n  }\n\n  function getStartIndex (ind) {\n    ind = ind ? Math.max(0, Math.min(loop ? slideCount - 1 : slideCount - items, ind)) : 0;\n    return carousel ? ind + cloneCount : ind;\n  }\n\n  function getAbsIndex (i) {\n    if (i == null) { i = index; }\n\n    if (carousel) { i -= cloneCount; }\n    while (i < 0) { i += slideCount; }\n\n    return Math.floor(i%slideCount);\n  }\n\n  function getCurrentNavIndex () {\n    var absIndex = getAbsIndex(),\n        result;\n\n    result = navAsThumbnails ? absIndex : \n      fixedWidth || autoWidth ? Math.ceil((absIndex + 1) * pages / slideCount - 1) : \n          Math.floor(absIndex / items);\n\n    // set active nav to the last one when reaches the right edge\n    if (!loop && carousel && index === indexMax) { result = pages - 1; }\n\n    return result;\n  }\n\n  function getItemsMax () {\n    // fixedWidth or autoWidth while viewportMax is not available\n    if (autoWidth || (fixedWidth && !viewportMax)) {\n      return slideCount - 1;\n    // most cases\n    } else {\n      var str = fixedWidth ? 'fixedWidth' : 'items',\n          arr = [];\n\n      if (fixedWidth || options[str] < slideCount) { arr.push(options[str]); }\n\n      if (responsive) {\n        for (var bp in responsive) {\n          var tem = responsive[bp][str];\n          if (tem && (fixedWidth || tem < slideCount)) { arr.push(tem); }\n        }\n      }\n\n      if (!arr.length) { arr.push(0); }\n\n      return Math.ceil(fixedWidth ? viewportMax / Math.min.apply(null, arr) : Math.max.apply(null, arr));\n    }\n  }\n\n  function getCloneCountForLoop () {\n    var itemsMax = getItemsMax(),\n        result = carousel ? Math.ceil((itemsMax * 5 - slideCount)/2) : (itemsMax * 4 - slideCount);\n    result = Math.max(itemsMax, result);\n\n    return hasOption('edgePadding') ? result + 1 : result;\n  }\n\n  function getWindowWidth () {\n    return win.innerWidth || doc.documentElement.clientWidth || doc.body.clientWidth;\n  }\n\n  function getInsertPosition (pos) {\n    return pos === 'top' ? 'afterbegin' : 'beforeend';\n  }\n\n  function getClientWidth (el) {\n    var div = doc.createElement('div'), rect, width;\n    el.appendChild(div);\n    rect = div.getBoundingClientRect();\n    width = rect.right - rect.left;\n    div.remove();\n    return width || getClientWidth(el.parentNode);\n  }\n\n  function getViewportWidth () {\n    var gap = edgePadding ? edgePadding * 2 - gutter : 0;\n    return getClientWidth(containerParent) - gap;\n  }\n\n  function hasOption (item) {\n    if (options[item]) {\n      return true;\n    } else {\n      if (responsive) {\n        for (var bp in responsive) {\n          if (responsive[bp][item]) { return true; }\n        }\n      }\n      return false;\n    }\n  }\n\n  // get option:\n  // fixed width: viewport, fixedWidth, gutter => items\n  // others: window width => all variables\n  // all: items => slideBy\n  function getOption (item, ww) {\n    if (ww == null) { ww = windowWidth; }\n\n    if (item === 'items' && fixedWidth) {\n      return Math.floor((viewport + gutter) / (fixedWidth + gutter)) || 1;\n\n    } else {\n      var result = options[item];\n\n      if (responsive) {\n        for (var bp in responsive) {\n          // bp: convert string to number\n          if (ww >= parseInt(bp)) {\n            if (item in responsive[bp]) { result = responsive[bp][item]; }\n          }\n        }\n      }\n\n      if (item === 'slideBy' && result === 'page') { result = getOption('items'); }\n      if (!carousel && (item === 'slideBy' || item === 'items')) { result = Math.floor(result); }\n\n      return result;\n    }\n  }\n\n  function getSlideMarginLeft (i) {\n    return CALC ? \n      CALC + '(' + i * 100 + '% / ' + slideCountNew + ')' : \n      i * 100 / slideCountNew + '%';\n  }\n\n  function getInnerWrapperStyles (edgePaddingTem, gutterTem, fixedWidthTem, speedTem, autoHeightBP) {\n    var str = '';\n\n    if (edgePaddingTem !== undefined) {\n      var gap = edgePaddingTem;\n      if (gutterTem) { gap -= gutterTem; }\n      str = horizontal ?\n        'margin: 0 ' + gap + 'px 0 ' + edgePaddingTem + 'px;' :\n        'margin: ' + edgePaddingTem + 'px 0 ' + gap + 'px 0;';\n    } else if (gutterTem && !fixedWidthTem) {\n      var gutterTemUnit = '-' + gutterTem + 'px',\n          dir = horizontal ? gutterTemUnit + ' 0 0' : '0 ' + gutterTemUnit + ' 0';\n      str = 'margin: 0 ' + dir + ';'\n    }\n\n    if (!carousel && autoHeightBP && TRANSITIONDURATION && speedTem) { str += getTransitionDurationStyle(speedTem); }\n    return str;\n  }\n\n  function getContainerWidth (fixedWidthTem, gutterTem, itemsTem) {\n    if (fixedWidthTem) {\n      return (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n    } else {\n      return CALC ?\n        CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')' :\n        slideCountNew * 100 / itemsTem + '%';\n    }\n  }\n\n  function getSlideWidthStyle (fixedWidthTem, gutterTem, itemsTem) {\n    var width;\n\n    if (fixedWidthTem) {\n      width = (fixedWidthTem + gutterTem) + 'px';\n    } else {\n      if (!carousel) { itemsTem = Math.floor(itemsTem); }\n      var dividend = carousel ? slideCountNew : itemsTem;\n      width = CALC ? \n        CALC + '(100% / ' + dividend + ')' : \n        100 / dividend + '%';\n    }\n\n    width = 'width:' + width;\n\n    // inner slider: overwrite outer slider styles\n    return nested !== 'inner' ? width + ';' : width + ' !important;';\n  }\n\n  function getSlideGutterStyle (gutterTem) {\n    var str = '';\n\n    // gutter maybe interger || 0\n    // so can't use 'if (gutter)'\n    if (gutterTem !== false) {\n      var prop = horizontal ? 'padding-' : 'margin-',\n          dir = horizontal ? 'right' : 'bottom';\n      str = prop +  dir + ': ' + gutterTem + 'px;';\n    }\n\n    return str;\n  }\n\n  function getCSSPrefix (name, num) {\n    var prefix = name.substring(0, name.length - num).toLowerCase();\n    if (prefix) { prefix = '-' + prefix + '-'; }\n\n    return prefix;\n  }\n\n  function getTransitionDurationStyle (speed) {\n    return getCSSPrefix(TRANSITIONDURATION, 18) + 'transition-duration:' + speed / 1000 + 's;';\n  }\n\n  function getAnimationDurationStyle (speed) {\n    return getCSSPrefix(ANIMATIONDURATION, 17) + 'animation-duration:' + speed / 1000 + 's;';\n  }\n\n  function initStructure () {\n    var classOuter = 'tns-outer',\n        classInner = 'tns-inner',\n        hasGutter = hasOption('gutter');\n\n    outerWrapper.className = classOuter;\n    innerWrapper.className = classInner;\n    outerWrapper.id = slideId + '-ow';\n    innerWrapper.id = slideId + '-iw';\n\n    // set container properties\n    if (container.id === '') { container.id = slideId; }\n    newContainerClasses += PERCENTAGELAYOUT || autoWidth ? ' tns-subpixel' : ' tns-no-subpixel';\n    newContainerClasses += CALC ? ' tns-calc' : ' tns-no-calc';\n    if (autoWidth) { newContainerClasses += ' tns-autowidth'; }\n    newContainerClasses += ' tns-' + options.axis;\n    container.className += newContainerClasses;\n\n    // add constrain layer for carousel\n    if (carousel) {\n      middleWrapper = doc.createElement('div');\n      middleWrapper.id = slideId + '-mw';\n      middleWrapper.className = 'tns-ovh';\n\n      outerWrapper.appendChild(middleWrapper);\n      middleWrapper.appendChild(innerWrapper);\n    } else {\n      outerWrapper.appendChild(innerWrapper);\n    }\n\n    if (autoHeight) {\n      var wp = middleWrapper ? middleWrapper : innerWrapper;\n      wp.className += ' tns-ah';\n    }\n\n    containerParent.insertBefore(outerWrapper, container);\n    innerWrapper.appendChild(container);\n\n    // add id, class, aria attributes \n    // before clone slides\n    forEach(slideItems, function(item, i) {\n      addClass(item, 'tns-item');\n      if (!item.id) { item.id = slideId + '-item' + i; }\n      if (!carousel && animateNormal) { addClass(item, animateNormal); }\n      setAttrs(item, {\n        'aria-hidden': 'true',\n        'tabindex': '-1'\n      });\n    });\n\n    // ## clone slides\n    // carousel: n + slides + n\n    // gallery:      slides + n\n    if (cloneCount) {\n      var fragmentBefore = doc.createDocumentFragment(), \n          fragmentAfter = doc.createDocumentFragment();\n\n      for (var j = cloneCount; j--;) {\n        var num = j%slideCount,\n            cloneFirst = slideItems[num].cloneNode(true);\n        removeAttrs(cloneFirst, 'id');\n        fragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n        if (carousel) {\n          var cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n          removeAttrs(cloneLast, 'id');\n          fragmentBefore.appendChild(cloneLast);\n        }\n      }\n\n      container.insertBefore(fragmentBefore, container.firstChild);\n      container.appendChild(fragmentAfter);\n      slideItems = container.children;\n    }\n\n  }\n\n  function initSliderTransform () {\n    // ## images loaded/failed\n    if (hasOption('autoHeight') || autoWidth || !horizontal) {\n      var imgs = container.querySelectorAll('img');\n\n      // add complete class if all images are loaded/failed\n      forEach(imgs, function(img) {\n        var src = img.src;\n        \n        if (src && src.indexOf('data:image') < 0) {\n          addEvents(img, imgEvents);\n          img.src = '';\n          img.src = src;\n          addClass(img, 'loading');\n        } else if (!lazyload) {\n          imgLoaded(img);\n        }\n      });\n\n      // All imgs are completed\n      raf(function(){ imgsLoadedCheck(arrayFromNodeList(imgs), function() { imgsComplete = true; }); });\n\n      // Check imgs in window only for auto height\n      if (!autoWidth && horizontal) { imgs = getImageArray(index, Math.min(index + items - 1, slideCountNew - 1)); }\n\n      lazyload ? initSliderTransformStyleCheck() : raf(function(){ imgsLoadedCheck(arrayFromNodeList(imgs), initSliderTransformStyleCheck); });\n\n    } else {\n      // set container transform property\n      if (carousel) { doContainerTransformSilent(); }\n\n      // update slider tools and events\n      initTools();\n      initEvents();\n    }\n  }\n\n  function initSliderTransformStyleCheck () {\n    if (autoWidth) {\n      // check styles application\n      var num = loop ? index : slideCount - 1;\n      (function stylesApplicationCheck() {\n        slideItems[num - 1].getBoundingClientRect().right.toFixed(2) === slideItems[num].getBoundingClientRect().left.toFixed(2) ?\n        initSliderTransformCore() :\n        setTimeout(function(){ stylesApplicationCheck() }, 16);\n      })();\n    } else {\n      initSliderTransformCore();\n    }\n  }\n\n\n  function initSliderTransformCore () {\n    // run Fn()s which are rely on image loading\n    if (!horizontal || autoWidth) {\n      setSlidePositions();\n\n      if (autoWidth) {\n        rightBoundary = getRightBoundary();\n        if (freezable) { freeze = getFreeze(); }\n        indexMax = getIndexMax(); // <= slidePositions, rightBoundary <=\n        resetVariblesWhenDisable(disable || freeze);\n      } else {\n        updateContentWrapperHeight();\n      }\n    }\n\n    // set container transform property\n    if (carousel) { doContainerTransformSilent(); }\n\n    // update slider tools and events\n    initTools();\n    initEvents();\n  }\n\n  function initSheet () {\n    // gallery:\n    // set animation classes and left value for gallery slider\n    if (!carousel) { \n      for (var i = index, l = index + Math.min(slideCount, items); i < l; i++) {\n        var item = slideItems[i];\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, animateIn);\n        removeClass(item, animateNormal);\n      }\n    }\n\n    // #### LAYOUT\n\n    // ## INLINE-BLOCK VS FLOAT\n\n    // ## PercentageLayout:\n    // slides: inline-block\n    // remove blank space between slides by set font-size: 0\n\n    // ## Non PercentageLayout:\n    // slides: float\n    //         margin-right: -100%\n    //         margin-left: ~\n\n    // Resource: https://docs.google.com/spreadsheets/d/147up245wwTXeQYve3BRSAD4oVcvQmuGsFteJOeA5xNQ/edit?usp=sharing\n    if (horizontal) {\n      if (PERCENTAGELAYOUT || autoWidth) {\n        addCSSRule(sheet, '#' + slideId + ' > .tns-item', 'font-size:' + win.getComputedStyle(slideItems[0]).fontSize + ';', getCssRulesLength(sheet));\n        addCSSRule(sheet, '#' + slideId, 'font-size:0;', getCssRulesLength(sheet));\n      } else if (carousel) {\n        forEach(slideItems, function (slide, i) {\n          slide.style.marginLeft = getSlideMarginLeft(i);\n        });\n      }\n    }\n\n\n    // ## BASIC STYLES\n    if (CSSMQ) {\n      // middle wrapper style\n      if (TRANSITIONDURATION) {\n        var str = middleWrapper && options.autoHeight ? getTransitionDurationStyle(options.speed) : '';\n        addCSSRule(sheet, '#' + slideId + '-mw', str, getCssRulesLength(sheet));\n      }\n\n      // inner wrapper styles\n      str = getInnerWrapperStyles(options.edgePadding, options.gutter, options.fixedWidth, options.speed, options.autoHeight);\n      addCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet));\n\n      // container styles\n      if (carousel) {\n        str = horizontal && !autoWidth ? 'width:' + getContainerWidth(options.fixedWidth, options.gutter, options.items) + ';' : '';\n        if (TRANSITIONDURATION) { str += getTransitionDurationStyle(speed); }\n        addCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n      }\n\n      // slide styles\n      str = horizontal && !autoWidth ? getSlideWidthStyle(options.fixedWidth, options.gutter, options.items) : '';\n      if (options.gutter) { str += getSlideGutterStyle(options.gutter); }\n      // set gallery items transition-duration\n      if (!carousel) {\n        if (TRANSITIONDURATION) { str += getTransitionDurationStyle(speed); }\n        if (ANIMATIONDURATION) { str += getAnimationDurationStyle(speed); }\n      }\n      if (str) { addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet)); }\n\n    // non CSS mediaqueries: IE8\n    // ## update inner wrapper, container, slides if needed\n    // set inline styles for inner wrapper & container\n    // insert stylesheet (one line) for slides only (since slides are many)\n    } else {\n      // middle wrapper styles\n      update_carousel_transition_duration();\n\n      // inner wrapper styles\n      innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, autoHeight);\n\n      // container styles\n      if (carousel && horizontal && !autoWidth) {\n        container.style.width = getContainerWidth(fixedWidth, gutter, items);\n      }\n\n      // slide styles\n      var str = horizontal && !autoWidth ? getSlideWidthStyle(fixedWidth, gutter, items) : '';\n      if (gutter) { str += getSlideGutterStyle(gutter); }\n\n      // append to the last line\n      if (str) { addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet)); }\n    }\n\n    // ## MEDIAQUERIES\n    if (responsive && CSSMQ) {\n      for (var bp in responsive) {\n        // bp: convert string to number\n        bp = parseInt(bp);\n\n        var opts = responsive[bp],\n            str = '',\n            middleWrapperStr = '',\n            innerWrapperStr = '',\n            containerStr = '',\n            slideStr = '',\n            itemsBP = !autoWidth ? getOption('items', bp) : null,\n            fixedWidthBP = getOption('fixedWidth', bp),\n            speedBP = getOption('speed', bp),\n            edgePaddingBP = getOption('edgePadding', bp),\n            autoHeightBP = getOption('autoHeight', bp),\n            gutterBP = getOption('gutter', bp);\n\n        // middle wrapper string\n        if (TRANSITIONDURATION && middleWrapper && getOption('autoHeight', bp) && 'speed' in opts) {\n          middleWrapperStr = '#' + slideId + '-mw{' + getTransitionDurationStyle(speedBP) + '}';\n        }\n\n        // inner wrapper string\n        if ('edgePadding' in opts || 'gutter' in opts) {\n          innerWrapperStr = '#' + slideId + '-iw{' + getInnerWrapperStyles(edgePaddingBP, gutterBP, fixedWidthBP, speedBP, autoHeightBP) + '}';\n        }\n\n        // container string\n        if (carousel && horizontal && !autoWidth && ('fixedWidth' in opts || 'items' in opts || (fixedWidth && 'gutter' in opts))) {\n          containerStr = 'width:' + getContainerWidth(fixedWidthBP, gutterBP, itemsBP) + ';';\n        }\n        if (TRANSITIONDURATION && 'speed' in opts) {\n          containerStr += getTransitionDurationStyle(speedBP);\n        }\n        if (containerStr) {\n          containerStr = '#' + slideId + '{' + containerStr + '}';\n        }\n\n        // slide string\n        if ('fixedWidth' in opts || (fixedWidth && 'gutter' in opts) || !carousel && 'items' in opts) {\n          slideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n        }\n        if ('gutter' in opts) {\n          slideStr += getSlideGutterStyle(gutterBP);\n        }\n        // set gallery items transition-duration\n        if (!carousel && 'speed' in opts) {\n          if (TRANSITIONDURATION) { slideStr += getTransitionDurationStyle(speedBP); }\n          if (ANIMATIONDURATION) { slideStr += getAnimationDurationStyle(speedBP); }\n        }\n        if (slideStr) { slideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}'; }\n\n        // add up\n        str = middleWrapperStr + innerWrapperStr + containerStr + slideStr;\n\n        if (str) {\n          sheet.insertRule('@media (min-width: ' + bp / 16 + 'em) {' + str + '}', sheet.cssRules.length);\n        }\n      }\n    }\n  }\n\n  function initTools () {\n    // == slides ==\n    updateSlideStatus();\n\n    // == live region ==\n    outerWrapper.insertAdjacentHTML('afterbegin', '<div class=\"tns-liveregion tns-visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">slide <span class=\"current\">' + getLiveRegionStr() + '</span>  of ' + slideCount + '</div>');\n    liveregionCurrent = outerWrapper.querySelector('.tns-liveregion .current');\n\n    // == autoplayInit ==\n    if (hasAutoplay) {\n      var txt = autoplay ? 'stop' : 'start';\n      if (autoplayButton) {\n        setAttrs(autoplayButton, {'data-action': txt});\n      } else if (options.autoplayButtonOutput) {\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.autoplayPosition), '<button data-action=\"' + txt + '\">' + autoplayHtmlStrings[0] + txt + autoplayHtmlStrings[1] + autoplayText[0] + '</button>');\n        autoplayButton = outerWrapper.querySelector('[data-action]');\n      }\n\n      // add event\n      if (autoplayButton) {\n        addEvents(autoplayButton, {'click': toggleAutoplay});\n      }\n\n      if (autoplay) {\n        startAutoplay();\n        if (autoplayHoverPause) { addEvents(container, hoverEvents); }\n        if (autoplayResetOnVisibility) { addEvents(container, visibilityEvent); }\n      }\n    }\n \n    // == navInit ==\n    if (hasNav) {\n      var initIndex = !carousel ? 0 : cloneCount;\n      // customized nav\n      // will not hide the navs in case they're thumbnails\n      if (navContainer) {\n        setAttrs(navContainer, {'aria-label': 'Carousel Pagination'});\n        navItems = navContainer.children;\n        forEach(navItems, function(item, i) {\n          setAttrs(item, {\n            'data-nav': i,\n            'tabindex': '-1',\n            'aria-label': navStr + (i + 1),\n            'aria-controls': slideId,\n          });\n        });\n\n      // generated nav \n      } else {\n        var navHtml = '',\n            hiddenStr = navAsThumbnails ? '' : 'style=\"display:none\"';\n        for (var i = 0; i < slideCount; i++) {\n          // hide nav items by default\n          navHtml += '<button data-nav=\"' + i +'\" tabindex=\"-1\" aria-controls=\"' + slideId + '\" ' + hiddenStr + ' aria-label=\"' + navStr + (i + 1) +'\"></button>';\n        }\n        navHtml = '<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' + navHtml + '</div>';\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.navPosition), navHtml);\n\n        navContainer = outerWrapper.querySelector('.tns-nav');\n        navItems = navContainer.children;\n      }\n\n      updateNavVisibility();\n\n      // add transition\n      if (TRANSITIONDURATION) {\n        var prefix = TRANSITIONDURATION.substring(0, TRANSITIONDURATION.length - 18).toLowerCase(),\n            str = 'transition: all ' + speed / 1000 + 's';\n\n        if (prefix) {\n          str = '-' + prefix + '-' + str;\n        }\n\n        addCSSRule(sheet, '[aria-controls^=' + slideId + '-item]', str, getCssRulesLength(sheet));\n      }\n\n      setAttrs(navItems[navCurrentIndex], {'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent});\n      removeAttrs(navItems[navCurrentIndex], 'tabindex');\n      addClass(navItems[navCurrentIndex], navActiveClass);\n\n      // add events\n      addEvents(navContainer, navEvents);\n    }\n\n\n\n    // == controlsInit ==\n    if (hasControls) {\n      if (!controlsContainer && (!prevButton || !nextButton)) {\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.controlsPosition), '<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' + slideId +'\">' + controlsText[0] + '</button><button data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' + slideId +'\">' + controlsText[1] + '</button></div>');\n\n        controlsContainer = outerWrapper.querySelector('.tns-controls');\n      }\n\n      if (!prevButton || !nextButton) {\n        prevButton = controlsContainer.children[0];\n        nextButton = controlsContainer.children[1];\n      }\n\n      if (options.controlsContainer) {\n        setAttrs(controlsContainer, {\n          'aria-label': 'Carousel Navigation',\n          'tabindex': '0'\n        });\n      }\n\n      if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n        setAttrs([prevButton, nextButton], {\n          'aria-controls': slideId,\n          'tabindex': '-1',\n        });\n      }\n      \n      if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n        setAttrs(prevButton, {'data-controls' : 'prev'});\n        setAttrs(nextButton, {'data-controls' : 'next'});\n      }\n\n      prevIsButton = isButton(prevButton);\n      nextIsButton = isButton(nextButton);\n\n      updateControlsStatus();\n\n      // add events\n      if (controlsContainer) {\n        addEvents(controlsContainer, controlsEvents);\n      } else {\n        addEvents(prevButton, controlsEvents);\n        addEvents(nextButton, controlsEvents);\n      }\n    }\n\n    // hide tools if needed\n    disableUI();\n  }\n\n  function initEvents () {\n    // add events\n    if (carousel && TRANSITIONEND) {\n      var eve = {};\n      eve[TRANSITIONEND] = onTransitionEnd;\n      addEvents(container, eve);\n    }\n\n    if (touch) { addEvents(container, touchEvents, options.preventScrollOnTouch); }\n    if (mouseDrag) { addEvents(container, dragEvents); }\n    if (arrowKeys) { addEvents(doc, docmentKeydownEvent); }\n\n    if (nested === 'inner') {\n      events.on('outerResized', function () {\n        resizeTasks();\n        events.emit('innerLoaded', info());\n      });\n    } else if (responsive || fixedWidth || autoWidth || autoHeight || !horizontal) {\n      addEvents(win, {'resize': onResize});\n    }\n\n    if (autoHeight) {\n      if (nested === 'outer') {\n        events.on('innerLoaded', doAutoHeight);\n      } else if (!disable) { doAutoHeight(); }\n    }\n\n    doLazyLoad();\n    if (disable) { disableSlider(); } else if (freeze) { freezeSlider(); }\n\n    events.on('indexChanged', additionalUpdates);\n    if (nested === 'inner') { events.emit('innerLoaded', info()); }\n    if (typeof onInit === 'function') { onInit(info()); }\n    isOn = true;\n  }\n\n  function destroy () {\n    // sheet\n    sheet.disabled = true;\n    if (sheet.ownerNode) { sheet.ownerNode.remove(); }\n\n    // remove win event listeners\n    removeEvents(win, {'resize': onResize});\n\n    // arrowKeys, controls, nav\n    if (arrowKeys) { removeEvents(doc, docmentKeydownEvent); }\n    if (controlsContainer) { removeEvents(controlsContainer, controlsEvents); }\n    if (navContainer) { removeEvents(navContainer, navEvents); }\n\n    // autoplay\n    removeEvents(container, hoverEvents);\n    removeEvents(container, visibilityEvent);\n    if (autoplayButton) { removeEvents(autoplayButton, {'click': toggleAutoplay}); }\n    if (autoplay) { clearInterval(autoplayTimer); }\n\n    // container\n    if (carousel && TRANSITIONEND) {\n      var eve = {};\n      eve[TRANSITIONEND] = onTransitionEnd;\n      removeEvents(container, eve);\n    }\n    if (touch) { removeEvents(container, touchEvents); }\n    if (mouseDrag) { removeEvents(container, dragEvents); }\n\n    // cache Object values in options && reset HTML\n    var htmlList = [containerHTML, controlsContainerHTML, prevButtonHTML, nextButtonHTML, navContainerHTML, autoplayButtonHTML];\n\n    tnsList.forEach(function(item, i) {\n      var el = item === 'container' ? outerWrapper : options[item];\n\n      if (typeof el === 'object') {\n        var prevEl = el.previousElementSibling ? el.previousElementSibling : false,\n            parentEl = el.parentNode;\n        el.outerHTML = htmlList[i];\n        options[item] = prevEl ? prevEl.nextElementSibling : parentEl.firstElementChild;\n      }\n    });\n\n\n    // reset variables\n    tnsList = animateIn = animateOut = animateDelay = animateNormal = horizontal = outerWrapper = innerWrapper = container = containerParent = containerHTML = slideItems = slideCount = breakpointZone = windowWidth = autoWidth = fixedWidth = edgePadding = gutter = viewport = items = slideBy = viewportMax = arrowKeys = speed = rewind = loop = autoHeight = sheet = lazyload = slidePositions = slideItemsOut = cloneCount = slideCountNew = hasRightDeadZone = rightBoundary = updateIndexBeforeTransform = transformAttr = transformPrefix = transformPostfix = getIndexMax = index = indexCached = indexMin = indexMax = resizeTimer = swipeAngle = moveDirectionExpected = running = onInit = events = newContainerClasses = slideId = disable = disabled = freezable = freeze = frozen = controlsEvents = navEvents = hoverEvents = visibilityEvent = docmentKeydownEvent = touchEvents = dragEvents = hasControls = hasNav = navAsThumbnails = hasAutoplay = hasTouch = hasMouseDrag = slideActiveClass = imgCompleteClass = imgEvents = imgsComplete = controls = controlsText = controlsContainer = controlsContainerHTML = prevButton = nextButton = prevIsButton = nextIsButton = nav = navContainer = navContainerHTML = navItems = pages = pagesCached = navClicked = navCurrentIndex = navCurrentIndexCached = navActiveClass = navStr = navStrCurrent = autoplay = autoplayTimeout = autoplayDirection = autoplayText = autoplayHoverPause = autoplayButton = autoplayButtonHTML = autoplayResetOnVisibility = autoplayHtmlStrings = autoplayTimer = animating = autoplayHoverPaused = autoplayUserPaused = autoplayVisibilityPaused = initPosition = lastPosition = translateInit = disX = disY = panStart = rafIndex = getDist = touch = mouseDrag = null;\n    // check variables\n    // [animateIn, animateOut, animateDelay, animateNormal, horizontal, outerWrapper, innerWrapper, container, containerParent, containerHTML, slideItems, slideCount, breakpointZone, windowWidth, autoWidth, fixedWidth, edgePadding, gutter, viewport, items, slideBy, viewportMax, arrowKeys, speed, rewind, loop, autoHeight, sheet, lazyload, slidePositions, slideItemsOut, cloneCount, slideCountNew, hasRightDeadZone, rightBoundary, updateIndexBeforeTransform, transformAttr, transformPrefix, transformPostfix, getIndexMax, index, indexCached, indexMin, indexMax, resizeTimer, swipeAngle, moveDirectionExpected, running, onInit, events, newContainerClasses, slideId, disable, disabled, freezable, freeze, frozen, controlsEvents, navEvents, hoverEvents, visibilityEvent, docmentKeydownEvent, touchEvents, dragEvents, hasControls, hasNav, navAsThumbnails, hasAutoplay, hasTouch, hasMouseDrag, slideActiveClass, imgCompleteClass, imgEvents, imgsComplete, controls, controlsText, controlsContainer, controlsContainerHTML, prevButton, nextButton, prevIsButton, nextIsButton, nav, navContainer, navContainerHTML, navItems, pages, pagesCached, navClicked, navCurrentIndex, navCurrentIndexCached, navActiveClass, navStr, navStrCurrent, autoplay, autoplayTimeout, autoplayDirection, autoplayText, autoplayHoverPause, autoplayButton, autoplayButtonHTML, autoplayResetOnVisibility, autoplayHtmlStrings, autoplayTimer, animating, autoplayHoverPaused, autoplayUserPaused, autoplayVisibilityPaused, initPosition, lastPosition, translateInit, disX, disY, panStart, rafIndex, getDist, touch, mouseDrag ].forEach(function(item) { if (item !== null) { console.log(item); } });\n\n    for (var a in this) {\n      if (a !== 'rebuild') { this[a] = null; }\n    }\n    isOn = false;\n  }\n\n// === ON RESIZE ===\n  // responsive || fixedWidth || autoWidth || !horizontal\n  function onResize (e) {\n    raf(function(){ resizeTasks(getEvent(e)); });\n  }\n\n  function resizeTasks (e) {\n    if (!isOn) { return; }\n    if (nested === 'outer') { events.emit('outerResized', info(e)); }\n    windowWidth = getWindowWidth();\n    var bpChanged,\n        breakpointZoneTem = breakpointZone,\n        needContainerTransform = false;\n\n    if (responsive) {\n      setBreakpointZone();\n      bpChanged = breakpointZoneTem !== breakpointZone;\n      // if (hasRightDeadZone) { needContainerTransform = true; } // *?\n      if (bpChanged) { events.emit('newBreakpointStart', info(e)); }\n    }\n\n    var indChanged,\n        itemsChanged,\n        itemsTem = items,\n        disableTem = disable,\n        freezeTem = freeze,\n        arrowKeysTem = arrowKeys,\n        controlsTem = controls,\n        navTem = nav,\n        touchTem = touch,\n        mouseDragTem = mouseDrag,\n        autoplayTem = autoplay,\n        autoplayHoverPauseTem = autoplayHoverPause,\n        autoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n        indexTem = index;\n\n    if (bpChanged) {\n      var fixedWidthTem = fixedWidth,\n          autoHeightTem = autoHeight,\n          controlsTextTem = controlsText,\n          centerTem = center,\n          autoplayTextTem = autoplayText;\n\n      if (!CSSMQ) {\n        var gutterTem = gutter,\n            edgePaddingTem = edgePadding;\n      }\n    }\n\n    // get option:\n    // fixed width: viewport, fixedWidth, gutter => items\n    // others: window width => all variables\n    // all: items => slideBy\n    arrowKeys = getOption('arrowKeys');\n    controls = getOption('controls');\n    nav = getOption('nav');\n    touch = getOption('touch');\n    center = getOption('center');\n    mouseDrag = getOption('mouseDrag');\n    autoplay = getOption('autoplay');\n    autoplayHoverPause = getOption('autoplayHoverPause');\n    autoplayResetOnVisibility = getOption('autoplayResetOnVisibility');\n\n    if (bpChanged) {\n      disable = getOption('disable');\n      fixedWidth = getOption('fixedWidth');\n      speed = getOption('speed');\n      autoHeight = getOption('autoHeight');\n      controlsText = getOption('controlsText');\n      autoplayText = getOption('autoplayText');\n      autoplayTimeout = getOption('autoplayTimeout');\n\n      if (!CSSMQ) {\n        edgePadding = getOption('edgePadding');\n        gutter = getOption('gutter');\n      }\n    }\n    // update options\n    resetVariblesWhenDisable(disable);\n\n    viewport = getViewportWidth(); // <= edgePadding, gutter\n    if ((!horizontal || autoWidth) && !disable) {\n      setSlidePositions();\n      if (!horizontal) {\n        updateContentWrapperHeight(); // <= setSlidePositions\n        needContainerTransform = true;\n      }\n    }\n    if (fixedWidth || autoWidth) {\n      rightBoundary = getRightBoundary(); // autoWidth: <= viewport, slidePositions, gutter\n                                          // fixedWidth: <= viewport, fixedWidth, gutter\n      indexMax = getIndexMax(); // autoWidth: <= rightBoundary, slidePositions\n                                // fixedWidth: <= rightBoundary, fixedWidth, gutter\n    }\n\n    if (bpChanged || fixedWidth) {\n      items = getOption('items');\n      slideBy = getOption('slideBy');\n      itemsChanged = items !== itemsTem;\n\n      if (itemsChanged) {\n        if (!fixedWidth && !autoWidth) { indexMax = getIndexMax(); } // <= items\n        // check index before transform in case\n        // slider reach the right edge then items become bigger\n        updateIndex();\n      }\n    }\n    \n    if (bpChanged) {\n      if (disable !== disableTem) {\n        if (disable) {\n          disableSlider();\n        } else {\n          enableSlider(); // <= slidePositions, rightBoundary, indexMax\n        }\n      }\n    }\n\n    if (freezable && (bpChanged || fixedWidth || autoWidth)) {\n      freeze = getFreeze(); // <= autoWidth: slidePositions, gutter, viewport, rightBoundary\n                            // <= fixedWidth: fixedWidth, gutter, rightBoundary\n                            // <= others: items\n\n      if (freeze !== freezeTem) {\n        if (freeze) {\n          doContainerTransform(getContainerTransformValue(getStartIndex(0)));\n          freezeSlider();\n        } else {\n          unfreezeSlider();\n          needContainerTransform = true;\n        }\n      }\n    }\n\n    resetVariblesWhenDisable(disable || freeze); // controls, nav, touch, mouseDrag, arrowKeys, autoplay, autoplayHoverPause, autoplayResetOnVisibility\n    if (!autoplay) { autoplayHoverPause = autoplayResetOnVisibility = false; }\n\n    if (arrowKeys !== arrowKeysTem) {\n      arrowKeys ?\n        addEvents(doc, docmentKeydownEvent) :\n        removeEvents(doc, docmentKeydownEvent);\n    }\n    if (controls !== controlsTem) {\n      if (controls) {\n        if (controlsContainer) {\n          showElement(controlsContainer);\n        } else {\n          if (prevButton) { showElement(prevButton); }\n          if (nextButton) { showElement(nextButton); }\n        }\n      } else {\n        if (controlsContainer) {\n          hideElement(controlsContainer);\n        } else {\n          if (prevButton) { hideElement(prevButton); }\n          if (nextButton) { hideElement(nextButton); }\n        }\n      }\n    }\n    if (nav !== navTem) {\n      nav ?\n        showElement(navContainer) :\n        hideElement(navContainer);\n    }\n    if (touch !== touchTem) {\n      touch ?\n        addEvents(container, touchEvents, options.preventScrollOnTouch) :\n        removeEvents(container, touchEvents);\n    }\n    if (mouseDrag !== mouseDragTem) {\n      mouseDrag ?\n        addEvents(container, dragEvents) :\n        removeEvents(container, dragEvents);\n    }\n    if (autoplay !== autoplayTem) {\n      if (autoplay) {\n        if (autoplayButton) { showElement(autoplayButton); }\n        if (!animating && !autoplayUserPaused) { startAutoplay(); }\n      } else {\n        if (autoplayButton) { hideElement(autoplayButton); }\n        if (animating) { stopAutoplay(); }\n      }\n    }\n    if (autoplayHoverPause !== autoplayHoverPauseTem) {\n      autoplayHoverPause ?\n        addEvents(container, hoverEvents) :\n        removeEvents(container, hoverEvents);\n    }\n    if (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n      autoplayResetOnVisibility ?\n        addEvents(doc, visibilityEvent) :\n        removeEvents(doc, visibilityEvent);\n    }\n\n    if (bpChanged) {\n      if (fixedWidth !== fixedWidthTem || center !== centerTem) { needContainerTransform = true; }\n\n      if (autoHeight !== autoHeightTem) {\n        if (!autoHeight) { innerWrapper.style.height = ''; }\n      }\n\n      if (controls && controlsText !== controlsTextTem) {\n        prevButton.innerHTML = controlsText[0];\n        nextButton.innerHTML = controlsText[1];\n      }\n\n      if (autoplayButton && autoplayText !== autoplayTextTem) {\n        var i = autoplay ? 1 : 0,\n            html = autoplayButton.innerHTML,\n            len = html.length - autoplayTextTem[i].length;\n        if (html.substring(len) === autoplayTextTem[i]) {\n          autoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n        }\n      }\n    } else {\n      if (center && (fixedWidth || autoWidth)) { needContainerTransform = true; }\n    }\n\n    if (itemsChanged || fixedWidth && !autoWidth) {\n      pages = getPages();\n      updateNavVisibility();\n    }\n\n    indChanged = index !== indexTem;\n    if (indChanged) { \n      events.emit('indexChanged', info());\n      needContainerTransform = true;\n    } else if (itemsChanged) {\n      if (!indChanged) { additionalUpdates(); }\n    } else if (fixedWidth || autoWidth) {\n      doLazyLoad(); \n      updateSlideStatus();\n      updateLiveRegion();\n    }\n\n    if (itemsChanged && !carousel) { updateGallerySlidePositions(); }\n\n    if (!disable && !freeze) {\n      // non-meduaqueries: IE8\n      if (bpChanged && !CSSMQ) {\n        // middle wrapper styles\n        if (autoHeight !== autoheightTem || speed !== speedTem) {\n          update_carousel_transition_duration();\n        }\n\n        // inner wrapper styles\n        if (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n          innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, speed, autoHeight);\n        }\n\n        if (horizontal) {\n          // container styles\n          if (carousel) {\n            container.style.width = getContainerWidth(fixedWidth, gutter, items);\n          }\n\n          // slide styles\n          var str = getSlideWidthStyle(fixedWidth, gutter, items) + \n                    getSlideGutterStyle(gutter);\n\n          // remove the last line and\n          // add new styles\n          removeCSSRule(sheet, getCssRulesLength(sheet) - 1);\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n      }\n\n      // auto height\n      if (autoHeight) { doAutoHeight(); }\n\n      if (needContainerTransform) {\n        doContainerTransformSilent();\n        indexCached = index;\n      }\n    }\n\n    if (bpChanged) { events.emit('newBreakpointEnd', info(e)); }\n  }\n\n\n\n\n\n  // === INITIALIZATION FUNCTIONS === //\n  function getFreeze () {\n    if (!fixedWidth && !autoWidth) {\n      var a = center ? items - (items - 1) / 2 : items;\n      return  slideCount <= a;\n    }\n\n    var width = fixedWidth ? (fixedWidth + gutter) * slideCount : slidePositions[slideCount],\n        vp = edgePadding ? viewport + edgePadding * 2 : viewport + gutter;\n\n    if (center) {\n      vp -= fixedWidth ? (viewport - fixedWidth) / 2 : (viewport - (slidePositions[index + 1] - slidePositions[index] - gutter)) / 2;\n    }\n\n    return width <= vp;\n  }\n\n  function setBreakpointZone () {\n    breakpointZone = 0;\n    for (var bp in responsive) {\n      bp = parseInt(bp); // convert string to number\n      if (windowWidth >= bp) { breakpointZone = bp; }\n    }\n  }\n\n  // (slideBy, indexMin, indexMax) => index\n  var updateIndex = (function () {\n    return loop ? \n      carousel ?\n        // loop + carousel\n        function () {\n          var leftEdge = indexMin,\n              rightEdge = indexMax;\n\n          leftEdge += slideBy;\n          rightEdge -= slideBy;\n\n          // adjust edges when has edge paddings\n          // or fixed-width slider with extra space on the right side\n          if (edgePadding) {\n            leftEdge += 1;\n            rightEdge -= 1;\n          } else if (fixedWidth) {\n            if ((viewport + gutter)%(fixedWidth + gutter)) { rightEdge -= 1; }\n          }\n\n          if (cloneCount) {\n            if (index > rightEdge) {\n              index -= slideCount;\n            } else if (index < leftEdge) {\n              index += slideCount;\n            }\n          }\n        } :\n        // loop + gallery\n        function() {\n          if (index > indexMax) {\n            while (index >= indexMin + slideCount) { index -= slideCount; }\n          } else if (index < indexMin) {\n            while (index <= indexMax - slideCount) { index += slideCount; }\n          }\n        } :\n      // non-loop\n      function() {\n        index = Math.max(indexMin, Math.min(indexMax, index));\n      };\n  })();\n\n  function disableUI () {\n    if (!autoplay && autoplayButton) { hideElement(autoplayButton); }\n    if (!nav && navContainer) { hideElement(navContainer); }\n    if (!controls) {\n      if (controlsContainer) {\n        hideElement(controlsContainer);\n      } else {\n        if (prevButton) { hideElement(prevButton); }\n        if (nextButton) { hideElement(nextButton); }\n      }\n    }\n  }\n\n  function enableUI () {\n    if (autoplay && autoplayButton) { showElement(autoplayButton); }\n    if (nav && navContainer) { showElement(navContainer); }\n    if (controls) {\n      if (controlsContainer) {\n        showElement(controlsContainer);\n      } else {\n        if (prevButton) { showElement(prevButton); }\n        if (nextButton) { showElement(nextButton); }\n      }\n    }\n  }\n\n  function freezeSlider () {\n    if (frozen) { return; }\n\n    // remove edge padding from inner wrapper\n    if (edgePadding) { innerWrapper.style.margin = '0px'; }\n\n    // add class tns-transparent to cloned slides\n    if (cloneCount) {\n      var str = 'tns-transparent';\n      for (var i = cloneCount; i--;) {\n        if (carousel) { addClass(slideItems[i], str); }\n        addClass(slideItems[slideCountNew - i - 1], str);\n      }\n    }\n\n    // update tools\n    disableUI();\n\n    frozen = true;\n  }\n\n  function unfreezeSlider () {\n    if (!frozen) { return; }\n\n    // restore edge padding for inner wrapper\n    // for mordern browsers\n    if (edgePadding && CSSMQ) { innerWrapper.style.margin = ''; }\n\n    // remove class tns-transparent to cloned slides\n    if (cloneCount) {\n      var str = 'tns-transparent';\n      for (var i = cloneCount; i--;) {\n        if (carousel) { removeClass(slideItems[i], str); }\n        removeClass(slideItems[slideCountNew - i - 1], str);\n      }\n    }\n\n    // update tools\n    enableUI();\n\n    frozen = false;\n  }\n\n  function disableSlider () {\n    if (disabled) { return; }\n\n    sheet.disabled = true;\n    container.className = container.className.replace(newContainerClasses.substring(1), '');\n    removeAttrs(container, ['style']);\n    if (loop) {\n      for (var j = cloneCount; j--;) {\n        if (carousel) { hideElement(slideItems[j]); }\n        hideElement(slideItems[slideCountNew - j - 1]);\n      }\n    }\n\n    // vertical slider\n    if (!horizontal || !carousel) { removeAttrs(innerWrapper, ['style']); }\n\n    // gallery\n    if (!carousel) { \n      for (var i = index, l = index + slideCount; i < l; i++) {\n        var item = slideItems[i];\n        removeAttrs(item, ['style']);\n        removeClass(item, animateIn);\n        removeClass(item, animateNormal);\n      }\n    }\n\n    // update tools\n    disableUI();\n\n    disabled = true;\n  }\n\n  function enableSlider () {\n    if (!disabled) { return; }\n\n    sheet.disabled = false;\n    container.className += newContainerClasses;\n    doContainerTransformSilent();\n\n    if (loop) {\n      for (var j = cloneCount; j--;) {\n        if (carousel) { showElement(slideItems[j]); }\n        showElement(slideItems[slideCountNew - j - 1]);\n      }\n    }\n\n    // gallery\n    if (!carousel) { \n      for (var i = index, l = index + slideCount; i < l; i++) {\n        var item = slideItems[i],\n            classN = i < index + items ? animateIn : animateNormal;\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, classN);\n      }\n    }\n\n    // update tools\n    enableUI();\n\n    disabled = false;\n  }\n\n  function updateLiveRegion () {\n    var str = getLiveRegionStr();\n    if (liveregionCurrent.innerHTML !== str) { liveregionCurrent.innerHTML = str; }\n  }\n\n  function getLiveRegionStr () {\n    var arr = getVisibleSlideRange(),\n        start = arr[0] + 1,\n        end = arr[1] + 1;\n    return start === end ? start + '' : start + ' to ' + end; \n  }\n\n  function getVisibleSlideRange (val) {\n    if (val == null) { val = getContainerTransformValue(); }\n    var start = index, end, rangestart, rangeend;\n\n    // get range start, range end for autoWidth and fixedWidth\n    if (center || edgePadding) {\n      if (autoWidth || fixedWidth) {\n        rangestart = - (parseFloat(val) + edgePadding);\n        rangeend = rangestart + viewport + edgePadding * 2;\n      }\n    } else {\n      if (autoWidth) {\n        rangestart = slidePositions[index];\n        rangeend = rangestart + viewport;\n      }\n    }\n\n    // get start, end\n    // - check auto width\n    if (autoWidth) {\n      slidePositions.forEach(function(point, i) {\n        if (i < slideCountNew) {\n          if ((center || edgePadding) && point <= rangestart + 0.5) { start = i; }\n          if (rangeend - point >= 0.5) { end = i; }\n        }\n      });\n\n    // - check percentage width, fixed width\n    } else {\n\n      if (fixedWidth) {\n        var cell = fixedWidth + gutter;\n        if (center || edgePadding) {\n          start = Math.floor(rangestart/cell);\n          end = Math.ceil(rangeend/cell - 1);\n        } else {\n          end = start + Math.ceil(viewport/cell) - 1;\n        }\n\n      } else {\n        if (center || edgePadding) {\n          var a = items - 1;\n          if (center) {\n            start -= a / 2;\n            end = index + a / 2;\n          } else {\n            end = index + a;\n          }\n\n          if (edgePadding) {\n            var b = edgePadding * items / viewport;\n            start -= b;\n            end += b;\n          }\n\n          start = Math.floor(start);\n          end = Math.ceil(end);\n        } else {\n          end = start + items - 1;\n        }\n      }\n\n      start = Math.max(start, 0);\n      end = Math.min(end, slideCountNew - 1);\n    }\n\n    return [start, end];\n  }\n\n  function doLazyLoad () {\n    if (lazyload && !disable) {\n      getImageArray.apply(null, getVisibleSlideRange()).forEach(function (img) {\n        if (!hasClass(img, imgCompleteClass)) {\n          // stop propagation transitionend event to container\n          var eve = {};\n          eve[TRANSITIONEND] = function (e) { e.stopPropagation(); };\n          addEvents(img, eve);\n\n          addEvents(img, imgEvents);\n\n          // update src\n          img.src = getAttr(img, 'data-src');\n\n          // update srcset\n          var srcset = getAttr(img, 'data-srcset');\n          if (srcset) { img.srcset = srcset; }\n\n          addClass(img, 'loading');\n        }\n      });\n    }\n  }\n\n  function onImgLoaded (e) {\n    imgLoaded(getTarget(e));\n  }\n\n  function onImgFailed (e) {\n    imgFailed(getTarget(e));\n  }\n\n  function imgLoaded (img) {\n    addClass(img, 'loaded');\n    imgCompleted(img);\n  }\n\n  function imgFailed (img) {\n    addClass(img, 'failed');\n    imgCompleted(img);\n  }\n\n  function imgCompleted (img) {\n    addClass(img, 'tns-complete');\n    removeClass(img, 'loading');\n    removeEvents(img, imgEvents);\n  }\n\n  function getImageArray (start, end) {\n    var imgs = [];\n    while (start <= end) {\n      forEach(slideItems[start].querySelectorAll('img'), function (img) { imgs.push(img); });\n      start++;\n    }\n\n    return imgs;\n  }\n\n  // check if all visible images are loaded\n  // and update container height if it's done\n  function doAutoHeight () {\n    var imgs = getImageArray.apply(null, getVisibleSlideRange());\n    raf(function(){ imgsLoadedCheck(imgs, updateInnerWrapperHeight); });\n  }\n\n  function imgsLoadedCheck (imgs, cb) {\n    // directly execute callback function if all images are complete\n    if (imgsComplete) { return cb(); }\n\n    // check selected image classes otherwise\n    imgs.forEach(function (img, index) {\n      if (hasClass(img, imgCompleteClass)) { imgs.splice(index, 1); }\n    });\n\n    // execute callback function if selected images are all complete\n    if (!imgs.length) { return cb(); }\n\n    // otherwise execute this functiona again\n    raf(function(){ imgsLoadedCheck(imgs, cb); });\n  } \n\n  function additionalUpdates () {\n    doLazyLoad(); \n    updateSlideStatus();\n    updateLiveRegion();\n    updateControlsStatus();\n    updateNavStatus();\n  }\n\n\n  function update_carousel_transition_duration () {\n    if (carousel && autoHeight) {\n      middleWrapper.style[TRANSITIONDURATION] = speed / 1000 + 's';\n    }\n  }\n\n  function getMaxSlideHeight (slideStart, slideRange) {\n    var heights = [];\n    for (var i = slideStart, l = Math.min(slideStart + slideRange, slideCountNew); i < l; i++) {\n      heights.push(slideItems[i].offsetHeight);\n    }\n\n    return Math.max.apply(null, heights);\n  }\n\n  // update inner wrapper height\n  // 1. get the max-height of the visible slides\n  // 2. set transitionDuration to speed\n  // 3. update inner wrapper height to max-height\n  // 4. set transitionDuration to 0s after transition done\n  function updateInnerWrapperHeight () {\n    var maxHeight = autoHeight ? getMaxSlideHeight(index, items) : getMaxSlideHeight(cloneCount, slideCount),\n        wp = middleWrapper ? middleWrapper : innerWrapper;\n\n    if (wp.style.height !== maxHeight) { wp.style.height = maxHeight + 'px'; }\n  }\n\n  // get the distance from the top edge of the first slide to each slide\n  // (init) => slidePositions\n  function setSlidePositions () {\n    slidePositions = [0];\n    var attr = horizontal ? 'left' : 'top',\n        attr2 = horizontal ? 'right' : 'bottom',\n        base = slideItems[0].getBoundingClientRect()[attr];\n\n    forEach(slideItems, function(item, i) {\n      // skip the first slide\n      if (i) { slidePositions.push(item.getBoundingClientRect()[attr] - base); }\n      // add the end edge\n      if (i === slideCountNew - 1) { slidePositions.push(item.getBoundingClientRect()[attr2] - base); }\n    });\n  }\n\n  // update slide\n  function updateSlideStatus () {\n    var range = getVisibleSlideRange(),\n        start = range[0],\n        end = range[1];\n\n    forEach(slideItems, function(item, i) {\n      // show slides\n      if (i >= start && i <= end) {\n        if (hasAttr(item, 'aria-hidden')) {\n          removeAttrs(item, ['aria-hidden', 'tabindex']);\n          addClass(item, slideActiveClass);\n        }\n      // hide slides\n      } else {\n        if (!hasAttr(item, 'aria-hidden')) {\n          setAttrs(item, {\n            'aria-hidden': 'true',\n            'tabindex': '-1'\n          });\n          removeClass(item, slideActiveClass);\n        }\n      }\n    });\n  }\n\n  // gallery: update slide position\n  function updateGallerySlidePositions () {\n    var l = index + Math.min(slideCount, items);\n    for (var i = slideCountNew; i--;) {\n      var item = slideItems[i];\n\n      if (i >= index && i < l) {\n        // add transitions to visible slides when adjusting their positions\n        addClass(item, 'tns-moving');\n\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, animateIn);\n        removeClass(item, animateNormal);\n      } else if (item.style.left) {\n        item.style.left = '';\n        addClass(item, animateNormal);\n        removeClass(item, animateIn);\n      }\n\n      // remove outlet animation\n      removeClass(item, animateOut);\n    }\n\n    // removing '.tns-moving'\n    setTimeout(function() {\n      forEach(slideItems, function(el) {\n        removeClass(el, 'tns-moving');\n      });\n    }, 300);\n  }\n\n  // set tabindex on Nav\n  function updateNavStatus () {\n    // get current nav\n    if (nav) {\n      navCurrentIndex = navClicked >= 0 ? navClicked : getCurrentNavIndex();\n      navClicked = -1;\n\n      if (navCurrentIndex !== navCurrentIndexCached) {\n        var navPrev = navItems[navCurrentIndexCached],\n            navCurrent = navItems[navCurrentIndex];\n\n        setAttrs(navPrev, {\n          'tabindex': '-1',\n          'aria-label': navStr + (navCurrentIndexCached + 1)\n        });\n        removeClass(navPrev, navActiveClass);\n        \n        setAttrs(navCurrent, {'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent});\n        removeAttrs(navCurrent, 'tabindex');\n        addClass(navCurrent, navActiveClass);\n\n        navCurrentIndexCached = navCurrentIndex;\n      }\n    }\n  }\n\n  function getLowerCaseNodeName (el) {\n    return el.nodeName.toLowerCase();\n  }\n\n  function isButton (el) {\n    return getLowerCaseNodeName(el) === 'button';\n  }\n\n  function isAriaDisabled (el) {\n    return el.getAttribute('aria-disabled') === 'true';\n  }\n\n  function disEnableElement (isButton, el, val) {\n    if (isButton) {\n      el.disabled = val;\n    } else {\n      el.setAttribute('aria-disabled', val.toString());\n    }\n  }\n\n  // set 'disabled' to true on controls when reach the edges\n  function updateControlsStatus () {\n    if (!controls || rewind || loop) { return; }\n\n    var prevDisabled = (prevIsButton) ? prevButton.disabled : isAriaDisabled(prevButton),\n        nextDisabled = (nextIsButton) ? nextButton.disabled : isAriaDisabled(nextButton),\n        disablePrev = (index <= indexMin) ? true : false,\n        disableNext = (!rewind && index >= indexMax) ? true : false;\n\n    if (disablePrev && !prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, true);\n    }\n    if (!disablePrev && prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, false);\n    }\n    if (disableNext && !nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, true);\n    }\n    if (!disableNext && nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, false);\n    }\n  }\n\n  // set duration\n  function resetDuration (el, str) {\n    if (TRANSITIONDURATION) { el.style[TRANSITIONDURATION] = str; }\n  }\n\n  function getSliderWidth () {\n    return fixedWidth ? (fixedWidth + gutter) * slideCountNew : slidePositions[slideCountNew];\n  }\n\n  function getCenterGap (num) {\n    if (num == null) { num = index; }\n\n    var gap = edgePadding ? gutter : 0;\n    return autoWidth ? ((viewport - gap) - (slidePositions[num + 1] - slidePositions[num] - gutter))/2 :\n      fixedWidth ? (viewport - fixedWidth) / 2 :\n        (items - 1) / 2;\n  }\n\n  function getRightBoundary () {\n    var gap = edgePadding ? gutter : 0,\n        result = (viewport + gap) - getSliderWidth();\n\n    if (center && !loop) {\n      result = fixedWidth ? - (fixedWidth + gutter) * (slideCountNew - 1) - getCenterGap() :\n        getCenterGap(slideCountNew - 1) - slidePositions[slideCountNew - 1];\n    }\n    if (result > 0) { result = 0; }\n\n    return result;\n  }\n\n  function getContainerTransformValue (num) {\n    if (num == null) { num = index; }\n\n    var val;\n    if (horizontal && !autoWidth) {\n      if (fixedWidth) {\n        val = - (fixedWidth + gutter) * num;\n        if (center) { val += getCenterGap(); }\n      } else {\n        var denominator = TRANSFORM ? slideCountNew : items;\n        if (center) { num -= getCenterGap(); }\n        val = - num * 100 / denominator;\n      }\n    } else {\n      val = - slidePositions[num];\n      if (center && autoWidth) {\n        val += getCenterGap();\n      }\n    }\n\n    if (hasRightDeadZone) { val = Math.max(val, rightBoundary); }\n\n    val += (horizontal && !autoWidth && !fixedWidth) ? '%' : 'px';\n\n    return val;\n  }\n\n  function doContainerTransformSilent (val) {\n    resetDuration(container, '0s');\n    doContainerTransform(val);\n  }\n\n  function doContainerTransform (val) {\n    if (val == null) { val = getContainerTransformValue(); }\n    container.style[transformAttr] = transformPrefix + val + transformPostfix;\n  }\n\n  function animateSlide (number, classOut, classIn, isOut) {\n    var l = number + items;\n    if (!loop) { l = Math.min(l, slideCountNew); }\n\n    for (var i = number; i < l; i++) {\n        var item = slideItems[i];\n\n      // set item positions\n      if (!isOut) { item.style.left = (i - index) * 100 / items + '%'; }\n\n      if (animateDelay && TRANSITIONDELAY) {\n        item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = animateDelay * (i - number) / 1000 + 's';\n      }\n      removeClass(item, classOut);\n      addClass(item, classIn);\n      \n      if (isOut) { slideItemsOut.push(item); }\n    }\n  }\n\n  // make transfer after click/drag:\n  // 1. change 'transform' property for mordern browsers\n  // 2. change 'left' property for legacy browsers\n  var transformCore = (function () {\n    return carousel ?\n      function () {\n        resetDuration(container, '');\n        if (TRANSITIONDURATION || !speed) {\n          // for morden browsers with non-zero duration or \n          // zero duration for all browsers\n          doContainerTransform();\n          // run fallback function manually \n          // when duration is 0 / container is hidden\n          if (!speed || !isVisible(container)) { onTransitionEnd(); }\n\n        } else {\n          // for old browser with non-zero duration\n          jsTransform(container, transformAttr, transformPrefix, transformPostfix, getContainerTransformValue(), speed, onTransitionEnd);\n        }\n\n        if (!horizontal) { updateContentWrapperHeight(); }\n      } :\n      function () {\n        slideItemsOut = [];\n\n        var eve = {};\n        eve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n        removeEvents(slideItems[indexCached], eve);\n        addEvents(slideItems[index], eve);\n\n        animateSlide(indexCached, animateIn, animateOut, true);\n        animateSlide(index, animateNormal, animateIn);\n\n        // run fallback function manually \n        // when transition or animation not supported / duration is 0\n        if (!TRANSITIONEND || !ANIMATIONEND || !speed || !isVisible(container)) { onTransitionEnd(); }\n      };\n  })();\n\n  function render (e, sliderMoved) {\n    if (updateIndexBeforeTransform) { updateIndex(); }\n\n    // render when slider was moved (touch or drag) even though index may not change\n    if (index !== indexCached || sliderMoved) {\n      // events\n      events.emit('indexChanged', info());\n      events.emit('transitionStart', info());\n      if (autoHeight) { doAutoHeight(); }\n\n      // pause autoplay when click or keydown from user\n      if (animating && e && ['click', 'keydown'].indexOf(e.type) >= 0) { stopAutoplay(); }\n\n      running = true;\n      transformCore();\n    }\n  }\n\n  /*\n   * Transfer prefixed properties to the same format\n   * CSS: -Webkit-Transform => webkittransform\n   * JS: WebkitTransform => webkittransform\n   * @param {string} str - property\n   *\n   */\n  function strTrans (str) {\n    return str.toLowerCase().replace(/-/g, '');\n  }\n\n  // AFTER TRANSFORM\n  // Things need to be done after a transfer:\n  // 1. check index\n  // 2. add classes to visible slide\n  // 3. disable controls buttons when reach the first/last slide in non-loop slider\n  // 4. update nav status\n  // 5. lazyload images\n  // 6. update container height\n  function onTransitionEnd (event) {\n    // check running on gallery mode\n    // make sure trantionend/animationend events run only once\n    if (carousel || running) {\n      events.emit('transitionEnd', info(event));\n\n      if (!carousel && slideItemsOut.length > 0) {\n        for (var i = 0; i < slideItemsOut.length; i++) {\n          var item = slideItemsOut[i];\n          // set item positions\n          item.style.left = '';\n\n          if (ANIMATIONDELAY && TRANSITIONDELAY) { \n            item.style[ANIMATIONDELAY] = '';\n            item.style[TRANSITIONDELAY] = '';\n          }\n          removeClass(item, animateOut);\n          addClass(item, animateNormal);\n        }\n      }\n\n      /* update slides, nav, controls after checking ...\n       * => legacy browsers who don't support 'event' \n       *    have to check event first, otherwise event.target will cause an error \n       * => or 'gallery' mode: \n       *   + event target is slide item\n       * => or 'carousel' mode: \n       *   + event target is container, \n       *   + event.property is the same with transform attribute\n       */\n      if (!event || \n          !carousel && event.target.parentNode === container || \n          event.target === container && strTrans(event.propertyName) === strTrans(transformAttr)) {\n\n        if (!updateIndexBeforeTransform) { \n          var indexTem = index;\n          updateIndex();\n          if (index !== indexTem) { \n            events.emit('indexChanged', info());\n\n            doContainerTransformSilent();\n          }\n        } \n\n        if (nested === 'inner') { events.emit('innerLoaded', info()); }\n        running = false;\n        indexCached = index;\n      }\n    }\n\n  }\n\n  // # ACTIONS\n  function goTo (targetIndex, e) {\n    if (freeze) { return; }\n\n    // prev slideBy\n    if (targetIndex === 'prev') {\n      onControlsClick(e, -1);\n\n    // next slideBy\n    } else if (targetIndex === 'next') {\n      onControlsClick(e, 1);\n\n    // go to exact slide\n    } else {\n      if (running) {\n        if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n      }\n\n      var absIndex = getAbsIndex(), \n          indexGap = 0;\n\n      if (targetIndex === 'first') {\n        indexGap = - absIndex;\n      } else if (targetIndex === 'last') {\n        indexGap = carousel ? slideCount - items - absIndex : slideCount - 1 - absIndex;\n      } else {\n        if (typeof targetIndex !== 'number') { targetIndex = parseInt(targetIndex); }\n\n        if (!isNaN(targetIndex)) {\n          // from directly called goTo function\n          if (!e) { targetIndex = Math.max(0, Math.min(slideCount - 1, targetIndex)); }\n\n          indexGap = targetIndex - absIndex;\n        }\n      }\n\n      // gallery: make sure new page won't overlap with current page\n      if (!carousel && indexGap && Math.abs(indexGap) < items) {\n        var factor = indexGap > 0 ? 1 : -1;\n        indexGap += (index + indexGap - slideCount) >= indexMin ? slideCount * factor : slideCount * 2 * factor * -1;\n      }\n\n      index += indexGap;\n\n      // make sure index is in range\n      if (carousel && loop) {\n        if (index < indexMin) { index += slideCount; }\n        if (index > indexMax) { index -= slideCount; }\n      }\n\n      // if index is changed, start rendering\n      if (getAbsIndex(index) !== getAbsIndex(indexCached)) {\n        render(e);\n      }\n\n    }\n  }\n\n  // on controls click\n  function onControlsClick (e, dir) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n    var passEventObject;\n\n    if (!dir) {\n      e = getEvent(e);\n      var target = getTarget(e);\n\n      while (target !== controlsContainer && [prevButton, nextButton].indexOf(target) < 0) { target = target.parentNode; }\n\n      var targetIn = [prevButton, nextButton].indexOf(target);\n      if (targetIn >= 0) {\n        passEventObject = true;\n        dir = targetIn === 0 ? -1 : 1;\n      }\n    }\n\n    if (rewind) {\n      if (index === indexMin && dir === -1) {\n        goTo('last', e);\n        return;\n      } else if (index === indexMax && dir === 1) {\n        goTo('first', e);\n        return;\n      }\n    }\n\n    if (dir) {\n      index += slideBy * dir;\n      if (autoWidth) { index = Math.floor(index); }\n      // pass e when click control buttons or keydown\n      render((passEventObject || (e && e.type === 'keydown')) ? e : null);\n    }\n  }\n\n  // on nav click\n  function onNavClick (e) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n    \n    e = getEvent(e);\n    var target = getTarget(e), navIndex;\n\n    // find the clicked nav item\n    while (target !== navContainer && !hasAttr(target, 'data-nav')) { target = target.parentNode; }\n    if (hasAttr(target, 'data-nav')) {\n      var navIndex = navClicked = Number(getAttr(target, 'data-nav')),\n          targetIndexBase = fixedWidth || autoWidth ? navIndex * slideCount / pages : navIndex * items,\n          targetIndex = navAsThumbnails ? navIndex : Math.min(Math.ceil(targetIndexBase), slideCount - 1);\n      goTo(targetIndex, e);\n\n      if (navCurrentIndex === navIndex) {\n        if (animating) { stopAutoplay(); }\n        navClicked = -1; // reset navClicked\n      }\n    }\n  }\n\n  // autoplay functions\n  function setAutoplayTimer () {\n    autoplayTimer = setInterval(function () {\n      onControlsClick(null, autoplayDirection);\n    }, autoplayTimeout);\n\n    animating = true;\n  }\n\n  function stopAutoplayTimer () {\n    clearInterval(autoplayTimer);\n    animating = false;\n  }\n\n  function updateAutoplayButton (action, txt) {\n    setAttrs(autoplayButton, {'data-action': action});\n    autoplayButton.innerHTML = autoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n  }\n\n  function startAutoplay () {\n    setAutoplayTimer();\n    if (autoplayButton) { updateAutoplayButton('stop', autoplayText[1]); }\n  }\n\n  function stopAutoplay () {\n    stopAutoplayTimer();\n    if (autoplayButton) { updateAutoplayButton('start', autoplayText[0]); }\n  }\n\n  // programaitcally play/pause the slider\n  function play () {\n    if (autoplay && !animating) {\n      startAutoplay();\n      autoplayUserPaused = false;\n    }\n  }\n  function pause () {\n    if (animating) {\n      stopAutoplay();\n      autoplayUserPaused = true;\n    }\n  }\n\n  function toggleAutoplay () {\n    if (animating) {\n      stopAutoplay();\n      autoplayUserPaused = true;\n    } else {\n      startAutoplay();\n      autoplayUserPaused = false;\n    }\n  }\n\n  function onVisibilityChange () {\n    if (doc.hidden) {\n      if (animating) {\n        stopAutoplayTimer();\n        autoplayVisibilityPaused = true;\n      }\n    } else if (autoplayVisibilityPaused) {\n      setAutoplayTimer();\n      autoplayVisibilityPaused = false;\n    }\n  }\n\n  function mouseoverPause () {\n    if (animating) { \n      stopAutoplayTimer();\n      autoplayHoverPaused = true;\n    }\n  }\n\n  function mouseoutRestart () {\n    if (autoplayHoverPaused) { \n      setAutoplayTimer();\n      autoplayHoverPaused = false;\n    }\n  }\n\n  // keydown events on document \n  function onDocumentKeydown (e) {\n    e = getEvent(e);\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n    if (keyIndex >= 0) {\n      onControlsClick(e, keyIndex === 0 ? -1 : 1);\n    }\n  }\n\n  // on key control\n  function onControlsKeydown (e) {\n    e = getEvent(e);\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n    if (keyIndex >= 0) {\n      if (keyIndex === 0) {\n        if (!prevButton.disabled) { onControlsClick(e, -1); }\n      } else if (!nextButton.disabled) {\n        onControlsClick(e, 1);\n      }\n    }\n  }\n\n  // set focus\n  function setFocus (el) {\n    el.focus();\n  }\n\n  // on key nav\n  function onNavKeydown (e) {\n    e = getEvent(e);\n    var curElement = doc.activeElement;\n    if (!hasAttr(curElement, 'data-nav')) { return; }\n\n    // var code = e.keyCode,\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT, KEYS.ENTER, KEYS.SPACE].indexOf(e.keyCode),\n        navIndex = Number(getAttr(curElement, 'data-nav'));\n\n    if (keyIndex >= 0) {\n      if (keyIndex === 0) {\n        if (navIndex > 0) { setFocus(navItems[navIndex - 1]); }\n      } else if (keyIndex === 1) {\n        if (navIndex < pages - 1) { setFocus(navItems[navIndex + 1]); }\n      } else {\n        navClicked = navIndex;\n        goTo(navIndex, e);\n      }\n    }\n  }\n\n  function getEvent (e) {\n    e = e || win.event;\n    return isTouchEvent(e) ? e.changedTouches[0] : e;\n  }\n  function getTarget (e) {\n    return e.target || win.event.srcElement;\n  }\n\n  function isTouchEvent (e) {\n    return e.type.indexOf('touch') >= 0;\n  }\n\n  function preventDefaultBehavior (e) {\n    e.preventDefault ? e.preventDefault() : e.returnValue = false;\n  }\n\n  function getMoveDirectionExpected () {\n    return getTouchDirection(toDegree(lastPosition.y - initPosition.y, lastPosition.x - initPosition.x), swipeAngle) === options.axis;\n  }\n\n  function onPanStart (e) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n\n    if (autoplay && animating) { stopAutoplayTimer(); }\n    \n    panStart = true;\n    if (rafIndex) {\n      caf(rafIndex);\n      rafIndex = null;\n    }\n\n    var $ = getEvent(e);\n    events.emit(isTouchEvent(e) ? 'touchStart' : 'dragStart', info(e));\n\n    if (!isTouchEvent(e) && ['img', 'a'].indexOf(getLowerCaseNodeName(getTarget(e))) >= 0) {\n      preventDefaultBehavior(e);\n    }\n\n    lastPosition.x = initPosition.x = $.clientX;\n    lastPosition.y = initPosition.y = $.clientY;\n    if (carousel) {\n      translateInit = parseFloat(container.style[transformAttr].replace(transformPrefix, ''));\n      resetDuration(container, '0s');\n    }\n  }\n\n  function onPanMove (e) {\n    if (panStart) {\n      var $ = getEvent(e);\n      lastPosition.x = $.clientX;\n      lastPosition.y = $.clientY;\n\n      if (carousel) {\n        if (!rafIndex) { rafIndex = raf(function(){ panUpdate(e); }); }\n      } else {\n        if (moveDirectionExpected === '?') { moveDirectionExpected = getMoveDirectionExpected(); }\n        if (moveDirectionExpected) { preventScroll = true; }\n      }\n\n      if (preventScroll) { e.preventDefault(); }\n    }\n  }\n\n  function panUpdate (e) {\n    if (!moveDirectionExpected) {\n      panStart = false;\n      return;\n    }\n    caf(rafIndex);\n    if (panStart) { rafIndex = raf(function(){ panUpdate(e); }); }\n\n    if (moveDirectionExpected === '?') { moveDirectionExpected = getMoveDirectionExpected(); }\n    if (moveDirectionExpected) {\n      if (!preventScroll && isTouchEvent(e)) { preventScroll = true; }\n\n      try {\n        if (e.type) { events.emit(isTouchEvent(e) ? 'touchMove' : 'dragMove', info(e)); }\n      } catch(err) {}\n\n      var x = translateInit,\n          dist = getDist(lastPosition, initPosition);\n      if (!horizontal || fixedWidth || autoWidth) {\n        x += dist;\n        x += 'px';\n      } else {\n        var percentageX = TRANSFORM ? dist * items * 100 / ((viewport + gutter) * slideCountNew): dist * 100 / (viewport + gutter);\n        x += percentageX;\n        x += '%';\n      }\n\n      container.style[transformAttr] = transformPrefix + x + transformPostfix;\n    }\n  }\n\n  function onPanEnd (e) {\n    if (panStart) {\n      if (rafIndex) {\n        caf(rafIndex);\n        rafIndex = null;\n      }\n      if (carousel) { resetDuration(container, ''); }\n      panStart = false;\n\n      var $ = getEvent(e);\n      lastPosition.x = $.clientX;\n      lastPosition.y = $.clientY;\n      var dist = getDist(lastPosition, initPosition);\n\n      if (Math.abs(dist)) {\n        // drag vs click\n        if (!isTouchEvent(e)) {\n          // prevent \"click\"\n          var target = getTarget(e);\n          addEvents(target, {'click': function preventClick (e) {\n            preventDefaultBehavior(e);\n            removeEvents(target, {'click': preventClick});\n          }}); \n        }\n\n        if (carousel) {\n          rafIndex = raf(function() {\n            if (horizontal && !autoWidth) {\n              var indexMoved = - dist * items / (viewport + gutter);\n              indexMoved = dist > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n              index += indexMoved;\n            } else {\n              var moved = - (translateInit + dist);\n              if (moved <= 0) {\n                index = indexMin;\n              } else if (moved >= slidePositions[slideCountNew - 1]) {\n                index = indexMax;\n              } else {\n                var i = 0;\n                while (i < slideCountNew && moved >= slidePositions[i]) {\n                  index = i;\n                  if (moved > slidePositions[i] && dist < 0) { index += 1; }\n                  i++;\n                }\n              }\n            }\n\n            render(e, dist);\n            events.emit(isTouchEvent(e) ? 'touchEnd' : 'dragEnd', info(e));\n          });\n        } else {\n          if (moveDirectionExpected) {\n            onControlsClick(e, dist > 0 ? -1 : 1);\n          }\n        }\n      }\n    }\n\n    // reset\n    if (options.preventScrollOnTouch === 'auto') { preventScroll = false; }\n    if (swipeAngle) { moveDirectionExpected = '?'; } \n    if (autoplay && !animating) { setAutoplayTimer(); }\n  }\n\n  // === RESIZE FUNCTIONS === //\n  // (slidePositions, index, items) => vertical_conentWrapper.height\n  function updateContentWrapperHeight () {\n    var wp = middleWrapper ? middleWrapper : innerWrapper;\n    wp.style.height = slidePositions[index + items] - slidePositions[index] + 'px';\n  }\n\n  function getPages () {\n    var rough = fixedWidth ? (fixedWidth + gutter) * slideCount / viewport : slideCount / items;\n    return Math.min(Math.ceil(rough), slideCount);\n  }\n\n  /*\n   * 1. update visible nav items list\n   * 2. add \"hidden\" attributes to previous visible nav items\n   * 3. remove \"hidden\" attrubutes to new visible nav items\n   */\n  function updateNavVisibility () {\n    if (!nav || navAsThumbnails) { return; }\n\n    if (pages !== pagesCached) {\n      var min = pagesCached,\n          max = pages,\n          fn = showElement;\n\n      if (pagesCached > pages) {\n        min = pages;\n        max = pagesCached;\n        fn = hideElement;\n      }\n\n      while (min < max) {\n        fn(navItems[min]);\n        min++;\n      }\n\n      // cache pages\n      pagesCached = pages;\n    }\n  }\n\n  function info (e) {\n    return {\n      container: container,\n      slideItems: slideItems,\n      navContainer: navContainer,\n      navItems: navItems,\n      controlsContainer: controlsContainer,\n      hasControls: hasControls,\n      prevButton: prevButton,\n      nextButton: nextButton,\n      items: items,\n      slideBy: slideBy,\n      cloneCount: cloneCount,\n      slideCount: slideCount,\n      slideCountNew: slideCountNew,\n      index: index,\n      indexCached: indexCached,\n      displayIndex: getCurrentSlide(),\n      navCurrentIndex: navCurrentIndex,\n      navCurrentIndexCached: navCurrentIndexCached,\n      pages: pages,\n      pagesCached: pagesCached,\n      sheet: sheet,\n      isOn: isOn,\n      event: e || {},\n    };\n  }\n\n  return {\n    version: '2.9.2',\n    getInfo: info,\n    events: events,\n    goTo: goTo,\n    play: play,\n    pause: pause,\n    isOn: isOn,\n    updateSliderHeight: updateInnerWrapperHeight,\n    refresh: initSliderTransform,\n    destroy: destroy,\n    rebuild: function() {\n      return tns(extend(options, optionsElements));\n    }\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvcmFmLmpzP2IxOTYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2NhZi5qcz84YjdmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9leHRlbmQuanM/MzkzZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvY2hlY2tTdG9yYWdlVmFsdWUuanM/MzkwMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvc2V0TG9jYWxTdG9yYWdlLmpzP2MwYjAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2dldFNsaWRlSWQuanM/MGNmYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvZ2V0Qm9keS5qcz9lMWJjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9kb2NFbGVtZW50LmpzP2EzMTUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3NldEZha2VCb2R5LmpzPzc2ODUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3Jlc2V0RmFrZUJvZHkuanM/Y2M3OSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvY2FsYy5qcz9iOWZjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9wZXJjZW50YWdlTGF5b3V0LmpzPzMyMTgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL21lZGlhcXVlcnlTdXBwb3J0LmpzP2RkMGIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2NyZWF0ZVN0eWxlU2hlZXQuanM/OWRmNSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvYWRkQ1NTUnVsZS5qcz9lNjQzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9yZW1vdmVDU1NSdWxlLmpzPzI2OGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2dldENzc1J1bGVzTGVuZ3RoLmpzPzhlOWIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3RvRGVncmVlLmpzPzlhZmIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2dldFRvdWNoRGlyZWN0aW9uLmpzPzBjNmEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2ZvckVhY2guanM/YzcwZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvY2xhc3NMaXN0U3VwcG9ydC5qcz8yMmVhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9oYXNDbGFzcy5qcz83Y2M1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9hZGRDbGFzcy5qcz8xMTU3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9yZW1vdmVDbGFzcy5qcz82OWQ1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9oYXNBdHRyLmpzPzQ2NDkiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2dldEF0dHIuanM/ZDc1ZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvaXNOb2RlTGlzdC5qcz9iOTMxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9zZXRBdHRycy5qcz81ZjU1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9yZW1vdmVBdHRycy5qcz82OGExIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9hcnJheUZyb21Ob2RlTGlzdC5qcz9kZTNjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9oaWRlRWxlbWVudC5qcz8wNTE1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9zaG93RWxlbWVudC5qcz80MWMzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9pc1Zpc2libGUuanM/YzM4YyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvd2hpY2hQcm9wZXJ0eS5qcz82MjkxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9oYXMzRFRyYW5zZm9ybXMuanM/MGI3MiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvZ2V0RW5kUHJvcGVydHkuanM/ZTlhZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvcGFzc2l2ZU9wdGlvbi5qcz8yYTA1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9hZGRFdmVudHMuanM/Y2FiMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvcmVtb3ZlRXZlbnRzLmpzP2MzZmMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2V2ZW50cy5qcz82NTE4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9qc1RyYW5zZm9ybS5qcz8wOTljIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvdGlueS1zbGlkZXIuanM/MmZlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd2luID0gd2luZG93O1xuXG5leHBvcnQgdmFyIHJhZiA9IHdpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgd2luLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCB3aW4ubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIHx8IHdpbi5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCBmdW5jdGlvbihjYikgeyByZXR1cm4gc2V0VGltZW91dChjYiwgMTYpOyB9O1xuIiwidmFyIHdpbiA9IHdpbmRvdztcblxuZXhwb3J0IHZhciBjYWYgPSB3aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgfHwgd2luLm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gIHx8IGZ1bmN0aW9uKGlkKXsgY2xlYXJUaW1lb3V0KGlkKTsgfTtcbiIsImV4cG9ydCBmdW5jdGlvbiBleHRlbmQoKSB7XG4gIHZhciBvYmosIG5hbWUsIGNvcHksXG4gICAgICB0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sXG4gICAgICBpID0gMSxcbiAgICAgIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICgob2JqID0gYXJndW1lbnRzW2ldKSAhPT0gbnVsbCkge1xuICAgICAgZm9yIChuYW1lIGluIG9iaikge1xuICAgICAgICBjb3B5ID0gb2JqW25hbWVdO1xuXG4gICAgICAgIGlmICh0YXJnZXQgPT09IGNvcHkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb3B5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBjb3B5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU3RvcmFnZVZhbHVlICh2YWx1ZSkge1xuICByZXR1cm4gWyd0cnVlJywgJ2ZhbHNlJ10uaW5kZXhPZih2YWx1ZSkgPj0gMCA/IEpTT04ucGFyc2UodmFsdWUpIDogdmFsdWU7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNldExvY2FsU3RvcmFnZShzdG9yYWdlLCBrZXksIHZhbHVlLCBhY2Nlc3MpIHtcbiAgaWYgKGFjY2Vzcykge1xuICAgIHRyeSB7IHN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTsgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdldFNsaWRlSWQoKSB7XG4gIHZhciBpZCA9IHdpbmRvdy50bnNJZDtcbiAgd2luZG93LnRuc0lkID0gIWlkID8gMSA6IGlkICsgMTtcbiAgXG4gIHJldHVybiAndG5zJyArIHdpbmRvdy50bnNJZDtcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Qm9keSAoKSB7XG4gIHZhciBkb2MgPSBkb2N1bWVudCxcbiAgICAgIGJvZHkgPSBkb2MuYm9keTtcblxuICBpZiAoIWJvZHkpIHtcbiAgICBib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICBib2R5LmZha2UgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGJvZHk7XG59IiwiZXhwb3J0IHZhciBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyIsImltcG9ydCB7IGRvY0VsZW1lbnQgfSBmcm9tICcuL2RvY0VsZW1lbnQuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0RmFrZUJvZHkgKGJvZHkpIHtcbiAgdmFyIGRvY092ZXJmbG93ID0gJyc7XG4gIGlmIChib2R5LmZha2UpIHtcbiAgICBkb2NPdmVyZmxvdyA9IGRvY0VsZW1lbnQuc3R5bGUub3ZlcmZsb3c7XG4gICAgLy9hdm9pZCBjcmFzaGluZyBJRTgsIGlmIGJhY2tncm91bmQgaW1hZ2UgaXMgdXNlZFxuICAgIGJvZHkuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgIC8vU2FmYXJpIDUuMTMvNS4xLjQgT1NYIHN0b3BzIGxvYWRpbmcgaWYgOjotd2Via2l0LXNjcm9sbGJhciBpcyB1c2VkIGFuZCBzY3JvbGxiYXJzIGFyZSB2aXNpYmxlXG4gICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IGRvY0VsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBkb2NFbGVtZW50LmFwcGVuZENoaWxkKGJvZHkpO1xuICB9XG5cbiAgcmV0dXJuIGRvY092ZXJmbG93O1xufSIsImltcG9ydCB7IGRvY0VsZW1lbnQgfSBmcm9tICcuL2RvY0VsZW1lbnQuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRGYWtlQm9keSAoYm9keSwgZG9jT3ZlcmZsb3cpIHtcbiAgaWYgKGJvZHkuZmFrZSkge1xuICAgIGJvZHkucmVtb3ZlKCk7XG4gICAgZG9jRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IGRvY092ZXJmbG93O1xuICAgIC8vIFRyaWdnZXIgbGF5b3V0IHNvIGtpbmV0aWMgc2Nyb2xsaW5nIGlzbid0IGRpc2FibGVkIGluIGlPUzYrXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgZG9jRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gIH1cbn0iLCIvLyBnZXQgY3NzLWNhbGMgXG4vLyBAcmV0dXJuIC0gZmFsc2UgfCBjYWxjIHwgLXdlYmtpdC1jYWxjIHwgLW1vei1jYWxjXG4vLyBAdXNhZ2UgLSB2YXIgY2FsYyA9IGdldENhbGMoKTsgXG5pbXBvcnQgeyBnZXRCb2R5IH0gZnJvbSAnLi9nZXRCb2R5LmpzJztcbmltcG9ydCB7IHNldEZha2VCb2R5IH0gZnJvbSAnLi9zZXRGYWtlQm9keS5qcyc7XG5pbXBvcnQgeyByZXNldEZha2VCb2R5IH0gZnJvbSAnLi9yZXNldEZha2VCb2R5LmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGMoKSB7XG4gIHZhciBkb2MgPSBkb2N1bWVudCwgXG4gICAgICBib2R5ID0gZ2V0Qm9keSgpLFxuICAgICAgZG9jT3ZlcmZsb3cgPSBzZXRGYWtlQm9keShib2R5KSxcbiAgICAgIGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSwgXG4gICAgICByZXN1bHQgPSBmYWxzZTtcblxuICBib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gIHRyeSB7XG4gICAgdmFyIHN0ciA9ICcoMTBweCAqIDEwKScsXG4gICAgICAgIHZhbHMgPSBbJ2NhbGMnICsgc3RyLCAnLW1vei1jYWxjJyArIHN0ciwgJy13ZWJraXQtY2FsYycgKyBzdHJdLFxuICAgICAgICB2YWw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIHZhbCA9IHZhbHNbaV07XG4gICAgICBkaXYuc3R5bGUud2lkdGggPSB2YWw7XG4gICAgICBpZiAoZGl2Lm9mZnNldFdpZHRoID09PSAxMDApIHsgXG4gICAgICAgIHJlc3VsdCA9IHZhbC5yZXBsYWNlKHN0ciwgJycpOyBcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7fVxuICBcbiAgYm9keS5mYWtlID8gcmVzZXRGYWtlQm9keShib2R5LCBkb2NPdmVyZmxvdykgOiBkaXYucmVtb3ZlKCk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0iLCIvLyBnZXQgc3VicGl4ZWwgc3VwcG9ydCB2YWx1ZVxuLy8gQHJldHVybiAtIGJvb2xlYW5cbmltcG9ydCB7IGdldEJvZHkgfSBmcm9tICcuL2dldEJvZHkuanMnO1xuaW1wb3J0IHsgc2V0RmFrZUJvZHkgfSBmcm9tICcuL3NldEZha2VCb2R5LmpzJztcbmltcG9ydCB7IHJlc2V0RmFrZUJvZHkgfSBmcm9tICcuL3Jlc2V0RmFrZUJvZHkuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyY2VudGFnZUxheW91dCgpIHtcbiAgLy8gY2hlY2sgc3VicGl4ZWwgbGF5b3V0IHN1cHBvcnRpbmdcbiAgdmFyIGRvYyA9IGRvY3VtZW50LFxuICAgICAgYm9keSA9IGdldEJvZHkoKSxcbiAgICAgIGRvY092ZXJmbG93ID0gc2V0RmFrZUJvZHkoYm9keSksXG4gICAgICB3cmFwcGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgb3V0ZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBzdHIgPSAnJyxcbiAgICAgIGNvdW50ID0gNzAsXG4gICAgICBwZXJQYWdlID0gMyxcbiAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuXG4gIHdyYXBwZXIuY2xhc3NOYW1lID0gXCJ0bnMtdC1zdWJwMlwiO1xuICBvdXRlci5jbGFzc05hbWUgPSBcInRucy10LWN0XCI7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgc3RyICs9ICc8ZGl2PjwvZGl2Pic7XG4gIH1cblxuICBvdXRlci5pbm5lckhUTUwgPSBzdHI7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuICBib2R5LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuXG4gIHN1cHBvcnRlZCA9IE1hdGguYWJzKHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIG91dGVyLmNoaWxkcmVuW2NvdW50IC0gcGVyUGFnZV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCkgPCAyO1xuXG4gIGJvZHkuZmFrZSA/IHJlc2V0RmFrZUJvZHkoYm9keSwgZG9jT3ZlcmZsb3cpIDogd3JhcHBlci5yZW1vdmUoKTtcblxuICByZXR1cm4gc3VwcG9ydGVkO1xufSIsImltcG9ydCB7IGdldEJvZHkgfSBmcm9tICcuL2dldEJvZHkuanMnO1xuaW1wb3J0IHsgc2V0RmFrZUJvZHkgfSBmcm9tICcuL3NldEZha2VCb2R5LmpzJztcbmltcG9ydCB7IHJlc2V0RmFrZUJvZHkgfSBmcm9tICcuL3Jlc2V0RmFrZUJvZHkuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFxdWVyeVN1cHBvcnQgKCkge1xuICB2YXIgZG9jID0gZG9jdW1lbnQsXG4gICAgICBib2R5ID0gZ2V0Qm9keSgpLFxuICAgICAgZG9jT3ZlcmZsb3cgPSBzZXRGYWtlQm9keShib2R5KSxcbiAgICAgIGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksXG4gICAgICBydWxlID0gJ0BtZWRpYSBhbGwgYW5kIChtaW4td2lkdGg6MXB4KXsudG5zLW1xLXRlc3R7cG9zaXRpb246YWJzb2x1dGV9fScsXG4gICAgICBwb3NpdGlvbjtcblxuICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcbiAgZGl2LmNsYXNzTmFtZSA9ICd0bnMtbXEtdGVzdCc7XG5cbiAgYm9keS5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIGJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJ1bGU7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHJ1bGUpKTtcbiAgfVxuXG4gIHBvc2l0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkaXYpLnBvc2l0aW9uIDogZGl2LmN1cnJlbnRTdHlsZVsncG9zaXRpb24nXTtcblxuICBib2R5LmZha2UgPyByZXNldEZha2VCb2R5KGJvZHksIGRvY092ZXJmbG93KSA6IGRpdi5yZW1vdmUoKTtcblxuICByZXR1cm4gcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIjtcbn0iLCIvLyBjcmVhdGUgYW5kIGFwcGVuZCBzdHlsZSBzaGVldFxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlU2hlZXQgKG1lZGlhKSB7XG4gIC8vIENyZWF0ZSB0aGUgPHN0eWxlPiB0YWdcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAvLyBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIik7XG5cbiAgLy8gQWRkIGEgbWVkaWEgKGFuZC9vciBtZWRpYSBxdWVyeSkgaGVyZSBpZiB5b3UnZCBsaWtlIVxuICAvLyBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBcInNjcmVlblwiKVxuICAvLyBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBcIm9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoIDogMTAyNHB4KVwiKVxuICBpZiAobWVkaWEpIHsgc3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpOyB9XG5cbiAgLy8gV2ViS2l0IGhhY2sgOihcbiAgLy8gc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIikpO1xuXG4gIC8vIEFkZCB0aGUgPHN0eWxlPiBlbGVtZW50IHRvIHRoZSBwYWdlXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKS5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgcmV0dXJuIHN0eWxlLnNoZWV0ID8gc3R5bGUuc2hlZXQgOiBzdHlsZS5zdHlsZVNoZWV0O1xufTsiLCIvLyBjcm9zcyBicm93c2VycyBhZGRSdWxlIG1ldGhvZFxuaW1wb3J0IHsgcmFmIH0gZnJvbSAnLi9yYWYuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENTU1J1bGUoc2hlZXQsIHNlbGVjdG9yLCBydWxlcywgaW5kZXgpIHtcbiAgLy8gcmV0dXJuIHJhZihmdW5jdGlvbigpIHtcbiAgICAnaW5zZXJ0UnVsZScgaW4gc2hlZXQgP1xuICAgICAgc2hlZXQuaW5zZXJ0UnVsZShzZWxlY3RvciArICd7JyArIHJ1bGVzICsgJ30nLCBpbmRleCkgOlxuICAgICAgc2hlZXQuYWRkUnVsZShzZWxlY3RvciwgcnVsZXMsIGluZGV4KTtcbiAgLy8gfSk7XG59IiwiLy8gY3Jvc3MgYnJvd3NlcnMgYWRkUnVsZSBtZXRob2RcbmltcG9ydCB7IHJhZiB9IGZyb20gJy4vcmFmLmpzJztcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDU1NSdWxlKHNoZWV0LCBpbmRleCkge1xuICAvLyByZXR1cm4gcmFmKGZ1bmN0aW9uKCkge1xuICAgICdkZWxldGVSdWxlJyBpbiBzaGVldCA/XG4gICAgICBzaGVldC5kZWxldGVSdWxlKGluZGV4KSA6XG4gICAgICBzaGVldC5yZW1vdmVSdWxlKGluZGV4KTtcbiAgLy8gfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdldENzc1J1bGVzTGVuZ3RoKHNoZWV0KSB7XG4gIHZhciBydWxlID0gKCdpbnNlcnRSdWxlJyBpbiBzaGVldCkgPyBzaGVldC5jc3NSdWxlcyA6IHNoZWV0LnJ1bGVzO1xuICByZXR1cm4gcnVsZS5sZW5ndGg7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHRvRGVncmVlICh5LCB4KSB7XG4gIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogKDE4MCAvIE1hdGguUEkpO1xufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRUb3VjaERpcmVjdGlvbihhbmdsZSwgcmFuZ2UpIHtcbiAgdmFyIGRpcmVjdGlvbiA9IGZhbHNlLFxuICAgICAgZ2FwID0gTWF0aC5hYnMoOTAgLSBNYXRoLmFicyhhbmdsZSkpO1xuICAgICAgXG4gIGlmIChnYXAgPj0gOTAgLSByYW5nZSkge1xuICAgIGRpcmVjdGlvbiA9ICdob3Jpem9udGFsJztcbiAgfSBlbHNlIGlmIChnYXAgPD0gcmFuZ2UpIHtcbiAgICBkaXJlY3Rpb24gPSAndmVydGljYWwnO1xuICB9XG5cbiAgcmV0dXJuIGRpcmVjdGlvbjtcbn0iLCIvLyBodHRwczovL3RvZGRtb3R0by5jb20vZGl0Y2gtdGhlLWFycmF5LWZvcmVhY2gtY2FsbC1ub2RlbGlzdC1oYWNrL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2ggKGFyciwgY2FsbGJhY2ssIHNjb3BlKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNhbGxiYWNrLmNhbGwoc2NvcGUsIGFycltpXSwgaSk7XG4gIH1cbn0iLCJleHBvcnQgdmFyIGNsYXNzTGlzdFN1cHBvcnQgPSAnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdfJyk7IiwiaW1wb3J0IHsgY2xhc3NMaXN0U3VwcG9ydCB9IGZyb20gJy4vY2xhc3NMaXN0U3VwcG9ydC5qcyc7XG5cbnZhciBoYXNDbGFzcyA9IGNsYXNzTGlzdFN1cHBvcnQgP1xuICAgIGZ1bmN0aW9uIChlbCwgc3RyKSB7IHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoc3RyKTsgfSA6XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHsgcmV0dXJuIGVsLmNsYXNzTmFtZS5pbmRleE9mKHN0cikgPj0gMDsgfTtcblxuZXhwb3J0IHsgY2xhc3NMaXN0U3VwcG9ydCwgaGFzQ2xhc3MgfTsiLCJpbXBvcnQgeyBjbGFzc0xpc3RTdXBwb3J0LCBoYXNDbGFzcyB9IGZyb20gJy4vaGFzQ2xhc3MuanMnO1xudmFyIGFkZENsYXNzID0gY2xhc3NMaXN0U3VwcG9ydCA/XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHtcbiAgICAgIGlmICghaGFzQ2xhc3MoZWwsICBzdHIpKSB7IGVsLmNsYXNzTGlzdC5hZGQoc3RyKTsgfVxuICAgIH0gOlxuICAgIGZ1bmN0aW9uIChlbCwgc3RyKSB7XG4gICAgICBpZiAoIWhhc0NsYXNzKGVsLCAgc3RyKSkgeyBlbC5jbGFzc05hbWUgKz0gJyAnICsgc3RyOyB9XG4gICAgfTtcblxuZXhwb3J0IHsgYWRkQ2xhc3MgfTsiLCJpbXBvcnQgeyBjbGFzc0xpc3RTdXBwb3J0LCBoYXNDbGFzcyB9IGZyb20gJy4vaGFzQ2xhc3MuanMnO1xudmFyIHJlbW92ZUNsYXNzID0gY2xhc3NMaXN0U3VwcG9ydCA/XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHtcbiAgICAgIGlmIChoYXNDbGFzcyhlbCwgIHN0cikpIHsgZWwuY2xhc3NMaXN0LnJlbW92ZShzdHIpOyB9XG4gICAgfSA6XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHtcbiAgICAgIGlmIChoYXNDbGFzcyhlbCwgc3RyKSkgeyBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShzdHIsICcnKTsgfVxuICAgIH07XG5cbmV4cG9ydCB7IHJlbW92ZUNsYXNzIH07IiwiZXhwb3J0IGZ1bmN0aW9uIGhhc0F0dHIoZWwsIGF0dHIpIHtcbiAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShhdHRyKTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0QXR0cihlbCwgYXR0cikge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKGF0dHIpO1xufSIsImV4cG9ydCBmdW5jdGlvbiBpc05vZGVMaXN0KGVsKSB7XG4gIC8vIE9ubHkgTm9kZUxpc3QgaGFzIHRoZSBcIml0ZW0oKVwiIGZ1bmN0aW9uXG4gIHJldHVybiB0eXBlb2YgZWwuaXRlbSAhPT0gXCJ1bmRlZmluZWRcIjsgXG59IiwiaW1wb3J0IHsgaXNOb2RlTGlzdCB9IGZyb20gXCIuL2lzTm9kZUxpc3QuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJzKGVscywgYXR0cnMpIHtcbiAgZWxzID0gKGlzTm9kZUxpc3QoZWxzKSB8fCBlbHMgaW5zdGFuY2VvZiBBcnJheSkgPyBlbHMgOiBbZWxzXTtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhdHRycykgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7IHJldHVybjsgfVxuXG4gIGZvciAodmFyIGkgPSBlbHMubGVuZ3RoOyBpLS07KSB7XG4gICAgZm9yKHZhciBrZXkgaW4gYXR0cnMpIHtcbiAgICAgIGVsc1tpXS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBpc05vZGVMaXN0IH0gZnJvbSBcIi4vaXNOb2RlTGlzdC5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQXR0cnMoZWxzLCBhdHRycykge1xuICBlbHMgPSAoaXNOb2RlTGlzdChlbHMpIHx8IGVscyBpbnN0YW5jZW9mIEFycmF5KSA/IGVscyA6IFtlbHNdO1xuICBhdHRycyA9IChhdHRycyBpbnN0YW5jZW9mIEFycmF5KSA/IGF0dHJzIDogW2F0dHJzXTtcblxuICB2YXIgYXR0ckxlbmd0aCA9IGF0dHJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IGVscy5sZW5ndGg7IGktLTspIHtcbiAgICBmb3IgKHZhciBqID0gYXR0ckxlbmd0aDsgai0tOykge1xuICAgICAgZWxzW2ldLnJlbW92ZUF0dHJpYnV0ZShhdHRyc1tqXSk7XG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGFycmF5RnJvbU5vZGVMaXN0IChubCkge1xuICB2YXIgYXJyID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gbmwubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJyLnB1c2gobmxbaV0pO1xuICB9XG4gIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGhpZGVFbGVtZW50KGVsLCBmb3JjZUhpZGUpIHtcbiAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykgeyBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNob3dFbGVtZW50KGVsLCBmb3JjZUhpZGUpIHtcbiAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgeyBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7IH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGVsKSB7XG4gIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZGlzcGxheSAhPT0gJ25vbmUnO1xufSIsImV4cG9ydCBmdW5jdGlvbiB3aGljaFByb3BlcnR5KHByb3BzKXtcbiAgaWYgKHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgYXJyID0gW3Byb3BzXSxcbiAgICAgICAgUHJvcHMgPSBwcm9wcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BzLnN1YnN0cigxKSxcbiAgICAgICAgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnLCAnTyddO1xuICAgICAgICBcbiAgICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkge1xuICAgICAgaWYgKHByZWZpeCAhPT0gJ21zJyB8fCBwcm9wcyA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgYXJyLnB1c2gocHJlZml4ICsgUHJvcHMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcHJvcHMgPSBhcnI7XG4gIH1cblxuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmYWtlZWxlbWVudCcpLFxuICAgICAgbGVuID0gcHJvcHMubGVuZ3RoO1xuICBmb3IodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspe1xuICAgIHZhciBwcm9wID0gcHJvcHNbaV07XG4gICAgaWYoIGVsLnN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQgKXsgcmV0dXJuIHByb3A7IH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTsgLy8gZXhwbGljaXQgZm9yIGllOS1cbn1cbiIsImltcG9ydCB7IGdldEJvZHkgfSBmcm9tICcuL2dldEJvZHkuanMnO1xuaW1wb3J0IHsgc2V0RmFrZUJvZHkgfSBmcm9tICcuL3NldEZha2VCb2R5LmpzJztcbmltcG9ydCB7IHJlc2V0RmFrZUJvZHkgfSBmcm9tICcuL3Jlc2V0RmFrZUJvZHkuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzM0RUcmFuc2Zvcm1zKHRmKXtcbiAgaWYgKCF0ZikgeyByZXR1cm4gZmFsc2U7IH1cbiAgaWYgKCF3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgXG4gIHZhciBkb2MgPSBkb2N1bWVudCxcbiAgICAgIGJvZHkgPSBnZXRCb2R5KCksXG4gICAgICBkb2NPdmVyZmxvdyA9IHNldEZha2VCb2R5KGJvZHkpLFxuICAgICAgZWwgPSBkb2MuY3JlYXRlRWxlbWVudCgncCcpLFxuICAgICAgaGFzM2QsXG4gICAgICBjc3NURiA9IHRmLmxlbmd0aCA+IDkgPyAnLScgKyB0Zi5zbGljZSgwLCAtOSkudG9Mb3dlckNhc2UoKSArICctJyA6ICcnO1xuXG4gIGNzc1RGICs9ICd0cmFuc2Zvcm0nO1xuXG4gIC8vIEFkZCBpdCB0byB0aGUgYm9keSB0byBnZXQgdGhlIGNvbXB1dGVkIHN0eWxlXG4gIGJvZHkuaW5zZXJ0QmVmb3JlKGVsLCBudWxsKTtcblxuICBlbC5zdHlsZVt0Zl0gPSAndHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpJztcbiAgaGFzM2QgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZShjc3NURik7XG5cbiAgYm9keS5mYWtlID8gcmVzZXRGYWtlQm9keShib2R5LCBkb2NPdmVyZmxvdykgOiBlbC5yZW1vdmUoKTtcblxuICByZXR1cm4gKGhhczNkICE9PSB1bmRlZmluZWQgJiYgaGFzM2QubGVuZ3RoID4gMCAmJiBoYXMzZCAhPT0gXCJub25lXCIpO1xufVxuIiwiLy8gZ2V0IHRyYW5zaXRpb25lbmQsIGFuaW1hdGlvbmVuZCBiYXNlZCBvbiB0cmFuc2l0aW9uRHVyYXRpb25cbi8vIEBwcm9waW46IHN0cmluZ1xuLy8gQHByb3BPdXQ6IHN0cmluZywgZmlyc3QtbGV0dGVyIHVwcGVyY2FzZVxuLy8gVXNhZ2U6IGdldEVuZFByb3BlcnR5KCdXZWJraXRUcmFuc2l0aW9uRHVyYXRpb24nLCAnVHJhbnNpdGlvbicpID0+IHdlYmtpdFRyYW5zaXRpb25FbmRcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmRQcm9wZXJ0eShwcm9wSW4sIHByb3BPdXQpIHtcbiAgdmFyIGVuZFByb3AgPSBmYWxzZTtcbiAgaWYgKC9eV2Via2l0Ly50ZXN0KHByb3BJbikpIHtcbiAgICBlbmRQcm9wID0gJ3dlYmtpdCcgKyBwcm9wT3V0ICsgJ0VuZCc7XG4gIH0gZWxzZSBpZiAoL15PLy50ZXN0KHByb3BJbikpIHtcbiAgICBlbmRQcm9wID0gJ28nICsgcHJvcE91dCArICdFbmQnO1xuICB9IGVsc2UgaWYgKHByb3BJbikge1xuICAgIGVuZFByb3AgPSBwcm9wT3V0LnRvTG93ZXJDYXNlKCkgKyAnZW5kJztcbiAgfVxuICByZXR1cm4gZW5kUHJvcDtcbn0iLCIvLyBUZXN0IHZpYSBhIGdldHRlciBpbiB0aGUgb3B0aW9ucyBvYmplY3QgdG8gc2VlIGlmIHRoZSBwYXNzaXZlIHByb3BlcnR5IGlzIGFjY2Vzc2VkXG52YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG50cnkge1xuICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG51bGwsIG9wdHMpO1xufSBjYXRjaCAoZSkge31cbmV4cG9ydCB2YXIgcGFzc2l2ZU9wdGlvbiA9IHN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogdHJ1ZSB9IDogZmFsc2U7IiwiaW1wb3J0IHsgcGFzc2l2ZU9wdGlvbiB9IGZyb20gJy4vcGFzc2l2ZU9wdGlvbi5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudHMoZWwsIG9iaiwgcHJldmVudFNjcm9sbGluZykge1xuICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgIHZhciBvcHRpb24gPSBbJ3RvdWNoc3RhcnQnLCAndG91Y2htb3ZlJ10uaW5kZXhPZihwcm9wKSA+PSAwICYmICFwcmV2ZW50U2Nyb2xsaW5nID8gcGFzc2l2ZU9wdGlvbiA6IGZhbHNlO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIocHJvcCwgb2JqW3Byb3BdLCBvcHRpb24pO1xuICB9XG59IiwiaW1wb3J0IHsgcGFzc2l2ZU9wdGlvbiB9IGZyb20gJy4vcGFzc2l2ZU9wdGlvbi5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudHMoZWwsIG9iaikge1xuICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgIHZhciBvcHRpb24gPSBbJ3RvdWNoc3RhcnQnLCAndG91Y2htb3ZlJ10uaW5kZXhPZihwcm9wKSA+PSAwID8gcGFzc2l2ZU9wdGlvbiA6IGZhbHNlO1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIocHJvcCwgb2JqW3Byb3BdLCBvcHRpb24pO1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIEV2ZW50cygpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3BpY3M6IHt9LFxuICAgIG9uOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBmbikge1xuICAgICAgdGhpcy50b3BpY3NbZXZlbnROYW1lXSA9IHRoaXMudG9waWNzW2V2ZW50TmFtZV0gfHwgW107XG4gICAgICB0aGlzLnRvcGljc1tldmVudE5hbWVdLnB1c2goZm4pO1xuICAgIH0sXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudE5hbWUsIGZuKSB7XG4gICAgICBpZiAodGhpcy50b3BpY3NbZXZlbnROYW1lXSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudG9waWNzW2V2ZW50TmFtZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodGhpcy50b3BpY3NbZXZlbnROYW1lXVtpXSA9PT0gZm4pIHtcbiAgICAgICAgICAgIHRoaXMudG9waWNzW2V2ZW50TmFtZV0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBlbWl0OiBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICBkYXRhLnR5cGUgPSBldmVudE5hbWU7XG4gICAgICBpZiAodGhpcy50b3BpY3NbZXZlbnROYW1lXSkge1xuICAgICAgICB0aGlzLnRvcGljc1tldmVudE5hbWVdLmZvckVhY2goZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICBmbihkYXRhLCBldmVudE5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59OyIsImV4cG9ydCBmdW5jdGlvbiBqc1RyYW5zZm9ybShlbGVtZW50LCBhdHRyLCBwcmVmaXgsIHBvc3RmaXgsIHRvLCBkdXJhdGlvbiwgY2FsbGJhY2spIHtcbiAgdmFyIHRpY2sgPSBNYXRoLm1pbihkdXJhdGlvbiwgMTApLFxuICAgICAgdW5pdCA9ICh0by5pbmRleE9mKCclJykgPj0gMCkgPyAnJScgOiAncHgnLFxuICAgICAgdG8gPSB0by5yZXBsYWNlKHVuaXQsICcnKSxcbiAgICAgIGZyb20gPSBOdW1iZXIoZWxlbWVudC5zdHlsZVthdHRyXS5yZXBsYWNlKHByZWZpeCwgJycpLnJlcGxhY2UocG9zdGZpeCwgJycpLnJlcGxhY2UodW5pdCwgJycpKSxcbiAgICAgIHBvc2l0aW9uVGljayA9ICh0byAtIGZyb20pIC8gZHVyYXRpb24gKiB0aWNrLFxuICAgICAgcnVubmluZztcblxuICBzZXRUaW1lb3V0KG1vdmVFbGVtZW50LCB0aWNrKTtcbiAgZnVuY3Rpb24gbW92ZUVsZW1lbnQoKSB7XG4gICAgZHVyYXRpb24gLT0gdGljaztcbiAgICBmcm9tICs9IHBvc2l0aW9uVGljaztcbiAgICBlbGVtZW50LnN0eWxlW2F0dHJdID0gcHJlZml4ICsgZnJvbSArIHVuaXQgKyBwb3N0Zml4O1xuICAgIGlmIChkdXJhdGlvbiA+IDApIHsgXG4gICAgICBzZXRUaW1lb3V0KG1vdmVFbGVtZW50LCB0aWNrKTsgXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0ICcuL2hlbHBlcnMvT2JqZWN0LmtleXMnO1xuaW1wb3J0ICcuL2hlbHBlcnMvY2hpbGROb2RlLnJlbW92ZSc7XG5pbXBvcnQgeyByYWYgfSBmcm9tICcuL2hlbHBlcnMvcmFmLmpzJztcbmltcG9ydCB7IGNhZiB9IGZyb20gJy4vaGVscGVycy9jYWYuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi9oZWxwZXJzL2V4dGVuZC5qcyc7XG5pbXBvcnQgeyBjaGVja1N0b3JhZ2VWYWx1ZSB9IGZyb20gJy4vaGVscGVycy9jaGVja1N0b3JhZ2VWYWx1ZS5qcyc7XG5pbXBvcnQgeyBzZXRMb2NhbFN0b3JhZ2UgfSBmcm9tICcuL2hlbHBlcnMvc2V0TG9jYWxTdG9yYWdlLmpzJztcbmltcG9ydCB7IGdldFNsaWRlSWQgfSBmcm9tICcuL2hlbHBlcnMvZ2V0U2xpZGVJZC5qcyc7XG5pbXBvcnQgeyBjYWxjIH0gZnJvbSAnLi9oZWxwZXJzL2NhbGMuanMnO1xuaW1wb3J0IHsgcGVyY2VudGFnZUxheW91dCB9IGZyb20gJy4vaGVscGVycy9wZXJjZW50YWdlTGF5b3V0LmpzJztcbmltcG9ydCB7IG1lZGlhcXVlcnlTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL21lZGlhcXVlcnlTdXBwb3J0LmpzJztcbmltcG9ydCB7IGNyZWF0ZVN0eWxlU2hlZXQgfSBmcm9tICcuL2hlbHBlcnMvY3JlYXRlU3R5bGVTaGVldC5qcyc7XG5pbXBvcnQgeyBhZGRDU1NSdWxlIH0gZnJvbSAnLi9oZWxwZXJzL2FkZENTU1J1bGUuanMnO1xuaW1wb3J0IHsgcmVtb3ZlQ1NTUnVsZSB9IGZyb20gJy4vaGVscGVycy9yZW1vdmVDU1NSdWxlLmpzJztcbmltcG9ydCB7IGdldENzc1J1bGVzTGVuZ3RoIH0gZnJvbSAnLi9oZWxwZXJzL2dldENzc1J1bGVzTGVuZ3RoLmpzJztcbmltcG9ydCB7IHRvRGVncmVlIH0gZnJvbSAnLi9oZWxwZXJzL3RvRGVncmVlLmpzJztcbmltcG9ydCB7IGdldFRvdWNoRGlyZWN0aW9uIH0gZnJvbSAnLi9oZWxwZXJzL2dldFRvdWNoRGlyZWN0aW9uLmpzJztcbmltcG9ydCB7IGZvckVhY2ggfSBmcm9tICcuL2hlbHBlcnMvZm9yRWFjaC5qcyc7XG5pbXBvcnQgeyBoYXNDbGFzcyB9IGZyb20gJy4vaGVscGVycy9oYXNDbGFzcy5qcyc7XG5pbXBvcnQgeyBhZGRDbGFzcyB9IGZyb20gJy4vaGVscGVycy9hZGRDbGFzcy5qcyc7XG5pbXBvcnQgeyByZW1vdmVDbGFzcyB9IGZyb20gJy4vaGVscGVycy9yZW1vdmVDbGFzcy5qcyc7XG5pbXBvcnQgeyBoYXNBdHRyIH0gZnJvbSAnLi9oZWxwZXJzL2hhc0F0dHIuanMnO1xuaW1wb3J0IHsgZ2V0QXR0ciB9IGZyb20gJy4vaGVscGVycy9nZXRBdHRyLmpzJztcbmltcG9ydCB7IHNldEF0dHJzIH0gZnJvbSAnLi9oZWxwZXJzL3NldEF0dHJzLmpzJztcbmltcG9ydCB7IHJlbW92ZUF0dHJzIH0gZnJvbSAnLi9oZWxwZXJzL3JlbW92ZUF0dHJzLmpzJztcbmltcG9ydCB7IGFycmF5RnJvbU5vZGVMaXN0IH0gZnJvbSAnLi9oZWxwZXJzL2FycmF5RnJvbU5vZGVMaXN0LmpzJztcbmltcG9ydCB7IGhpZGVFbGVtZW50IH0gZnJvbSAnLi9oZWxwZXJzL2hpZGVFbGVtZW50LmpzJztcbmltcG9ydCB7IHNob3dFbGVtZW50IH0gZnJvbSAnLi9oZWxwZXJzL3Nob3dFbGVtZW50LmpzJztcbmltcG9ydCB7IGlzVmlzaWJsZSB9IGZyb20gJy4vaGVscGVycy9pc1Zpc2libGUuanMnO1xuaW1wb3J0IHsgd2hpY2hQcm9wZXJ0eSB9IGZyb20gJy4vaGVscGVycy93aGljaFByb3BlcnR5LmpzJztcbmltcG9ydCB7IGhhczNEVHJhbnNmb3JtcyB9IGZyb20gJy4vaGVscGVycy9oYXMzRFRyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHsgZ2V0RW5kUHJvcGVydHkgfSBmcm9tICcuL2hlbHBlcnMvZ2V0RW5kUHJvcGVydHkuanMnO1xuaW1wb3J0IHsgYWRkRXZlbnRzIH0gZnJvbSAnLi9oZWxwZXJzL2FkZEV2ZW50cy5qcyc7XG5pbXBvcnQgeyByZW1vdmVFdmVudHMgfSBmcm9tICcuL2hlbHBlcnMvcmVtb3ZlRXZlbnRzLmpzJztcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vaGVscGVycy9ldmVudHMuanMnO1xuaW1wb3J0IHsganNUcmFuc2Zvcm0gfSBmcm9tICcuL2hlbHBlcnMvanNUcmFuc2Zvcm0uanMnO1xuXG5leHBvcnQgdmFyIHRucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgY29udGFpbmVyOiAnLnNsaWRlcicsXG4gICAgbW9kZTogJ2Nhcm91c2VsJyxcbiAgICBheGlzOiAnaG9yaXpvbnRhbCcsXG4gICAgaXRlbXM6IDEsXG4gICAgZ3V0dGVyOiAwLFxuICAgIGVkZ2VQYWRkaW5nOiAwLFxuICAgIGZpeGVkV2lkdGg6IGZhbHNlLFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgdmlld3BvcnRNYXg6IGZhbHNlLFxuICAgIHNsaWRlQnk6IDEsXG4gICAgY2VudGVyOiBmYWxzZSxcbiAgICBjb250cm9sczogdHJ1ZSxcbiAgICBjb250cm9sc1Bvc2l0aW9uOiAndG9wJyxcbiAgICBjb250cm9sc1RleHQ6IFsncHJldicsICduZXh0J10sXG4gICAgY29udHJvbHNDb250YWluZXI6IGZhbHNlLFxuICAgIHByZXZCdXR0b246IGZhbHNlLFxuICAgIG5leHRCdXR0b246IGZhbHNlLFxuICAgIG5hdjogdHJ1ZSxcbiAgICBuYXZQb3NpdGlvbjogJ3RvcCcsXG4gICAgbmF2Q29udGFpbmVyOiBmYWxzZSxcbiAgICBuYXZBc1RodW1ibmFpbHM6IGZhbHNlLFxuICAgIGFycm93S2V5czogZmFsc2UsXG4gICAgc3BlZWQ6IDMwMCxcbiAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgYXV0b3BsYXlQb3NpdGlvbjogJ3RvcCcsXG4gICAgYXV0b3BsYXlUaW1lb3V0OiA1MDAwLFxuICAgIGF1dG9wbGF5RGlyZWN0aW9uOiAnZm9yd2FyZCcsXG4gICAgYXV0b3BsYXlUZXh0OiBbJ3N0YXJ0JywgJ3N0b3AnXSxcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IGZhbHNlLFxuICAgIGF1dG9wbGF5QnV0dG9uOiBmYWxzZSxcbiAgICBhdXRvcGxheUJ1dHRvbk91dHB1dDogdHJ1ZSxcbiAgICBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5OiB0cnVlLFxuICAgIGFuaW1hdGVJbjogJ3Rucy1mYWRlSW4nLFxuICAgIGFuaW1hdGVPdXQ6ICd0bnMtZmFkZU91dCcsXG4gICAgYW5pbWF0ZU5vcm1hbDogJ3Rucy1ub3JtYWwnLFxuICAgIGFuaW1hdGVEZWxheTogZmFsc2UsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICByZXdpbmQ6IGZhbHNlLFxuICAgIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICAgIHJlc3BvbnNpdmU6IGZhbHNlLFxuICAgIGxhenlsb2FkOiBmYWxzZSxcbiAgICBsYXp5bG9hZFNlbGVjdG9yOiAnLnRucy1sYXp5LWltZycsXG4gICAgdG91Y2g6IHRydWUsXG4gICAgbW91c2VEcmFnOiBmYWxzZSxcbiAgICBzd2lwZUFuZ2xlOiAxNSxcbiAgICBuZXN0ZWQ6IGZhbHNlLFxuICAgIHByZXZlbnRBY3Rpb25XaGVuUnVubmluZzogZmFsc2UsXG4gICAgcHJldmVudFNjcm9sbE9uVG91Y2g6IGZhbHNlLFxuICAgIGZyZWV6YWJsZTogdHJ1ZSxcbiAgICBvbkluaXQ6IGZhbHNlLFxuICAgIHVzZUxvY2FsU3RvcmFnZTogdHJ1ZVxuICB9LCBvcHRpb25zIHx8IHt9KTtcbiAgXG4gIHZhciBkb2MgPSBkb2N1bWVudCxcbiAgICAgIHdpbiA9IHdpbmRvdyxcbiAgICAgIEtFWVMgPSB7XG4gICAgICAgIEVOVEVSOiAxMyxcbiAgICAgICAgU1BBQ0U6IDMyLFxuICAgICAgICBMRUZUOiAzNyxcbiAgICAgICAgUklHSFQ6IDM5XG4gICAgICB9LFxuICAgICAgdG5zU3RvcmFnZSA9IHt9LFxuICAgICAgbG9jYWxTdG9yYWdlQWNjZXNzID0gb3B0aW9ucy51c2VMb2NhbFN0b3JhZ2U7XG5cbiAgaWYgKGxvY2FsU3RvcmFnZUFjY2Vzcykge1xuICAgIC8vIGNoZWNrIGJyb3dzZXIgdmVyc2lvbiBhbmQgbG9jYWwgc3RvcmFnZSBhY2Nlc3NcbiAgICB2YXIgYnJvd3NlckluZm8gPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHZhciB1aWQgPSBuZXcgRGF0ZTtcblxuICAgIHRyeSB7XG4gICAgICB0bnNTdG9yYWdlID0gd2luLmxvY2FsU3RvcmFnZTtcbiAgICAgIGlmICh0bnNTdG9yYWdlKSB7XG4gICAgICAgIHRuc1N0b3JhZ2Uuc2V0SXRlbSh1aWQsIHVpZCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZUFjY2VzcyA9IHRuc1N0b3JhZ2UuZ2V0SXRlbSh1aWQpID09IHVpZDtcbiAgICAgICAgdG5zU3RvcmFnZS5yZW1vdmVJdGVtKHVpZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhbFN0b3JhZ2VBY2Nlc3MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghbG9jYWxTdG9yYWdlQWNjZXNzKSB7IHRuc1N0b3JhZ2UgPSB7fTsgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgbG9jYWxTdG9yYWdlQWNjZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGxvY2FsU3RvcmFnZUFjY2Vzcykge1xuICAgICAgLy8gcmVtb3ZlIHN0b3JhZ2Ugd2hlbiBicm93c2VyIHZlcnNpb24gY2hhbmdlc1xuICAgICAgaWYgKHRuc1N0b3JhZ2VbJ3Ruc0FwcCddICYmIHRuc1N0b3JhZ2VbJ3Ruc0FwcCddICE9PSBicm93c2VySW5mbykge1xuICAgICAgICBbJ3RDJywgJ3RQTCcsICd0TVEnLCAndFRmJywgJ3QzRCcsICd0VER1JywgJ3RURGUnLCAndEFEdScsICd0QURlJywgJ3RURScsICd0QUUnXS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHsgdG5zU3RvcmFnZS5yZW1vdmVJdGVtKGl0ZW0pOyB9KTtcbiAgICAgIH1cbiAgICAgIC8vIHVwZGF0ZSBicm93c2VySW5mb1xuICAgICAgbG9jYWxTdG9yYWdlWyd0bnNBcHAnXSA9IGJyb3dzZXJJbmZvO1xuICAgIH1cbiAgfVxuXG4gIHZhciBDQUxDID0gdG5zU3RvcmFnZVsndEMnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RDJ10pIDogc2V0TG9jYWxTdG9yYWdlKHRuc1N0b3JhZ2UsICd0QycsIGNhbGMoKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIFBFUkNFTlRBR0VMQVlPVVQgPSB0bnNTdG9yYWdlWyd0UEwnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RQTCddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndFBMJywgcGVyY2VudGFnZUxheW91dCgpLCBsb2NhbFN0b3JhZ2VBY2Nlc3MpLFxuICAgICAgQ1NTTVEgPSB0bnNTdG9yYWdlWyd0TVEnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RNUSddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndE1RJywgbWVkaWFxdWVyeVN1cHBvcnQoKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIFRSQU5TRk9STSA9IHRuc1N0b3JhZ2VbJ3RUZiddID8gY2hlY2tTdG9yYWdlVmFsdWUodG5zU3RvcmFnZVsndFRmJ10pIDogc2V0TG9jYWxTdG9yYWdlKHRuc1N0b3JhZ2UsICd0VGYnLCB3aGljaFByb3BlcnR5KCd0cmFuc2Zvcm0nKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIEhBUzNEVFJBTlNGT1JNUyA9IHRuc1N0b3JhZ2VbJ3QzRCddID8gY2hlY2tTdG9yYWdlVmFsdWUodG5zU3RvcmFnZVsndDNEJ10pIDogc2V0TG9jYWxTdG9yYWdlKHRuc1N0b3JhZ2UsICd0M0QnLCBoYXMzRFRyYW5zZm9ybXMoVFJBTlNGT1JNKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIFRSQU5TSVRJT05EVVJBVElPTiA9IHRuc1N0b3JhZ2VbJ3RURHUnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RURHUnXSkgOiBzZXRMb2NhbFN0b3JhZ2UodG5zU3RvcmFnZSwgJ3RURHUnLCB3aGljaFByb3BlcnR5KCd0cmFuc2l0aW9uRHVyYXRpb24nKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIFRSQU5TSVRJT05ERUxBWSA9IHRuc1N0b3JhZ2VbJ3RURGUnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RURGUnXSkgOiBzZXRMb2NhbFN0b3JhZ2UodG5zU3RvcmFnZSwgJ3RURGUnLCB3aGljaFByb3BlcnR5KCd0cmFuc2l0aW9uRGVsYXknKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIEFOSU1BVElPTkRVUkFUSU9OID0gdG5zU3RvcmFnZVsndEFEdSddID8gY2hlY2tTdG9yYWdlVmFsdWUodG5zU3RvcmFnZVsndEFEdSddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndEFEdScsIHdoaWNoUHJvcGVydHkoJ2FuaW1hdGlvbkR1cmF0aW9uJyksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBBTklNQVRJT05ERUxBWSA9IHRuc1N0b3JhZ2VbJ3RBRGUnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RBRGUnXSkgOiBzZXRMb2NhbFN0b3JhZ2UodG5zU3RvcmFnZSwgJ3RBRGUnLCB3aGljaFByb3BlcnR5KCdhbmltYXRpb25EZWxheScpLCBsb2NhbFN0b3JhZ2VBY2Nlc3MpLFxuICAgICAgVFJBTlNJVElPTkVORCA9IHRuc1N0b3JhZ2VbJ3RURSddID8gY2hlY2tTdG9yYWdlVmFsdWUodG5zU3RvcmFnZVsndFRFJ10pIDogc2V0TG9jYWxTdG9yYWdlKHRuc1N0b3JhZ2UsICd0VEUnLCBnZXRFbmRQcm9wZXJ0eShUUkFOU0lUSU9ORFVSQVRJT04sICdUcmFuc2l0aW9uJyksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBBTklNQVRJT05FTkQgPSB0bnNTdG9yYWdlWyd0QUUnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RBRSddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndEFFJywgZ2V0RW5kUHJvcGVydHkoQU5JTUFUSU9ORFVSQVRJT04sICdBbmltYXRpb24nKSwgbG9jYWxTdG9yYWdlQWNjZXNzKTtcblxuICAvLyBnZXQgZWxlbWVudCBub2RlcyBmcm9tIHNlbGVjdG9yc1xuICB2YXIgc3VwcG9ydENvbnNvbGVXYXJuID0gd2luLmNvbnNvbGUgJiYgdHlwZW9mIHdpbi5jb25zb2xlLndhcm4gPT09IFwiZnVuY3Rpb25cIixcbiAgICAgIHRuc0xpc3QgPSBbJ2NvbnRhaW5lcicsICdjb250cm9sc0NvbnRhaW5lcicsICdwcmV2QnV0dG9uJywgJ25leHRCdXR0b24nLCAnbmF2Q29udGFpbmVyJywgJ2F1dG9wbGF5QnV0dG9uJ10sIFxuICAgICAgb3B0aW9uc0VsZW1lbnRzID0ge307XG4gICAgICBcbiAgdG5zTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnNbaXRlbV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgc3RyID0gb3B0aW9uc1tpdGVtXSxcbiAgICAgICAgICBlbCA9IGRvYy5xdWVyeVNlbGVjdG9yKHN0cik7XG4gICAgICBvcHRpb25zRWxlbWVudHNbaXRlbV0gPSBzdHI7XG5cbiAgICAgIGlmIChlbCAmJiBlbC5ub2RlTmFtZSkge1xuICAgICAgICBvcHRpb25zW2l0ZW1dID0gZWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc3VwcG9ydENvbnNvbGVXYXJuKSB7IGNvbnNvbGUud2FybignQ2FuXFwndCBmaW5kJywgb3B0aW9uc1tpdGVtXSk7IH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gbWFrZSBzdXJlIGF0IGxlYXN0IDEgc2xpZGVcbiAgaWYgKG9wdGlvbnMuY29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCA8IDEpIHtcbiAgICBpZiAoc3VwcG9ydENvbnNvbGVXYXJuKSB7IGNvbnNvbGUud2FybignTm8gc2xpZGVzIGZvdW5kIGluJywgb3B0aW9ucy5jb250YWluZXIpOyB9XG4gICAgcmV0dXJuO1xuICAgfVxuXG4gIC8vIHVwZGF0ZSBvcHRpb25zXG4gIHZhciByZXNwb25zaXZlID0gb3B0aW9ucy5yZXNwb25zaXZlLFxuICAgICAgbmVzdGVkID0gb3B0aW9ucy5uZXN0ZWQsXG4gICAgICBjYXJvdXNlbCA9IG9wdGlvbnMubW9kZSA9PT0gJ2Nhcm91c2VsJyA/IHRydWUgOiBmYWxzZTtcblxuICBpZiAocmVzcG9uc2l2ZSkge1xuICAgIC8vIGFwcGx5IHJlc3BvbnNpdmVbMF0gdG8gb3B0aW9ucyBhbmQgcmVtb3ZlIGl0XG4gICAgaWYgKDAgaW4gcmVzcG9uc2l2ZSkge1xuICAgICAgb3B0aW9ucyA9IGV4dGVuZChvcHRpb25zLCByZXNwb25zaXZlWzBdKTtcbiAgICAgIGRlbGV0ZSByZXNwb25zaXZlWzBdO1xuICAgIH1cblxuICAgIHZhciByZXNwb25zaXZlVGVtID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIHJlc3BvbnNpdmUpIHtcbiAgICAgIHZhciB2YWwgPSByZXNwb25zaXZlW2tleV07XG4gICAgICAvLyB1cGRhdGUgcmVzcG9uc2l2ZVxuICAgICAgLy8gZnJvbTogMzAwOiAyXG4gICAgICAvLyB0bzogXG4gICAgICAvLyAgIDMwMDogeyBcbiAgICAgIC8vICAgICBpdGVtczogMiBcbiAgICAgIC8vICAgfSBcbiAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdudW1iZXInID8ge2l0ZW1zOiB2YWx9IDogdmFsO1xuICAgICAgcmVzcG9uc2l2ZVRlbVtrZXldID0gdmFsO1xuICAgIH1cbiAgICByZXNwb25zaXZlID0gcmVzcG9uc2l2ZVRlbTtcbiAgICByZXNwb25zaXZlVGVtID0gbnVsbDtcbiAgfVxuXG4gIC8vIHVwZGF0ZSBvcHRpb25zXG4gIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMgKG9iaikge1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICghY2Fyb3VzZWwpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3NsaWRlQnknKSB7IG9ialtrZXldID0gJ3BhZ2UnOyB9XG4gICAgICAgIGlmIChrZXkgPT09ICdlZGdlUGFkZGluZycpIHsgb2JqW2tleV0gPSBmYWxzZTsgfVxuICAgICAgICBpZiAoa2V5ID09PSAnYXV0b0hlaWdodCcpIHsgb2JqW2tleV0gPSBmYWxzZTsgfVxuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgcmVzcG9uc2l2ZSBvcHRpb25zXG4gICAgICBpZiAoa2V5ID09PSAncmVzcG9uc2l2ZScpIHsgdXBkYXRlT3B0aW9ucyhvYmpba2V5XSk7IH1cbiAgICB9XG4gIH1cbiAgaWYgKCFjYXJvdXNlbCkgeyB1cGRhdGVPcHRpb25zKG9wdGlvbnMpOyB9XG5cblxuICAvLyA9PT0gZGVmaW5lIGFuZCBzZXQgdmFyaWFibGVzID09PVxuICBpZiAoIWNhcm91c2VsKSB7XG4gICAgb3B0aW9ucy5heGlzID0gJ2hvcml6b250YWwnO1xuICAgIG9wdGlvbnMuc2xpZGVCeSA9ICdwYWdlJztcbiAgICBvcHRpb25zLmVkZ2VQYWRkaW5nID0gZmFsc2U7XG5cbiAgICB2YXIgYW5pbWF0ZUluID0gb3B0aW9ucy5hbmltYXRlSW4sXG4gICAgICAgIGFuaW1hdGVPdXQgPSBvcHRpb25zLmFuaW1hdGVPdXQsXG4gICAgICAgIGFuaW1hdGVEZWxheSA9IG9wdGlvbnMuYW5pbWF0ZURlbGF5LFxuICAgICAgICBhbmltYXRlTm9ybWFsID0gb3B0aW9ucy5hbmltYXRlTm9ybWFsO1xuICB9XG5cbiAgdmFyIGhvcml6b250YWwgPSBvcHRpb25zLmF4aXMgPT09ICdob3Jpem9udGFsJyA/IHRydWUgOiBmYWxzZSxcbiAgICAgIG91dGVyV3JhcHBlciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIGlubmVyV3JhcHBlciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIG1pZGRsZVdyYXBwZXIsXG4gICAgICBjb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcixcbiAgICAgIGNvbnRhaW5lclBhcmVudCA9IGNvbnRhaW5lci5wYXJlbnROb2RlLFxuICAgICAgY29udGFpbmVySFRNTCA9IGNvbnRhaW5lci5vdXRlckhUTUwsXG4gICAgICBzbGlkZUl0ZW1zID0gY29udGFpbmVyLmNoaWxkcmVuLFxuICAgICAgc2xpZGVDb3VudCA9IHNsaWRlSXRlbXMubGVuZ3RoLFxuICAgICAgYnJlYWtwb2ludFpvbmUsXG4gICAgICB3aW5kb3dXaWR0aCA9IGdldFdpbmRvd1dpZHRoKCksXG4gICAgICBpc09uID0gZmFsc2U7XG4gIGlmIChyZXNwb25zaXZlKSB7IHNldEJyZWFrcG9pbnRab25lKCk7IH1cbiAgaWYgKGNhcm91c2VsKSB7IGNvbnRhaW5lci5jbGFzc05hbWUgKz0gJyB0bnMtdnBmaXgnOyB9XG5cbiAgLy8gZml4ZWRXaWR0aDogdmlld3BvcnQgPiByaWdodEJvdW5kYXJ5ID4gaW5kZXhNYXhcbiAgdmFyIGF1dG9XaWR0aCA9IG9wdGlvbnMuYXV0b1dpZHRoLFxuICAgICAgZml4ZWRXaWR0aCA9IGdldE9wdGlvbignZml4ZWRXaWR0aCcpLFxuICAgICAgZWRnZVBhZGRpbmcgPSBnZXRPcHRpb24oJ2VkZ2VQYWRkaW5nJyksXG4gICAgICBndXR0ZXIgPSBnZXRPcHRpb24oJ2d1dHRlcicpLFxuICAgICAgdmlld3BvcnQgPSBnZXRWaWV3cG9ydFdpZHRoKCksXG4gICAgICBjZW50ZXIgPSBnZXRPcHRpb24oJ2NlbnRlcicpLFxuICAgICAgaXRlbXMgPSAhYXV0b1dpZHRoID8gTWF0aC5mbG9vcihnZXRPcHRpb24oJ2l0ZW1zJykpIDogMSxcbiAgICAgIHNsaWRlQnkgPSBnZXRPcHRpb24oJ3NsaWRlQnknKSxcbiAgICAgIHZpZXdwb3J0TWF4ID0gb3B0aW9ucy52aWV3cG9ydE1heCB8fCBvcHRpb25zLmZpeGVkV2lkdGhWaWV3cG9ydFdpZHRoLFxuICAgICAgYXJyb3dLZXlzID0gZ2V0T3B0aW9uKCdhcnJvd0tleXMnKSxcbiAgICAgIHNwZWVkID0gZ2V0T3B0aW9uKCdzcGVlZCcpLFxuICAgICAgcmV3aW5kID0gb3B0aW9ucy5yZXdpbmQsXG4gICAgICBsb29wID0gcmV3aW5kID8gZmFsc2UgOiBvcHRpb25zLmxvb3AsXG4gICAgICBhdXRvSGVpZ2h0ID0gZ2V0T3B0aW9uKCdhdXRvSGVpZ2h0JyksXG4gICAgICBjb250cm9scyA9IGdldE9wdGlvbignY29udHJvbHMnKSxcbiAgICAgIGNvbnRyb2xzVGV4dCA9IGdldE9wdGlvbignY29udHJvbHNUZXh0JyksXG4gICAgICBuYXYgPSBnZXRPcHRpb24oJ25hdicpLFxuICAgICAgdG91Y2ggPSBnZXRPcHRpb24oJ3RvdWNoJyksXG4gICAgICBtb3VzZURyYWcgPSBnZXRPcHRpb24oJ21vdXNlRHJhZycpLFxuICAgICAgYXV0b3BsYXkgPSBnZXRPcHRpb24oJ2F1dG9wbGF5JyksXG4gICAgICBhdXRvcGxheVRpbWVvdXQgPSBnZXRPcHRpb24oJ2F1dG9wbGF5VGltZW91dCcpLFxuICAgICAgYXV0b3BsYXlUZXh0ID0gZ2V0T3B0aW9uKCdhdXRvcGxheVRleHQnKSxcbiAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZSA9IGdldE9wdGlvbignYXV0b3BsYXlIb3ZlclBhdXNlJyksXG4gICAgICBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5ID0gZ2V0T3B0aW9uKCdhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5JyksXG4gICAgICBzaGVldCA9IGNyZWF0ZVN0eWxlU2hlZXQoKSxcbiAgICAgIGxhenlsb2FkID0gb3B0aW9ucy5sYXp5bG9hZCxcbiAgICAgIGxhenlsb2FkU2VsZWN0b3IgPSBvcHRpb25zLmxhenlsb2FkU2VsZWN0b3IsXG4gICAgICBzbGlkZVBvc2l0aW9ucywgLy8gY29sbGVjdGlvbiBvZiBzbGlkZSBwb3NpdGlvbnNcbiAgICAgIHNsaWRlSXRlbXNPdXQgPSBbXSxcbiAgICAgIGNsb25lQ291bnQgPSBsb29wID8gZ2V0Q2xvbmVDb3VudEZvckxvb3AoKSA6IDAsXG4gICAgICBzbGlkZUNvdW50TmV3ID0gIWNhcm91c2VsID8gc2xpZGVDb3VudCArIGNsb25lQ291bnQgOiBzbGlkZUNvdW50ICsgY2xvbmVDb3VudCAqIDIsXG4gICAgICBoYXNSaWdodERlYWRab25lID0gKGZpeGVkV2lkdGggfHwgYXV0b1dpZHRoKSAmJiAhbG9vcCA/IHRydWUgOiBmYWxzZSxcbiAgICAgIHJpZ2h0Qm91bmRhcnkgPSBmaXhlZFdpZHRoID8gZ2V0UmlnaHRCb3VuZGFyeSgpIDogbnVsbCxcbiAgICAgIHVwZGF0ZUluZGV4QmVmb3JlVHJhbnNmb3JtID0gKCFjYXJvdXNlbCB8fCAhbG9vcCkgPyB0cnVlIDogZmFsc2UsXG4gICAgICAvLyB0cmFuc2Zvcm1cbiAgICAgIHRyYW5zZm9ybUF0dHIgPSBob3Jpem9udGFsID8gJ2xlZnQnIDogJ3RvcCcsXG4gICAgICB0cmFuc2Zvcm1QcmVmaXggPSAnJyxcbiAgICAgIHRyYW5zZm9ybVBvc3RmaXggPSAnJyxcbiAgICAgIC8vIGluZGV4XG4gICAgICBnZXRJbmRleE1heCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChmaXhlZFdpZHRoKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VudGVyICYmICFsb29wID8gc2xpZGVDb3VudCAtIDEgOiBNYXRoLmNlaWwoLSByaWdodEJvdW5kYXJ5IC8gKGZpeGVkV2lkdGggKyBndXR0ZXIpKTsgfTtcbiAgICAgICAgfSBlbHNlIGlmIChhdXRvV2lkdGgpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc2xpZGVDb3VudE5ldzsgaS0tOykge1xuICAgICAgICAgICAgICBpZiAoc2xpZGVQb3NpdGlvbnNbaV0gPj0gLSByaWdodEJvdW5kYXJ5KSB7IHJldHVybiBpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY2VudGVyICYmIGNhcm91c2VsICYmICFsb29wKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzbGlkZUNvdW50IC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBsb29wIHx8IGNhcm91c2VsID8gTWF0aC5tYXgoMCwgc2xpZGVDb3VudE5ldyAtIE1hdGguY2VpbChpdGVtcykpIDogc2xpZGVDb3VudE5ldyAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSkoKSxcbiAgICAgIGluZGV4ID0gZ2V0U3RhcnRJbmRleChnZXRPcHRpb24oJ3N0YXJ0SW5kZXgnKSksXG4gICAgICBpbmRleENhY2hlZCA9IGluZGV4LFxuICAgICAgZGlzcGxheUluZGV4ID0gZ2V0Q3VycmVudFNsaWRlKCksXG4gICAgICBpbmRleE1pbiA9IDAsXG4gICAgICBpbmRleE1heCA9ICFhdXRvV2lkdGggPyBnZXRJbmRleE1heCgpIDogbnVsbCxcbiAgICAgIC8vIHJlc2l6ZVxuICAgICAgcmVzaXplVGltZXIsXG4gICAgICBwcmV2ZW50QWN0aW9uV2hlblJ1bm5pbmcgPSBvcHRpb25zLnByZXZlbnRBY3Rpb25XaGVuUnVubmluZyxcbiAgICAgIHN3aXBlQW5nbGUgPSBvcHRpb25zLnN3aXBlQW5nbGUsXG4gICAgICBtb3ZlRGlyZWN0aW9uRXhwZWN0ZWQgPSBzd2lwZUFuZ2xlID8gJz8nIDogdHJ1ZSxcbiAgICAgIHJ1bm5pbmcgPSBmYWxzZSxcbiAgICAgIG9uSW5pdCA9IG9wdGlvbnMub25Jbml0LFxuICAgICAgZXZlbnRzID0gbmV3IEV2ZW50cygpLFxuICAgICAgLy8gaWQsIGNsYXNzXG4gICAgICBuZXdDb250YWluZXJDbGFzc2VzID0gJyB0bnMtc2xpZGVyIHRucy0nICsgb3B0aW9ucy5tb2RlLFxuICAgICAgc2xpZGVJZCA9IGNvbnRhaW5lci5pZCB8fCBnZXRTbGlkZUlkKCksXG4gICAgICBkaXNhYmxlID0gZ2V0T3B0aW9uKCdkaXNhYmxlJyksXG4gICAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgICAgZnJlZXphYmxlID0gb3B0aW9ucy5mcmVlemFibGUsXG4gICAgICBmcmVlemUgPSBmcmVlemFibGUgJiYgIWF1dG9XaWR0aCA/IGdldEZyZWV6ZSgpIDogZmFsc2UsXG4gICAgICBmcm96ZW4gPSBmYWxzZSxcbiAgICAgIGNvbnRyb2xzRXZlbnRzID0ge1xuICAgICAgICAnY2xpY2snOiBvbkNvbnRyb2xzQ2xpY2ssXG4gICAgICAgICdrZXlkb3duJzogb25Db250cm9sc0tleWRvd25cbiAgICAgIH0sXG4gICAgICBuYXZFdmVudHMgPSB7XG4gICAgICAgICdjbGljayc6IG9uTmF2Q2xpY2ssXG4gICAgICAgICdrZXlkb3duJzogb25OYXZLZXlkb3duXG4gICAgICB9LFxuICAgICAgaG92ZXJFdmVudHMgPSB7XG4gICAgICAgICdtb3VzZW92ZXInOiBtb3VzZW92ZXJQYXVzZSxcbiAgICAgICAgJ21vdXNlb3V0JzogbW91c2VvdXRSZXN0YXJ0XG4gICAgICB9LFxuICAgICAgdmlzaWJpbGl0eUV2ZW50ID0geyd2aXNpYmlsaXR5Y2hhbmdlJzogb25WaXNpYmlsaXR5Q2hhbmdlfSxcbiAgICAgIGRvY21lbnRLZXlkb3duRXZlbnQgPSB7J2tleWRvd24nOiBvbkRvY3VtZW50S2V5ZG93bn0sXG4gICAgICB0b3VjaEV2ZW50cyA9IHtcbiAgICAgICAgJ3RvdWNoc3RhcnQnOiBvblBhblN0YXJ0LFxuICAgICAgICAndG91Y2htb3ZlJzogb25QYW5Nb3ZlLFxuICAgICAgICAndG91Y2hlbmQnOiBvblBhbkVuZCxcbiAgICAgICAgJ3RvdWNoY2FuY2VsJzogb25QYW5FbmRcbiAgICAgIH0sIGRyYWdFdmVudHMgPSB7XG4gICAgICAgICdtb3VzZWRvd24nOiBvblBhblN0YXJ0LFxuICAgICAgICAnbW91c2Vtb3ZlJzogb25QYW5Nb3ZlLFxuICAgICAgICAnbW91c2V1cCc6IG9uUGFuRW5kLFxuICAgICAgICAnbW91c2VsZWF2ZSc6IG9uUGFuRW5kXG4gICAgICB9LFxuICAgICAgaGFzQ29udHJvbHMgPSBoYXNPcHRpb24oJ2NvbnRyb2xzJyksXG4gICAgICBoYXNOYXYgPSBoYXNPcHRpb24oJ25hdicpLFxuICAgICAgbmF2QXNUaHVtYm5haWxzID0gYXV0b1dpZHRoID8gdHJ1ZSA6IG9wdGlvbnMubmF2QXNUaHVtYm5haWxzLFxuICAgICAgaGFzQXV0b3BsYXkgPSBoYXNPcHRpb24oJ2F1dG9wbGF5JyksXG4gICAgICBoYXNUb3VjaCA9IGhhc09wdGlvbigndG91Y2gnKSxcbiAgICAgIGhhc01vdXNlRHJhZyA9IGhhc09wdGlvbignbW91c2VEcmFnJyksXG4gICAgICBzbGlkZUFjdGl2ZUNsYXNzID0gJ3Rucy1zbGlkZS1hY3RpdmUnLFxuICAgICAgaW1nQ29tcGxldGVDbGFzcyA9ICd0bnMtY29tcGxldGUnLFxuICAgICAgaW1nRXZlbnRzID0ge1xuICAgICAgICAnbG9hZCc6IG9uSW1nTG9hZGVkLFxuICAgICAgICAnZXJyb3InOiBvbkltZ0ZhaWxlZFxuICAgICAgfSxcbiAgICAgIGltZ3NDb21wbGV0ZSxcbiAgICAgIGxpdmVyZWdpb25DdXJyZW50LFxuICAgICAgcHJldmVudFNjcm9sbCA9IG9wdGlvbnMucHJldmVudFNjcm9sbE9uVG91Y2ggPT09ICdmb3JjZScgPyB0cnVlIDogZmFsc2U7XG5cbiAgLy8gY29udHJvbHNcbiAgaWYgKGhhc0NvbnRyb2xzKSB7XG4gICAgdmFyIGNvbnRyb2xzQ29udGFpbmVyID0gb3B0aW9ucy5jb250cm9sc0NvbnRhaW5lcixcbiAgICAgICAgY29udHJvbHNDb250YWluZXJIVE1MID0gb3B0aW9ucy5jb250cm9sc0NvbnRhaW5lciA/IG9wdGlvbnMuY29udHJvbHNDb250YWluZXIub3V0ZXJIVE1MIDogJycsXG4gICAgICAgIHByZXZCdXR0b24gPSBvcHRpb25zLnByZXZCdXR0b24sXG4gICAgICAgIG5leHRCdXR0b24gPSBvcHRpb25zLm5leHRCdXR0b24sXG4gICAgICAgIHByZXZCdXR0b25IVE1MID0gb3B0aW9ucy5wcmV2QnV0dG9uID8gb3B0aW9ucy5wcmV2QnV0dG9uLm91dGVySFRNTCA6ICcnLFxuICAgICAgICBuZXh0QnV0dG9uSFRNTCA9IG9wdGlvbnMubmV4dEJ1dHRvbiA/IG9wdGlvbnMubmV4dEJ1dHRvbi5vdXRlckhUTUwgOiAnJyxcbiAgICAgICAgcHJldklzQnV0dG9uLFxuICAgICAgICBuZXh0SXNCdXR0b247XG4gIH1cblxuICAvLyBuYXZcbiAgaWYgKGhhc05hdikge1xuICAgIHZhciBuYXZDb250YWluZXIgPSBvcHRpb25zLm5hdkNvbnRhaW5lcixcbiAgICAgICAgbmF2Q29udGFpbmVySFRNTCA9IG9wdGlvbnMubmF2Q29udGFpbmVyID8gb3B0aW9ucy5uYXZDb250YWluZXIub3V0ZXJIVE1MIDogJycsXG4gICAgICAgIG5hdkl0ZW1zLFxuICAgICAgICBwYWdlcyA9IGF1dG9XaWR0aCA/IHNsaWRlQ291bnQgOiBnZXRQYWdlcygpLFxuICAgICAgICBwYWdlc0NhY2hlZCA9IDAsXG4gICAgICAgIG5hdkNsaWNrZWQgPSAtMSxcbiAgICAgICAgbmF2Q3VycmVudEluZGV4ID0gZ2V0Q3VycmVudE5hdkluZGV4KCksXG4gICAgICAgIG5hdkN1cnJlbnRJbmRleENhY2hlZCA9IG5hdkN1cnJlbnRJbmRleCxcbiAgICAgICAgbmF2QWN0aXZlQ2xhc3MgPSAndG5zLW5hdi1hY3RpdmUnLFxuICAgICAgICBuYXZTdHIgPSAnQ2Fyb3VzZWwgUGFnZSAnLFxuICAgICAgICBuYXZTdHJDdXJyZW50ID0gJyAoQ3VycmVudCBTbGlkZSknO1xuICB9XG5cbiAgLy8gYXV0b3BsYXlcbiAgaWYgKGhhc0F1dG9wbGF5KSB7XG4gICAgdmFyIGF1dG9wbGF5RGlyZWN0aW9uID0gb3B0aW9ucy5hdXRvcGxheURpcmVjdGlvbiA9PT0gJ2ZvcndhcmQnID8gMSA6IC0xLFxuICAgICAgICBhdXRvcGxheUJ1dHRvbiA9IG9wdGlvbnMuYXV0b3BsYXlCdXR0b24sXG4gICAgICAgIGF1dG9wbGF5QnV0dG9uSFRNTCA9IG9wdGlvbnMuYXV0b3BsYXlCdXR0b24gPyBvcHRpb25zLmF1dG9wbGF5QnV0dG9uLm91dGVySFRNTCA6ICcnLFxuICAgICAgICBhdXRvcGxheUh0bWxTdHJpbmdzID0gWyc8c3BhbiBjbGFzcz1cXCd0bnMtdmlzdWFsbHktaGlkZGVuXFwnPicsICcgYW5pbWF0aW9uPC9zcGFuPiddLFxuICAgICAgICBhdXRvcGxheVRpbWVyLFxuICAgICAgICBhbmltYXRpbmcsXG4gICAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZWQsXG4gICAgICAgIGF1dG9wbGF5VXNlclBhdXNlZCxcbiAgICAgICAgYXV0b3BsYXlWaXNpYmlsaXR5UGF1c2VkO1xuICB9XG5cbiAgaWYgKGhhc1RvdWNoIHx8IGhhc01vdXNlRHJhZykge1xuICAgIHZhciBpbml0UG9zaXRpb24gPSB7fSxcbiAgICAgICAgbGFzdFBvc2l0aW9uID0ge30sXG4gICAgICAgIHRyYW5zbGF0ZUluaXQsXG4gICAgICAgIGRpc1gsXG4gICAgICAgIGRpc1ksXG4gICAgICAgIHBhblN0YXJ0ID0gZmFsc2UsXG4gICAgICAgIHJhZkluZGV4LFxuICAgICAgICBnZXREaXN0ID0gaG9yaXpvbnRhbCA/IFxuICAgICAgICAgIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEueCAtIGIueDsgfSA6XG4gICAgICAgICAgZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYS55IC0gYi55OyB9O1xuICB9XG4gIFxuICAvLyBkaXNhYmxlIHNsaWRlciB3aGVuIHNsaWRlY291bnQgPD0gaXRlbXNcbiAgaWYgKCFhdXRvV2lkdGgpIHsgcmVzZXRWYXJpYmxlc1doZW5EaXNhYmxlKGRpc2FibGUgfHwgZnJlZXplKTsgfVxuXG4gIGlmIChUUkFOU0ZPUk0pIHtcbiAgICB0cmFuc2Zvcm1BdHRyID0gVFJBTlNGT1JNO1xuICAgIHRyYW5zZm9ybVByZWZpeCA9ICd0cmFuc2xhdGUnO1xuXG4gICAgaWYgKEhBUzNEVFJBTlNGT1JNUykge1xuICAgICAgdHJhbnNmb3JtUHJlZml4ICs9IGhvcml6b250YWwgPyAnM2QoJyA6ICczZCgwcHgsICc7XG4gICAgICB0cmFuc2Zvcm1Qb3N0Zml4ID0gaG9yaXpvbnRhbCA/ICcsIDBweCwgMHB4KScgOiAnLCAwcHgpJztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNmb3JtUHJlZml4ICs9IGhvcml6b250YWwgPyAnWCgnIDogJ1koJztcbiAgICAgIHRyYW5zZm9ybVBvc3RmaXggPSAnKSc7XG4gICAgfVxuXG4gIH1cblxuICBpZiAoY2Fyb3VzZWwpIHsgY29udGFpbmVyLmNsYXNzTmFtZSA9IGNvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZSgndG5zLXZwZml4JywgJycpOyB9XG4gIGluaXRTdHJ1Y3R1cmUoKTtcbiAgaW5pdFNoZWV0KCk7XG4gIGluaXRTbGlkZXJUcmFuc2Zvcm0oKTtcblxuICAvLyA9PT0gQ09NTU9OIEZVTkNUSU9OUyA9PT0gLy9cbiAgZnVuY3Rpb24gcmVzZXRWYXJpYmxlc1doZW5EaXNhYmxlIChjb25kaXRpb24pIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICBjb250cm9scyA9IG5hdiA9IHRvdWNoID0gbW91c2VEcmFnID0gYXJyb3dLZXlzID0gYXV0b3BsYXkgPSBhdXRvcGxheUhvdmVyUGF1c2UgPSBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudFNsaWRlICgpIHtcbiAgICB2YXIgdGVtID0gY2Fyb3VzZWwgPyBpbmRleCAtIGNsb25lQ291bnQgOiBpbmRleDtcbiAgICB3aGlsZSAodGVtIDwgMCkgeyB0ZW0gKz0gc2xpZGVDb3VudDsgfVxuICAgIHJldHVybiB0ZW0lc2xpZGVDb3VudCArIDE7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdGFydEluZGV4IChpbmQpIHtcbiAgICBpbmQgPSBpbmQgPyBNYXRoLm1heCgwLCBNYXRoLm1pbihsb29wID8gc2xpZGVDb3VudCAtIDEgOiBzbGlkZUNvdW50IC0gaXRlbXMsIGluZCkpIDogMDtcbiAgICByZXR1cm4gY2Fyb3VzZWwgPyBpbmQgKyBjbG9uZUNvdW50IDogaW5kO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QWJzSW5kZXggKGkpIHtcbiAgICBpZiAoaSA9PSBudWxsKSB7IGkgPSBpbmRleDsgfVxuXG4gICAgaWYgKGNhcm91c2VsKSB7IGkgLT0gY2xvbmVDb3VudDsgfVxuICAgIHdoaWxlIChpIDwgMCkgeyBpICs9IHNsaWRlQ291bnQ7IH1cblxuICAgIHJldHVybiBNYXRoLmZsb29yKGklc2xpZGVDb3VudCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDdXJyZW50TmF2SW5kZXggKCkge1xuICAgIHZhciBhYnNJbmRleCA9IGdldEFic0luZGV4KCksXG4gICAgICAgIHJlc3VsdDtcblxuICAgIHJlc3VsdCA9IG5hdkFzVGh1bWJuYWlscyA/IGFic0luZGV4IDogXG4gICAgICBmaXhlZFdpZHRoIHx8IGF1dG9XaWR0aCA/IE1hdGguY2VpbCgoYWJzSW5kZXggKyAxKSAqIHBhZ2VzIC8gc2xpZGVDb3VudCAtIDEpIDogXG4gICAgICAgICAgTWF0aC5mbG9vcihhYnNJbmRleCAvIGl0ZW1zKTtcblxuICAgIC8vIHNldCBhY3RpdmUgbmF2IHRvIHRoZSBsYXN0IG9uZSB3aGVuIHJlYWNoZXMgdGhlIHJpZ2h0IGVkZ2VcbiAgICBpZiAoIWxvb3AgJiYgY2Fyb3VzZWwgJiYgaW5kZXggPT09IGluZGV4TWF4KSB7IHJlc3VsdCA9IHBhZ2VzIC0gMTsgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEl0ZW1zTWF4ICgpIHtcbiAgICAvLyBmaXhlZFdpZHRoIG9yIGF1dG9XaWR0aCB3aGlsZSB2aWV3cG9ydE1heCBpcyBub3QgYXZhaWxhYmxlXG4gICAgaWYgKGF1dG9XaWR0aCB8fCAoZml4ZWRXaWR0aCAmJiAhdmlld3BvcnRNYXgpKSB7XG4gICAgICByZXR1cm4gc2xpZGVDb3VudCAtIDE7XG4gICAgLy8gbW9zdCBjYXNlc1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3RyID0gZml4ZWRXaWR0aCA/ICdmaXhlZFdpZHRoJyA6ICdpdGVtcycsXG4gICAgICAgICAgYXJyID0gW107XG5cbiAgICAgIGlmIChmaXhlZFdpZHRoIHx8IG9wdGlvbnNbc3RyXSA8IHNsaWRlQ291bnQpIHsgYXJyLnB1c2gob3B0aW9uc1tzdHJdKTsgfVxuXG4gICAgICBpZiAocmVzcG9uc2l2ZSkge1xuICAgICAgICBmb3IgKHZhciBicCBpbiByZXNwb25zaXZlKSB7XG4gICAgICAgICAgdmFyIHRlbSA9IHJlc3BvbnNpdmVbYnBdW3N0cl07XG4gICAgICAgICAgaWYgKHRlbSAmJiAoZml4ZWRXaWR0aCB8fCB0ZW0gPCBzbGlkZUNvdW50KSkgeyBhcnIucHVzaCh0ZW0pOyB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhcnIubGVuZ3RoKSB7IGFyci5wdXNoKDApOyB9XG5cbiAgICAgIHJldHVybiBNYXRoLmNlaWwoZml4ZWRXaWR0aCA/IHZpZXdwb3J0TWF4IC8gTWF0aC5taW4uYXBwbHkobnVsbCwgYXJyKSA6IE1hdGgubWF4LmFwcGx5KG51bGwsIGFycikpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENsb25lQ291bnRGb3JMb29wICgpIHtcbiAgICB2YXIgaXRlbXNNYXggPSBnZXRJdGVtc01heCgpLFxuICAgICAgICByZXN1bHQgPSBjYXJvdXNlbCA/IE1hdGguY2VpbCgoaXRlbXNNYXggKiA1IC0gc2xpZGVDb3VudCkvMikgOiAoaXRlbXNNYXggKiA0IC0gc2xpZGVDb3VudCk7XG4gICAgcmVzdWx0ID0gTWF0aC5tYXgoaXRlbXNNYXgsIHJlc3VsdCk7XG5cbiAgICByZXR1cm4gaGFzT3B0aW9uKCdlZGdlUGFkZGluZycpID8gcmVzdWx0ICsgMSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFdpbmRvd1dpZHRoICgpIHtcbiAgICByZXR1cm4gd2luLmlubmVyV2lkdGggfHwgZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2MuYm9keS5jbGllbnRXaWR0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluc2VydFBvc2l0aW9uIChwb3MpIHtcbiAgICByZXR1cm4gcG9zID09PSAndG9wJyA/ICdhZnRlcmJlZ2luJyA6ICdiZWZvcmVlbmQnO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q2xpZW50V2lkdGggKGVsKSB7XG4gICAgdmFyIGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSwgcmVjdCwgd2lkdGg7XG4gICAgZWwuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICByZWN0ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHdpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICBkaXYucmVtb3ZlKCk7XG4gICAgcmV0dXJuIHdpZHRoIHx8IGdldENsaWVudFdpZHRoKGVsLnBhcmVudE5vZGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Vmlld3BvcnRXaWR0aCAoKSB7XG4gICAgdmFyIGdhcCA9IGVkZ2VQYWRkaW5nID8gZWRnZVBhZGRpbmcgKiAyIC0gZ3V0dGVyIDogMDtcbiAgICByZXR1cm4gZ2V0Q2xpZW50V2lkdGgoY29udGFpbmVyUGFyZW50KSAtIGdhcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc09wdGlvbiAoaXRlbSkge1xuICAgIGlmIChvcHRpb25zW2l0ZW1dKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlc3BvbnNpdmUpIHtcbiAgICAgICAgZm9yICh2YXIgYnAgaW4gcmVzcG9uc2l2ZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zaXZlW2JwXVtpdGVtXSkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gZ2V0IG9wdGlvbjpcbiAgLy8gZml4ZWQgd2lkdGg6IHZpZXdwb3J0LCBmaXhlZFdpZHRoLCBndXR0ZXIgPT4gaXRlbXNcbiAgLy8gb3RoZXJzOiB3aW5kb3cgd2lkdGggPT4gYWxsIHZhcmlhYmxlc1xuICAvLyBhbGw6IGl0ZW1zID0+IHNsaWRlQnlcbiAgZnVuY3Rpb24gZ2V0T3B0aW9uIChpdGVtLCB3dykge1xuICAgIGlmICh3dyA9PSBudWxsKSB7IHd3ID0gd2luZG93V2lkdGg7IH1cblxuICAgIGlmIChpdGVtID09PSAnaXRlbXMnICYmIGZpeGVkV2lkdGgpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKCh2aWV3cG9ydCArIGd1dHRlcikgLyAoZml4ZWRXaWR0aCArIGd1dHRlcikpIHx8IDE7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlc3VsdCA9IG9wdGlvbnNbaXRlbV07XG5cbiAgICAgIGlmIChyZXNwb25zaXZlKSB7XG4gICAgICAgIGZvciAodmFyIGJwIGluIHJlc3BvbnNpdmUpIHtcbiAgICAgICAgICAvLyBicDogY29udmVydCBzdHJpbmcgdG8gbnVtYmVyXG4gICAgICAgICAgaWYgKHd3ID49IHBhcnNlSW50KGJwKSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW4gcmVzcG9uc2l2ZVticF0pIHsgcmVzdWx0ID0gcmVzcG9uc2l2ZVticF1baXRlbV07IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0gPT09ICdzbGlkZUJ5JyAmJiByZXN1bHQgPT09ICdwYWdlJykgeyByZXN1bHQgPSBnZXRPcHRpb24oJ2l0ZW1zJyk7IH1cbiAgICAgIGlmICghY2Fyb3VzZWwgJiYgKGl0ZW0gPT09ICdzbGlkZUJ5JyB8fCBpdGVtID09PSAnaXRlbXMnKSkgeyByZXN1bHQgPSBNYXRoLmZsb29yKHJlc3VsdCk7IH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTbGlkZU1hcmdpbkxlZnQgKGkpIHtcbiAgICByZXR1cm4gQ0FMQyA/IFxuICAgICAgQ0FMQyArICcoJyArIGkgKiAxMDAgKyAnJSAvICcgKyBzbGlkZUNvdW50TmV3ICsgJyknIDogXG4gICAgICBpICogMTAwIC8gc2xpZGVDb3VudE5ldyArICclJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldElubmVyV3JhcHBlclN0eWxlcyAoZWRnZVBhZGRpbmdUZW0sIGd1dHRlclRlbSwgZml4ZWRXaWR0aFRlbSwgc3BlZWRUZW0sIGF1dG9IZWlnaHRCUCkge1xuICAgIHZhciBzdHIgPSAnJztcblxuICAgIGlmIChlZGdlUGFkZGluZ1RlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZ2FwID0gZWRnZVBhZGRpbmdUZW07XG4gICAgICBpZiAoZ3V0dGVyVGVtKSB7IGdhcCAtPSBndXR0ZXJUZW07IH1cbiAgICAgIHN0ciA9IGhvcml6b250YWwgP1xuICAgICAgICAnbWFyZ2luOiAwICcgKyBnYXAgKyAncHggMCAnICsgZWRnZVBhZGRpbmdUZW0gKyAncHg7JyA6XG4gICAgICAgICdtYXJnaW46ICcgKyBlZGdlUGFkZGluZ1RlbSArICdweCAwICcgKyBnYXAgKyAncHggMDsnO1xuICAgIH0gZWxzZSBpZiAoZ3V0dGVyVGVtICYmICFmaXhlZFdpZHRoVGVtKSB7XG4gICAgICB2YXIgZ3V0dGVyVGVtVW5pdCA9ICctJyArIGd1dHRlclRlbSArICdweCcsXG4gICAgICAgICAgZGlyID0gaG9yaXpvbnRhbCA/IGd1dHRlclRlbVVuaXQgKyAnIDAgMCcgOiAnMCAnICsgZ3V0dGVyVGVtVW5pdCArICcgMCc7XG4gICAgICBzdHIgPSAnbWFyZ2luOiAwICcgKyBkaXIgKyAnOydcbiAgICB9XG5cbiAgICBpZiAoIWNhcm91c2VsICYmIGF1dG9IZWlnaHRCUCAmJiBUUkFOU0lUSU9ORFVSQVRJT04gJiYgc3BlZWRUZW0pIHsgc3RyICs9IGdldFRyYW5zaXRpb25EdXJhdGlvblN0eWxlKHNwZWVkVGVtKTsgfVxuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb250YWluZXJXaWR0aCAoZml4ZWRXaWR0aFRlbSwgZ3V0dGVyVGVtLCBpdGVtc1RlbSkge1xuICAgIGlmIChmaXhlZFdpZHRoVGVtKSB7XG4gICAgICByZXR1cm4gKGZpeGVkV2lkdGhUZW0gKyBndXR0ZXJUZW0pICogc2xpZGVDb3VudE5ldyArICdweCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBDQUxDID9cbiAgICAgICAgQ0FMQyArICcoJyArIHNsaWRlQ291bnROZXcgKiAxMDAgKyAnJSAvICcgKyBpdGVtc1RlbSArICcpJyA6XG4gICAgICAgIHNsaWRlQ291bnROZXcgKiAxMDAgLyBpdGVtc1RlbSArICclJztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTbGlkZVdpZHRoU3R5bGUgKGZpeGVkV2lkdGhUZW0sIGd1dHRlclRlbSwgaXRlbXNUZW0pIHtcbiAgICB2YXIgd2lkdGg7XG5cbiAgICBpZiAoZml4ZWRXaWR0aFRlbSkge1xuICAgICAgd2lkdGggPSAoZml4ZWRXaWR0aFRlbSArIGd1dHRlclRlbSkgKyAncHgnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNhcm91c2VsKSB7IGl0ZW1zVGVtID0gTWF0aC5mbG9vcihpdGVtc1RlbSk7IH1cbiAgICAgIHZhciBkaXZpZGVuZCA9IGNhcm91c2VsID8gc2xpZGVDb3VudE5ldyA6IGl0ZW1zVGVtO1xuICAgICAgd2lkdGggPSBDQUxDID8gXG4gICAgICAgIENBTEMgKyAnKDEwMCUgLyAnICsgZGl2aWRlbmQgKyAnKScgOiBcbiAgICAgICAgMTAwIC8gZGl2aWRlbmQgKyAnJSc7XG4gICAgfVxuXG4gICAgd2lkdGggPSAnd2lkdGg6JyArIHdpZHRoO1xuXG4gICAgLy8gaW5uZXIgc2xpZGVyOiBvdmVyd3JpdGUgb3V0ZXIgc2xpZGVyIHN0eWxlc1xuICAgIHJldHVybiBuZXN0ZWQgIT09ICdpbm5lcicgPyB3aWR0aCArICc7JyA6IHdpZHRoICsgJyAhaW1wb3J0YW50Oyc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTbGlkZUd1dHRlclN0eWxlIChndXR0ZXJUZW0pIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICAvLyBndXR0ZXIgbWF5YmUgaW50ZXJnZXIgfHwgMFxuICAgIC8vIHNvIGNhbid0IHVzZSAnaWYgKGd1dHRlciknXG4gICAgaWYgKGd1dHRlclRlbSAhPT0gZmFsc2UpIHtcbiAgICAgIHZhciBwcm9wID0gaG9yaXpvbnRhbCA/ICdwYWRkaW5nLScgOiAnbWFyZ2luLScsXG4gICAgICAgICAgZGlyID0gaG9yaXpvbnRhbCA/ICdyaWdodCcgOiAnYm90dG9tJztcbiAgICAgIHN0ciA9IHByb3AgKyAgZGlyICsgJzogJyArIGd1dHRlclRlbSArICdweDsnO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDU1NQcmVmaXggKG5hbWUsIG51bSkge1xuICAgIHZhciBwcmVmaXggPSBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIG51bSkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocHJlZml4KSB7IHByZWZpeCA9ICctJyArIHByZWZpeCArICctJzsgfVxuXG4gICAgcmV0dXJuIHByZWZpeDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRyYW5zaXRpb25EdXJhdGlvblN0eWxlIChzcGVlZCkge1xuICAgIHJldHVybiBnZXRDU1NQcmVmaXgoVFJBTlNJVElPTkRVUkFUSU9OLCAxOCkgKyAndHJhbnNpdGlvbi1kdXJhdGlvbjonICsgc3BlZWQgLyAxMDAwICsgJ3M7JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFuaW1hdGlvbkR1cmF0aW9uU3R5bGUgKHNwZWVkKSB7XG4gICAgcmV0dXJuIGdldENTU1ByZWZpeChBTklNQVRJT05EVVJBVElPTiwgMTcpICsgJ2FuaW1hdGlvbi1kdXJhdGlvbjonICsgc3BlZWQgLyAxMDAwICsgJ3M7JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTdHJ1Y3R1cmUgKCkge1xuICAgIHZhciBjbGFzc091dGVyID0gJ3Rucy1vdXRlcicsXG4gICAgICAgIGNsYXNzSW5uZXIgPSAndG5zLWlubmVyJyxcbiAgICAgICAgaGFzR3V0dGVyID0gaGFzT3B0aW9uKCdndXR0ZXInKTtcblxuICAgIG91dGVyV3JhcHBlci5jbGFzc05hbWUgPSBjbGFzc091dGVyO1xuICAgIGlubmVyV3JhcHBlci5jbGFzc05hbWUgPSBjbGFzc0lubmVyO1xuICAgIG91dGVyV3JhcHBlci5pZCA9IHNsaWRlSWQgKyAnLW93JztcbiAgICBpbm5lcldyYXBwZXIuaWQgPSBzbGlkZUlkICsgJy1pdyc7XG5cbiAgICAvLyBzZXQgY29udGFpbmVyIHByb3BlcnRpZXNcbiAgICBpZiAoY29udGFpbmVyLmlkID09PSAnJykgeyBjb250YWluZXIuaWQgPSBzbGlkZUlkOyB9XG4gICAgbmV3Q29udGFpbmVyQ2xhc3NlcyArPSBQRVJDRU5UQUdFTEFZT1VUIHx8IGF1dG9XaWR0aCA/ICcgdG5zLXN1YnBpeGVsJyA6ICcgdG5zLW5vLXN1YnBpeGVsJztcbiAgICBuZXdDb250YWluZXJDbGFzc2VzICs9IENBTEMgPyAnIHRucy1jYWxjJyA6ICcgdG5zLW5vLWNhbGMnO1xuICAgIGlmIChhdXRvV2lkdGgpIHsgbmV3Q29udGFpbmVyQ2xhc3NlcyArPSAnIHRucy1hdXRvd2lkdGgnOyB9XG4gICAgbmV3Q29udGFpbmVyQ2xhc3NlcyArPSAnIHRucy0nICsgb3B0aW9ucy5heGlzO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgKz0gbmV3Q29udGFpbmVyQ2xhc3NlcztcblxuICAgIC8vIGFkZCBjb25zdHJhaW4gbGF5ZXIgZm9yIGNhcm91c2VsXG4gICAgaWYgKGNhcm91c2VsKSB7XG4gICAgICBtaWRkbGVXcmFwcGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbWlkZGxlV3JhcHBlci5pZCA9IHNsaWRlSWQgKyAnLW13JztcbiAgICAgIG1pZGRsZVdyYXBwZXIuY2xhc3NOYW1lID0gJ3Rucy1vdmgnO1xuXG4gICAgICBvdXRlcldyYXBwZXIuYXBwZW5kQ2hpbGQobWlkZGxlV3JhcHBlcik7XG4gICAgICBtaWRkbGVXcmFwcGVyLmFwcGVuZENoaWxkKGlubmVyV3JhcHBlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dGVyV3JhcHBlci5hcHBlbmRDaGlsZChpbm5lcldyYXBwZXIpO1xuICAgIH1cblxuICAgIGlmIChhdXRvSGVpZ2h0KSB7XG4gICAgICB2YXIgd3AgPSBtaWRkbGVXcmFwcGVyID8gbWlkZGxlV3JhcHBlciA6IGlubmVyV3JhcHBlcjtcbiAgICAgIHdwLmNsYXNzTmFtZSArPSAnIHRucy1haCc7XG4gICAgfVxuXG4gICAgY29udGFpbmVyUGFyZW50Lmluc2VydEJlZm9yZShvdXRlcldyYXBwZXIsIGNvbnRhaW5lcik7XG4gICAgaW5uZXJXcmFwcGVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICAvLyBhZGQgaWQsIGNsYXNzLCBhcmlhIGF0dHJpYnV0ZXMgXG4gICAgLy8gYmVmb3JlIGNsb25lIHNsaWRlc1xuICAgIGZvckVhY2goc2xpZGVJdGVtcywgZnVuY3Rpb24oaXRlbSwgaSkge1xuICAgICAgYWRkQ2xhc3MoaXRlbSwgJ3Rucy1pdGVtJyk7XG4gICAgICBpZiAoIWl0ZW0uaWQpIHsgaXRlbS5pZCA9IHNsaWRlSWQgKyAnLWl0ZW0nICsgaTsgfVxuICAgICAgaWYgKCFjYXJvdXNlbCAmJiBhbmltYXRlTm9ybWFsKSB7IGFkZENsYXNzKGl0ZW0sIGFuaW1hdGVOb3JtYWwpOyB9XG4gICAgICBzZXRBdHRycyhpdGVtLCB7XG4gICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJyxcbiAgICAgICAgJ3RhYmluZGV4JzogJy0xJ1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyAjIyBjbG9uZSBzbGlkZXNcbiAgICAvLyBjYXJvdXNlbDogbiArIHNsaWRlcyArIG5cbiAgICAvLyBnYWxsZXJ5OiAgICAgIHNsaWRlcyArIG5cbiAgICBpZiAoY2xvbmVDb3VudCkge1xuICAgICAgdmFyIGZyYWdtZW50QmVmb3JlID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgXG4gICAgICAgICAgZnJhZ21lbnRBZnRlciA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgIGZvciAodmFyIGogPSBjbG9uZUNvdW50OyBqLS07KSB7XG4gICAgICAgIHZhciBudW0gPSBqJXNsaWRlQ291bnQsXG4gICAgICAgICAgICBjbG9uZUZpcnN0ID0gc2xpZGVJdGVtc1tudW1dLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgcmVtb3ZlQXR0cnMoY2xvbmVGaXJzdCwgJ2lkJyk7XG4gICAgICAgIGZyYWdtZW50QWZ0ZXIuaW5zZXJ0QmVmb3JlKGNsb25lRmlyc3QsIGZyYWdtZW50QWZ0ZXIuZmlyc3RDaGlsZCk7XG5cbiAgICAgICAgaWYgKGNhcm91c2VsKSB7XG4gICAgICAgICAgdmFyIGNsb25lTGFzdCA9IHNsaWRlSXRlbXNbc2xpZGVDb3VudCAtIDEgLSBudW1dLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICByZW1vdmVBdHRycyhjbG9uZUxhc3QsICdpZCcpO1xuICAgICAgICAgIGZyYWdtZW50QmVmb3JlLmFwcGVuZENoaWxkKGNsb25lTGFzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShmcmFnbWVudEJlZm9yZSwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50QWZ0ZXIpO1xuICAgICAgc2xpZGVJdGVtcyA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTbGlkZXJUcmFuc2Zvcm0gKCkge1xuICAgIC8vICMjIGltYWdlcyBsb2FkZWQvZmFpbGVkXG4gICAgaWYgKGhhc09wdGlvbignYXV0b0hlaWdodCcpIHx8IGF1dG9XaWR0aCB8fCAhaG9yaXpvbnRhbCkge1xuICAgICAgdmFyIGltZ3MgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7XG5cbiAgICAgIC8vIGFkZCBjb21wbGV0ZSBjbGFzcyBpZiBhbGwgaW1hZ2VzIGFyZSBsb2FkZWQvZmFpbGVkXG4gICAgICBmb3JFYWNoKGltZ3MsIGZ1bmN0aW9uKGltZykge1xuICAgICAgICB2YXIgc3JjID0gaW1nLnNyYztcbiAgICAgICAgXG4gICAgICAgIGlmIChzcmMgJiYgc3JjLmluZGV4T2YoJ2RhdGE6aW1hZ2UnKSA8IDApIHtcbiAgICAgICAgICBhZGRFdmVudHMoaW1nLCBpbWdFdmVudHMpO1xuICAgICAgICAgIGltZy5zcmMgPSAnJztcbiAgICAgICAgICBpbWcuc3JjID0gc3JjO1xuICAgICAgICAgIGFkZENsYXNzKGltZywgJ2xvYWRpbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmICghbGF6eWxvYWQpIHtcbiAgICAgICAgICBpbWdMb2FkZWQoaW1nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFsbCBpbWdzIGFyZSBjb21wbGV0ZWRcbiAgICAgIHJhZihmdW5jdGlvbigpeyBpbWdzTG9hZGVkQ2hlY2soYXJyYXlGcm9tTm9kZUxpc3QoaW1ncyksIGZ1bmN0aW9uKCkgeyBpbWdzQ29tcGxldGUgPSB0cnVlOyB9KTsgfSk7XG5cbiAgICAgIC8vIENoZWNrIGltZ3MgaW4gd2luZG93IG9ubHkgZm9yIGF1dG8gaGVpZ2h0XG4gICAgICBpZiAoIWF1dG9XaWR0aCAmJiBob3Jpem9udGFsKSB7IGltZ3MgPSBnZXRJbWFnZUFycmF5KGluZGV4LCBNYXRoLm1pbihpbmRleCArIGl0ZW1zIC0gMSwgc2xpZGVDb3VudE5ldyAtIDEpKTsgfVxuXG4gICAgICBsYXp5bG9hZCA/IGluaXRTbGlkZXJUcmFuc2Zvcm1TdHlsZUNoZWNrKCkgOiByYWYoZnVuY3Rpb24oKXsgaW1nc0xvYWRlZENoZWNrKGFycmF5RnJvbU5vZGVMaXN0KGltZ3MpLCBpbml0U2xpZGVyVHJhbnNmb3JtU3R5bGVDaGVjayk7IH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldCBjb250YWluZXIgdHJhbnNmb3JtIHByb3BlcnR5XG4gICAgICBpZiAoY2Fyb3VzZWwpIHsgZG9Db250YWluZXJUcmFuc2Zvcm1TaWxlbnQoKTsgfVxuXG4gICAgICAvLyB1cGRhdGUgc2xpZGVyIHRvb2xzIGFuZCBldmVudHNcbiAgICAgIGluaXRUb29scygpO1xuICAgICAgaW5pdEV2ZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTbGlkZXJUcmFuc2Zvcm1TdHlsZUNoZWNrICgpIHtcbiAgICBpZiAoYXV0b1dpZHRoKSB7XG4gICAgICAvLyBjaGVjayBzdHlsZXMgYXBwbGljYXRpb25cbiAgICAgIHZhciBudW0gPSBsb29wID8gaW5kZXggOiBzbGlkZUNvdW50IC0gMTtcbiAgICAgIChmdW5jdGlvbiBzdHlsZXNBcHBsaWNhdGlvbkNoZWNrKCkge1xuICAgICAgICBzbGlkZUl0ZW1zW251bSAtIDFdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0LnRvRml4ZWQoMikgPT09IHNsaWRlSXRlbXNbbnVtXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LnRvRml4ZWQoMikgP1xuICAgICAgICBpbml0U2xpZGVyVHJhbnNmb3JtQ29yZSgpIDpcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpeyBzdHlsZXNBcHBsaWNhdGlvbkNoZWNrKCkgfSwgMTYpO1xuICAgICAgfSkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdFNsaWRlclRyYW5zZm9ybUNvcmUoKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGluaXRTbGlkZXJUcmFuc2Zvcm1Db3JlICgpIHtcbiAgICAvLyBydW4gRm4oKXMgd2hpY2ggYXJlIHJlbHkgb24gaW1hZ2UgbG9hZGluZ1xuICAgIGlmICghaG9yaXpvbnRhbCB8fCBhdXRvV2lkdGgpIHtcbiAgICAgIHNldFNsaWRlUG9zaXRpb25zKCk7XG5cbiAgICAgIGlmIChhdXRvV2lkdGgpIHtcbiAgICAgICAgcmlnaHRCb3VuZGFyeSA9IGdldFJpZ2h0Qm91bmRhcnkoKTtcbiAgICAgICAgaWYgKGZyZWV6YWJsZSkgeyBmcmVlemUgPSBnZXRGcmVlemUoKTsgfVxuICAgICAgICBpbmRleE1heCA9IGdldEluZGV4TWF4KCk7IC8vIDw9IHNsaWRlUG9zaXRpb25zLCByaWdodEJvdW5kYXJ5IDw9XG4gICAgICAgIHJlc2V0VmFyaWJsZXNXaGVuRGlzYWJsZShkaXNhYmxlIHx8IGZyZWV6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVDb250ZW50V3JhcHBlckhlaWdodCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldCBjb250YWluZXIgdHJhbnNmb3JtIHByb3BlcnR5XG4gICAgaWYgKGNhcm91c2VsKSB7IGRvQ29udGFpbmVyVHJhbnNmb3JtU2lsZW50KCk7IH1cblxuICAgIC8vIHVwZGF0ZSBzbGlkZXIgdG9vbHMgYW5kIGV2ZW50c1xuICAgIGluaXRUb29scygpO1xuICAgIGluaXRFdmVudHMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTaGVldCAoKSB7XG4gICAgLy8gZ2FsbGVyeTpcbiAgICAvLyBzZXQgYW5pbWF0aW9uIGNsYXNzZXMgYW5kIGxlZnQgdmFsdWUgZm9yIGdhbGxlcnkgc2xpZGVyXG4gICAgaWYgKCFjYXJvdXNlbCkgeyBcbiAgICAgIGZvciAodmFyIGkgPSBpbmRleCwgbCA9IGluZGV4ICsgTWF0aC5taW4oc2xpZGVDb3VudCwgaXRlbXMpOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gc2xpZGVJdGVtc1tpXTtcbiAgICAgICAgaXRlbS5zdHlsZS5sZWZ0ID0gKGkgLSBpbmRleCkgKiAxMDAgLyBpdGVtcyArICclJztcbiAgICAgICAgYWRkQ2xhc3MoaXRlbSwgYW5pbWF0ZUluKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgYW5pbWF0ZU5vcm1hbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gIyMjIyBMQVlPVVRcblxuICAgIC8vICMjIElOTElORS1CTE9DSyBWUyBGTE9BVFxuXG4gICAgLy8gIyMgUGVyY2VudGFnZUxheW91dDpcbiAgICAvLyBzbGlkZXM6IGlubGluZS1ibG9ja1xuICAgIC8vIHJlbW92ZSBibGFuayBzcGFjZSBiZXR3ZWVuIHNsaWRlcyBieSBzZXQgZm9udC1zaXplOiAwXG5cbiAgICAvLyAjIyBOb24gUGVyY2VudGFnZUxheW91dDpcbiAgICAvLyBzbGlkZXM6IGZsb2F0XG4gICAgLy8gICAgICAgICBtYXJnaW4tcmlnaHQ6IC0xMDAlXG4gICAgLy8gICAgICAgICBtYXJnaW4tbGVmdDogflxuXG4gICAgLy8gUmVzb3VyY2U6IGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLzE0N3VwMjQ1d3dUWGVRWXZlM0JSU0FENG9WY3ZRbXVHc0Z0ZUpPZUE1eE5RL2VkaXQ/dXNwPXNoYXJpbmdcbiAgICBpZiAoaG9yaXpvbnRhbCkge1xuICAgICAgaWYgKFBFUkNFTlRBR0VMQVlPVVQgfHwgYXV0b1dpZHRoKSB7XG4gICAgICAgIGFkZENTU1J1bGUoc2hlZXQsICcjJyArIHNsaWRlSWQgKyAnID4gLnRucy1pdGVtJywgJ2ZvbnQtc2l6ZTonICsgd2luLmdldENvbXB1dGVkU3R5bGUoc2xpZGVJdGVtc1swXSkuZm9udFNpemUgKyAnOycsIGdldENzc1J1bGVzTGVuZ3RoKHNoZWV0KSk7XG4gICAgICAgIGFkZENTU1J1bGUoc2hlZXQsICcjJyArIHNsaWRlSWQsICdmb250LXNpemU6MDsnLCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkpO1xuICAgICAgfSBlbHNlIGlmIChjYXJvdXNlbCkge1xuICAgICAgICBmb3JFYWNoKHNsaWRlSXRlbXMsIGZ1bmN0aW9uIChzbGlkZSwgaSkge1xuICAgICAgICAgIHNsaWRlLnN0eWxlLm1hcmdpbkxlZnQgPSBnZXRTbGlkZU1hcmdpbkxlZnQoaSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gIyMgQkFTSUMgU1RZTEVTXG4gICAgaWYgKENTU01RKSB7XG4gICAgICAvLyBtaWRkbGUgd3JhcHBlciBzdHlsZVxuICAgICAgaWYgKFRSQU5TSVRJT05EVVJBVElPTikge1xuICAgICAgICB2YXIgc3RyID0gbWlkZGxlV3JhcHBlciAmJiBvcHRpb25zLmF1dG9IZWlnaHQgPyBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShvcHRpb25zLnNwZWVkKSA6ICcnO1xuICAgICAgICBhZGRDU1NSdWxlKHNoZWV0LCAnIycgKyBzbGlkZUlkICsgJy1tdycsIHN0ciwgZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpKTtcbiAgICAgIH1cblxuICAgICAgLy8gaW5uZXIgd3JhcHBlciBzdHlsZXNcbiAgICAgIHN0ciA9IGdldElubmVyV3JhcHBlclN0eWxlcyhvcHRpb25zLmVkZ2VQYWRkaW5nLCBvcHRpb25zLmd1dHRlciwgb3B0aW9ucy5maXhlZFdpZHRoLCBvcHRpb25zLnNwZWVkLCBvcHRpb25zLmF1dG9IZWlnaHQpO1xuICAgICAgYWRkQ1NTUnVsZShzaGVldCwgJyMnICsgc2xpZGVJZCArICctaXcnLCBzdHIsIGdldENzc1J1bGVzTGVuZ3RoKHNoZWV0KSk7XG5cbiAgICAgIC8vIGNvbnRhaW5lciBzdHlsZXNcbiAgICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgICBzdHIgPSBob3Jpem9udGFsICYmICFhdXRvV2lkdGggPyAnd2lkdGg6JyArIGdldENvbnRhaW5lcldpZHRoKG9wdGlvbnMuZml4ZWRXaWR0aCwgb3B0aW9ucy5ndXR0ZXIsIG9wdGlvbnMuaXRlbXMpICsgJzsnIDogJyc7XG4gICAgICAgIGlmIChUUkFOU0lUSU9ORFVSQVRJT04pIHsgc3RyICs9IGdldFRyYW5zaXRpb25EdXJhdGlvblN0eWxlKHNwZWVkKTsgfVxuICAgICAgICBhZGRDU1NSdWxlKHNoZWV0LCAnIycgKyBzbGlkZUlkLCBzdHIsIGdldENzc1J1bGVzTGVuZ3RoKHNoZWV0KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNsaWRlIHN0eWxlc1xuICAgICAgc3RyID0gaG9yaXpvbnRhbCAmJiAhYXV0b1dpZHRoID8gZ2V0U2xpZGVXaWR0aFN0eWxlKG9wdGlvbnMuZml4ZWRXaWR0aCwgb3B0aW9ucy5ndXR0ZXIsIG9wdGlvbnMuaXRlbXMpIDogJyc7XG4gICAgICBpZiAob3B0aW9ucy5ndXR0ZXIpIHsgc3RyICs9IGdldFNsaWRlR3V0dGVyU3R5bGUob3B0aW9ucy5ndXR0ZXIpOyB9XG4gICAgICAvLyBzZXQgZ2FsbGVyeSBpdGVtcyB0cmFuc2l0aW9uLWR1cmF0aW9uXG4gICAgICBpZiAoIWNhcm91c2VsKSB7XG4gICAgICAgIGlmIChUUkFOU0lUSU9ORFVSQVRJT04pIHsgc3RyICs9IGdldFRyYW5zaXRpb25EdXJhdGlvblN0eWxlKHNwZWVkKTsgfVxuICAgICAgICBpZiAoQU5JTUFUSU9ORFVSQVRJT04pIHsgc3RyICs9IGdldEFuaW1hdGlvbkR1cmF0aW9uU3R5bGUoc3BlZWQpOyB9XG4gICAgICB9XG4gICAgICBpZiAoc3RyKSB7IGFkZENTU1J1bGUoc2hlZXQsICcjJyArIHNsaWRlSWQgKyAnID4gLnRucy1pdGVtJywgc3RyLCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkpOyB9XG5cbiAgICAvLyBub24gQ1NTIG1lZGlhcXVlcmllczogSUU4XG4gICAgLy8gIyMgdXBkYXRlIGlubmVyIHdyYXBwZXIsIGNvbnRhaW5lciwgc2xpZGVzIGlmIG5lZWRlZFxuICAgIC8vIHNldCBpbmxpbmUgc3R5bGVzIGZvciBpbm5lciB3cmFwcGVyICYgY29udGFpbmVyXG4gICAgLy8gaW5zZXJ0IHN0eWxlc2hlZXQgKG9uZSBsaW5lKSBmb3Igc2xpZGVzIG9ubHkgKHNpbmNlIHNsaWRlcyBhcmUgbWFueSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWlkZGxlIHdyYXBwZXIgc3R5bGVzXG4gICAgICB1cGRhdGVfY2Fyb3VzZWxfdHJhbnNpdGlvbl9kdXJhdGlvbigpO1xuXG4gICAgICAvLyBpbm5lciB3cmFwcGVyIHN0eWxlc1xuICAgICAgaW5uZXJXcmFwcGVyLnN0eWxlLmNzc1RleHQgPSBnZXRJbm5lcldyYXBwZXJTdHlsZXMoZWRnZVBhZGRpbmcsIGd1dHRlciwgZml4ZWRXaWR0aCwgYXV0b0hlaWdodCk7XG5cbiAgICAgIC8vIGNvbnRhaW5lciBzdHlsZXNcbiAgICAgIGlmIChjYXJvdXNlbCAmJiBob3Jpem9udGFsICYmICFhdXRvV2lkdGgpIHtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gZ2V0Q29udGFpbmVyV2lkdGgoZml4ZWRXaWR0aCwgZ3V0dGVyLCBpdGVtcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNsaWRlIHN0eWxlc1xuICAgICAgdmFyIHN0ciA9IGhvcml6b250YWwgJiYgIWF1dG9XaWR0aCA/IGdldFNsaWRlV2lkdGhTdHlsZShmaXhlZFdpZHRoLCBndXR0ZXIsIGl0ZW1zKSA6ICcnO1xuICAgICAgaWYgKGd1dHRlcikgeyBzdHIgKz0gZ2V0U2xpZGVHdXR0ZXJTdHlsZShndXR0ZXIpOyB9XG5cbiAgICAgIC8vIGFwcGVuZCB0byB0aGUgbGFzdCBsaW5lXG4gICAgICBpZiAoc3RyKSB7IGFkZENTU1J1bGUoc2hlZXQsICcjJyArIHNsaWRlSWQgKyAnID4gLnRucy1pdGVtJywgc3RyLCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkpOyB9XG4gICAgfVxuXG4gICAgLy8gIyMgTUVESUFRVUVSSUVTXG4gICAgaWYgKHJlc3BvbnNpdmUgJiYgQ1NTTVEpIHtcbiAgICAgIGZvciAodmFyIGJwIGluIHJlc3BvbnNpdmUpIHtcbiAgICAgICAgLy8gYnA6IGNvbnZlcnQgc3RyaW5nIHRvIG51bWJlclxuICAgICAgICBicCA9IHBhcnNlSW50KGJwKTtcblxuICAgICAgICB2YXIgb3B0cyA9IHJlc3BvbnNpdmVbYnBdLFxuICAgICAgICAgICAgc3RyID0gJycsXG4gICAgICAgICAgICBtaWRkbGVXcmFwcGVyU3RyID0gJycsXG4gICAgICAgICAgICBpbm5lcldyYXBwZXJTdHIgPSAnJyxcbiAgICAgICAgICAgIGNvbnRhaW5lclN0ciA9ICcnLFxuICAgICAgICAgICAgc2xpZGVTdHIgPSAnJyxcbiAgICAgICAgICAgIGl0ZW1zQlAgPSAhYXV0b1dpZHRoID8gZ2V0T3B0aW9uKCdpdGVtcycsIGJwKSA6IG51bGwsXG4gICAgICAgICAgICBmaXhlZFdpZHRoQlAgPSBnZXRPcHRpb24oJ2ZpeGVkV2lkdGgnLCBicCksXG4gICAgICAgICAgICBzcGVlZEJQID0gZ2V0T3B0aW9uKCdzcGVlZCcsIGJwKSxcbiAgICAgICAgICAgIGVkZ2VQYWRkaW5nQlAgPSBnZXRPcHRpb24oJ2VkZ2VQYWRkaW5nJywgYnApLFxuICAgICAgICAgICAgYXV0b0hlaWdodEJQID0gZ2V0T3B0aW9uKCdhdXRvSGVpZ2h0JywgYnApLFxuICAgICAgICAgICAgZ3V0dGVyQlAgPSBnZXRPcHRpb24oJ2d1dHRlcicsIGJwKTtcblxuICAgICAgICAvLyBtaWRkbGUgd3JhcHBlciBzdHJpbmdcbiAgICAgICAgaWYgKFRSQU5TSVRJT05EVVJBVElPTiAmJiBtaWRkbGVXcmFwcGVyICYmIGdldE9wdGlvbignYXV0b0hlaWdodCcsIGJwKSAmJiAnc3BlZWQnIGluIG9wdHMpIHtcbiAgICAgICAgICBtaWRkbGVXcmFwcGVyU3RyID0gJyMnICsgc2xpZGVJZCArICctbXd7JyArIGdldFRyYW5zaXRpb25EdXJhdGlvblN0eWxlKHNwZWVkQlApICsgJ30nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5uZXIgd3JhcHBlciBzdHJpbmdcbiAgICAgICAgaWYgKCdlZGdlUGFkZGluZycgaW4gb3B0cyB8fCAnZ3V0dGVyJyBpbiBvcHRzKSB7XG4gICAgICAgICAgaW5uZXJXcmFwcGVyU3RyID0gJyMnICsgc2xpZGVJZCArICctaXd7JyArIGdldElubmVyV3JhcHBlclN0eWxlcyhlZGdlUGFkZGluZ0JQLCBndXR0ZXJCUCwgZml4ZWRXaWR0aEJQLCBzcGVlZEJQLCBhdXRvSGVpZ2h0QlApICsgJ30nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udGFpbmVyIHN0cmluZ1xuICAgICAgICBpZiAoY2Fyb3VzZWwgJiYgaG9yaXpvbnRhbCAmJiAhYXV0b1dpZHRoICYmICgnZml4ZWRXaWR0aCcgaW4gb3B0cyB8fCAnaXRlbXMnIGluIG9wdHMgfHwgKGZpeGVkV2lkdGggJiYgJ2d1dHRlcicgaW4gb3B0cykpKSB7XG4gICAgICAgICAgY29udGFpbmVyU3RyID0gJ3dpZHRoOicgKyBnZXRDb250YWluZXJXaWR0aChmaXhlZFdpZHRoQlAsIGd1dHRlckJQLCBpdGVtc0JQKSArICc7JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoVFJBTlNJVElPTkRVUkFUSU9OICYmICdzcGVlZCcgaW4gb3B0cykge1xuICAgICAgICAgIGNvbnRhaW5lclN0ciArPSBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShzcGVlZEJQKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGFpbmVyU3RyKSB7XG4gICAgICAgICAgY29udGFpbmVyU3RyID0gJyMnICsgc2xpZGVJZCArICd7JyArIGNvbnRhaW5lclN0ciArICd9JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNsaWRlIHN0cmluZ1xuICAgICAgICBpZiAoJ2ZpeGVkV2lkdGgnIGluIG9wdHMgfHwgKGZpeGVkV2lkdGggJiYgJ2d1dHRlcicgaW4gb3B0cykgfHwgIWNhcm91c2VsICYmICdpdGVtcycgaW4gb3B0cykge1xuICAgICAgICAgIHNsaWRlU3RyICs9IGdldFNsaWRlV2lkdGhTdHlsZShmaXhlZFdpZHRoQlAsIGd1dHRlckJQLCBpdGVtc0JQKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2d1dHRlcicgaW4gb3B0cykge1xuICAgICAgICAgIHNsaWRlU3RyICs9IGdldFNsaWRlR3V0dGVyU3R5bGUoZ3V0dGVyQlApO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBnYWxsZXJ5IGl0ZW1zIHRyYW5zaXRpb24tZHVyYXRpb25cbiAgICAgICAgaWYgKCFjYXJvdXNlbCAmJiAnc3BlZWQnIGluIG9wdHMpIHtcbiAgICAgICAgICBpZiAoVFJBTlNJVElPTkRVUkFUSU9OKSB7IHNsaWRlU3RyICs9IGdldFRyYW5zaXRpb25EdXJhdGlvblN0eWxlKHNwZWVkQlApOyB9XG4gICAgICAgICAgaWYgKEFOSU1BVElPTkRVUkFUSU9OKSB7IHNsaWRlU3RyICs9IGdldEFuaW1hdGlvbkR1cmF0aW9uU3R5bGUoc3BlZWRCUCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2xpZGVTdHIpIHsgc2xpZGVTdHIgPSAnIycgKyBzbGlkZUlkICsgJyA+IC50bnMtaXRlbXsnICsgc2xpZGVTdHIgKyAnfSc7IH1cblxuICAgICAgICAvLyBhZGQgdXBcbiAgICAgICAgc3RyID0gbWlkZGxlV3JhcHBlclN0ciArIGlubmVyV3JhcHBlclN0ciArIGNvbnRhaW5lclN0ciArIHNsaWRlU3RyO1xuXG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKCdAbWVkaWEgKG1pbi13aWR0aDogJyArIGJwIC8gMTYgKyAnZW0pIHsnICsgc3RyICsgJ30nLCBzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFRvb2xzICgpIHtcbiAgICAvLyA9PSBzbGlkZXMgPT1cbiAgICB1cGRhdGVTbGlkZVN0YXR1cygpO1xuXG4gICAgLy8gPT0gbGl2ZSByZWdpb24gPT1cbiAgICBvdXRlcldyYXBwZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgJzxkaXYgY2xhc3M9XCJ0bnMtbGl2ZXJlZ2lvbiB0bnMtdmlzdWFsbHktaGlkZGVuXCIgYXJpYS1saXZlPVwicG9saXRlXCIgYXJpYS1hdG9taWM9XCJ0cnVlXCI+c2xpZGUgPHNwYW4gY2xhc3M9XCJjdXJyZW50XCI+JyArIGdldExpdmVSZWdpb25TdHIoKSArICc8L3NwYW4+ICBvZiAnICsgc2xpZGVDb3VudCArICc8L2Rpdj4nKTtcbiAgICBsaXZlcmVnaW9uQ3VycmVudCA9IG91dGVyV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcudG5zLWxpdmVyZWdpb24gLmN1cnJlbnQnKTtcblxuICAgIC8vID09IGF1dG9wbGF5SW5pdCA9PVxuICAgIGlmIChoYXNBdXRvcGxheSkge1xuICAgICAgdmFyIHR4dCA9IGF1dG9wbGF5ID8gJ3N0b3AnIDogJ3N0YXJ0JztcbiAgICAgIGlmIChhdXRvcGxheUJ1dHRvbikge1xuICAgICAgICBzZXRBdHRycyhhdXRvcGxheUJ1dHRvbiwgeydkYXRhLWFjdGlvbic6IHR4dH0pO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmF1dG9wbGF5QnV0dG9uT3V0cHV0KSB7XG4gICAgICAgIG91dGVyV3JhcHBlci5pbnNlcnRBZGphY2VudEhUTUwoZ2V0SW5zZXJ0UG9zaXRpb24ob3B0aW9ucy5hdXRvcGxheVBvc2l0aW9uKSwgJzxidXR0b24gZGF0YS1hY3Rpb249XCInICsgdHh0ICsgJ1wiPicgKyBhdXRvcGxheUh0bWxTdHJpbmdzWzBdICsgdHh0ICsgYXV0b3BsYXlIdG1sU3RyaW5nc1sxXSArIGF1dG9wbGF5VGV4dFswXSArICc8L2J1dHRvbj4nKTtcbiAgICAgICAgYXV0b3BsYXlCdXR0b24gPSBvdXRlcldyYXBwZXIucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aW9uXScpO1xuICAgICAgfVxuXG4gICAgICAvLyBhZGQgZXZlbnRcbiAgICAgIGlmIChhdXRvcGxheUJ1dHRvbikge1xuICAgICAgICBhZGRFdmVudHMoYXV0b3BsYXlCdXR0b24sIHsnY2xpY2snOiB0b2dnbGVBdXRvcGxheX0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXV0b3BsYXkpIHtcbiAgICAgICAgc3RhcnRBdXRvcGxheSgpO1xuICAgICAgICBpZiAoYXV0b3BsYXlIb3ZlclBhdXNlKSB7IGFkZEV2ZW50cyhjb250YWluZXIsIGhvdmVyRXZlbnRzKTsgfVxuICAgICAgICBpZiAoYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eSkgeyBhZGRFdmVudHMoY29udGFpbmVyLCB2aXNpYmlsaXR5RXZlbnQpOyB9XG4gICAgICB9XG4gICAgfVxuIFxuICAgIC8vID09IG5hdkluaXQgPT1cbiAgICBpZiAoaGFzTmF2KSB7XG4gICAgICB2YXIgaW5pdEluZGV4ID0gIWNhcm91c2VsID8gMCA6IGNsb25lQ291bnQ7XG4gICAgICAvLyBjdXN0b21pemVkIG5hdlxuICAgICAgLy8gd2lsbCBub3QgaGlkZSB0aGUgbmF2cyBpbiBjYXNlIHRoZXkncmUgdGh1bWJuYWlsc1xuICAgICAgaWYgKG5hdkNvbnRhaW5lcikge1xuICAgICAgICBzZXRBdHRycyhuYXZDb250YWluZXIsIHsnYXJpYS1sYWJlbCc6ICdDYXJvdXNlbCBQYWdpbmF0aW9uJ30pO1xuICAgICAgICBuYXZJdGVtcyA9IG5hdkNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgZm9yRWFjaChuYXZJdGVtcywgZnVuY3Rpb24oaXRlbSwgaSkge1xuICAgICAgICAgIHNldEF0dHJzKGl0ZW0sIHtcbiAgICAgICAgICAgICdkYXRhLW5hdic6IGksXG4gICAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnLFxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBuYXZTdHIgKyAoaSArIDEpLFxuICAgICAgICAgICAgJ2FyaWEtY29udHJvbHMnOiBzbGlkZUlkLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gZ2VuZXJhdGVkIG5hdiBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuYXZIdG1sID0gJycsXG4gICAgICAgICAgICBoaWRkZW5TdHIgPSBuYXZBc1RodW1ibmFpbHMgPyAnJyA6ICdzdHlsZT1cImRpc3BsYXk6bm9uZVwiJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAvLyBoaWRlIG5hdiBpdGVtcyBieSBkZWZhdWx0XG4gICAgICAgICAgbmF2SHRtbCArPSAnPGJ1dHRvbiBkYXRhLW5hdj1cIicgKyBpICsnXCIgdGFiaW5kZXg9XCItMVwiIGFyaWEtY29udHJvbHM9XCInICsgc2xpZGVJZCArICdcIiAnICsgaGlkZGVuU3RyICsgJyBhcmlhLWxhYmVsPVwiJyArIG5hdlN0ciArIChpICsgMSkgKydcIj48L2J1dHRvbj4nO1xuICAgICAgICB9XG4gICAgICAgIG5hdkh0bWwgPSAnPGRpdiBjbGFzcz1cInRucy1uYXZcIiBhcmlhLWxhYmVsPVwiQ2Fyb3VzZWwgUGFnaW5hdGlvblwiPicgKyBuYXZIdG1sICsgJzwvZGl2Pic7XG4gICAgICAgIG91dGVyV3JhcHBlci5pbnNlcnRBZGphY2VudEhUTUwoZ2V0SW5zZXJ0UG9zaXRpb24ob3B0aW9ucy5uYXZQb3NpdGlvbiksIG5hdkh0bWwpO1xuXG4gICAgICAgIG5hdkNvbnRhaW5lciA9IG91dGVyV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcudG5zLW5hdicpO1xuICAgICAgICBuYXZJdGVtcyA9IG5hdkNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlTmF2VmlzaWJpbGl0eSgpO1xuXG4gICAgICAvLyBhZGQgdHJhbnNpdGlvblxuICAgICAgaWYgKFRSQU5TSVRJT05EVVJBVElPTikge1xuICAgICAgICB2YXIgcHJlZml4ID0gVFJBTlNJVElPTkRVUkFUSU9OLnN1YnN0cmluZygwLCBUUkFOU0lUSU9ORFVSQVRJT04ubGVuZ3RoIC0gMTgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBzdHIgPSAndHJhbnNpdGlvbjogYWxsICcgKyBzcGVlZCAvIDEwMDAgKyAncyc7XG5cbiAgICAgICAgaWYgKHByZWZpeCkge1xuICAgICAgICAgIHN0ciA9ICctJyArIHByZWZpeCArICctJyArIHN0cjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZENTU1J1bGUoc2hlZXQsICdbYXJpYS1jb250cm9sc149JyArIHNsaWRlSWQgKyAnLWl0ZW1dJywgc3RyLCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkpO1xuICAgICAgfVxuXG4gICAgICBzZXRBdHRycyhuYXZJdGVtc1tuYXZDdXJyZW50SW5kZXhdLCB7J2FyaWEtbGFiZWwnOiBuYXZTdHIgKyAobmF2Q3VycmVudEluZGV4ICsgMSkgKyBuYXZTdHJDdXJyZW50fSk7XG4gICAgICByZW1vdmVBdHRycyhuYXZJdGVtc1tuYXZDdXJyZW50SW5kZXhdLCAndGFiaW5kZXgnKTtcbiAgICAgIGFkZENsYXNzKG5hdkl0ZW1zW25hdkN1cnJlbnRJbmRleF0sIG5hdkFjdGl2ZUNsYXNzKTtcblxuICAgICAgLy8gYWRkIGV2ZW50c1xuICAgICAgYWRkRXZlbnRzKG5hdkNvbnRhaW5lciwgbmF2RXZlbnRzKTtcbiAgICB9XG5cblxuXG4gICAgLy8gPT0gY29udHJvbHNJbml0ID09XG4gICAgaWYgKGhhc0NvbnRyb2xzKSB7XG4gICAgICBpZiAoIWNvbnRyb2xzQ29udGFpbmVyICYmICghcHJldkJ1dHRvbiB8fCAhbmV4dEJ1dHRvbikpIHtcbiAgICAgICAgb3V0ZXJXcmFwcGVyLmluc2VydEFkamFjZW50SFRNTChnZXRJbnNlcnRQb3NpdGlvbihvcHRpb25zLmNvbnRyb2xzUG9zaXRpb24pLCAnPGRpdiBjbGFzcz1cInRucy1jb250cm9sc1wiIGFyaWEtbGFiZWw9XCJDYXJvdXNlbCBOYXZpZ2F0aW9uXCIgdGFiaW5kZXg9XCIwXCI+PGJ1dHRvbiBkYXRhLWNvbnRyb2xzPVwicHJldlwiIHRhYmluZGV4PVwiLTFcIiBhcmlhLWNvbnRyb2xzPVwiJyArIHNsaWRlSWQgKydcIj4nICsgY29udHJvbHNUZXh0WzBdICsgJzwvYnV0dG9uPjxidXR0b24gZGF0YS1jb250cm9scz1cIm5leHRcIiB0YWJpbmRleD1cIi0xXCIgYXJpYS1jb250cm9scz1cIicgKyBzbGlkZUlkICsnXCI+JyArIGNvbnRyb2xzVGV4dFsxXSArICc8L2J1dHRvbj48L2Rpdj4nKTtcblxuICAgICAgICBjb250cm9sc0NvbnRhaW5lciA9IG91dGVyV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcudG5zLWNvbnRyb2xzJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcHJldkJ1dHRvbiB8fCAhbmV4dEJ1dHRvbikge1xuICAgICAgICBwcmV2QnV0dG9uID0gY29udHJvbHNDb250YWluZXIuY2hpbGRyZW5bMF07XG4gICAgICAgIG5leHRCdXR0b24gPSBjb250cm9sc0NvbnRhaW5lci5jaGlsZHJlblsxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuY29udHJvbHNDb250YWluZXIpIHtcbiAgICAgICAgc2V0QXR0cnMoY29udHJvbHNDb250YWluZXIsIHtcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdDYXJvdXNlbCBOYXZpZ2F0aW9uJyxcbiAgICAgICAgICAndGFiaW5kZXgnOiAnMCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmNvbnRyb2xzQ29udGFpbmVyIHx8IChvcHRpb25zLnByZXZCdXR0b24gJiYgb3B0aW9ucy5uZXh0QnV0dG9uKSkge1xuICAgICAgICBzZXRBdHRycyhbcHJldkJ1dHRvbiwgbmV4dEJ1dHRvbl0sIHtcbiAgICAgICAgICAnYXJpYS1jb250cm9scyc6IHNsaWRlSWQsXG4gICAgICAgICAgJ3RhYmluZGV4JzogJy0xJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChvcHRpb25zLmNvbnRyb2xzQ29udGFpbmVyIHx8IChvcHRpb25zLnByZXZCdXR0b24gJiYgb3B0aW9ucy5uZXh0QnV0dG9uKSkge1xuICAgICAgICBzZXRBdHRycyhwcmV2QnV0dG9uLCB7J2RhdGEtY29udHJvbHMnIDogJ3ByZXYnfSk7XG4gICAgICAgIHNldEF0dHJzKG5leHRCdXR0b24sIHsnZGF0YS1jb250cm9scycgOiAnbmV4dCd9KTtcbiAgICAgIH1cblxuICAgICAgcHJldklzQnV0dG9uID0gaXNCdXR0b24ocHJldkJ1dHRvbik7XG4gICAgICBuZXh0SXNCdXR0b24gPSBpc0J1dHRvbihuZXh0QnV0dG9uKTtcblxuICAgICAgdXBkYXRlQ29udHJvbHNTdGF0dXMoKTtcblxuICAgICAgLy8gYWRkIGV2ZW50c1xuICAgICAgaWYgKGNvbnRyb2xzQ29udGFpbmVyKSB7XG4gICAgICAgIGFkZEV2ZW50cyhjb250cm9sc0NvbnRhaW5lciwgY29udHJvbHNFdmVudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkRXZlbnRzKHByZXZCdXR0b24sIGNvbnRyb2xzRXZlbnRzKTtcbiAgICAgICAgYWRkRXZlbnRzKG5leHRCdXR0b24sIGNvbnRyb2xzRXZlbnRzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoaWRlIHRvb2xzIGlmIG5lZWRlZFxuICAgIGRpc2FibGVVSSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdEV2ZW50cyAoKSB7XG4gICAgLy8gYWRkIGV2ZW50c1xuICAgIGlmIChjYXJvdXNlbCAmJiBUUkFOU0lUSU9ORU5EKSB7XG4gICAgICB2YXIgZXZlID0ge307XG4gICAgICBldmVbVFJBTlNJVElPTkVORF0gPSBvblRyYW5zaXRpb25FbmQ7XG4gICAgICBhZGRFdmVudHMoY29udGFpbmVyLCBldmUpO1xuICAgIH1cblxuICAgIGlmICh0b3VjaCkgeyBhZGRFdmVudHMoY29udGFpbmVyLCB0b3VjaEV2ZW50cywgb3B0aW9ucy5wcmV2ZW50U2Nyb2xsT25Ub3VjaCk7IH1cbiAgICBpZiAobW91c2VEcmFnKSB7IGFkZEV2ZW50cyhjb250YWluZXIsIGRyYWdFdmVudHMpOyB9XG4gICAgaWYgKGFycm93S2V5cykgeyBhZGRFdmVudHMoZG9jLCBkb2NtZW50S2V5ZG93bkV2ZW50KTsgfVxuXG4gICAgaWYgKG5lc3RlZCA9PT0gJ2lubmVyJykge1xuICAgICAgZXZlbnRzLm9uKCdvdXRlclJlc2l6ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc2l6ZVRhc2tzKCk7XG4gICAgICAgIGV2ZW50cy5lbWl0KCdpbm5lckxvYWRlZCcsIGluZm8oKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNpdmUgfHwgZml4ZWRXaWR0aCB8fCBhdXRvV2lkdGggfHwgYXV0b0hlaWdodCB8fCAhaG9yaXpvbnRhbCkge1xuICAgICAgYWRkRXZlbnRzKHdpbiwgeydyZXNpemUnOiBvblJlc2l6ZX0pO1xuICAgIH1cblxuICAgIGlmIChhdXRvSGVpZ2h0KSB7XG4gICAgICBpZiAobmVzdGVkID09PSAnb3V0ZXInKSB7XG4gICAgICAgIGV2ZW50cy5vbignaW5uZXJMb2FkZWQnLCBkb0F1dG9IZWlnaHQpO1xuICAgICAgfSBlbHNlIGlmICghZGlzYWJsZSkgeyBkb0F1dG9IZWlnaHQoKTsgfVxuICAgIH1cblxuICAgIGRvTGF6eUxvYWQoKTtcbiAgICBpZiAoZGlzYWJsZSkgeyBkaXNhYmxlU2xpZGVyKCk7IH0gZWxzZSBpZiAoZnJlZXplKSB7IGZyZWV6ZVNsaWRlcigpOyB9XG5cbiAgICBldmVudHMub24oJ2luZGV4Q2hhbmdlZCcsIGFkZGl0aW9uYWxVcGRhdGVzKTtcbiAgICBpZiAobmVzdGVkID09PSAnaW5uZXInKSB7IGV2ZW50cy5lbWl0KCdpbm5lckxvYWRlZCcsIGluZm8oKSk7IH1cbiAgICBpZiAodHlwZW9mIG9uSW5pdCA9PT0gJ2Z1bmN0aW9uJykgeyBvbkluaXQoaW5mbygpKTsgfVxuICAgIGlzT24gPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSAoKSB7XG4gICAgLy8gc2hlZXRcbiAgICBzaGVldC5kaXNhYmxlZCA9IHRydWU7XG4gICAgaWYgKHNoZWV0Lm93bmVyTm9kZSkgeyBzaGVldC5vd25lck5vZGUucmVtb3ZlKCk7IH1cblxuICAgIC8vIHJlbW92ZSB3aW4gZXZlbnQgbGlzdGVuZXJzXG4gICAgcmVtb3ZlRXZlbnRzKHdpbiwgeydyZXNpemUnOiBvblJlc2l6ZX0pO1xuXG4gICAgLy8gYXJyb3dLZXlzLCBjb250cm9scywgbmF2XG4gICAgaWYgKGFycm93S2V5cykgeyByZW1vdmVFdmVudHMoZG9jLCBkb2NtZW50S2V5ZG93bkV2ZW50KTsgfVxuICAgIGlmIChjb250cm9sc0NvbnRhaW5lcikgeyByZW1vdmVFdmVudHMoY29udHJvbHNDb250YWluZXIsIGNvbnRyb2xzRXZlbnRzKTsgfVxuICAgIGlmIChuYXZDb250YWluZXIpIHsgcmVtb3ZlRXZlbnRzKG5hdkNvbnRhaW5lciwgbmF2RXZlbnRzKTsgfVxuXG4gICAgLy8gYXV0b3BsYXlcbiAgICByZW1vdmVFdmVudHMoY29udGFpbmVyLCBob3ZlckV2ZW50cyk7XG4gICAgcmVtb3ZlRXZlbnRzKGNvbnRhaW5lciwgdmlzaWJpbGl0eUV2ZW50KTtcbiAgICBpZiAoYXV0b3BsYXlCdXR0b24pIHsgcmVtb3ZlRXZlbnRzKGF1dG9wbGF5QnV0dG9uLCB7J2NsaWNrJzogdG9nZ2xlQXV0b3BsYXl9KTsgfVxuICAgIGlmIChhdXRvcGxheSkgeyBjbGVhckludGVydmFsKGF1dG9wbGF5VGltZXIpOyB9XG5cbiAgICAvLyBjb250YWluZXJcbiAgICBpZiAoY2Fyb3VzZWwgJiYgVFJBTlNJVElPTkVORCkge1xuICAgICAgdmFyIGV2ZSA9IHt9O1xuICAgICAgZXZlW1RSQU5TSVRJT05FTkRdID0gb25UcmFuc2l0aW9uRW5kO1xuICAgICAgcmVtb3ZlRXZlbnRzKGNvbnRhaW5lciwgZXZlKTtcbiAgICB9XG4gICAgaWYgKHRvdWNoKSB7IHJlbW92ZUV2ZW50cyhjb250YWluZXIsIHRvdWNoRXZlbnRzKTsgfVxuICAgIGlmIChtb3VzZURyYWcpIHsgcmVtb3ZlRXZlbnRzKGNvbnRhaW5lciwgZHJhZ0V2ZW50cyk7IH1cblxuICAgIC8vIGNhY2hlIE9iamVjdCB2YWx1ZXMgaW4gb3B0aW9ucyAmJiByZXNldCBIVE1MXG4gICAgdmFyIGh0bWxMaXN0ID0gW2NvbnRhaW5lckhUTUwsIGNvbnRyb2xzQ29udGFpbmVySFRNTCwgcHJldkJ1dHRvbkhUTUwsIG5leHRCdXR0b25IVE1MLCBuYXZDb250YWluZXJIVE1MLCBhdXRvcGxheUJ1dHRvbkhUTUxdO1xuXG4gICAgdG5zTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGkpIHtcbiAgICAgIHZhciBlbCA9IGl0ZW0gPT09ICdjb250YWluZXInID8gb3V0ZXJXcmFwcGVyIDogb3B0aW9uc1tpdGVtXTtcblxuICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIHByZXZFbCA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPyBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIDogZmFsc2UsXG4gICAgICAgICAgICBwYXJlbnRFbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICAgIGVsLm91dGVySFRNTCA9IGh0bWxMaXN0W2ldO1xuICAgICAgICBvcHRpb25zW2l0ZW1dID0gcHJldkVsID8gcHJldkVsLm5leHRFbGVtZW50U2libGluZyA6IHBhcmVudEVsLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvLyByZXNldCB2YXJpYWJsZXNcbiAgICB0bnNMaXN0ID0gYW5pbWF0ZUluID0gYW5pbWF0ZU91dCA9IGFuaW1hdGVEZWxheSA9IGFuaW1hdGVOb3JtYWwgPSBob3Jpem9udGFsID0gb3V0ZXJXcmFwcGVyID0gaW5uZXJXcmFwcGVyID0gY29udGFpbmVyID0gY29udGFpbmVyUGFyZW50ID0gY29udGFpbmVySFRNTCA9IHNsaWRlSXRlbXMgPSBzbGlkZUNvdW50ID0gYnJlYWtwb2ludFpvbmUgPSB3aW5kb3dXaWR0aCA9IGF1dG9XaWR0aCA9IGZpeGVkV2lkdGggPSBlZGdlUGFkZGluZyA9IGd1dHRlciA9IHZpZXdwb3J0ID0gaXRlbXMgPSBzbGlkZUJ5ID0gdmlld3BvcnRNYXggPSBhcnJvd0tleXMgPSBzcGVlZCA9IHJld2luZCA9IGxvb3AgPSBhdXRvSGVpZ2h0ID0gc2hlZXQgPSBsYXp5bG9hZCA9IHNsaWRlUG9zaXRpb25zID0gc2xpZGVJdGVtc091dCA9IGNsb25lQ291bnQgPSBzbGlkZUNvdW50TmV3ID0gaGFzUmlnaHREZWFkWm9uZSA9IHJpZ2h0Qm91bmRhcnkgPSB1cGRhdGVJbmRleEJlZm9yZVRyYW5zZm9ybSA9IHRyYW5zZm9ybUF0dHIgPSB0cmFuc2Zvcm1QcmVmaXggPSB0cmFuc2Zvcm1Qb3N0Zml4ID0gZ2V0SW5kZXhNYXggPSBpbmRleCA9IGluZGV4Q2FjaGVkID0gaW5kZXhNaW4gPSBpbmRleE1heCA9IHJlc2l6ZVRpbWVyID0gc3dpcGVBbmdsZSA9IG1vdmVEaXJlY3Rpb25FeHBlY3RlZCA9IHJ1bm5pbmcgPSBvbkluaXQgPSBldmVudHMgPSBuZXdDb250YWluZXJDbGFzc2VzID0gc2xpZGVJZCA9IGRpc2FibGUgPSBkaXNhYmxlZCA9IGZyZWV6YWJsZSA9IGZyZWV6ZSA9IGZyb3plbiA9IGNvbnRyb2xzRXZlbnRzID0gbmF2RXZlbnRzID0gaG92ZXJFdmVudHMgPSB2aXNpYmlsaXR5RXZlbnQgPSBkb2NtZW50S2V5ZG93bkV2ZW50ID0gdG91Y2hFdmVudHMgPSBkcmFnRXZlbnRzID0gaGFzQ29udHJvbHMgPSBoYXNOYXYgPSBuYXZBc1RodW1ibmFpbHMgPSBoYXNBdXRvcGxheSA9IGhhc1RvdWNoID0gaGFzTW91c2VEcmFnID0gc2xpZGVBY3RpdmVDbGFzcyA9IGltZ0NvbXBsZXRlQ2xhc3MgPSBpbWdFdmVudHMgPSBpbWdzQ29tcGxldGUgPSBjb250cm9scyA9IGNvbnRyb2xzVGV4dCA9IGNvbnRyb2xzQ29udGFpbmVyID0gY29udHJvbHNDb250YWluZXJIVE1MID0gcHJldkJ1dHRvbiA9IG5leHRCdXR0b24gPSBwcmV2SXNCdXR0b24gPSBuZXh0SXNCdXR0b24gPSBuYXYgPSBuYXZDb250YWluZXIgPSBuYXZDb250YWluZXJIVE1MID0gbmF2SXRlbXMgPSBwYWdlcyA9IHBhZ2VzQ2FjaGVkID0gbmF2Q2xpY2tlZCA9IG5hdkN1cnJlbnRJbmRleCA9IG5hdkN1cnJlbnRJbmRleENhY2hlZCA9IG5hdkFjdGl2ZUNsYXNzID0gbmF2U3RyID0gbmF2U3RyQ3VycmVudCA9IGF1dG9wbGF5ID0gYXV0b3BsYXlUaW1lb3V0ID0gYXV0b3BsYXlEaXJlY3Rpb24gPSBhdXRvcGxheVRleHQgPSBhdXRvcGxheUhvdmVyUGF1c2UgPSBhdXRvcGxheUJ1dHRvbiA9IGF1dG9wbGF5QnV0dG9uSFRNTCA9IGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHkgPSBhdXRvcGxheUh0bWxTdHJpbmdzID0gYXV0b3BsYXlUaW1lciA9IGFuaW1hdGluZyA9IGF1dG9wbGF5SG92ZXJQYXVzZWQgPSBhdXRvcGxheVVzZXJQYXVzZWQgPSBhdXRvcGxheVZpc2liaWxpdHlQYXVzZWQgPSBpbml0UG9zaXRpb24gPSBsYXN0UG9zaXRpb24gPSB0cmFuc2xhdGVJbml0ID0gZGlzWCA9IGRpc1kgPSBwYW5TdGFydCA9IHJhZkluZGV4ID0gZ2V0RGlzdCA9IHRvdWNoID0gbW91c2VEcmFnID0gbnVsbDtcbiAgICAvLyBjaGVjayB2YXJpYWJsZXNcbiAgICAvLyBbYW5pbWF0ZUluLCBhbmltYXRlT3V0LCBhbmltYXRlRGVsYXksIGFuaW1hdGVOb3JtYWwsIGhvcml6b250YWwsIG91dGVyV3JhcHBlciwgaW5uZXJXcmFwcGVyLCBjb250YWluZXIsIGNvbnRhaW5lclBhcmVudCwgY29udGFpbmVySFRNTCwgc2xpZGVJdGVtcywgc2xpZGVDb3VudCwgYnJlYWtwb2ludFpvbmUsIHdpbmRvd1dpZHRoLCBhdXRvV2lkdGgsIGZpeGVkV2lkdGgsIGVkZ2VQYWRkaW5nLCBndXR0ZXIsIHZpZXdwb3J0LCBpdGVtcywgc2xpZGVCeSwgdmlld3BvcnRNYXgsIGFycm93S2V5cywgc3BlZWQsIHJld2luZCwgbG9vcCwgYXV0b0hlaWdodCwgc2hlZXQsIGxhenlsb2FkLCBzbGlkZVBvc2l0aW9ucywgc2xpZGVJdGVtc091dCwgY2xvbmVDb3VudCwgc2xpZGVDb3VudE5ldywgaGFzUmlnaHREZWFkWm9uZSwgcmlnaHRCb3VuZGFyeSwgdXBkYXRlSW5kZXhCZWZvcmVUcmFuc2Zvcm0sIHRyYW5zZm9ybUF0dHIsIHRyYW5zZm9ybVByZWZpeCwgdHJhbnNmb3JtUG9zdGZpeCwgZ2V0SW5kZXhNYXgsIGluZGV4LCBpbmRleENhY2hlZCwgaW5kZXhNaW4sIGluZGV4TWF4LCByZXNpemVUaW1lciwgc3dpcGVBbmdsZSwgbW92ZURpcmVjdGlvbkV4cGVjdGVkLCBydW5uaW5nLCBvbkluaXQsIGV2ZW50cywgbmV3Q29udGFpbmVyQ2xhc3Nlcywgc2xpZGVJZCwgZGlzYWJsZSwgZGlzYWJsZWQsIGZyZWV6YWJsZSwgZnJlZXplLCBmcm96ZW4sIGNvbnRyb2xzRXZlbnRzLCBuYXZFdmVudHMsIGhvdmVyRXZlbnRzLCB2aXNpYmlsaXR5RXZlbnQsIGRvY21lbnRLZXlkb3duRXZlbnQsIHRvdWNoRXZlbnRzLCBkcmFnRXZlbnRzLCBoYXNDb250cm9scywgaGFzTmF2LCBuYXZBc1RodW1ibmFpbHMsIGhhc0F1dG9wbGF5LCBoYXNUb3VjaCwgaGFzTW91c2VEcmFnLCBzbGlkZUFjdGl2ZUNsYXNzLCBpbWdDb21wbGV0ZUNsYXNzLCBpbWdFdmVudHMsIGltZ3NDb21wbGV0ZSwgY29udHJvbHMsIGNvbnRyb2xzVGV4dCwgY29udHJvbHNDb250YWluZXIsIGNvbnRyb2xzQ29udGFpbmVySFRNTCwgcHJldkJ1dHRvbiwgbmV4dEJ1dHRvbiwgcHJldklzQnV0dG9uLCBuZXh0SXNCdXR0b24sIG5hdiwgbmF2Q29udGFpbmVyLCBuYXZDb250YWluZXJIVE1MLCBuYXZJdGVtcywgcGFnZXMsIHBhZ2VzQ2FjaGVkLCBuYXZDbGlja2VkLCBuYXZDdXJyZW50SW5kZXgsIG5hdkN1cnJlbnRJbmRleENhY2hlZCwgbmF2QWN0aXZlQ2xhc3MsIG5hdlN0ciwgbmF2U3RyQ3VycmVudCwgYXV0b3BsYXksIGF1dG9wbGF5VGltZW91dCwgYXV0b3BsYXlEaXJlY3Rpb24sIGF1dG9wbGF5VGV4dCwgYXV0b3BsYXlIb3ZlclBhdXNlLCBhdXRvcGxheUJ1dHRvbiwgYXV0b3BsYXlCdXR0b25IVE1MLCBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5LCBhdXRvcGxheUh0bWxTdHJpbmdzLCBhdXRvcGxheVRpbWVyLCBhbmltYXRpbmcsIGF1dG9wbGF5SG92ZXJQYXVzZWQsIGF1dG9wbGF5VXNlclBhdXNlZCwgYXV0b3BsYXlWaXNpYmlsaXR5UGF1c2VkLCBpbml0UG9zaXRpb24sIGxhc3RQb3NpdGlvbiwgdHJhbnNsYXRlSW5pdCwgZGlzWCwgZGlzWSwgcGFuU3RhcnQsIHJhZkluZGV4LCBnZXREaXN0LCB0b3VjaCwgbW91c2VEcmFnIF0uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7IGlmIChpdGVtICE9PSBudWxsKSB7IGNvbnNvbGUubG9nKGl0ZW0pOyB9IH0pO1xuXG4gICAgZm9yICh2YXIgYSBpbiB0aGlzKSB7XG4gICAgICBpZiAoYSAhPT0gJ3JlYnVpbGQnKSB7IHRoaXNbYV0gPSBudWxsOyB9XG4gICAgfVxuICAgIGlzT24gPSBmYWxzZTtcbiAgfVxuXG4vLyA9PT0gT04gUkVTSVpFID09PVxuICAvLyByZXNwb25zaXZlIHx8IGZpeGVkV2lkdGggfHwgYXV0b1dpZHRoIHx8ICFob3Jpem9udGFsXG4gIGZ1bmN0aW9uIG9uUmVzaXplIChlKSB7XG4gICAgcmFmKGZ1bmN0aW9uKCl7IHJlc2l6ZVRhc2tzKGdldEV2ZW50KGUpKTsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNpemVUYXNrcyAoZSkge1xuICAgIGlmICghaXNPbikgeyByZXR1cm47IH1cbiAgICBpZiAobmVzdGVkID09PSAnb3V0ZXInKSB7IGV2ZW50cy5lbWl0KCdvdXRlclJlc2l6ZWQnLCBpbmZvKGUpKTsgfVxuICAgIHdpbmRvd1dpZHRoID0gZ2V0V2luZG93V2lkdGgoKTtcbiAgICB2YXIgYnBDaGFuZ2VkLFxuICAgICAgICBicmVha3BvaW50Wm9uZVRlbSA9IGJyZWFrcG9pbnRab25lLFxuICAgICAgICBuZWVkQ29udGFpbmVyVHJhbnNmb3JtID0gZmFsc2U7XG5cbiAgICBpZiAocmVzcG9uc2l2ZSkge1xuICAgICAgc2V0QnJlYWtwb2ludFpvbmUoKTtcbiAgICAgIGJwQ2hhbmdlZCA9IGJyZWFrcG9pbnRab25lVGVtICE9PSBicmVha3BvaW50Wm9uZTtcbiAgICAgIC8vIGlmIChoYXNSaWdodERlYWRab25lKSB7IG5lZWRDb250YWluZXJUcmFuc2Zvcm0gPSB0cnVlOyB9IC8vICo/XG4gICAgICBpZiAoYnBDaGFuZ2VkKSB7IGV2ZW50cy5lbWl0KCduZXdCcmVha3BvaW50U3RhcnQnLCBpbmZvKGUpKTsgfVxuICAgIH1cblxuICAgIHZhciBpbmRDaGFuZ2VkLFxuICAgICAgICBpdGVtc0NoYW5nZWQsXG4gICAgICAgIGl0ZW1zVGVtID0gaXRlbXMsXG4gICAgICAgIGRpc2FibGVUZW0gPSBkaXNhYmxlLFxuICAgICAgICBmcmVlemVUZW0gPSBmcmVlemUsXG4gICAgICAgIGFycm93S2V5c1RlbSA9IGFycm93S2V5cyxcbiAgICAgICAgY29udHJvbHNUZW0gPSBjb250cm9scyxcbiAgICAgICAgbmF2VGVtID0gbmF2LFxuICAgICAgICB0b3VjaFRlbSA9IHRvdWNoLFxuICAgICAgICBtb3VzZURyYWdUZW0gPSBtb3VzZURyYWcsXG4gICAgICAgIGF1dG9wbGF5VGVtID0gYXV0b3BsYXksXG4gICAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZVRlbSA9IGF1dG9wbGF5SG92ZXJQYXVzZSxcbiAgICAgICAgYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eVRlbSA9IGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHksXG4gICAgICAgIGluZGV4VGVtID0gaW5kZXg7XG5cbiAgICBpZiAoYnBDaGFuZ2VkKSB7XG4gICAgICB2YXIgZml4ZWRXaWR0aFRlbSA9IGZpeGVkV2lkdGgsXG4gICAgICAgICAgYXV0b0hlaWdodFRlbSA9IGF1dG9IZWlnaHQsXG4gICAgICAgICAgY29udHJvbHNUZXh0VGVtID0gY29udHJvbHNUZXh0LFxuICAgICAgICAgIGNlbnRlclRlbSA9IGNlbnRlcixcbiAgICAgICAgICBhdXRvcGxheVRleHRUZW0gPSBhdXRvcGxheVRleHQ7XG5cbiAgICAgIGlmICghQ1NTTVEpIHtcbiAgICAgICAgdmFyIGd1dHRlclRlbSA9IGd1dHRlcixcbiAgICAgICAgICAgIGVkZ2VQYWRkaW5nVGVtID0gZWRnZVBhZGRpbmc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZ2V0IG9wdGlvbjpcbiAgICAvLyBmaXhlZCB3aWR0aDogdmlld3BvcnQsIGZpeGVkV2lkdGgsIGd1dHRlciA9PiBpdGVtc1xuICAgIC8vIG90aGVyczogd2luZG93IHdpZHRoID0+IGFsbCB2YXJpYWJsZXNcbiAgICAvLyBhbGw6IGl0ZW1zID0+IHNsaWRlQnlcbiAgICBhcnJvd0tleXMgPSBnZXRPcHRpb24oJ2Fycm93S2V5cycpO1xuICAgIGNvbnRyb2xzID0gZ2V0T3B0aW9uKCdjb250cm9scycpO1xuICAgIG5hdiA9IGdldE9wdGlvbignbmF2Jyk7XG4gICAgdG91Y2ggPSBnZXRPcHRpb24oJ3RvdWNoJyk7XG4gICAgY2VudGVyID0gZ2V0T3B0aW9uKCdjZW50ZXInKTtcbiAgICBtb3VzZURyYWcgPSBnZXRPcHRpb24oJ21vdXNlRHJhZycpO1xuICAgIGF1dG9wbGF5ID0gZ2V0T3B0aW9uKCdhdXRvcGxheScpO1xuICAgIGF1dG9wbGF5SG92ZXJQYXVzZSA9IGdldE9wdGlvbignYXV0b3BsYXlIb3ZlclBhdXNlJyk7XG4gICAgYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eSA9IGdldE9wdGlvbignYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eScpO1xuXG4gICAgaWYgKGJwQ2hhbmdlZCkge1xuICAgICAgZGlzYWJsZSA9IGdldE9wdGlvbignZGlzYWJsZScpO1xuICAgICAgZml4ZWRXaWR0aCA9IGdldE9wdGlvbignZml4ZWRXaWR0aCcpO1xuICAgICAgc3BlZWQgPSBnZXRPcHRpb24oJ3NwZWVkJyk7XG4gICAgICBhdXRvSGVpZ2h0ID0gZ2V0T3B0aW9uKCdhdXRvSGVpZ2h0Jyk7XG4gICAgICBjb250cm9sc1RleHQgPSBnZXRPcHRpb24oJ2NvbnRyb2xzVGV4dCcpO1xuICAgICAgYXV0b3BsYXlUZXh0ID0gZ2V0T3B0aW9uKCdhdXRvcGxheVRleHQnKTtcbiAgICAgIGF1dG9wbGF5VGltZW91dCA9IGdldE9wdGlvbignYXV0b3BsYXlUaW1lb3V0Jyk7XG5cbiAgICAgIGlmICghQ1NTTVEpIHtcbiAgICAgICAgZWRnZVBhZGRpbmcgPSBnZXRPcHRpb24oJ2VkZ2VQYWRkaW5nJyk7XG4gICAgICAgIGd1dHRlciA9IGdldE9wdGlvbignZ3V0dGVyJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHVwZGF0ZSBvcHRpb25zXG4gICAgcmVzZXRWYXJpYmxlc1doZW5EaXNhYmxlKGRpc2FibGUpO1xuXG4gICAgdmlld3BvcnQgPSBnZXRWaWV3cG9ydFdpZHRoKCk7IC8vIDw9IGVkZ2VQYWRkaW5nLCBndXR0ZXJcbiAgICBpZiAoKCFob3Jpem9udGFsIHx8IGF1dG9XaWR0aCkgJiYgIWRpc2FibGUpIHtcbiAgICAgIHNldFNsaWRlUG9zaXRpb25zKCk7XG4gICAgICBpZiAoIWhvcml6b250YWwpIHtcbiAgICAgICAgdXBkYXRlQ29udGVudFdyYXBwZXJIZWlnaHQoKTsgLy8gPD0gc2V0U2xpZGVQb3NpdGlvbnNcbiAgICAgICAgbmVlZENvbnRhaW5lclRyYW5zZm9ybSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaXhlZFdpZHRoIHx8IGF1dG9XaWR0aCkge1xuICAgICAgcmlnaHRCb3VuZGFyeSA9IGdldFJpZ2h0Qm91bmRhcnkoKTsgLy8gYXV0b1dpZHRoOiA8PSB2aWV3cG9ydCwgc2xpZGVQb3NpdGlvbnMsIGd1dHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZml4ZWRXaWR0aDogPD0gdmlld3BvcnQsIGZpeGVkV2lkdGgsIGd1dHRlclxuICAgICAgaW5kZXhNYXggPSBnZXRJbmRleE1heCgpOyAvLyBhdXRvV2lkdGg6IDw9IHJpZ2h0Qm91bmRhcnksIHNsaWRlUG9zaXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpeGVkV2lkdGg6IDw9IHJpZ2h0Qm91bmRhcnksIGZpeGVkV2lkdGgsIGd1dHRlclxuICAgIH1cblxuICAgIGlmIChicENoYW5nZWQgfHwgZml4ZWRXaWR0aCkge1xuICAgICAgaXRlbXMgPSBnZXRPcHRpb24oJ2l0ZW1zJyk7XG4gICAgICBzbGlkZUJ5ID0gZ2V0T3B0aW9uKCdzbGlkZUJ5Jyk7XG4gICAgICBpdGVtc0NoYW5nZWQgPSBpdGVtcyAhPT0gaXRlbXNUZW07XG5cbiAgICAgIGlmIChpdGVtc0NoYW5nZWQpIHtcbiAgICAgICAgaWYgKCFmaXhlZFdpZHRoICYmICFhdXRvV2lkdGgpIHsgaW5kZXhNYXggPSBnZXRJbmRleE1heCgpOyB9IC8vIDw9IGl0ZW1zXG4gICAgICAgIC8vIGNoZWNrIGluZGV4IGJlZm9yZSB0cmFuc2Zvcm0gaW4gY2FzZVxuICAgICAgICAvLyBzbGlkZXIgcmVhY2ggdGhlIHJpZ2h0IGVkZ2UgdGhlbiBpdGVtcyBiZWNvbWUgYmlnZ2VyXG4gICAgICAgIHVwZGF0ZUluZGV4KCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChicENoYW5nZWQpIHtcbiAgICAgIGlmIChkaXNhYmxlICE9PSBkaXNhYmxlVGVtKSB7XG4gICAgICAgIGlmIChkaXNhYmxlKSB7XG4gICAgICAgICAgZGlzYWJsZVNsaWRlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuYWJsZVNsaWRlcigpOyAvLyA8PSBzbGlkZVBvc2l0aW9ucywgcmlnaHRCb3VuZGFyeSwgaW5kZXhNYXhcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmVlemFibGUgJiYgKGJwQ2hhbmdlZCB8fCBmaXhlZFdpZHRoIHx8IGF1dG9XaWR0aCkpIHtcbiAgICAgIGZyZWV6ZSA9IGdldEZyZWV6ZSgpOyAvLyA8PSBhdXRvV2lkdGg6IHNsaWRlUG9zaXRpb25zLCBndXR0ZXIsIHZpZXdwb3J0LCByaWdodEJvdW5kYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD0gZml4ZWRXaWR0aDogZml4ZWRXaWR0aCwgZ3V0dGVyLCByaWdodEJvdW5kYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD0gb3RoZXJzOiBpdGVtc1xuXG4gICAgICBpZiAoZnJlZXplICE9PSBmcmVlemVUZW0pIHtcbiAgICAgICAgaWYgKGZyZWV6ZSkge1xuICAgICAgICAgIGRvQ29udGFpbmVyVHJhbnNmb3JtKGdldENvbnRhaW5lclRyYW5zZm9ybVZhbHVlKGdldFN0YXJ0SW5kZXgoMCkpKTtcbiAgICAgICAgICBmcmVlemVTbGlkZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bmZyZWV6ZVNsaWRlcigpO1xuICAgICAgICAgIG5lZWRDb250YWluZXJUcmFuc2Zvcm0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRWYXJpYmxlc1doZW5EaXNhYmxlKGRpc2FibGUgfHwgZnJlZXplKTsgLy8gY29udHJvbHMsIG5hdiwgdG91Y2gsIG1vdXNlRHJhZywgYXJyb3dLZXlzLCBhdXRvcGxheSwgYXV0b3BsYXlIb3ZlclBhdXNlLCBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5XG4gICAgaWYgKCFhdXRvcGxheSkgeyBhdXRvcGxheUhvdmVyUGF1c2UgPSBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5ID0gZmFsc2U7IH1cblxuICAgIGlmIChhcnJvd0tleXMgIT09IGFycm93S2V5c1RlbSkge1xuICAgICAgYXJyb3dLZXlzID9cbiAgICAgICAgYWRkRXZlbnRzKGRvYywgZG9jbWVudEtleWRvd25FdmVudCkgOlxuICAgICAgICByZW1vdmVFdmVudHMoZG9jLCBkb2NtZW50S2V5ZG93bkV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGNvbnRyb2xzICE9PSBjb250cm9sc1RlbSkge1xuICAgICAgaWYgKGNvbnRyb2xzKSB7XG4gICAgICAgIGlmIChjb250cm9sc0NvbnRhaW5lcikge1xuICAgICAgICAgIHNob3dFbGVtZW50KGNvbnRyb2xzQ29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJldkJ1dHRvbikgeyBzaG93RWxlbWVudChwcmV2QnV0dG9uKTsgfVxuICAgICAgICAgIGlmIChuZXh0QnV0dG9uKSB7IHNob3dFbGVtZW50KG5leHRCdXR0b24pOyB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb250cm9sc0NvbnRhaW5lcikge1xuICAgICAgICAgIGhpZGVFbGVtZW50KGNvbnRyb2xzQ29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJldkJ1dHRvbikgeyBoaWRlRWxlbWVudChwcmV2QnV0dG9uKTsgfVxuICAgICAgICAgIGlmIChuZXh0QnV0dG9uKSB7IGhpZGVFbGVtZW50KG5leHRCdXR0b24pOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hdiAhPT0gbmF2VGVtKSB7XG4gICAgICBuYXYgP1xuICAgICAgICBzaG93RWxlbWVudChuYXZDb250YWluZXIpIDpcbiAgICAgICAgaGlkZUVsZW1lbnQobmF2Q29udGFpbmVyKTtcbiAgICB9XG4gICAgaWYgKHRvdWNoICE9PSB0b3VjaFRlbSkge1xuICAgICAgdG91Y2ggP1xuICAgICAgICBhZGRFdmVudHMoY29udGFpbmVyLCB0b3VjaEV2ZW50cywgb3B0aW9ucy5wcmV2ZW50U2Nyb2xsT25Ub3VjaCkgOlxuICAgICAgICByZW1vdmVFdmVudHMoY29udGFpbmVyLCB0b3VjaEV2ZW50cyk7XG4gICAgfVxuICAgIGlmIChtb3VzZURyYWcgIT09IG1vdXNlRHJhZ1RlbSkge1xuICAgICAgbW91c2VEcmFnID9cbiAgICAgICAgYWRkRXZlbnRzKGNvbnRhaW5lciwgZHJhZ0V2ZW50cykgOlxuICAgICAgICByZW1vdmVFdmVudHMoY29udGFpbmVyLCBkcmFnRXZlbnRzKTtcbiAgICB9XG4gICAgaWYgKGF1dG9wbGF5ICE9PSBhdXRvcGxheVRlbSkge1xuICAgICAgaWYgKGF1dG9wbGF5KSB7XG4gICAgICAgIGlmIChhdXRvcGxheUJ1dHRvbikgeyBzaG93RWxlbWVudChhdXRvcGxheUJ1dHRvbik7IH1cbiAgICAgICAgaWYgKCFhbmltYXRpbmcgJiYgIWF1dG9wbGF5VXNlclBhdXNlZCkgeyBzdGFydEF1dG9wbGF5KCk7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhdXRvcGxheUJ1dHRvbikgeyBoaWRlRWxlbWVudChhdXRvcGxheUJ1dHRvbik7IH1cbiAgICAgICAgaWYgKGFuaW1hdGluZykgeyBzdG9wQXV0b3BsYXkoKTsgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXV0b3BsYXlIb3ZlclBhdXNlICE9PSBhdXRvcGxheUhvdmVyUGF1c2VUZW0pIHtcbiAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZSA/XG4gICAgICAgIGFkZEV2ZW50cyhjb250YWluZXIsIGhvdmVyRXZlbnRzKSA6XG4gICAgICAgIHJlbW92ZUV2ZW50cyhjb250YWluZXIsIGhvdmVyRXZlbnRzKTtcbiAgICB9XG4gICAgaWYgKGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHkgIT09IGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHlUZW0pIHtcbiAgICAgIGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHkgP1xuICAgICAgICBhZGRFdmVudHMoZG9jLCB2aXNpYmlsaXR5RXZlbnQpIDpcbiAgICAgICAgcmVtb3ZlRXZlbnRzKGRvYywgdmlzaWJpbGl0eUV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoYnBDaGFuZ2VkKSB7XG4gICAgICBpZiAoZml4ZWRXaWR0aCAhPT0gZml4ZWRXaWR0aFRlbSB8fCBjZW50ZXIgIT09IGNlbnRlclRlbSkgeyBuZWVkQ29udGFpbmVyVHJhbnNmb3JtID0gdHJ1ZTsgfVxuXG4gICAgICBpZiAoYXV0b0hlaWdodCAhPT0gYXV0b0hlaWdodFRlbSkge1xuICAgICAgICBpZiAoIWF1dG9IZWlnaHQpIHsgaW5uZXJXcmFwcGVyLnN0eWxlLmhlaWdodCA9ICcnOyB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250cm9scyAmJiBjb250cm9sc1RleHQgIT09IGNvbnRyb2xzVGV4dFRlbSkge1xuICAgICAgICBwcmV2QnV0dG9uLmlubmVySFRNTCA9IGNvbnRyb2xzVGV4dFswXTtcbiAgICAgICAgbmV4dEJ1dHRvbi5pbm5lckhUTUwgPSBjb250cm9sc1RleHRbMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChhdXRvcGxheUJ1dHRvbiAmJiBhdXRvcGxheVRleHQgIT09IGF1dG9wbGF5VGV4dFRlbSkge1xuICAgICAgICB2YXIgaSA9IGF1dG9wbGF5ID8gMSA6IDAsXG4gICAgICAgICAgICBodG1sID0gYXV0b3BsYXlCdXR0b24uaW5uZXJIVE1MLFxuICAgICAgICAgICAgbGVuID0gaHRtbC5sZW5ndGggLSBhdXRvcGxheVRleHRUZW1baV0ubGVuZ3RoO1xuICAgICAgICBpZiAoaHRtbC5zdWJzdHJpbmcobGVuKSA9PT0gYXV0b3BsYXlUZXh0VGVtW2ldKSB7XG4gICAgICAgICAgYXV0b3BsYXlCdXR0b24uaW5uZXJIVE1MID0gaHRtbC5zdWJzdHJpbmcoMCwgbGVuKSArIGF1dG9wbGF5VGV4dFtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY2VudGVyICYmIChmaXhlZFdpZHRoIHx8IGF1dG9XaWR0aCkpIHsgbmVlZENvbnRhaW5lclRyYW5zZm9ybSA9IHRydWU7IH1cbiAgICB9XG5cbiAgICBpZiAoaXRlbXNDaGFuZ2VkIHx8IGZpeGVkV2lkdGggJiYgIWF1dG9XaWR0aCkge1xuICAgICAgcGFnZXMgPSBnZXRQYWdlcygpO1xuICAgICAgdXBkYXRlTmF2VmlzaWJpbGl0eSgpO1xuICAgIH1cblxuICAgIGluZENoYW5nZWQgPSBpbmRleCAhPT0gaW5kZXhUZW07XG4gICAgaWYgKGluZENoYW5nZWQpIHsgXG4gICAgICBldmVudHMuZW1pdCgnaW5kZXhDaGFuZ2VkJywgaW5mbygpKTtcbiAgICAgIG5lZWRDb250YWluZXJUcmFuc2Zvcm0gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXRlbXNDaGFuZ2VkKSB7XG4gICAgICBpZiAoIWluZENoYW5nZWQpIHsgYWRkaXRpb25hbFVwZGF0ZXMoKTsgfVxuICAgIH0gZWxzZSBpZiAoZml4ZWRXaWR0aCB8fCBhdXRvV2lkdGgpIHtcbiAgICAgIGRvTGF6eUxvYWQoKTsgXG4gICAgICB1cGRhdGVTbGlkZVN0YXR1cygpO1xuICAgICAgdXBkYXRlTGl2ZVJlZ2lvbigpO1xuICAgIH1cblxuICAgIGlmIChpdGVtc0NoYW5nZWQgJiYgIWNhcm91c2VsKSB7IHVwZGF0ZUdhbGxlcnlTbGlkZVBvc2l0aW9ucygpOyB9XG5cbiAgICBpZiAoIWRpc2FibGUgJiYgIWZyZWV6ZSkge1xuICAgICAgLy8gbm9uLW1lZHVhcXVlcmllczogSUU4XG4gICAgICBpZiAoYnBDaGFuZ2VkICYmICFDU1NNUSkge1xuICAgICAgICAvLyBtaWRkbGUgd3JhcHBlciBzdHlsZXNcbiAgICAgICAgaWYgKGF1dG9IZWlnaHQgIT09IGF1dG9oZWlnaHRUZW0gfHwgc3BlZWQgIT09IHNwZWVkVGVtKSB7XG4gICAgICAgICAgdXBkYXRlX2Nhcm91c2VsX3RyYW5zaXRpb25fZHVyYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlubmVyIHdyYXBwZXIgc3R5bGVzXG4gICAgICAgIGlmIChlZGdlUGFkZGluZyAhPT0gZWRnZVBhZGRpbmdUZW0gfHwgZ3V0dGVyICE9PSBndXR0ZXJUZW0pIHtcbiAgICAgICAgICBpbm5lcldyYXBwZXIuc3R5bGUuY3NzVGV4dCA9IGdldElubmVyV3JhcHBlclN0eWxlcyhlZGdlUGFkZGluZywgZ3V0dGVyLCBmaXhlZFdpZHRoLCBzcGVlZCwgYXV0b0hlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaG9yaXpvbnRhbCkge1xuICAgICAgICAgIC8vIGNvbnRhaW5lciBzdHlsZXNcbiAgICAgICAgICBpZiAoY2Fyb3VzZWwpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGdldENvbnRhaW5lcldpZHRoKGZpeGVkV2lkdGgsIGd1dHRlciwgaXRlbXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNsaWRlIHN0eWxlc1xuICAgICAgICAgIHZhciBzdHIgPSBnZXRTbGlkZVdpZHRoU3R5bGUoZml4ZWRXaWR0aCwgZ3V0dGVyLCBpdGVtcykgKyBcbiAgICAgICAgICAgICAgICAgICAgZ2V0U2xpZGVHdXR0ZXJTdHlsZShndXR0ZXIpO1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYXN0IGxpbmUgYW5kXG4gICAgICAgICAgLy8gYWRkIG5ldyBzdHlsZXNcbiAgICAgICAgICByZW1vdmVDU1NSdWxlKHNoZWV0LCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkgLSAxKTtcbiAgICAgICAgICBhZGRDU1NSdWxlKHNoZWV0LCAnIycgKyBzbGlkZUlkICsgJyA+IC50bnMtaXRlbScsIHN0ciwgZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhdXRvIGhlaWdodFxuICAgICAgaWYgKGF1dG9IZWlnaHQpIHsgZG9BdXRvSGVpZ2h0KCk7IH1cblxuICAgICAgaWYgKG5lZWRDb250YWluZXJUcmFuc2Zvcm0pIHtcbiAgICAgICAgZG9Db250YWluZXJUcmFuc2Zvcm1TaWxlbnQoKTtcbiAgICAgICAgaW5kZXhDYWNoZWQgPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYnBDaGFuZ2VkKSB7IGV2ZW50cy5lbWl0KCduZXdCcmVha3BvaW50RW5kJywgaW5mbyhlKSk7IH1cbiAgfVxuXG5cblxuXG5cbiAgLy8gPT09IElOSVRJQUxJWkFUSU9OIEZVTkNUSU9OUyA9PT0gLy9cbiAgZnVuY3Rpb24gZ2V0RnJlZXplICgpIHtcbiAgICBpZiAoIWZpeGVkV2lkdGggJiYgIWF1dG9XaWR0aCkge1xuICAgICAgdmFyIGEgPSBjZW50ZXIgPyBpdGVtcyAtIChpdGVtcyAtIDEpIC8gMiA6IGl0ZW1zO1xuICAgICAgcmV0dXJuICBzbGlkZUNvdW50IDw9IGE7XG4gICAgfVxuXG4gICAgdmFyIHdpZHRoID0gZml4ZWRXaWR0aCA/IChmaXhlZFdpZHRoICsgZ3V0dGVyKSAqIHNsaWRlQ291bnQgOiBzbGlkZVBvc2l0aW9uc1tzbGlkZUNvdW50XSxcbiAgICAgICAgdnAgPSBlZGdlUGFkZGluZyA/IHZpZXdwb3J0ICsgZWRnZVBhZGRpbmcgKiAyIDogdmlld3BvcnQgKyBndXR0ZXI7XG5cbiAgICBpZiAoY2VudGVyKSB7XG4gICAgICB2cCAtPSBmaXhlZFdpZHRoID8gKHZpZXdwb3J0IC0gZml4ZWRXaWR0aCkgLyAyIDogKHZpZXdwb3J0IC0gKHNsaWRlUG9zaXRpb25zW2luZGV4ICsgMV0gLSBzbGlkZVBvc2l0aW9uc1tpbmRleF0gLSBndXR0ZXIpKSAvIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpZHRoIDw9IHZwO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QnJlYWtwb2ludFpvbmUgKCkge1xuICAgIGJyZWFrcG9pbnRab25lID0gMDtcbiAgICBmb3IgKHZhciBicCBpbiByZXNwb25zaXZlKSB7XG4gICAgICBicCA9IHBhcnNlSW50KGJwKTsgLy8gY29udmVydCBzdHJpbmcgdG8gbnVtYmVyXG4gICAgICBpZiAod2luZG93V2lkdGggPj0gYnApIHsgYnJlYWtwb2ludFpvbmUgPSBicDsgfVxuICAgIH1cbiAgfVxuXG4gIC8vIChzbGlkZUJ5LCBpbmRleE1pbiwgaW5kZXhNYXgpID0+IGluZGV4XG4gIHZhciB1cGRhdGVJbmRleCA9IChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGxvb3AgPyBcbiAgICAgIGNhcm91c2VsID9cbiAgICAgICAgLy8gbG9vcCArIGNhcm91c2VsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgbGVmdEVkZ2UgPSBpbmRleE1pbixcbiAgICAgICAgICAgICAgcmlnaHRFZGdlID0gaW5kZXhNYXg7XG5cbiAgICAgICAgICBsZWZ0RWRnZSArPSBzbGlkZUJ5O1xuICAgICAgICAgIHJpZ2h0RWRnZSAtPSBzbGlkZUJ5O1xuXG4gICAgICAgICAgLy8gYWRqdXN0IGVkZ2VzIHdoZW4gaGFzIGVkZ2UgcGFkZGluZ3NcbiAgICAgICAgICAvLyBvciBmaXhlZC13aWR0aCBzbGlkZXIgd2l0aCBleHRyYSBzcGFjZSBvbiB0aGUgcmlnaHQgc2lkZVxuICAgICAgICAgIGlmIChlZGdlUGFkZGluZykge1xuICAgICAgICAgICAgbGVmdEVkZ2UgKz0gMTtcbiAgICAgICAgICAgIHJpZ2h0RWRnZSAtPSAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZml4ZWRXaWR0aCkge1xuICAgICAgICAgICAgaWYgKCh2aWV3cG9ydCArIGd1dHRlciklKGZpeGVkV2lkdGggKyBndXR0ZXIpKSB7IHJpZ2h0RWRnZSAtPSAxOyB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNsb25lQ291bnQpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IHJpZ2h0RWRnZSkge1xuICAgICAgICAgICAgICBpbmRleCAtPSBzbGlkZUNvdW50O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IGxlZnRFZGdlKSB7XG4gICAgICAgICAgICAgIGluZGV4ICs9IHNsaWRlQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IDpcbiAgICAgICAgLy8gbG9vcCArIGdhbGxlcnlcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGluZGV4ID4gaW5kZXhNYXgpIHtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA+PSBpbmRleE1pbiArIHNsaWRlQ291bnQpIHsgaW5kZXggLT0gc2xpZGVDb3VudDsgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPCBpbmRleE1pbikge1xuICAgICAgICAgICAgd2hpbGUgKGluZGV4IDw9IGluZGV4TWF4IC0gc2xpZGVDb3VudCkgeyBpbmRleCArPSBzbGlkZUNvdW50OyB9XG4gICAgICAgICAgfVxuICAgICAgICB9IDpcbiAgICAgIC8vIG5vbi1sb29wXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5kZXggPSBNYXRoLm1heChpbmRleE1pbiwgTWF0aC5taW4oaW5kZXhNYXgsIGluZGV4KSk7XG4gICAgICB9O1xuICB9KSgpO1xuXG4gIGZ1bmN0aW9uIGRpc2FibGVVSSAoKSB7XG4gICAgaWYgKCFhdXRvcGxheSAmJiBhdXRvcGxheUJ1dHRvbikgeyBoaWRlRWxlbWVudChhdXRvcGxheUJ1dHRvbik7IH1cbiAgICBpZiAoIW5hdiAmJiBuYXZDb250YWluZXIpIHsgaGlkZUVsZW1lbnQobmF2Q29udGFpbmVyKTsgfVxuICAgIGlmICghY29udHJvbHMpIHtcbiAgICAgIGlmIChjb250cm9sc0NvbnRhaW5lcikge1xuICAgICAgICBoaWRlRWxlbWVudChjb250cm9sc0NvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldkJ1dHRvbikgeyBoaWRlRWxlbWVudChwcmV2QnV0dG9uKTsgfVxuICAgICAgICBpZiAobmV4dEJ1dHRvbikgeyBoaWRlRWxlbWVudChuZXh0QnV0dG9uKTsgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZVVJICgpIHtcbiAgICBpZiAoYXV0b3BsYXkgJiYgYXV0b3BsYXlCdXR0b24pIHsgc2hvd0VsZW1lbnQoYXV0b3BsYXlCdXR0b24pOyB9XG4gICAgaWYgKG5hdiAmJiBuYXZDb250YWluZXIpIHsgc2hvd0VsZW1lbnQobmF2Q29udGFpbmVyKTsgfVxuICAgIGlmIChjb250cm9scykge1xuICAgICAgaWYgKGNvbnRyb2xzQ29udGFpbmVyKSB7XG4gICAgICAgIHNob3dFbGVtZW50KGNvbnRyb2xzQ29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmV2QnV0dG9uKSB7IHNob3dFbGVtZW50KHByZXZCdXR0b24pOyB9XG4gICAgICAgIGlmIChuZXh0QnV0dG9uKSB7IHNob3dFbGVtZW50KG5leHRCdXR0b24pOyB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZnJlZXplU2xpZGVyICgpIHtcbiAgICBpZiAoZnJvemVuKSB7IHJldHVybjsgfVxuXG4gICAgLy8gcmVtb3ZlIGVkZ2UgcGFkZGluZyBmcm9tIGlubmVyIHdyYXBwZXJcbiAgICBpZiAoZWRnZVBhZGRpbmcpIHsgaW5uZXJXcmFwcGVyLnN0eWxlLm1hcmdpbiA9ICcwcHgnOyB9XG5cbiAgICAvLyBhZGQgY2xhc3MgdG5zLXRyYW5zcGFyZW50IHRvIGNsb25lZCBzbGlkZXNcbiAgICBpZiAoY2xvbmVDb3VudCkge1xuICAgICAgdmFyIHN0ciA9ICd0bnMtdHJhbnNwYXJlbnQnO1xuICAgICAgZm9yICh2YXIgaSA9IGNsb25lQ291bnQ7IGktLTspIHtcbiAgICAgICAgaWYgKGNhcm91c2VsKSB7IGFkZENsYXNzKHNsaWRlSXRlbXNbaV0sIHN0cik7IH1cbiAgICAgICAgYWRkQ2xhc3Moc2xpZGVJdGVtc1tzbGlkZUNvdW50TmV3IC0gaSAtIDFdLCBzdHIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0b29sc1xuICAgIGRpc2FibGVVSSgpO1xuXG4gICAgZnJvemVuID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZnJlZXplU2xpZGVyICgpIHtcbiAgICBpZiAoIWZyb3plbikgeyByZXR1cm47IH1cblxuICAgIC8vIHJlc3RvcmUgZWRnZSBwYWRkaW5nIGZvciBpbm5lciB3cmFwcGVyXG4gICAgLy8gZm9yIG1vcmRlcm4gYnJvd3NlcnNcbiAgICBpZiAoZWRnZVBhZGRpbmcgJiYgQ1NTTVEpIHsgaW5uZXJXcmFwcGVyLnN0eWxlLm1hcmdpbiA9ICcnOyB9XG5cbiAgICAvLyByZW1vdmUgY2xhc3MgdG5zLXRyYW5zcGFyZW50IHRvIGNsb25lZCBzbGlkZXNcbiAgICBpZiAoY2xvbmVDb3VudCkge1xuICAgICAgdmFyIHN0ciA9ICd0bnMtdHJhbnNwYXJlbnQnO1xuICAgICAgZm9yICh2YXIgaSA9IGNsb25lQ291bnQ7IGktLTspIHtcbiAgICAgICAgaWYgKGNhcm91c2VsKSB7IHJlbW92ZUNsYXNzKHNsaWRlSXRlbXNbaV0sIHN0cik7IH1cbiAgICAgICAgcmVtb3ZlQ2xhc3Moc2xpZGVJdGVtc1tzbGlkZUNvdW50TmV3IC0gaSAtIDFdLCBzdHIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0b29sc1xuICAgIGVuYWJsZVVJKCk7XG5cbiAgICBmcm96ZW4gPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc2FibGVTbGlkZXIgKCkge1xuICAgIGlmIChkaXNhYmxlZCkgeyByZXR1cm47IH1cblxuICAgIHNoZWV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gY29udGFpbmVyLmNsYXNzTmFtZS5yZXBsYWNlKG5ld0NvbnRhaW5lckNsYXNzZXMuc3Vic3RyaW5nKDEpLCAnJyk7XG4gICAgcmVtb3ZlQXR0cnMoY29udGFpbmVyLCBbJ3N0eWxlJ10pO1xuICAgIGlmIChsb29wKSB7XG4gICAgICBmb3IgKHZhciBqID0gY2xvbmVDb3VudDsgai0tOykge1xuICAgICAgICBpZiAoY2Fyb3VzZWwpIHsgaGlkZUVsZW1lbnQoc2xpZGVJdGVtc1tqXSk7IH1cbiAgICAgICAgaGlkZUVsZW1lbnQoc2xpZGVJdGVtc1tzbGlkZUNvdW50TmV3IC0gaiAtIDFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB2ZXJ0aWNhbCBzbGlkZXJcbiAgICBpZiAoIWhvcml6b250YWwgfHwgIWNhcm91c2VsKSB7IHJlbW92ZUF0dHJzKGlubmVyV3JhcHBlciwgWydzdHlsZSddKTsgfVxuXG4gICAgLy8gZ2FsbGVyeVxuICAgIGlmICghY2Fyb3VzZWwpIHsgXG4gICAgICBmb3IgKHZhciBpID0gaW5kZXgsIGwgPSBpbmRleCArIHNsaWRlQ291bnQ7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBzbGlkZUl0ZW1zW2ldO1xuICAgICAgICByZW1vdmVBdHRycyhpdGVtLCBbJ3N0eWxlJ10pO1xuICAgICAgICByZW1vdmVDbGFzcyhpdGVtLCBhbmltYXRlSW4pO1xuICAgICAgICByZW1vdmVDbGFzcyhpdGVtLCBhbmltYXRlTm9ybWFsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgdG9vbHNcbiAgICBkaXNhYmxlVUkoKTtcblxuICAgIGRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZVNsaWRlciAoKSB7XG4gICAgaWYgKCFkaXNhYmxlZCkgeyByZXR1cm47IH1cblxuICAgIHNoZWV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSArPSBuZXdDb250YWluZXJDbGFzc2VzO1xuICAgIGRvQ29udGFpbmVyVHJhbnNmb3JtU2lsZW50KCk7XG5cbiAgICBpZiAobG9vcCkge1xuICAgICAgZm9yICh2YXIgaiA9IGNsb25lQ291bnQ7IGotLTspIHtcbiAgICAgICAgaWYgKGNhcm91c2VsKSB7IHNob3dFbGVtZW50KHNsaWRlSXRlbXNbal0pOyB9XG4gICAgICAgIHNob3dFbGVtZW50KHNsaWRlSXRlbXNbc2xpZGVDb3VudE5ldyAtIGogLSAxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZ2FsbGVyeVxuICAgIGlmICghY2Fyb3VzZWwpIHsgXG4gICAgICBmb3IgKHZhciBpID0gaW5kZXgsIGwgPSBpbmRleCArIHNsaWRlQ291bnQ7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBzbGlkZUl0ZW1zW2ldLFxuICAgICAgICAgICAgY2xhc3NOID0gaSA8IGluZGV4ICsgaXRlbXMgPyBhbmltYXRlSW4gOiBhbmltYXRlTm9ybWFsO1xuICAgICAgICBpdGVtLnN0eWxlLmxlZnQgPSAoaSAtIGluZGV4KSAqIDEwMCAvIGl0ZW1zICsgJyUnO1xuICAgICAgICBhZGRDbGFzcyhpdGVtLCBjbGFzc04pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0b29sc1xuICAgIGVuYWJsZVVJKCk7XG5cbiAgICBkaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGl2ZVJlZ2lvbiAoKSB7XG4gICAgdmFyIHN0ciA9IGdldExpdmVSZWdpb25TdHIoKTtcbiAgICBpZiAobGl2ZXJlZ2lvbkN1cnJlbnQuaW5uZXJIVE1MICE9PSBzdHIpIHsgbGl2ZXJlZ2lvbkN1cnJlbnQuaW5uZXJIVE1MID0gc3RyOyB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaXZlUmVnaW9uU3RyICgpIHtcbiAgICB2YXIgYXJyID0gZ2V0VmlzaWJsZVNsaWRlUmFuZ2UoKSxcbiAgICAgICAgc3RhcnQgPSBhcnJbMF0gKyAxLFxuICAgICAgICBlbmQgPSBhcnJbMV0gKyAxO1xuICAgIHJldHVybiBzdGFydCA9PT0gZW5kID8gc3RhcnQgKyAnJyA6IHN0YXJ0ICsgJyB0byAnICsgZW5kOyBcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZpc2libGVTbGlkZVJhbmdlICh2YWwpIHtcbiAgICBpZiAodmFsID09IG51bGwpIHsgdmFsID0gZ2V0Q29udGFpbmVyVHJhbnNmb3JtVmFsdWUoKTsgfVxuICAgIHZhciBzdGFydCA9IGluZGV4LCBlbmQsIHJhbmdlc3RhcnQsIHJhbmdlZW5kO1xuXG4gICAgLy8gZ2V0IHJhbmdlIHN0YXJ0LCByYW5nZSBlbmQgZm9yIGF1dG9XaWR0aCBhbmQgZml4ZWRXaWR0aFxuICAgIGlmIChjZW50ZXIgfHwgZWRnZVBhZGRpbmcpIHtcbiAgICAgIGlmIChhdXRvV2lkdGggfHwgZml4ZWRXaWR0aCkge1xuICAgICAgICByYW5nZXN0YXJ0ID0gLSAocGFyc2VGbG9hdCh2YWwpICsgZWRnZVBhZGRpbmcpO1xuICAgICAgICByYW5nZWVuZCA9IHJhbmdlc3RhcnQgKyB2aWV3cG9ydCArIGVkZ2VQYWRkaW5nICogMjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGF1dG9XaWR0aCkge1xuICAgICAgICByYW5nZXN0YXJ0ID0gc2xpZGVQb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgICByYW5nZWVuZCA9IHJhbmdlc3RhcnQgKyB2aWV3cG9ydDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBnZXQgc3RhcnQsIGVuZFxuICAgIC8vIC0gY2hlY2sgYXV0byB3aWR0aFxuICAgIGlmIChhdXRvV2lkdGgpIHtcbiAgICAgIHNsaWRlUG9zaXRpb25zLmZvckVhY2goZnVuY3Rpb24ocG9pbnQsIGkpIHtcbiAgICAgICAgaWYgKGkgPCBzbGlkZUNvdW50TmV3KSB7XG4gICAgICAgICAgaWYgKChjZW50ZXIgfHwgZWRnZVBhZGRpbmcpICYmIHBvaW50IDw9IHJhbmdlc3RhcnQgKyAwLjUpIHsgc3RhcnQgPSBpOyB9XG4gICAgICAgICAgaWYgKHJhbmdlZW5kIC0gcG9pbnQgPj0gMC41KSB7IGVuZCA9IGk7IH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyAtIGNoZWNrIHBlcmNlbnRhZ2Ugd2lkdGgsIGZpeGVkIHdpZHRoXG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKGZpeGVkV2lkdGgpIHtcbiAgICAgICAgdmFyIGNlbGwgPSBmaXhlZFdpZHRoICsgZ3V0dGVyO1xuICAgICAgICBpZiAoY2VudGVyIHx8IGVkZ2VQYWRkaW5nKSB7XG4gICAgICAgICAgc3RhcnQgPSBNYXRoLmZsb29yKHJhbmdlc3RhcnQvY2VsbCk7XG4gICAgICAgICAgZW5kID0gTWF0aC5jZWlsKHJhbmdlZW5kL2NlbGwgLSAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSBzdGFydCArIE1hdGguY2VpbCh2aWV3cG9ydC9jZWxsKSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNlbnRlciB8fCBlZGdlUGFkZGluZykge1xuICAgICAgICAgIHZhciBhID0gaXRlbXMgLSAxO1xuICAgICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHN0YXJ0IC09IGEgLyAyO1xuICAgICAgICAgICAgZW5kID0gaW5kZXggKyBhIC8gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW5kID0gaW5kZXggKyBhO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlZGdlUGFkZGluZykge1xuICAgICAgICAgICAgdmFyIGIgPSBlZGdlUGFkZGluZyAqIGl0ZW1zIC8gdmlld3BvcnQ7XG4gICAgICAgICAgICBzdGFydCAtPSBiO1xuICAgICAgICAgICAgZW5kICs9IGI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3RhcnQgPSBNYXRoLmZsb29yKHN0YXJ0KTtcbiAgICAgICAgICBlbmQgPSBNYXRoLmNlaWwoZW5kKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSBzdGFydCArIGl0ZW1zIC0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdGFydCA9IE1hdGgubWF4KHN0YXJ0LCAwKTtcbiAgICAgIGVuZCA9IE1hdGgubWluKGVuZCwgc2xpZGVDb3VudE5ldyAtIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBbc3RhcnQsIGVuZF07XG4gIH1cblxuICBmdW5jdGlvbiBkb0xhenlMb2FkICgpIHtcbiAgICBpZiAobGF6eWxvYWQgJiYgIWRpc2FibGUpIHtcbiAgICAgIGdldEltYWdlQXJyYXkuYXBwbHkobnVsbCwgZ2V0VmlzaWJsZVNsaWRlUmFuZ2UoKSkuZm9yRWFjaChmdW5jdGlvbiAoaW1nKSB7XG4gICAgICAgIGlmICghaGFzQ2xhc3MoaW1nLCBpbWdDb21wbGV0ZUNsYXNzKSkge1xuICAgICAgICAgIC8vIHN0b3AgcHJvcGFnYXRpb24gdHJhbnNpdGlvbmVuZCBldmVudCB0byBjb250YWluZXJcbiAgICAgICAgICB2YXIgZXZlID0ge307XG4gICAgICAgICAgZXZlW1RSQU5TSVRJT05FTkRdID0gZnVuY3Rpb24gKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfTtcbiAgICAgICAgICBhZGRFdmVudHMoaW1nLCBldmUpO1xuXG4gICAgICAgICAgYWRkRXZlbnRzKGltZywgaW1nRXZlbnRzKTtcblxuICAgICAgICAgIC8vIHVwZGF0ZSBzcmNcbiAgICAgICAgICBpbWcuc3JjID0gZ2V0QXR0cihpbWcsICdkYXRhLXNyYycpO1xuXG4gICAgICAgICAgLy8gdXBkYXRlIHNyY3NldFxuICAgICAgICAgIHZhciBzcmNzZXQgPSBnZXRBdHRyKGltZywgJ2RhdGEtc3Jjc2V0Jyk7XG4gICAgICAgICAgaWYgKHNyY3NldCkgeyBpbWcuc3Jjc2V0ID0gc3Jjc2V0OyB9XG5cbiAgICAgICAgICBhZGRDbGFzcyhpbWcsICdsb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uSW1nTG9hZGVkIChlKSB7XG4gICAgaW1nTG9hZGVkKGdldFRhcmdldChlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkltZ0ZhaWxlZCAoZSkge1xuICAgIGltZ0ZhaWxlZChnZXRUYXJnZXQoZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW1nTG9hZGVkIChpbWcpIHtcbiAgICBhZGRDbGFzcyhpbWcsICdsb2FkZWQnKTtcbiAgICBpbWdDb21wbGV0ZWQoaW1nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGltZ0ZhaWxlZCAoaW1nKSB7XG4gICAgYWRkQ2xhc3MoaW1nLCAnZmFpbGVkJyk7XG4gICAgaW1nQ29tcGxldGVkKGltZyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbWdDb21wbGV0ZWQgKGltZykge1xuICAgIGFkZENsYXNzKGltZywgJ3Rucy1jb21wbGV0ZScpO1xuICAgIHJlbW92ZUNsYXNzKGltZywgJ2xvYWRpbmcnKTtcbiAgICByZW1vdmVFdmVudHMoaW1nLCBpbWdFdmVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW1hZ2VBcnJheSAoc3RhcnQsIGVuZCkge1xuICAgIHZhciBpbWdzID0gW107XG4gICAgd2hpbGUgKHN0YXJ0IDw9IGVuZCkge1xuICAgICAgZm9yRWFjaChzbGlkZUl0ZW1zW3N0YXJ0XS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSwgZnVuY3Rpb24gKGltZykgeyBpbWdzLnB1c2goaW1nKTsgfSk7XG4gICAgICBzdGFydCsrO1xuICAgIH1cblxuICAgIHJldHVybiBpbWdzO1xuICB9XG5cbiAgLy8gY2hlY2sgaWYgYWxsIHZpc2libGUgaW1hZ2VzIGFyZSBsb2FkZWRcbiAgLy8gYW5kIHVwZGF0ZSBjb250YWluZXIgaGVpZ2h0IGlmIGl0J3MgZG9uZVxuICBmdW5jdGlvbiBkb0F1dG9IZWlnaHQgKCkge1xuICAgIHZhciBpbWdzID0gZ2V0SW1hZ2VBcnJheS5hcHBseShudWxsLCBnZXRWaXNpYmxlU2xpZGVSYW5nZSgpKTtcbiAgICByYWYoZnVuY3Rpb24oKXsgaW1nc0xvYWRlZENoZWNrKGltZ3MsIHVwZGF0ZUlubmVyV3JhcHBlckhlaWdodCk7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW1nc0xvYWRlZENoZWNrIChpbWdzLCBjYikge1xuICAgIC8vIGRpcmVjdGx5IGV4ZWN1dGUgY2FsbGJhY2sgZnVuY3Rpb24gaWYgYWxsIGltYWdlcyBhcmUgY29tcGxldGVcbiAgICBpZiAoaW1nc0NvbXBsZXRlKSB7IHJldHVybiBjYigpOyB9XG5cbiAgICAvLyBjaGVjayBzZWxlY3RlZCBpbWFnZSBjbGFzc2VzIG90aGVyd2lzZVxuICAgIGltZ3MuZm9yRWFjaChmdW5jdGlvbiAoaW1nLCBpbmRleCkge1xuICAgICAgaWYgKGhhc0NsYXNzKGltZywgaW1nQ29tcGxldGVDbGFzcykpIHsgaW1ncy5zcGxpY2UoaW5kZXgsIDEpOyB9XG4gICAgfSk7XG5cbiAgICAvLyBleGVjdXRlIGNhbGxiYWNrIGZ1bmN0aW9uIGlmIHNlbGVjdGVkIGltYWdlcyBhcmUgYWxsIGNvbXBsZXRlXG4gICAgaWYgKCFpbWdzLmxlbmd0aCkgeyByZXR1cm4gY2IoKTsgfVxuXG4gICAgLy8gb3RoZXJ3aXNlIGV4ZWN1dGUgdGhpcyBmdW5jdGlvbmEgYWdhaW5cbiAgICByYWYoZnVuY3Rpb24oKXsgaW1nc0xvYWRlZENoZWNrKGltZ3MsIGNiKTsgfSk7XG4gIH0gXG5cbiAgZnVuY3Rpb24gYWRkaXRpb25hbFVwZGF0ZXMgKCkge1xuICAgIGRvTGF6eUxvYWQoKTsgXG4gICAgdXBkYXRlU2xpZGVTdGF0dXMoKTtcbiAgICB1cGRhdGVMaXZlUmVnaW9uKCk7XG4gICAgdXBkYXRlQ29udHJvbHNTdGF0dXMoKTtcbiAgICB1cGRhdGVOYXZTdGF0dXMoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gdXBkYXRlX2Nhcm91c2VsX3RyYW5zaXRpb25fZHVyYXRpb24gKCkge1xuICAgIGlmIChjYXJvdXNlbCAmJiBhdXRvSGVpZ2h0KSB7XG4gICAgICBtaWRkbGVXcmFwcGVyLnN0eWxlW1RSQU5TSVRJT05EVVJBVElPTl0gPSBzcGVlZCAvIDEwMDAgKyAncyc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWF4U2xpZGVIZWlnaHQgKHNsaWRlU3RhcnQsIHNsaWRlUmFuZ2UpIHtcbiAgICB2YXIgaGVpZ2h0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSBzbGlkZVN0YXJ0LCBsID0gTWF0aC5taW4oc2xpZGVTdGFydCArIHNsaWRlUmFuZ2UsIHNsaWRlQ291bnROZXcpOyBpIDwgbDsgaSsrKSB7XG4gICAgICBoZWlnaHRzLnB1c2goc2xpZGVJdGVtc1tpXS5vZmZzZXRIZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBoZWlnaHRzKTtcbiAgfVxuXG4gIC8vIHVwZGF0ZSBpbm5lciB3cmFwcGVyIGhlaWdodFxuICAvLyAxLiBnZXQgdGhlIG1heC1oZWlnaHQgb2YgdGhlIHZpc2libGUgc2xpZGVzXG4gIC8vIDIuIHNldCB0cmFuc2l0aW9uRHVyYXRpb24gdG8gc3BlZWRcbiAgLy8gMy4gdXBkYXRlIGlubmVyIHdyYXBwZXIgaGVpZ2h0IHRvIG1heC1oZWlnaHRcbiAgLy8gNC4gc2V0IHRyYW5zaXRpb25EdXJhdGlvbiB0byAwcyBhZnRlciB0cmFuc2l0aW9uIGRvbmVcbiAgZnVuY3Rpb24gdXBkYXRlSW5uZXJXcmFwcGVySGVpZ2h0ICgpIHtcbiAgICB2YXIgbWF4SGVpZ2h0ID0gYXV0b0hlaWdodCA/IGdldE1heFNsaWRlSGVpZ2h0KGluZGV4LCBpdGVtcykgOiBnZXRNYXhTbGlkZUhlaWdodChjbG9uZUNvdW50LCBzbGlkZUNvdW50KSxcbiAgICAgICAgd3AgPSBtaWRkbGVXcmFwcGVyID8gbWlkZGxlV3JhcHBlciA6IGlubmVyV3JhcHBlcjtcblxuICAgIGlmICh3cC5zdHlsZS5oZWlnaHQgIT09IG1heEhlaWdodCkgeyB3cC5zdHlsZS5oZWlnaHQgPSBtYXhIZWlnaHQgKyAncHgnOyB9XG4gIH1cblxuICAvLyBnZXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHRvcCBlZGdlIG9mIHRoZSBmaXJzdCBzbGlkZSB0byBlYWNoIHNsaWRlXG4gIC8vIChpbml0KSA9PiBzbGlkZVBvc2l0aW9uc1xuICBmdW5jdGlvbiBzZXRTbGlkZVBvc2l0aW9ucyAoKSB7XG4gICAgc2xpZGVQb3NpdGlvbnMgPSBbMF07XG4gICAgdmFyIGF0dHIgPSBob3Jpem9udGFsID8gJ2xlZnQnIDogJ3RvcCcsXG4gICAgICAgIGF0dHIyID0gaG9yaXpvbnRhbCA/ICdyaWdodCcgOiAnYm90dG9tJyxcbiAgICAgICAgYmFzZSA9IHNsaWRlSXRlbXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbYXR0cl07XG5cbiAgICBmb3JFYWNoKHNsaWRlSXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGkpIHtcbiAgICAgIC8vIHNraXAgdGhlIGZpcnN0IHNsaWRlXG4gICAgICBpZiAoaSkgeyBzbGlkZVBvc2l0aW9ucy5wdXNoKGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbYXR0cl0gLSBiYXNlKTsgfVxuICAgICAgLy8gYWRkIHRoZSBlbmQgZWRnZVxuICAgICAgaWYgKGkgPT09IHNsaWRlQ291bnROZXcgLSAxKSB7IHNsaWRlUG9zaXRpb25zLnB1c2goaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVthdHRyMl0gLSBiYXNlKTsgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gdXBkYXRlIHNsaWRlXG4gIGZ1bmN0aW9uIHVwZGF0ZVNsaWRlU3RhdHVzICgpIHtcbiAgICB2YXIgcmFuZ2UgPSBnZXRWaXNpYmxlU2xpZGVSYW5nZSgpLFxuICAgICAgICBzdGFydCA9IHJhbmdlWzBdLFxuICAgICAgICBlbmQgPSByYW5nZVsxXTtcblxuICAgIGZvckVhY2goc2xpZGVJdGVtcywgZnVuY3Rpb24oaXRlbSwgaSkge1xuICAgICAgLy8gc2hvdyBzbGlkZXNcbiAgICAgIGlmIChpID49IHN0YXJ0ICYmIGkgPD0gZW5kKSB7XG4gICAgICAgIGlmIChoYXNBdHRyKGl0ZW0sICdhcmlhLWhpZGRlbicpKSB7XG4gICAgICAgICAgcmVtb3ZlQXR0cnMoaXRlbSwgWydhcmlhLWhpZGRlbicsICd0YWJpbmRleCddKTtcbiAgICAgICAgICBhZGRDbGFzcyhpdGVtLCBzbGlkZUFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgLy8gaGlkZSBzbGlkZXNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzQXR0cihpdGVtLCAnYXJpYS1oaWRkZW4nKSkge1xuICAgICAgICAgIHNldEF0dHJzKGl0ZW0sIHtcbiAgICAgICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJyxcbiAgICAgICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZW1vdmVDbGFzcyhpdGVtLCBzbGlkZUFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gZ2FsbGVyeTogdXBkYXRlIHNsaWRlIHBvc2l0aW9uXG4gIGZ1bmN0aW9uIHVwZGF0ZUdhbGxlcnlTbGlkZVBvc2l0aW9ucyAoKSB7XG4gICAgdmFyIGwgPSBpbmRleCArIE1hdGgubWluKHNsaWRlQ291bnQsIGl0ZW1zKTtcbiAgICBmb3IgKHZhciBpID0gc2xpZGVDb3VudE5ldzsgaS0tOykge1xuICAgICAgdmFyIGl0ZW0gPSBzbGlkZUl0ZW1zW2ldO1xuXG4gICAgICBpZiAoaSA+PSBpbmRleCAmJiBpIDwgbCkge1xuICAgICAgICAvLyBhZGQgdHJhbnNpdGlvbnMgdG8gdmlzaWJsZSBzbGlkZXMgd2hlbiBhZGp1c3RpbmcgdGhlaXIgcG9zaXRpb25zXG4gICAgICAgIGFkZENsYXNzKGl0ZW0sICd0bnMtbW92aW5nJyk7XG5cbiAgICAgICAgaXRlbS5zdHlsZS5sZWZ0ID0gKGkgLSBpbmRleCkgKiAxMDAgLyBpdGVtcyArICclJztcbiAgICAgICAgYWRkQ2xhc3MoaXRlbSwgYW5pbWF0ZUluKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgYW5pbWF0ZU5vcm1hbCk7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uc3R5bGUubGVmdCkge1xuICAgICAgICBpdGVtLnN0eWxlLmxlZnQgPSAnJztcbiAgICAgICAgYWRkQ2xhc3MoaXRlbSwgYW5pbWF0ZU5vcm1hbCk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGl0ZW0sIGFuaW1hdGVJbik7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSBvdXRsZXQgYW5pbWF0aW9uXG4gICAgICByZW1vdmVDbGFzcyhpdGVtLCBhbmltYXRlT3V0KTtcbiAgICB9XG5cbiAgICAvLyByZW1vdmluZyAnLnRucy1tb3ZpbmcnXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGZvckVhY2goc2xpZGVJdGVtcywgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICd0bnMtbW92aW5nJyk7XG4gICAgICB9KTtcbiAgICB9LCAzMDApO1xuICB9XG5cbiAgLy8gc2V0IHRhYmluZGV4IG9uIE5hdlxuICBmdW5jdGlvbiB1cGRhdGVOYXZTdGF0dXMgKCkge1xuICAgIC8vIGdldCBjdXJyZW50IG5hdlxuICAgIGlmIChuYXYpIHtcbiAgICAgIG5hdkN1cnJlbnRJbmRleCA9IG5hdkNsaWNrZWQgPj0gMCA/IG5hdkNsaWNrZWQgOiBnZXRDdXJyZW50TmF2SW5kZXgoKTtcbiAgICAgIG5hdkNsaWNrZWQgPSAtMTtcblxuICAgICAgaWYgKG5hdkN1cnJlbnRJbmRleCAhPT0gbmF2Q3VycmVudEluZGV4Q2FjaGVkKSB7XG4gICAgICAgIHZhciBuYXZQcmV2ID0gbmF2SXRlbXNbbmF2Q3VycmVudEluZGV4Q2FjaGVkXSxcbiAgICAgICAgICAgIG5hdkN1cnJlbnQgPSBuYXZJdGVtc1tuYXZDdXJyZW50SW5kZXhdO1xuXG4gICAgICAgIHNldEF0dHJzKG5hdlByZXYsIHtcbiAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnLFxuICAgICAgICAgICdhcmlhLWxhYmVsJzogbmF2U3RyICsgKG5hdkN1cnJlbnRJbmRleENhY2hlZCArIDEpXG4gICAgICAgIH0pO1xuICAgICAgICByZW1vdmVDbGFzcyhuYXZQcmV2LCBuYXZBY3RpdmVDbGFzcyk7XG4gICAgICAgIFxuICAgICAgICBzZXRBdHRycyhuYXZDdXJyZW50LCB7J2FyaWEtbGFiZWwnOiBuYXZTdHIgKyAobmF2Q3VycmVudEluZGV4ICsgMSkgKyBuYXZTdHJDdXJyZW50fSk7XG4gICAgICAgIHJlbW92ZUF0dHJzKG5hdkN1cnJlbnQsICd0YWJpbmRleCcpO1xuICAgICAgICBhZGRDbGFzcyhuYXZDdXJyZW50LCBuYXZBY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgbmF2Q3VycmVudEluZGV4Q2FjaGVkID0gbmF2Q3VycmVudEluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExvd2VyQ2FzZU5vZGVOYW1lIChlbCkge1xuICAgIHJldHVybiBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNCdXR0b24gKGVsKSB7XG4gICAgcmV0dXJuIGdldExvd2VyQ2FzZU5vZGVOYW1lKGVsKSA9PT0gJ2J1dHRvbic7XG4gIH1cblxuICBmdW5jdGlvbiBpc0FyaWFEaXNhYmxlZCAoZWwpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJykgPT09ICd0cnVlJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc0VuYWJsZUVsZW1lbnQgKGlzQnV0dG9uLCBlbCwgdmFsKSB7XG4gICAgaWYgKGlzQnV0dG9uKSB7XG4gICAgICBlbC5kaXNhYmxlZCA9IHZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgdmFsLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldCAnZGlzYWJsZWQnIHRvIHRydWUgb24gY29udHJvbHMgd2hlbiByZWFjaCB0aGUgZWRnZXNcbiAgZnVuY3Rpb24gdXBkYXRlQ29udHJvbHNTdGF0dXMgKCkge1xuICAgIGlmICghY29udHJvbHMgfHwgcmV3aW5kIHx8IGxvb3ApIHsgcmV0dXJuOyB9XG5cbiAgICB2YXIgcHJldkRpc2FibGVkID0gKHByZXZJc0J1dHRvbikgPyBwcmV2QnV0dG9uLmRpc2FibGVkIDogaXNBcmlhRGlzYWJsZWQocHJldkJ1dHRvbiksXG4gICAgICAgIG5leHREaXNhYmxlZCA9IChuZXh0SXNCdXR0b24pID8gbmV4dEJ1dHRvbi5kaXNhYmxlZCA6IGlzQXJpYURpc2FibGVkKG5leHRCdXR0b24pLFxuICAgICAgICBkaXNhYmxlUHJldiA9IChpbmRleCA8PSBpbmRleE1pbikgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgIGRpc2FibGVOZXh0ID0gKCFyZXdpbmQgJiYgaW5kZXggPj0gaW5kZXhNYXgpID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgaWYgKGRpc2FibGVQcmV2ICYmICFwcmV2RGlzYWJsZWQpIHtcbiAgICAgIGRpc0VuYWJsZUVsZW1lbnQocHJldklzQnV0dG9uLCBwcmV2QnV0dG9uLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKCFkaXNhYmxlUHJldiAmJiBwcmV2RGlzYWJsZWQpIHtcbiAgICAgIGRpc0VuYWJsZUVsZW1lbnQocHJldklzQnV0dG9uLCBwcmV2QnV0dG9uLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChkaXNhYmxlTmV4dCAmJiAhbmV4dERpc2FibGVkKSB7XG4gICAgICBkaXNFbmFibGVFbGVtZW50KG5leHRJc0J1dHRvbiwgbmV4dEJ1dHRvbiwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICghZGlzYWJsZU5leHQgJiYgbmV4dERpc2FibGVkKSB7XG4gICAgICBkaXNFbmFibGVFbGVtZW50KG5leHRJc0J1dHRvbiwgbmV4dEJ1dHRvbiwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldCBkdXJhdGlvblxuICBmdW5jdGlvbiByZXNldER1cmF0aW9uIChlbCwgc3RyKSB7XG4gICAgaWYgKFRSQU5TSVRJT05EVVJBVElPTikgeyBlbC5zdHlsZVtUUkFOU0lUSU9ORFVSQVRJT05dID0gc3RyOyB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTbGlkZXJXaWR0aCAoKSB7XG4gICAgcmV0dXJuIGZpeGVkV2lkdGggPyAoZml4ZWRXaWR0aCArIGd1dHRlcikgKiBzbGlkZUNvdW50TmV3IDogc2xpZGVQb3NpdGlvbnNbc2xpZGVDb3VudE5ld107XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDZW50ZXJHYXAgKG51bSkge1xuICAgIGlmIChudW0gPT0gbnVsbCkgeyBudW0gPSBpbmRleDsgfVxuXG4gICAgdmFyIGdhcCA9IGVkZ2VQYWRkaW5nID8gZ3V0dGVyIDogMDtcbiAgICByZXR1cm4gYXV0b1dpZHRoID8gKCh2aWV3cG9ydCAtIGdhcCkgLSAoc2xpZGVQb3NpdGlvbnNbbnVtICsgMV0gLSBzbGlkZVBvc2l0aW9uc1tudW1dIC0gZ3V0dGVyKSkvMiA6XG4gICAgICBmaXhlZFdpZHRoID8gKHZpZXdwb3J0IC0gZml4ZWRXaWR0aCkgLyAyIDpcbiAgICAgICAgKGl0ZW1zIC0gMSkgLyAyO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmlnaHRCb3VuZGFyeSAoKSB7XG4gICAgdmFyIGdhcCA9IGVkZ2VQYWRkaW5nID8gZ3V0dGVyIDogMCxcbiAgICAgICAgcmVzdWx0ID0gKHZpZXdwb3J0ICsgZ2FwKSAtIGdldFNsaWRlcldpZHRoKCk7XG5cbiAgICBpZiAoY2VudGVyICYmICFsb29wKSB7XG4gICAgICByZXN1bHQgPSBmaXhlZFdpZHRoID8gLSAoZml4ZWRXaWR0aCArIGd1dHRlcikgKiAoc2xpZGVDb3VudE5ldyAtIDEpIC0gZ2V0Q2VudGVyR2FwKCkgOlxuICAgICAgICBnZXRDZW50ZXJHYXAoc2xpZGVDb3VudE5ldyAtIDEpIC0gc2xpZGVQb3NpdGlvbnNbc2xpZGVDb3VudE5ldyAtIDFdO1xuICAgIH1cbiAgICBpZiAocmVzdWx0ID4gMCkgeyByZXN1bHQgPSAwOyB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q29udGFpbmVyVHJhbnNmb3JtVmFsdWUgKG51bSkge1xuICAgIGlmIChudW0gPT0gbnVsbCkgeyBudW0gPSBpbmRleDsgfVxuXG4gICAgdmFyIHZhbDtcbiAgICBpZiAoaG9yaXpvbnRhbCAmJiAhYXV0b1dpZHRoKSB7XG4gICAgICBpZiAoZml4ZWRXaWR0aCkge1xuICAgICAgICB2YWwgPSAtIChmaXhlZFdpZHRoICsgZ3V0dGVyKSAqIG51bTtcbiAgICAgICAgaWYgKGNlbnRlcikgeyB2YWwgKz0gZ2V0Q2VudGVyR2FwKCk7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkZW5vbWluYXRvciA9IFRSQU5TRk9STSA/IHNsaWRlQ291bnROZXcgOiBpdGVtcztcbiAgICAgICAgaWYgKGNlbnRlcikgeyBudW0gLT0gZ2V0Q2VudGVyR2FwKCk7IH1cbiAgICAgICAgdmFsID0gLSBudW0gKiAxMDAgLyBkZW5vbWluYXRvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gLSBzbGlkZVBvc2l0aW9uc1tudW1dO1xuICAgICAgaWYgKGNlbnRlciAmJiBhdXRvV2lkdGgpIHtcbiAgICAgICAgdmFsICs9IGdldENlbnRlckdhcCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNSaWdodERlYWRab25lKSB7IHZhbCA9IE1hdGgubWF4KHZhbCwgcmlnaHRCb3VuZGFyeSk7IH1cblxuICAgIHZhbCArPSAoaG9yaXpvbnRhbCAmJiAhYXV0b1dpZHRoICYmICFmaXhlZFdpZHRoKSA/ICclJyA6ICdweCc7XG5cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9Db250YWluZXJUcmFuc2Zvcm1TaWxlbnQgKHZhbCkge1xuICAgIHJlc2V0RHVyYXRpb24oY29udGFpbmVyLCAnMHMnKTtcbiAgICBkb0NvbnRhaW5lclRyYW5zZm9ybSh2YWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9Db250YWluZXJUcmFuc2Zvcm0gKHZhbCkge1xuICAgIGlmICh2YWwgPT0gbnVsbCkgeyB2YWwgPSBnZXRDb250YWluZXJUcmFuc2Zvcm1WYWx1ZSgpOyB9XG4gICAgY29udGFpbmVyLnN0eWxlW3RyYW5zZm9ybUF0dHJdID0gdHJhbnNmb3JtUHJlZml4ICsgdmFsICsgdHJhbnNmb3JtUG9zdGZpeDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFuaW1hdGVTbGlkZSAobnVtYmVyLCBjbGFzc091dCwgY2xhc3NJbiwgaXNPdXQpIHtcbiAgICB2YXIgbCA9IG51bWJlciArIGl0ZW1zO1xuICAgIGlmICghbG9vcCkgeyBsID0gTWF0aC5taW4obCwgc2xpZGVDb3VudE5ldyk7IH1cblxuICAgIGZvciAodmFyIGkgPSBudW1iZXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBzbGlkZUl0ZW1zW2ldO1xuXG4gICAgICAvLyBzZXQgaXRlbSBwb3NpdGlvbnNcbiAgICAgIGlmICghaXNPdXQpIHsgaXRlbS5zdHlsZS5sZWZ0ID0gKGkgLSBpbmRleCkgKiAxMDAgLyBpdGVtcyArICclJzsgfVxuXG4gICAgICBpZiAoYW5pbWF0ZURlbGF5ICYmIFRSQU5TSVRJT05ERUxBWSkge1xuICAgICAgICBpdGVtLnN0eWxlW1RSQU5TSVRJT05ERUxBWV0gPSBpdGVtLnN0eWxlW0FOSU1BVElPTkRFTEFZXSA9IGFuaW1hdGVEZWxheSAqIChpIC0gbnVtYmVyKSAvIDEwMDAgKyAncyc7XG4gICAgICB9XG4gICAgICByZW1vdmVDbGFzcyhpdGVtLCBjbGFzc091dCk7XG4gICAgICBhZGRDbGFzcyhpdGVtLCBjbGFzc0luKTtcbiAgICAgIFxuICAgICAgaWYgKGlzT3V0KSB7IHNsaWRlSXRlbXNPdXQucHVzaChpdGVtKTsgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG1ha2UgdHJhbnNmZXIgYWZ0ZXIgY2xpY2svZHJhZzpcbiAgLy8gMS4gY2hhbmdlICd0cmFuc2Zvcm0nIHByb3BlcnR5IGZvciBtb3JkZXJuIGJyb3dzZXJzXG4gIC8vIDIuIGNoYW5nZSAnbGVmdCcgcHJvcGVydHkgZm9yIGxlZ2FjeSBicm93c2Vyc1xuICB2YXIgdHJhbnNmb3JtQ29yZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNhcm91c2VsID9cbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzZXREdXJhdGlvbihjb250YWluZXIsICcnKTtcbiAgICAgICAgaWYgKFRSQU5TSVRJT05EVVJBVElPTiB8fCAhc3BlZWQpIHtcbiAgICAgICAgICAvLyBmb3IgbW9yZGVuIGJyb3dzZXJzIHdpdGggbm9uLXplcm8gZHVyYXRpb24gb3IgXG4gICAgICAgICAgLy8gemVybyBkdXJhdGlvbiBmb3IgYWxsIGJyb3dzZXJzXG4gICAgICAgICAgZG9Db250YWluZXJUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAvLyBydW4gZmFsbGJhY2sgZnVuY3Rpb24gbWFudWFsbHkgXG4gICAgICAgICAgLy8gd2hlbiBkdXJhdGlvbiBpcyAwIC8gY29udGFpbmVyIGlzIGhpZGRlblxuICAgICAgICAgIGlmICghc3BlZWQgfHwgIWlzVmlzaWJsZShjb250YWluZXIpKSB7IG9uVHJhbnNpdGlvbkVuZCgpOyB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBmb3Igb2xkIGJyb3dzZXIgd2l0aCBub24temVybyBkdXJhdGlvblxuICAgICAgICAgIGpzVHJhbnNmb3JtKGNvbnRhaW5lciwgdHJhbnNmb3JtQXR0ciwgdHJhbnNmb3JtUHJlZml4LCB0cmFuc2Zvcm1Qb3N0Zml4LCBnZXRDb250YWluZXJUcmFuc2Zvcm1WYWx1ZSgpLCBzcGVlZCwgb25UcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaG9yaXpvbnRhbCkgeyB1cGRhdGVDb250ZW50V3JhcHBlckhlaWdodCgpOyB9XG4gICAgICB9IDpcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2xpZGVJdGVtc091dCA9IFtdO1xuXG4gICAgICAgIHZhciBldmUgPSB7fTtcbiAgICAgICAgZXZlW1RSQU5TSVRJT05FTkRdID0gZXZlW0FOSU1BVElPTkVORF0gPSBvblRyYW5zaXRpb25FbmQ7XG4gICAgICAgIHJlbW92ZUV2ZW50cyhzbGlkZUl0ZW1zW2luZGV4Q2FjaGVkXSwgZXZlKTtcbiAgICAgICAgYWRkRXZlbnRzKHNsaWRlSXRlbXNbaW5kZXhdLCBldmUpO1xuXG4gICAgICAgIGFuaW1hdGVTbGlkZShpbmRleENhY2hlZCwgYW5pbWF0ZUluLCBhbmltYXRlT3V0LCB0cnVlKTtcbiAgICAgICAgYW5pbWF0ZVNsaWRlKGluZGV4LCBhbmltYXRlTm9ybWFsLCBhbmltYXRlSW4pO1xuXG4gICAgICAgIC8vIHJ1biBmYWxsYmFjayBmdW5jdGlvbiBtYW51YWxseSBcbiAgICAgICAgLy8gd2hlbiB0cmFuc2l0aW9uIG9yIGFuaW1hdGlvbiBub3Qgc3VwcG9ydGVkIC8gZHVyYXRpb24gaXMgMFxuICAgICAgICBpZiAoIVRSQU5TSVRJT05FTkQgfHwgIUFOSU1BVElPTkVORCB8fCAhc3BlZWQgfHwgIWlzVmlzaWJsZShjb250YWluZXIpKSB7IG9uVHJhbnNpdGlvbkVuZCgpOyB9XG4gICAgICB9O1xuICB9KSgpO1xuXG4gIGZ1bmN0aW9uIHJlbmRlciAoZSwgc2xpZGVyTW92ZWQpIHtcbiAgICBpZiAodXBkYXRlSW5kZXhCZWZvcmVUcmFuc2Zvcm0pIHsgdXBkYXRlSW5kZXgoKTsgfVxuXG4gICAgLy8gcmVuZGVyIHdoZW4gc2xpZGVyIHdhcyBtb3ZlZCAodG91Y2ggb3IgZHJhZykgZXZlbiB0aG91Z2ggaW5kZXggbWF5IG5vdCBjaGFuZ2VcbiAgICBpZiAoaW5kZXggIT09IGluZGV4Q2FjaGVkIHx8IHNsaWRlck1vdmVkKSB7XG4gICAgICAvLyBldmVudHNcbiAgICAgIGV2ZW50cy5lbWl0KCdpbmRleENoYW5nZWQnLCBpbmZvKCkpO1xuICAgICAgZXZlbnRzLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcsIGluZm8oKSk7XG4gICAgICBpZiAoYXV0b0hlaWdodCkgeyBkb0F1dG9IZWlnaHQoKTsgfVxuXG4gICAgICAvLyBwYXVzZSBhdXRvcGxheSB3aGVuIGNsaWNrIG9yIGtleWRvd24gZnJvbSB1c2VyXG4gICAgICBpZiAoYW5pbWF0aW5nICYmIGUgJiYgWydjbGljaycsICdrZXlkb3duJ10uaW5kZXhPZihlLnR5cGUpID49IDApIHsgc3RvcEF1dG9wbGF5KCk7IH1cblxuICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICB0cmFuc2Zvcm1Db3JlKCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogVHJhbnNmZXIgcHJlZml4ZWQgcHJvcGVydGllcyB0byB0aGUgc2FtZSBmb3JtYXRcbiAgICogQ1NTOiAtV2Via2l0LVRyYW5zZm9ybSA9PiB3ZWJraXR0cmFuc2Zvcm1cbiAgICogSlM6IFdlYmtpdFRyYW5zZm9ybSA9PiB3ZWJraXR0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIHByb3BlcnR5XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBzdHJUcmFucyAoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0vZywgJycpO1xuICB9XG5cbiAgLy8gQUZURVIgVFJBTlNGT1JNXG4gIC8vIFRoaW5ncyBuZWVkIHRvIGJlIGRvbmUgYWZ0ZXIgYSB0cmFuc2ZlcjpcbiAgLy8gMS4gY2hlY2sgaW5kZXhcbiAgLy8gMi4gYWRkIGNsYXNzZXMgdG8gdmlzaWJsZSBzbGlkZVxuICAvLyAzLiBkaXNhYmxlIGNvbnRyb2xzIGJ1dHRvbnMgd2hlbiByZWFjaCB0aGUgZmlyc3QvbGFzdCBzbGlkZSBpbiBub24tbG9vcCBzbGlkZXJcbiAgLy8gNC4gdXBkYXRlIG5hdiBzdGF0dXNcbiAgLy8gNS4gbGF6eWxvYWQgaW1hZ2VzXG4gIC8vIDYuIHVwZGF0ZSBjb250YWluZXIgaGVpZ2h0XG4gIGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZCAoZXZlbnQpIHtcbiAgICAvLyBjaGVjayBydW5uaW5nIG9uIGdhbGxlcnkgbW9kZVxuICAgIC8vIG1ha2Ugc3VyZSB0cmFudGlvbmVuZC9hbmltYXRpb25lbmQgZXZlbnRzIHJ1biBvbmx5IG9uY2VcbiAgICBpZiAoY2Fyb3VzZWwgfHwgcnVubmluZykge1xuICAgICAgZXZlbnRzLmVtaXQoJ3RyYW5zaXRpb25FbmQnLCBpbmZvKGV2ZW50KSk7XG5cbiAgICAgIGlmICghY2Fyb3VzZWwgJiYgc2xpZGVJdGVtc091dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVJdGVtc091dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpdGVtID0gc2xpZGVJdGVtc091dFtpXTtcbiAgICAgICAgICAvLyBzZXQgaXRlbSBwb3NpdGlvbnNcbiAgICAgICAgICBpdGVtLnN0eWxlLmxlZnQgPSAnJztcblxuICAgICAgICAgIGlmIChBTklNQVRJT05ERUxBWSAmJiBUUkFOU0lUSU9OREVMQVkpIHsgXG4gICAgICAgICAgICBpdGVtLnN0eWxlW0FOSU1BVElPTkRFTEFZXSA9ICcnO1xuICAgICAgICAgICAgaXRlbS5zdHlsZVtUUkFOU0lUSU9OREVMQVldID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbW92ZUNsYXNzKGl0ZW0sIGFuaW1hdGVPdXQpO1xuICAgICAgICAgIGFkZENsYXNzKGl0ZW0sIGFuaW1hdGVOb3JtYWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIHVwZGF0ZSBzbGlkZXMsIG5hdiwgY29udHJvbHMgYWZ0ZXIgY2hlY2tpbmcgLi4uXG4gICAgICAgKiA9PiBsZWdhY3kgYnJvd3NlcnMgd2hvIGRvbid0IHN1cHBvcnQgJ2V2ZW50JyBcbiAgICAgICAqICAgIGhhdmUgdG8gY2hlY2sgZXZlbnQgZmlyc3QsIG90aGVyd2lzZSBldmVudC50YXJnZXQgd2lsbCBjYXVzZSBhbiBlcnJvciBcbiAgICAgICAqID0+IG9yICdnYWxsZXJ5JyBtb2RlOiBcbiAgICAgICAqICAgKyBldmVudCB0YXJnZXQgaXMgc2xpZGUgaXRlbVxuICAgICAgICogPT4gb3IgJ2Nhcm91c2VsJyBtb2RlOiBcbiAgICAgICAqICAgKyBldmVudCB0YXJnZXQgaXMgY29udGFpbmVyLCBcbiAgICAgICAqICAgKyBldmVudC5wcm9wZXJ0eSBpcyB0aGUgc2FtZSB3aXRoIHRyYW5zZm9ybSBhdHRyaWJ1dGVcbiAgICAgICAqL1xuICAgICAgaWYgKCFldmVudCB8fCBcbiAgICAgICAgICAhY2Fyb3VzZWwgJiYgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUgPT09IGNvbnRhaW5lciB8fCBcbiAgICAgICAgICBldmVudC50YXJnZXQgPT09IGNvbnRhaW5lciAmJiBzdHJUcmFucyhldmVudC5wcm9wZXJ0eU5hbWUpID09PSBzdHJUcmFucyh0cmFuc2Zvcm1BdHRyKSkge1xuXG4gICAgICAgIGlmICghdXBkYXRlSW5kZXhCZWZvcmVUcmFuc2Zvcm0pIHsgXG4gICAgICAgICAgdmFyIGluZGV4VGVtID0gaW5kZXg7XG4gICAgICAgICAgdXBkYXRlSW5kZXgoKTtcbiAgICAgICAgICBpZiAoaW5kZXggIT09IGluZGV4VGVtKSB7IFxuICAgICAgICAgICAgZXZlbnRzLmVtaXQoJ2luZGV4Q2hhbmdlZCcsIGluZm8oKSk7XG5cbiAgICAgICAgICAgIGRvQ29udGFpbmVyVHJhbnNmb3JtU2lsZW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IFxuXG4gICAgICAgIGlmIChuZXN0ZWQgPT09ICdpbm5lcicpIHsgZXZlbnRzLmVtaXQoJ2lubmVyTG9hZGVkJywgaW5mbygpKTsgfVxuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIGluZGV4Q2FjaGVkID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICAvLyAjIEFDVElPTlNcbiAgZnVuY3Rpb24gZ29UbyAodGFyZ2V0SW5kZXgsIGUpIHtcbiAgICBpZiAoZnJlZXplKSB7IHJldHVybjsgfVxuXG4gICAgLy8gcHJldiBzbGlkZUJ5XG4gICAgaWYgKHRhcmdldEluZGV4ID09PSAncHJldicpIHtcbiAgICAgIG9uQ29udHJvbHNDbGljayhlLCAtMSk7XG5cbiAgICAvLyBuZXh0IHNsaWRlQnlcbiAgICB9IGVsc2UgaWYgKHRhcmdldEluZGV4ID09PSAnbmV4dCcpIHtcbiAgICAgIG9uQ29udHJvbHNDbGljayhlLCAxKTtcblxuICAgIC8vIGdvIHRvIGV4YWN0IHNsaWRlXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgIGlmIChwcmV2ZW50QWN0aW9uV2hlblJ1bm5pbmcpIHsgcmV0dXJuOyB9IGVsc2UgeyBvblRyYW5zaXRpb25FbmQoKTsgfVxuICAgICAgfVxuXG4gICAgICB2YXIgYWJzSW5kZXggPSBnZXRBYnNJbmRleCgpLCBcbiAgICAgICAgICBpbmRleEdhcCA9IDA7XG5cbiAgICAgIGlmICh0YXJnZXRJbmRleCA9PT0gJ2ZpcnN0Jykge1xuICAgICAgICBpbmRleEdhcCA9IC0gYWJzSW5kZXg7XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldEluZGV4ID09PSAnbGFzdCcpIHtcbiAgICAgICAgaW5kZXhHYXAgPSBjYXJvdXNlbCA/IHNsaWRlQ291bnQgLSBpdGVtcyAtIGFic0luZGV4IDogc2xpZGVDb3VudCAtIDEgLSBhYnNJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0SW5kZXggIT09ICdudW1iZXInKSB7IHRhcmdldEluZGV4ID0gcGFyc2VJbnQodGFyZ2V0SW5kZXgpOyB9XG5cbiAgICAgICAgaWYgKCFpc05hTih0YXJnZXRJbmRleCkpIHtcbiAgICAgICAgICAvLyBmcm9tIGRpcmVjdGx5IGNhbGxlZCBnb1RvIGZ1bmN0aW9uXG4gICAgICAgICAgaWYgKCFlKSB7IHRhcmdldEluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2xpZGVDb3VudCAtIDEsIHRhcmdldEluZGV4KSk7IH1cblxuICAgICAgICAgIGluZGV4R2FwID0gdGFyZ2V0SW5kZXggLSBhYnNJbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBnYWxsZXJ5OiBtYWtlIHN1cmUgbmV3IHBhZ2Ugd29uJ3Qgb3ZlcmxhcCB3aXRoIGN1cnJlbnQgcGFnZVxuICAgICAgaWYgKCFjYXJvdXNlbCAmJiBpbmRleEdhcCAmJiBNYXRoLmFicyhpbmRleEdhcCkgPCBpdGVtcykge1xuICAgICAgICB2YXIgZmFjdG9yID0gaW5kZXhHYXAgPiAwID8gMSA6IC0xO1xuICAgICAgICBpbmRleEdhcCArPSAoaW5kZXggKyBpbmRleEdhcCAtIHNsaWRlQ291bnQpID49IGluZGV4TWluID8gc2xpZGVDb3VudCAqIGZhY3RvciA6IHNsaWRlQ291bnQgKiAyICogZmFjdG9yICogLTE7XG4gICAgICB9XG5cbiAgICAgIGluZGV4ICs9IGluZGV4R2FwO1xuXG4gICAgICAvLyBtYWtlIHN1cmUgaW5kZXggaXMgaW4gcmFuZ2VcbiAgICAgIGlmIChjYXJvdXNlbCAmJiBsb29wKSB7XG4gICAgICAgIGlmIChpbmRleCA8IGluZGV4TWluKSB7IGluZGV4ICs9IHNsaWRlQ291bnQ7IH1cbiAgICAgICAgaWYgKGluZGV4ID4gaW5kZXhNYXgpIHsgaW5kZXggLT0gc2xpZGVDb3VudDsgfVxuICAgICAgfVxuXG4gICAgICAvLyBpZiBpbmRleCBpcyBjaGFuZ2VkLCBzdGFydCByZW5kZXJpbmdcbiAgICAgIGlmIChnZXRBYnNJbmRleChpbmRleCkgIT09IGdldEFic0luZGV4KGluZGV4Q2FjaGVkKSkge1xuICAgICAgICByZW5kZXIoZSk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cblxuICAvLyBvbiBjb250cm9scyBjbGlja1xuICBmdW5jdGlvbiBvbkNvbnRyb2xzQ2xpY2sgKGUsIGRpcikge1xuICAgIGlmIChydW5uaW5nKSB7XG4gICAgICBpZiAocHJldmVudEFjdGlvbldoZW5SdW5uaW5nKSB7IHJldHVybjsgfSBlbHNlIHsgb25UcmFuc2l0aW9uRW5kKCk7IH1cbiAgICB9XG4gICAgdmFyIHBhc3NFdmVudE9iamVjdDtcblxuICAgIGlmICghZGlyKSB7XG4gICAgICBlID0gZ2V0RXZlbnQoZSk7XG4gICAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGUpO1xuXG4gICAgICB3aGlsZSAodGFyZ2V0ICE9PSBjb250cm9sc0NvbnRhaW5lciAmJiBbcHJldkJ1dHRvbiwgbmV4dEJ1dHRvbl0uaW5kZXhPZih0YXJnZXQpIDwgMCkgeyB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTsgfVxuXG4gICAgICB2YXIgdGFyZ2V0SW4gPSBbcHJldkJ1dHRvbiwgbmV4dEJ1dHRvbl0uaW5kZXhPZih0YXJnZXQpO1xuICAgICAgaWYgKHRhcmdldEluID49IDApIHtcbiAgICAgICAgcGFzc0V2ZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgZGlyID0gdGFyZ2V0SW4gPT09IDAgPyAtMSA6IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJld2luZCkge1xuICAgICAgaWYgKGluZGV4ID09PSBpbmRleE1pbiAmJiBkaXIgPT09IC0xKSB7XG4gICAgICAgIGdvVG8oJ2xhc3QnLCBlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gaW5kZXhNYXggJiYgZGlyID09PSAxKSB7XG4gICAgICAgIGdvVG8oJ2ZpcnN0JywgZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGlyKSB7XG4gICAgICBpbmRleCArPSBzbGlkZUJ5ICogZGlyO1xuICAgICAgaWYgKGF1dG9XaWR0aCkgeyBpbmRleCA9IE1hdGguZmxvb3IoaW5kZXgpOyB9XG4gICAgICAvLyBwYXNzIGUgd2hlbiBjbGljayBjb250cm9sIGJ1dHRvbnMgb3Iga2V5ZG93blxuICAgICAgcmVuZGVyKChwYXNzRXZlbnRPYmplY3QgfHwgKGUgJiYgZS50eXBlID09PSAna2V5ZG93bicpKSA/IGUgOiBudWxsKTtcbiAgICB9XG4gIH1cblxuICAvLyBvbiBuYXYgY2xpY2tcbiAgZnVuY3Rpb24gb25OYXZDbGljayAoZSkge1xuICAgIGlmIChydW5uaW5nKSB7XG4gICAgICBpZiAocHJldmVudEFjdGlvbldoZW5SdW5uaW5nKSB7IHJldHVybjsgfSBlbHNlIHsgb25UcmFuc2l0aW9uRW5kKCk7IH1cbiAgICB9XG4gICAgXG4gICAgZSA9IGdldEV2ZW50KGUpO1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoZSksIG5hdkluZGV4O1xuXG4gICAgLy8gZmluZCB0aGUgY2xpY2tlZCBuYXYgaXRlbVxuICAgIHdoaWxlICh0YXJnZXQgIT09IG5hdkNvbnRhaW5lciAmJiAhaGFzQXR0cih0YXJnZXQsICdkYXRhLW5hdicpKSB7IHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOyB9XG4gICAgaWYgKGhhc0F0dHIodGFyZ2V0LCAnZGF0YS1uYXYnKSkge1xuICAgICAgdmFyIG5hdkluZGV4ID0gbmF2Q2xpY2tlZCA9IE51bWJlcihnZXRBdHRyKHRhcmdldCwgJ2RhdGEtbmF2JykpLFxuICAgICAgICAgIHRhcmdldEluZGV4QmFzZSA9IGZpeGVkV2lkdGggfHwgYXV0b1dpZHRoID8gbmF2SW5kZXggKiBzbGlkZUNvdW50IC8gcGFnZXMgOiBuYXZJbmRleCAqIGl0ZW1zLFxuICAgICAgICAgIHRhcmdldEluZGV4ID0gbmF2QXNUaHVtYm5haWxzID8gbmF2SW5kZXggOiBNYXRoLm1pbihNYXRoLmNlaWwodGFyZ2V0SW5kZXhCYXNlKSwgc2xpZGVDb3VudCAtIDEpO1xuICAgICAgZ29Ubyh0YXJnZXRJbmRleCwgZSk7XG5cbiAgICAgIGlmIChuYXZDdXJyZW50SW5kZXggPT09IG5hdkluZGV4KSB7XG4gICAgICAgIGlmIChhbmltYXRpbmcpIHsgc3RvcEF1dG9wbGF5KCk7IH1cbiAgICAgICAgbmF2Q2xpY2tlZCA9IC0xOyAvLyByZXNldCBuYXZDbGlja2VkXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gYXV0b3BsYXkgZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIHNldEF1dG9wbGF5VGltZXIgKCkge1xuICAgIGF1dG9wbGF5VGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBvbkNvbnRyb2xzQ2xpY2sobnVsbCwgYXV0b3BsYXlEaXJlY3Rpb24pO1xuICAgIH0sIGF1dG9wbGF5VGltZW91dCk7XG5cbiAgICBhbmltYXRpbmcgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcEF1dG9wbGF5VGltZXIgKCkge1xuICAgIGNsZWFySW50ZXJ2YWwoYXV0b3BsYXlUaW1lcik7XG4gICAgYW5pbWF0aW5nID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVBdXRvcGxheUJ1dHRvbiAoYWN0aW9uLCB0eHQpIHtcbiAgICBzZXRBdHRycyhhdXRvcGxheUJ1dHRvbiwgeydkYXRhLWFjdGlvbic6IGFjdGlvbn0pO1xuICAgIGF1dG9wbGF5QnV0dG9uLmlubmVySFRNTCA9IGF1dG9wbGF5SHRtbFN0cmluZ3NbMF0gKyBhY3Rpb24gKyBhdXRvcGxheUh0bWxTdHJpbmdzWzFdICsgdHh0O1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRBdXRvcGxheSAoKSB7XG4gICAgc2V0QXV0b3BsYXlUaW1lcigpO1xuICAgIGlmIChhdXRvcGxheUJ1dHRvbikgeyB1cGRhdGVBdXRvcGxheUJ1dHRvbignc3RvcCcsIGF1dG9wbGF5VGV4dFsxXSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3BBdXRvcGxheSAoKSB7XG4gICAgc3RvcEF1dG9wbGF5VGltZXIoKTtcbiAgICBpZiAoYXV0b3BsYXlCdXR0b24pIHsgdXBkYXRlQXV0b3BsYXlCdXR0b24oJ3N0YXJ0JywgYXV0b3BsYXlUZXh0WzBdKTsgfVxuICB9XG5cbiAgLy8gcHJvZ3JhbWFpdGNhbGx5IHBsYXkvcGF1c2UgdGhlIHNsaWRlclxuICBmdW5jdGlvbiBwbGF5ICgpIHtcbiAgICBpZiAoYXV0b3BsYXkgJiYgIWFuaW1hdGluZykge1xuICAgICAgc3RhcnRBdXRvcGxheSgpO1xuICAgICAgYXV0b3BsYXlVc2VyUGF1c2VkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHBhdXNlICgpIHtcbiAgICBpZiAoYW5pbWF0aW5nKSB7XG4gICAgICBzdG9wQXV0b3BsYXkoKTtcbiAgICAgIGF1dG9wbGF5VXNlclBhdXNlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlQXV0b3BsYXkgKCkge1xuICAgIGlmIChhbmltYXRpbmcpIHtcbiAgICAgIHN0b3BBdXRvcGxheSgpO1xuICAgICAgYXV0b3BsYXlVc2VyUGF1c2VkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRBdXRvcGxheSgpO1xuICAgICAgYXV0b3BsYXlVc2VyUGF1c2VkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlICgpIHtcbiAgICBpZiAoZG9jLmhpZGRlbikge1xuICAgICAgaWYgKGFuaW1hdGluZykge1xuICAgICAgICBzdG9wQXV0b3BsYXlUaW1lcigpO1xuICAgICAgICBhdXRvcGxheVZpc2liaWxpdHlQYXVzZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXV0b3BsYXlWaXNpYmlsaXR5UGF1c2VkKSB7XG4gICAgICBzZXRBdXRvcGxheVRpbWVyKCk7XG4gICAgICBhdXRvcGxheVZpc2liaWxpdHlQYXVzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZW92ZXJQYXVzZSAoKSB7XG4gICAgaWYgKGFuaW1hdGluZykgeyBcbiAgICAgIHN0b3BBdXRvcGxheVRpbWVyKCk7XG4gICAgICBhdXRvcGxheUhvdmVyUGF1c2VkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZW91dFJlc3RhcnQgKCkge1xuICAgIGlmIChhdXRvcGxheUhvdmVyUGF1c2VkKSB7IFxuICAgICAgc2V0QXV0b3BsYXlUaW1lcigpO1xuICAgICAgYXV0b3BsYXlIb3ZlclBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIGtleWRvd24gZXZlbnRzIG9uIGRvY3VtZW50IFxuICBmdW5jdGlvbiBvbkRvY3VtZW50S2V5ZG93biAoZSkge1xuICAgIGUgPSBnZXRFdmVudChlKTtcbiAgICB2YXIga2V5SW5kZXggPSBbS0VZUy5MRUZULCBLRVlTLlJJR0hUXS5pbmRleE9mKGUua2V5Q29kZSk7XG5cbiAgICBpZiAoa2V5SW5kZXggPj0gMCkge1xuICAgICAgb25Db250cm9sc0NsaWNrKGUsIGtleUluZGV4ID09PSAwID8gLTEgOiAxKTtcbiAgICB9XG4gIH1cblxuICAvLyBvbiBrZXkgY29udHJvbFxuICBmdW5jdGlvbiBvbkNvbnRyb2xzS2V5ZG93biAoZSkge1xuICAgIGUgPSBnZXRFdmVudChlKTtcbiAgICB2YXIga2V5SW5kZXggPSBbS0VZUy5MRUZULCBLRVlTLlJJR0hUXS5pbmRleE9mKGUua2V5Q29kZSk7XG5cbiAgICBpZiAoa2V5SW5kZXggPj0gMCkge1xuICAgICAgaWYgKGtleUluZGV4ID09PSAwKSB7XG4gICAgICAgIGlmICghcHJldkJ1dHRvbi5kaXNhYmxlZCkgeyBvbkNvbnRyb2xzQ2xpY2soZSwgLTEpOyB9XG4gICAgICB9IGVsc2UgaWYgKCFuZXh0QnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIG9uQ29udHJvbHNDbGljayhlLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBzZXQgZm9jdXNcbiAgZnVuY3Rpb24gc2V0Rm9jdXMgKGVsKSB7XG4gICAgZWwuZm9jdXMoKTtcbiAgfVxuXG4gIC8vIG9uIGtleSBuYXZcbiAgZnVuY3Rpb24gb25OYXZLZXlkb3duIChlKSB7XG4gICAgZSA9IGdldEV2ZW50KGUpO1xuICAgIHZhciBjdXJFbGVtZW50ID0gZG9jLmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKCFoYXNBdHRyKGN1ckVsZW1lbnQsICdkYXRhLW5hdicpKSB7IHJldHVybjsgfVxuXG4gICAgLy8gdmFyIGNvZGUgPSBlLmtleUNvZGUsXG4gICAgdmFyIGtleUluZGV4ID0gW0tFWVMuTEVGVCwgS0VZUy5SSUdIVCwgS0VZUy5FTlRFUiwgS0VZUy5TUEFDRV0uaW5kZXhPZihlLmtleUNvZGUpLFxuICAgICAgICBuYXZJbmRleCA9IE51bWJlcihnZXRBdHRyKGN1ckVsZW1lbnQsICdkYXRhLW5hdicpKTtcblxuICAgIGlmIChrZXlJbmRleCA+PSAwKSB7XG4gICAgICBpZiAoa2V5SW5kZXggPT09IDApIHtcbiAgICAgICAgaWYgKG5hdkluZGV4ID4gMCkgeyBzZXRGb2N1cyhuYXZJdGVtc1tuYXZJbmRleCAtIDFdKTsgfVxuICAgICAgfSBlbHNlIGlmIChrZXlJbmRleCA9PT0gMSkge1xuICAgICAgICBpZiAobmF2SW5kZXggPCBwYWdlcyAtIDEpIHsgc2V0Rm9jdXMobmF2SXRlbXNbbmF2SW5kZXggKyAxXSk7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hdkNsaWNrZWQgPSBuYXZJbmRleDtcbiAgICAgICAgZ29UbyhuYXZJbmRleCwgZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RXZlbnQgKGUpIHtcbiAgICBlID0gZSB8fCB3aW4uZXZlbnQ7XG4gICAgcmV0dXJuIGlzVG91Y2hFdmVudChlKSA/IGUuY2hhbmdlZFRvdWNoZXNbMF0gOiBlO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRhcmdldCAoZSkge1xuICAgIHJldHVybiBlLnRhcmdldCB8fCB3aW4uZXZlbnQuc3JjRWxlbWVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVG91Y2hFdmVudCAoZSkge1xuICAgIHJldHVybiBlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA+PSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJldmVudERlZmF1bHRCZWhhdmlvciAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNb3ZlRGlyZWN0aW9uRXhwZWN0ZWQgKCkge1xuICAgIHJldHVybiBnZXRUb3VjaERpcmVjdGlvbih0b0RlZ3JlZShsYXN0UG9zaXRpb24ueSAtIGluaXRQb3NpdGlvbi55LCBsYXN0UG9zaXRpb24ueCAtIGluaXRQb3NpdGlvbi54KSwgc3dpcGVBbmdsZSkgPT09IG9wdGlvbnMuYXhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUGFuU3RhcnQgKGUpIHtcbiAgICBpZiAocnVubmluZykge1xuICAgICAgaWYgKHByZXZlbnRBY3Rpb25XaGVuUnVubmluZykgeyByZXR1cm47IH0gZWxzZSB7IG9uVHJhbnNpdGlvbkVuZCgpOyB9XG4gICAgfVxuXG4gICAgaWYgKGF1dG9wbGF5ICYmIGFuaW1hdGluZykgeyBzdG9wQXV0b3BsYXlUaW1lcigpOyB9XG4gICAgXG4gICAgcGFuU3RhcnQgPSB0cnVlO1xuICAgIGlmIChyYWZJbmRleCkge1xuICAgICAgY2FmKHJhZkluZGV4KTtcbiAgICAgIHJhZkluZGV4ID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgJCA9IGdldEV2ZW50KGUpO1xuICAgIGV2ZW50cy5lbWl0KGlzVG91Y2hFdmVudChlKSA/ICd0b3VjaFN0YXJ0JyA6ICdkcmFnU3RhcnQnLCBpbmZvKGUpKTtcblxuICAgIGlmICghaXNUb3VjaEV2ZW50KGUpICYmIFsnaW1nJywgJ2EnXS5pbmRleE9mKGdldExvd2VyQ2FzZU5vZGVOYW1lKGdldFRhcmdldChlKSkpID49IDApIHtcbiAgICAgIHByZXZlbnREZWZhdWx0QmVoYXZpb3IoZSk7XG4gICAgfVxuXG4gICAgbGFzdFBvc2l0aW9uLnggPSBpbml0UG9zaXRpb24ueCA9ICQuY2xpZW50WDtcbiAgICBsYXN0UG9zaXRpb24ueSA9IGluaXRQb3NpdGlvbi55ID0gJC5jbGllbnRZO1xuICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgdHJhbnNsYXRlSW5pdCA9IHBhcnNlRmxvYXQoY29udGFpbmVyLnN0eWxlW3RyYW5zZm9ybUF0dHJdLnJlcGxhY2UodHJhbnNmb3JtUHJlZml4LCAnJykpO1xuICAgICAgcmVzZXREdXJhdGlvbihjb250YWluZXIsICcwcycpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUGFuTW92ZSAoZSkge1xuICAgIGlmIChwYW5TdGFydCkge1xuICAgICAgdmFyICQgPSBnZXRFdmVudChlKTtcbiAgICAgIGxhc3RQb3NpdGlvbi54ID0gJC5jbGllbnRYO1xuICAgICAgbGFzdFBvc2l0aW9uLnkgPSAkLmNsaWVudFk7XG5cbiAgICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgICBpZiAoIXJhZkluZGV4KSB7IHJhZkluZGV4ID0gcmFmKGZ1bmN0aW9uKCl7IHBhblVwZGF0ZShlKTsgfSk7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtb3ZlRGlyZWN0aW9uRXhwZWN0ZWQgPT09ICc/JykgeyBtb3ZlRGlyZWN0aW9uRXhwZWN0ZWQgPSBnZXRNb3ZlRGlyZWN0aW9uRXhwZWN0ZWQoKTsgfVxuICAgICAgICBpZiAobW92ZURpcmVjdGlvbkV4cGVjdGVkKSB7IHByZXZlbnRTY3JvbGwgPSB0cnVlOyB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2ZW50U2Nyb2xsKSB7IGUucHJldmVudERlZmF1bHQoKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhblVwZGF0ZSAoZSkge1xuICAgIGlmICghbW92ZURpcmVjdGlvbkV4cGVjdGVkKSB7XG4gICAgICBwYW5TdGFydCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWYocmFmSW5kZXgpO1xuICAgIGlmIChwYW5TdGFydCkgeyByYWZJbmRleCA9IHJhZihmdW5jdGlvbigpeyBwYW5VcGRhdGUoZSk7IH0pOyB9XG5cbiAgICBpZiAobW92ZURpcmVjdGlvbkV4cGVjdGVkID09PSAnPycpIHsgbW92ZURpcmVjdGlvbkV4cGVjdGVkID0gZ2V0TW92ZURpcmVjdGlvbkV4cGVjdGVkKCk7IH1cbiAgICBpZiAobW92ZURpcmVjdGlvbkV4cGVjdGVkKSB7XG4gICAgICBpZiAoIXByZXZlbnRTY3JvbGwgJiYgaXNUb3VjaEV2ZW50KGUpKSB7IHByZXZlbnRTY3JvbGwgPSB0cnVlOyB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChlLnR5cGUpIHsgZXZlbnRzLmVtaXQoaXNUb3VjaEV2ZW50KGUpID8gJ3RvdWNoTW92ZScgOiAnZHJhZ01vdmUnLCBpbmZvKGUpKTsgfVxuICAgICAgfSBjYXRjaChlcnIpIHt9XG5cbiAgICAgIHZhciB4ID0gdHJhbnNsYXRlSW5pdCxcbiAgICAgICAgICBkaXN0ID0gZ2V0RGlzdChsYXN0UG9zaXRpb24sIGluaXRQb3NpdGlvbik7XG4gICAgICBpZiAoIWhvcml6b250YWwgfHwgZml4ZWRXaWR0aCB8fCBhdXRvV2lkdGgpIHtcbiAgICAgICAgeCArPSBkaXN0O1xuICAgICAgICB4ICs9ICdweCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGVyY2VudGFnZVggPSBUUkFOU0ZPUk0gPyBkaXN0ICogaXRlbXMgKiAxMDAgLyAoKHZpZXdwb3J0ICsgZ3V0dGVyKSAqIHNsaWRlQ291bnROZXcpOiBkaXN0ICogMTAwIC8gKHZpZXdwb3J0ICsgZ3V0dGVyKTtcbiAgICAgICAgeCArPSBwZXJjZW50YWdlWDtcbiAgICAgICAgeCArPSAnJSc7XG4gICAgICB9XG5cbiAgICAgIGNvbnRhaW5lci5zdHlsZVt0cmFuc2Zvcm1BdHRyXSA9IHRyYW5zZm9ybVByZWZpeCArIHggKyB0cmFuc2Zvcm1Qb3N0Zml4O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUGFuRW5kIChlKSB7XG4gICAgaWYgKHBhblN0YXJ0KSB7XG4gICAgICBpZiAocmFmSW5kZXgpIHtcbiAgICAgICAgY2FmKHJhZkluZGV4KTtcbiAgICAgICAgcmFmSW5kZXggPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNhcm91c2VsKSB7IHJlc2V0RHVyYXRpb24oY29udGFpbmVyLCAnJyk7IH1cbiAgICAgIHBhblN0YXJ0ID0gZmFsc2U7XG5cbiAgICAgIHZhciAkID0gZ2V0RXZlbnQoZSk7XG4gICAgICBsYXN0UG9zaXRpb24ueCA9ICQuY2xpZW50WDtcbiAgICAgIGxhc3RQb3NpdGlvbi55ID0gJC5jbGllbnRZO1xuICAgICAgdmFyIGRpc3QgPSBnZXREaXN0KGxhc3RQb3NpdGlvbiwgaW5pdFBvc2l0aW9uKTtcblxuICAgICAgaWYgKE1hdGguYWJzKGRpc3QpKSB7XG4gICAgICAgIC8vIGRyYWcgdnMgY2xpY2tcbiAgICAgICAgaWYgKCFpc1RvdWNoRXZlbnQoZSkpIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IFwiY2xpY2tcIlxuICAgICAgICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoZSk7XG4gICAgICAgICAgYWRkRXZlbnRzKHRhcmdldCwgeydjbGljayc6IGZ1bmN0aW9uIHByZXZlbnRDbGljayAoZSkge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHRCZWhhdmlvcihlKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50cyh0YXJnZXQsIHsnY2xpY2snOiBwcmV2ZW50Q2xpY2t9KTtcbiAgICAgICAgICB9fSk7IFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhcm91c2VsKSB7XG4gICAgICAgICAgcmFmSW5kZXggPSByYWYoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaG9yaXpvbnRhbCAmJiAhYXV0b1dpZHRoKSB7XG4gICAgICAgICAgICAgIHZhciBpbmRleE1vdmVkID0gLSBkaXN0ICogaXRlbXMgLyAodmlld3BvcnQgKyBndXR0ZXIpO1xuICAgICAgICAgICAgICBpbmRleE1vdmVkID0gZGlzdCA+IDAgPyBNYXRoLmZsb29yKGluZGV4TW92ZWQpIDogTWF0aC5jZWlsKGluZGV4TW92ZWQpO1xuICAgICAgICAgICAgICBpbmRleCArPSBpbmRleE1vdmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIG1vdmVkID0gLSAodHJhbnNsYXRlSW5pdCArIGRpc3QpO1xuICAgICAgICAgICAgICBpZiAobW92ZWQgPD0gMCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXhNaW47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZWQgPj0gc2xpZGVQb3NpdGlvbnNbc2xpZGVDb3VudE5ldyAtIDFdKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleE1heDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBzbGlkZUNvdW50TmV3ICYmIG1vdmVkID49IHNsaWRlUG9zaXRpb25zW2ldKSB7XG4gICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICBpZiAobW92ZWQgPiBzbGlkZVBvc2l0aW9uc1tpXSAmJiBkaXN0IDwgMCkgeyBpbmRleCArPSAxOyB9XG4gICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlcihlLCBkaXN0KTtcbiAgICAgICAgICAgIGV2ZW50cy5lbWl0KGlzVG91Y2hFdmVudChlKSA/ICd0b3VjaEVuZCcgOiAnZHJhZ0VuZCcsIGluZm8oZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChtb3ZlRGlyZWN0aW9uRXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIG9uQ29udHJvbHNDbGljayhlLCBkaXN0ID4gMCA/IC0xIDogMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVzZXRcbiAgICBpZiAob3B0aW9ucy5wcmV2ZW50U2Nyb2xsT25Ub3VjaCA9PT0gJ2F1dG8nKSB7IHByZXZlbnRTY3JvbGwgPSBmYWxzZTsgfVxuICAgIGlmIChzd2lwZUFuZ2xlKSB7IG1vdmVEaXJlY3Rpb25FeHBlY3RlZCA9ICc/JzsgfSBcbiAgICBpZiAoYXV0b3BsYXkgJiYgIWFuaW1hdGluZykgeyBzZXRBdXRvcGxheVRpbWVyKCk7IH1cbiAgfVxuXG4gIC8vID09PSBSRVNJWkUgRlVOQ1RJT05TID09PSAvL1xuICAvLyAoc2xpZGVQb3NpdGlvbnMsIGluZGV4LCBpdGVtcykgPT4gdmVydGljYWxfY29uZW50V3JhcHBlci5oZWlnaHRcbiAgZnVuY3Rpb24gdXBkYXRlQ29udGVudFdyYXBwZXJIZWlnaHQgKCkge1xuICAgIHZhciB3cCA9IG1pZGRsZVdyYXBwZXIgPyBtaWRkbGVXcmFwcGVyIDogaW5uZXJXcmFwcGVyO1xuICAgIHdwLnN0eWxlLmhlaWdodCA9IHNsaWRlUG9zaXRpb25zW2luZGV4ICsgaXRlbXNdIC0gc2xpZGVQb3NpdGlvbnNbaW5kZXhdICsgJ3B4JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBhZ2VzICgpIHtcbiAgICB2YXIgcm91Z2ggPSBmaXhlZFdpZHRoID8gKGZpeGVkV2lkdGggKyBndXR0ZXIpICogc2xpZGVDb3VudCAvIHZpZXdwb3J0IDogc2xpZGVDb3VudCAvIGl0ZW1zO1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLmNlaWwocm91Z2gpLCBzbGlkZUNvdW50KTtcbiAgfVxuXG4gIC8qXG4gICAqIDEuIHVwZGF0ZSB2aXNpYmxlIG5hdiBpdGVtcyBsaXN0XG4gICAqIDIuIGFkZCBcImhpZGRlblwiIGF0dHJpYnV0ZXMgdG8gcHJldmlvdXMgdmlzaWJsZSBuYXYgaXRlbXNcbiAgICogMy4gcmVtb3ZlIFwiaGlkZGVuXCIgYXR0cnVidXRlcyB0byBuZXcgdmlzaWJsZSBuYXYgaXRlbXNcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZU5hdlZpc2liaWxpdHkgKCkge1xuICAgIGlmICghbmF2IHx8IG5hdkFzVGh1bWJuYWlscykgeyByZXR1cm47IH1cblxuICAgIGlmIChwYWdlcyAhPT0gcGFnZXNDYWNoZWQpIHtcbiAgICAgIHZhciBtaW4gPSBwYWdlc0NhY2hlZCxcbiAgICAgICAgICBtYXggPSBwYWdlcyxcbiAgICAgICAgICBmbiA9IHNob3dFbGVtZW50O1xuXG4gICAgICBpZiAocGFnZXNDYWNoZWQgPiBwYWdlcykge1xuICAgICAgICBtaW4gPSBwYWdlcztcbiAgICAgICAgbWF4ID0gcGFnZXNDYWNoZWQ7XG4gICAgICAgIGZuID0gaGlkZUVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChtaW4gPCBtYXgpIHtcbiAgICAgICAgZm4obmF2SXRlbXNbbWluXSk7XG4gICAgICAgIG1pbisrO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWNoZSBwYWdlc1xuICAgICAgcGFnZXNDYWNoZWQgPSBwYWdlcztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbmZvIChlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgc2xpZGVJdGVtczogc2xpZGVJdGVtcyxcbiAgICAgIG5hdkNvbnRhaW5lcjogbmF2Q29udGFpbmVyLFxuICAgICAgbmF2SXRlbXM6IG5hdkl0ZW1zLFxuICAgICAgY29udHJvbHNDb250YWluZXI6IGNvbnRyb2xzQ29udGFpbmVyLFxuICAgICAgaGFzQ29udHJvbHM6IGhhc0NvbnRyb2xzLFxuICAgICAgcHJldkJ1dHRvbjogcHJldkJ1dHRvbixcbiAgICAgIG5leHRCdXR0b246IG5leHRCdXR0b24sXG4gICAgICBpdGVtczogaXRlbXMsXG4gICAgICBzbGlkZUJ5OiBzbGlkZUJ5LFxuICAgICAgY2xvbmVDb3VudDogY2xvbmVDb3VudCxcbiAgICAgIHNsaWRlQ291bnQ6IHNsaWRlQ291bnQsXG4gICAgICBzbGlkZUNvdW50TmV3OiBzbGlkZUNvdW50TmV3LFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgaW5kZXhDYWNoZWQ6IGluZGV4Q2FjaGVkLFxuICAgICAgZGlzcGxheUluZGV4OiBnZXRDdXJyZW50U2xpZGUoKSxcbiAgICAgIG5hdkN1cnJlbnRJbmRleDogbmF2Q3VycmVudEluZGV4LFxuICAgICAgbmF2Q3VycmVudEluZGV4Q2FjaGVkOiBuYXZDdXJyZW50SW5kZXhDYWNoZWQsXG4gICAgICBwYWdlczogcGFnZXMsXG4gICAgICBwYWdlc0NhY2hlZDogcGFnZXNDYWNoZWQsXG4gICAgICBzaGVldDogc2hlZXQsXG4gICAgICBpc09uOiBpc09uLFxuICAgICAgZXZlbnQ6IGUgfHwge30sXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmVyc2lvbjogJzIuOS4yJyxcbiAgICBnZXRJbmZvOiBpbmZvLFxuICAgIGV2ZW50czogZXZlbnRzLFxuICAgIGdvVG86IGdvVG8sXG4gICAgcGxheTogcGxheSxcbiAgICBwYXVzZTogcGF1c2UsXG4gICAgaXNPbjogaXNPbixcbiAgICB1cGRhdGVTbGlkZXJIZWlnaHQ6IHVwZGF0ZUlubmVyV3JhcHBlckhlaWdodCxcbiAgICByZWZyZXNoOiBpbml0U2xpZGVyVHJhbnNmb3JtLFxuICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgcmVidWlsZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdG5zKGV4dGVuZChvcHRpb25zLCBvcHRpb25zRWxlbWVudHMpKTtcbiAgICB9XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDUkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///96\n")},function(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(56);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1wcmltaXRpdmUuanM/NmE5OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///97\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = __webpack_require__(11);\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19mbGFncy5qcz8wYmZiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIDIxLjIuNS4zIGdldCBSZWdFeHAucHJvdG90eXBlLmZsYWdzXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGhhdCA9IGFuT2JqZWN0KHRoaXMpO1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmICh0aGF0Lmdsb2JhbCkgcmVzdWx0ICs9ICdnJztcbiAgaWYgKHRoYXQuaWdub3JlQ2FzZSkgcmVzdWx0ICs9ICdpJztcbiAgaWYgKHRoYXQubXVsdGlsaW5lKSByZXN1bHQgKz0gJ20nO1xuICBpZiAodGhhdC51bmljb2RlKSByZXN1bHQgKz0gJ3UnO1xuICBpZiAodGhhdC5zdGlja3kpIHJlc3VsdCArPSAneSc7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///98\n")},function(module,exports,__webpack_require__){eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(76);\nvar TAG = __webpack_require__(9)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jbGFzc29mLmpzPzIzYzYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcbi8vIEVTMyB3cm9uZyBoZXJlXG52YXIgQVJHID0gY29mKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///99\n")},function(module,exports,__webpack_require__){eval("var shared = __webpack_require__(74)('keys');\nvar uid = __webpack_require__(62);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2hhcmVkLWtleS5qcz82MTNiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///100\n")},function(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcz9lMTFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///101\n")},function(module,exports,__webpack_require__){eval("var def = __webpack_require__(15).f;\nvar has = __webpack_require__(35);\nvar TAG = __webpack_require__(9)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanM/N2YyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIHRhZywgc3RhdCkge1xuICBpZiAoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSkgZGVmKGl0LCBUQUcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnIH0pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///102\n")},function(module,exports){eval("exports.f = {}.propertyIsEnumerable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcz81MmE3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///103\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar at = __webpack_require__(113)(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYWR2YW5jZS1zdHJpbmctaW5kZXguanM/MDM5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuIC8vIGBBZHZhbmNlU3RyaW5nSW5kZXhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYWR2YW5jZXN0cmluZ2luZGV4XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTLCBpbmRleCwgdW5pY29kZSkge1xuICByZXR1cm4gaW5kZXggKyAodW5pY29kZSA/IGF0KFMsIGluZGV4KS5sZW5ndGggOiAxKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///104\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar regexpFlags = __webpack_require__(98);\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcmVnZXhwLWV4ZWMuanM/NTIwYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciByZWdleHBGbGFncyA9IHJlcXVpcmUoJy4vX2ZsYWdzJyk7XG5cbnZhciBuYXRpdmVFeGVjID0gUmVnRXhwLnByb3RvdHlwZS5leGVjO1xuLy8gVGhpcyBhbHdheXMgcmVmZXJzIHRvIHRoZSBuYXRpdmUgaW1wbGVtZW50YXRpb24sIGJlY2F1c2UgdGhlXG4vLyBTdHJpbmcjcmVwbGFjZSBwb2x5ZmlsbCB1c2VzIC4vZml4LXJlZ2V4cC13ZWxsLWtub3duLXN5bWJvbC1sb2dpYy5qcyxcbi8vIHdoaWNoIGxvYWRzIHRoaXMgZmlsZSBiZWZvcmUgcGF0Y2hpbmcgdGhlIG1ldGhvZC5cbnZhciBuYXRpdmVSZXBsYWNlID0gU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlO1xuXG52YXIgcGF0Y2hlZEV4ZWMgPSBuYXRpdmVFeGVjO1xuXG52YXIgTEFTVF9JTkRFWCA9ICdsYXN0SW5kZXgnO1xuXG52YXIgVVBEQVRFU19MQVNUX0lOREVYX1dST05HID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlMSA9IC9hLyxcbiAgICAgIHJlMiA9IC9iKi9nO1xuICBuYXRpdmVFeGVjLmNhbGwocmUxLCAnYScpO1xuICBuYXRpdmVFeGVjLmNhbGwocmUyLCAnYScpO1xuICByZXR1cm4gcmUxW0xBU1RfSU5ERVhdICE9PSAwIHx8IHJlMltMQVNUX0lOREVYXSAhPT0gMDtcbn0pKCk7XG5cbi8vIG5vbnBhcnRpY2lwYXRpbmcgY2FwdHVyaW5nIGdyb3VwLCBjb3BpZWQgZnJvbSBlczUtc2hpbSdzIFN0cmluZyNzcGxpdCBwYXRjaC5cbnZhciBOUENHX0lOQ0xVREVEID0gLygpPz8vLmV4ZWMoJycpWzFdICE9PSB1bmRlZmluZWQ7XG5cbnZhciBQQVRDSCA9IFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyB8fCBOUENHX0lOQ0xVREVEO1xuXG5pZiAoUEFUQ0gpIHtcbiAgcGF0Y2hlZEV4ZWMgPSBmdW5jdGlvbiBleGVjKHN0cikge1xuICAgIHZhciByZSA9IHRoaXM7XG4gICAgdmFyIGxhc3RJbmRleCwgcmVDb3B5LCBtYXRjaCwgaTtcblxuICAgIGlmIChOUENHX0lOQ0xVREVEKSB7XG4gICAgICByZUNvcHkgPSBuZXcgUmVnRXhwKCdeJyArIHJlLnNvdXJjZSArICckKD8hXFxcXHMpJywgcmVnZXhwRmxhZ3MuY2FsbChyZSkpO1xuICAgIH1cbiAgICBpZiAoVVBEQVRFU19MQVNUX0lOREVYX1dST05HKSBsYXN0SW5kZXggPSByZVtMQVNUX0lOREVYXTtcblxuICAgIG1hdGNoID0gbmF0aXZlRXhlYy5jYWxsKHJlLCBzdHIpO1xuXG4gICAgaWYgKFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyAmJiBtYXRjaCkge1xuICAgICAgcmVbTEFTVF9JTkRFWF0gPSByZS5nbG9iYWwgPyBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCA6IGxhc3RJbmRleDtcbiAgICB9XG4gICAgaWYgKE5QQ0dfSU5DTFVERUQgJiYgbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgLy8gRml4IGJyb3dzZXJzIHdob3NlIGBleGVjYCBtZXRob2RzIGRvbid0IGNvbnNpc3RlbnRseSByZXR1cm4gYHVuZGVmaW5lZGBcbiAgICAgIC8vIGZvciBOUENHLCBsaWtlIElFOC4gTk9URTogVGhpcyBkb2Vzbicgd29yayBmb3IgLyguPyk/L1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xuICAgICAgbmF0aXZlUmVwbGFjZS5jYWxsKG1hdGNoWzBdLCByZUNvcHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldID09PSB1bmRlZmluZWQpIG1hdGNoW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0Y2hlZEV4ZWM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///105\n")},,,,,function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcz9jZDAwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///110\n')},function(module,exports,__webpack_require__){eval("module.exports = !__webpack_require__(16) && !__webpack_require__(26)(function () {\n  return Object.defineProperty(__webpack_require__(112)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanM/YzY5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///111\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(56);\nvar document = __webpack_require__(17).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcz8yMzBlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///112\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(77);\nvar defined = __webpack_require__(57);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWF0LmpzPzAyZjQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///113\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(75);\nvar $export = __webpack_require__(36);\nvar redefine = __webpack_require__(34);\nvar hide = __webpack_require__(27);\nvar Iterators = __webpack_require__(64);\nvar $iterCreate = __webpack_require__(132);\nvar setToStringTag = __webpack_require__(102);\nvar getPrototypeOf = __webpack_require__(137);\nvar ITERATOR = __webpack_require__(9)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1kZWZpbmUuanM/MDFmOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///114\n")},function(module,exports,__webpack_require__){eval("// optional / simple context binding\nvar aFunction = __webpack_require__(116);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fY3R4LmpzPzliNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///115\n")},function(module,exports){eval("module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcz9kOGU4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///116\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(11);\nvar dPs = __webpack_require__(133);\nvar enumBugKeys = __webpack_require__(101);\nvar IE_PROTO = __webpack_require__(100)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(112)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(136).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcz8yYWViIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZFBzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///117\n")},function(module,exports,__webpack_require__){eval("var has = __webpack_require__(35);\nvar toIObject = __webpack_require__(58);\nvar arrayIndexOf = __webpack_require__(119)(false);\nvar IE_PROTO = __webpack_require__(100)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanM/Y2UxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///118\n")},function(module,exports,__webpack_require__){eval("// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(58);\nvar toLength = __webpack_require__(65);\nvar toAbsoluteIndex = __webpack_require__(135);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanM/YzM2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0lPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykge1xuICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///119\n")},function(module,exports,__webpack_require__){eval("// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = __webpack_require__(9)('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) __webpack_require__(27)(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzPzljNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMjIuMS4zLjMxIEFycmF5LnByb3RvdHlwZVtAQHVuc2NvcGFibGVzXVxudmFyIFVOU0NPUEFCTEVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3Vuc2NvcGFibGVzJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbmlmIChBcnJheVByb3RvW1VOU0NPUEFCTEVTXSA9PSB1bmRlZmluZWQpIHJlcXVpcmUoJy4vX2hpZGUnKShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIEFycmF5UHJvdG9bVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///120\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(17);\nvar core = __webpack_require__(63);\nvar LIBRARY = __webpack_require__(75);\nvar wksExt = __webpack_require__(122);\nvar defineProperty = __webpack_require__(15).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fd2tzLWRlZmluZS5qcz8zYTcyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYgKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpIGRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHsgdmFsdWU6IHdrc0V4dC5mKG5hbWUpIH0pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///121\n")},function(module,exports,__webpack_require__){eval("exports.f = __webpack_require__(9);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fd2tzLWV4dC5qcz8zN2M4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///122\n")},function(module,exports){eval("exports.f = Object.getOwnPropertySymbols;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanM/MjYyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///123\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(118);\nvar hiddenKeys = __webpack_require__(101).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanM/OTA5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJykuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///124\n")},function(module,exports,__webpack_require__){eval("// 7.2.8 IsRegExp(argument)\nvar isObject = __webpack_require__(56);\nvar cof = __webpack_require__(76);\nvar MATCH = __webpack_require__(9)('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtcmVnZXhwLmpzP2FhZTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4yLjggSXNSZWdFeHAoYXJndW1lbnQpXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbnZhciBNQVRDSCA9IHJlcXVpcmUoJy4vX3drcycpKCdtYXRjaCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIGlzUmVnRXhwO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmICgoaXNSZWdFeHAgPSBpdFtNQVRDSF0pICE9PSB1bmRlZmluZWQgPyAhIWlzUmVnRXhwIDogY29mKGl0KSA9PSAnUmVnRXhwJyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///125\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar anObject = __webpack_require__(11);\nvar sameValue = __webpack_require__(155);\nvar regExpExec = __webpack_require__(84);\n\n// @@search logic\n__webpack_require__(85)('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNlYXJjaC5qcz8zODZkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgc2FtZVZhbHVlID0gcmVxdWlyZSgnLi9fc2FtZS12YWx1ZScpO1xudmFyIHJlZ0V4cEV4ZWMgPSByZXF1aXJlKCcuL19yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xuXG4vLyBAQHNlYXJjaCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdzZWFyY2gnLCAxLCBmdW5jdGlvbiAoZGVmaW5lZCwgU0VBUkNILCAkc2VhcmNoLCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5zZWFyY2hgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUuc2VhcmNoXG4gICAgZnVuY3Rpb24gc2VhcmNoKHJlZ2V4cCkge1xuICAgICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgICAgdmFyIGZuID0gcmVnZXhwID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHJlZ2V4cFtTRUFSQ0hdO1xuICAgICAgcmV0dXJuIGZuICE9PSB1bmRlZmluZWQgPyBmbi5jYWxsKHJlZ2V4cCwgTykgOiBuZXcgUmVnRXhwKHJlZ2V4cClbU0VBUkNIXShTdHJpbmcoTykpO1xuICAgIH0sXG4gICAgLy8gYFJlZ0V4cC5wcm90b3R5cGVbQEBzZWFyY2hdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAc2VhcmNoXG4gICAgZnVuY3Rpb24gKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlcyA9IG1heWJlQ2FsbE5hdGl2ZSgkc2VhcmNoLCByZWdleHAsIHRoaXMpO1xuICAgICAgaWYgKHJlcy5kb25lKSByZXR1cm4gcmVzLnZhbHVlO1xuICAgICAgdmFyIHJ4ID0gYW5PYmplY3QocmVnZXhwKTtcbiAgICAgIHZhciBTID0gU3RyaW5nKHRoaXMpO1xuICAgICAgdmFyIHByZXZpb3VzTGFzdEluZGV4ID0gcngubGFzdEluZGV4O1xuICAgICAgaWYgKCFzYW1lVmFsdWUocHJldmlvdXNMYXN0SW5kZXgsIDApKSByeC5sYXN0SW5kZXggPSAwO1xuICAgICAgdmFyIHJlc3VsdCA9IHJlZ0V4cEV4ZWMocngsIFMpO1xuICAgICAgaWYgKCFzYW1lVmFsdWUocngubGFzdEluZGV4LCBwcmV2aW91c0xhc3RJbmRleCkpIHJ4Lmxhc3RJbmRleCA9IHByZXZpb3VzTGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gbnVsbCA/IC0xIDogcmVzdWx0LmluZGV4O1xuICAgIH1cbiAgXTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///126\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9zY3NzL19uYXYuc2Nzcz85NTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///127\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL2Rpc3QvdGlueS1zbGlkZXIuY3NzP2M2ODUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///128\n")},,function(module,exports,__webpack_require__){eval("// 21.2.5.3 get RegExp.prototype.flags()\nif (__webpack_require__(16) && /./g.flags != 'g') __webpack_require__(15).f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: __webpack_require__(98)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLmZsYWdzLmpzPzM4NDYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MoKVxuaWYgKHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgLy4vZy5mbGFncyAhPSAnZycpIHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYoUmVnRXhwLnByb3RvdHlwZSwgJ2ZsYWdzJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogcmVxdWlyZSgnLi9fZmxhZ3MnKVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///130\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(74)('native-function-to-string', Function.toString);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZnVuY3Rpb24tdG8tc3RyaW5nLmpzP2ZhNWIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnbmF0aXZlLWZ1bmN0aW9uLXRvLXN0cmluZycsIEZ1bmN0aW9uLnRvU3RyaW5nKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///131\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar create = __webpack_require__(117);\nvar descriptor = __webpack_require__(61);\nvar setToStringTag = __webpack_require__(102);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(27)(IteratorPrototype, __webpack_require__(9)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1jcmVhdGUuanM/NDFhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///132\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(15);\nvar anObject = __webpack_require__(11);\nvar getKeys = __webpack_require__(78);\n\nmodule.exports = __webpack_require__(16) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcz8xNDk1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IGdldEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgUDtcbiAgd2hpbGUgKGxlbmd0aCA+IGkpIGRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///133\n")},function(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(76);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faW9iamVjdC5qcz82MjZhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///134\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(77);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdG8tYWJzb2x1dGUtaW5kZXguanM/NzdmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///135\n")},function(module,exports,__webpack_require__){eval("var document = __webpack_require__(17).document;\nmodule.exports = document && document.documentElement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faHRtbC5qcz9mYWIyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xubW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///136\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(35);\nvar toObject = __webpack_require__(79);\nvar IE_PROTO = __webpack_require__(100)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdwby5qcz8zOGZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChPKSB7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYgKGhhcyhPLCBJRV9QUk9UTykpIHJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYgKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///137\n")},function(module,exports,__webpack_require__){eval("// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(11);\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1jYWxsLmpzPzFmYTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///138\n")},function(module,exports,__webpack_require__){eval("// check on default Array iterator\nvar Iterators = __webpack_require__(64);\nvar ITERATOR = __webpack_require__(9)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcz8zM2E0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///139\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $defineProperty = __webpack_require__(15);\nvar createDesc = __webpack_require__(61);\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzP2YxYWUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gIGlmIChpbmRleCBpbiBvYmplY3QpICRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///140\n")},function(module,exports,__webpack_require__){eval("var classof = __webpack_require__(99);\nvar ITERATOR = __webpack_require__(9)('iterator');\nvar Iterators = __webpack_require__(64);\nmodule.exports = __webpack_require__(63).getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanM/MjdlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///141\n")},function(module,exports,__webpack_require__){eval("var ITERATOR = __webpack_require__(9)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1kZXRlY3QuanM/NWNjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbiAoKSB7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG59IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XTtcbiAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///142\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(120);\nvar step = __webpack_require__(144);\nvar Iterators = __webpack_require__(64);\nvar toIObject = __webpack_require__(58);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(114)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanM/Y2FkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpO1xudmFyIHN0ZXAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBraW5kID0gdGhpcy5faztcbiAgdmFyIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZiAoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpIHtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZiAoa2luZCA9PSAndmFsdWVzJykgcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///143\n")},function(module,exports){eval("module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1zdGVwLmpzP2Q1M2IiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///144\n")},function(module,exports,__webpack_require__){eval("var META = __webpack_require__(62)('meta');\nvar isObject = __webpack_require__(56);\nvar has = __webpack_require__(35);\nvar setDesc = __webpack_require__(15).f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(26)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fbWV0YS5qcz82N2FiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///145\n")},function(module,exports,__webpack_require__){eval("// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(78);\nvar gOPS = __webpack_require__(123);\nvar pIE = __webpack_require__(103);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZW51bS1rZXlzLmpzP2Q0YzAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0S2V5cyhpdCk7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZiAoZ2V0U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdCk7XG4gICAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChzeW1ib2xzLmxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///146\n")},function(module,exports,__webpack_require__){eval("// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(76);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXkuanM/MTE2OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///147\n")},function(module,exports,__webpack_require__){eval("// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(58);\nvar gOPN = __webpack_require__(124).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzPzdiYmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///148\n")},function(module,exports,__webpack_require__){eval("var pIE = __webpack_require__(103);\nvar createDesc = __webpack_require__(61);\nvar toIObject = __webpack_require__(58);\nvar toPrimitive = __webpack_require__(97);\nvar has = __webpack_require__(35);\nvar IE8_DOM_DEFINE = __webpack_require__(111);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(16) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanM/MTFlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///149\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nvar getScrollTop = function getScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\n\nvar getScrollLeft = function getScrollLeft() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\n\nvar getOffset = exports.getOffset = function getOffset(el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    top: rect.top + getScrollTop(),\n    left: rect.left + getScrollLeft()\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc3BvbnNpdmUtYXV0by1oZWlnaHQvbGliL3V0aWwuanM/ZmI0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBnZXRTY3JvbGxUb3AgPSBmdW5jdGlvbiBnZXRTY3JvbGxUb3AoKSB7XG4gIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xufTtcblxudmFyIGdldFNjcm9sbExlZnQgPSBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0KCkge1xuICByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xufTtcblxudmFyIGdldE9mZnNldCA9IGV4cG9ydHMuZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gZ2V0T2Zmc2V0KGVsKSB7XG4gIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7XG4gICAgdG9wOiByZWN0LnRvcCArIGdldFNjcm9sbFRvcCgpLFxuICAgIGxlZnQ6IHJlY3QubGVmdCArIGdldFNjcm9sbExlZnQoKVxuICB9O1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///150\n')},function(module,exports){eval("/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n\n/* WEBPACK VAR INJECTION */}.call(this, {}))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2FtZC1vcHRpb25zLmpzPzAwODYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXyAqL1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///151\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar regexpExec = __webpack_require__(105);\n__webpack_require__(36)({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLmV4ZWMuanM/YjBjNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjJyk7XG5yZXF1aXJlKCcuL19leHBvcnQnKSh7XG4gIHRhcmdldDogJ1JlZ0V4cCcsXG4gIHByb3RvOiB0cnVlLFxuICBmb3JjZWQ6IHJlZ2V4cEV4ZWMgIT09IC8uLy5leGVjXG59LCB7XG4gIGV4ZWM6IHJlZ2V4cEV4ZWNcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///152\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar anObject = __webpack_require__(11);\nvar toLength = __webpack_require__(65);\nvar advanceStringIndex = __webpack_require__(104);\nvar regExpExec = __webpack_require__(84);\n\n// @@match logic\n__webpack_require__(85)('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLm1hdGNoLmpzPzQ5MTciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4vX2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgcmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG5cbi8vIEBAbWF0Y2ggbG9naWNcbnJlcXVpcmUoJy4vX2ZpeC1yZS13a3MnKSgnbWF0Y2gnLCAxLCBmdW5jdGlvbiAoZGVmaW5lZCwgTUFUQ0gsICRtYXRjaCwgbWF5YmVDYWxsTmF0aXZlKSB7XG4gIHJldHVybiBbXG4gICAgLy8gYFN0cmluZy5wcm90b3R5cGUubWF0Y2hgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUubWF0Y2hcbiAgICBmdW5jdGlvbiBtYXRjaChyZWdleHApIHtcbiAgICAgIHZhciBPID0gZGVmaW5lZCh0aGlzKTtcbiAgICAgIHZhciBmbiA9IHJlZ2V4cCA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiByZWdleHBbTUFUQ0hdO1xuICAgICAgcmV0dXJuIGZuICE9PSB1bmRlZmluZWQgPyBmbi5jYWxsKHJlZ2V4cCwgTykgOiBuZXcgUmVnRXhwKHJlZ2V4cClbTUFUQ0hdKFN0cmluZyhPKSk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQG1hdGNoXWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQG1hdGNoXG4gICAgZnVuY3Rpb24gKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlcyA9IG1heWJlQ2FsbE5hdGl2ZSgkbWF0Y2gsIHJlZ2V4cCwgdGhpcyk7XG4gICAgICBpZiAocmVzLmRvbmUpIHJldHVybiByZXMudmFsdWU7XG4gICAgICB2YXIgcnggPSBhbk9iamVjdChyZWdleHApO1xuICAgICAgdmFyIFMgPSBTdHJpbmcodGhpcyk7XG4gICAgICBpZiAoIXJ4Lmdsb2JhbCkgcmV0dXJuIHJlZ0V4cEV4ZWMocngsIFMpO1xuICAgICAgdmFyIGZ1bGxVbmljb2RlID0gcngudW5pY29kZTtcbiAgICAgIHJ4Lmxhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgQSA9IFtdO1xuICAgICAgdmFyIG4gPSAwO1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHdoaWxlICgocmVzdWx0ID0gcmVnRXhwRXhlYyhyeCwgUykpICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBtYXRjaFN0ciA9IFN0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICBBW25dID0gbWF0Y2hTdHI7XG4gICAgICAgIGlmIChtYXRjaFN0ciA9PT0gJycpIHJ4Lmxhc3RJbmRleCA9IGFkdmFuY2VTdHJpbmdJbmRleChTLCB0b0xlbmd0aChyeC5sYXN0SW5kZXgpLCBmdWxsVW5pY29kZSk7XG4gICAgICAgIG4rKztcbiAgICAgIH1cbiAgICAgIHJldHVybiBuID09PSAwID8gbnVsbCA6IEE7XG4gICAgfVxuICBdO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///153\n")},function(module,exports,__webpack_require__){eval("// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(11);\nvar aFunction = __webpack_require__(116);\nvar SPECIES = __webpack_require__(9)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qcz9lYmQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMy4yMCBTcGVjaWVzQ29uc3RydWN0b3IoTywgZGVmYXVsdENvbnN0cnVjdG9yKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywgRCkge1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yO1xuICB2YXIgUztcbiAgcmV0dXJuIEMgPT09IHVuZGVmaW5lZCB8fCAoUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdKSA9PSB1bmRlZmluZWQgPyBEIDogYUZ1bmN0aW9uKFMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///154\n")},function(module,exports){eval("// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2FtZS12YWx1ZS5qcz84M2ExIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMi45IFNhbWVWYWx1ZSh4LCB5KVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuaXMgfHwgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIHJldHVybiB4ID09PSB5ID8geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHkgOiB4ICE9IHggJiYgeSAhPSB5O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///155\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// B.2.3.6 String.prototype.fixed()\n__webpack_require__(157)('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmZpeGVkLmpzP2QyNjMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gQi4yLjMuNiBTdHJpbmcucHJvdG90eXBlLmZpeGVkKClcbnJlcXVpcmUoJy4vX3N0cmluZy1odG1sJykoJ2ZpeGVkJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZpeGVkKCkge1xuICAgIHJldHVybiBjcmVhdGVIVE1MKHRoaXMsICd0dCcsICcnLCAnJyk7XG4gIH07XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///156\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(36);\nvar fails = __webpack_require__(26);\nvar defined = __webpack_require__(57);\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWh0bWwuanM/Mzg2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xudmFyIHF1b3QgPSAvXCIvZztcbi8vIEIuMi4zLjIuMSBDcmVhdGVIVE1MKHN0cmluZywgdGFnLCBhdHRyaWJ1dGUsIHZhbHVlKVxudmFyIGNyZWF0ZUhUTUwgPSBmdW5jdGlvbiAoc3RyaW5nLCB0YWcsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgdmFyIFMgPSBTdHJpbmcoZGVmaW5lZChzdHJpbmcpKTtcbiAgdmFyIHAxID0gJzwnICsgdGFnO1xuICBpZiAoYXR0cmlidXRlICE9PSAnJykgcDEgKz0gJyAnICsgYXR0cmlidXRlICsgJz1cIicgKyBTdHJpbmcodmFsdWUpLnJlcGxhY2UocXVvdCwgJyZxdW90OycpICsgJ1wiJztcbiAgcmV0dXJuIHAxICsgJz4nICsgUyArICc8LycgKyB0YWcgKyAnPic7XG59O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTkFNRSwgZXhlYykge1xuICB2YXIgTyA9IHt9O1xuICBPW05BTUVdID0gZXhlYyhjcmVhdGVIVE1MKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRlc3QgPSAnJ1tOQU1FXSgnXCInKTtcbiAgICByZXR1cm4gdGVzdCAhPT0gdGVzdC50b0xvd2VyQ2FzZSgpIHx8IHRlc3Quc3BsaXQoJ1wiJykubGVuZ3RoID4gMztcbiAgfSksICdTdHJpbmcnLCBPKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///157\n")},function(module,exports,__webpack_require__){eval("// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = __webpack_require__(125);\nvar defined = __webpack_require__(57);\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWNvbnRleHQuanM/ZDJjOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfVxudmFyIGlzUmVnRXhwID0gcmVxdWlyZSgnLi9faXMtcmVnZXhwJyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGhhdCwgc2VhcmNoU3RyaW5nLCBOQU1FKSB7XG4gIGlmIChpc1JlZ0V4cChzZWFyY2hTdHJpbmcpKSB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZyMnICsgTkFNRSArIFwiIGRvZXNuJ3QgYWNjZXB0IHJlZ2V4IVwiKTtcbiAgcmV0dXJuIFN0cmluZyhkZWZpbmVkKHRoYXQpKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///158\n")},function(module,exports,__webpack_require__){eval("var MATCH = __webpack_require__(9)('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZmFpbHMtaXMtcmVnZXhwLmpzPzUxNDciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE1BVENIID0gcmVxdWlyZSgnLi9fd2tzJykoJ21hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIHJlID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW0tFWV0ocmUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICEnLy4vJ1tLRVldKHJlKTtcbiAgICB9IGNhdGNoIChmKSB7IC8qIGVtcHR5ICovIH1cbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///159\n")},,,,,,,,,,,,,,,,,,,,,,,function(module,exports){eval("// Object.keys\nif (!Object.keys) {\n  Object.keys = function(object) {\n    var keys = [];\n    for (var name in object) {\n      if (Object.prototype.hasOwnProperty.call(object, name)) {\n        keys.push(name);\n      }\n    }\n    return keys;\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL09iamVjdC5rZXlzLmpzPzY0MzEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gT2JqZWN0LmtleXNcbmlmICghT2JqZWN0LmtleXMpIHtcbiAgT2JqZWN0LmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgbmFtZSkpIHtcbiAgICAgICAga2V5cy5wdXNoKG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///182\n")},function(module,exports){eval('// ChildNode.remove\nif(!("remove" in Element.prototype)){\n  Element.prototype.remove = function(){\n    if(this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2NoaWxkTm9kZS5yZW1vdmUuanM/NDY2MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDaGlsZE5vZGUucmVtb3ZlXG5pZighKFwicmVtb3ZlXCIgaW4gRWxlbWVudC5wcm90b3R5cGUpKXtcbiAgRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICB9XG4gIH07XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///183\n')}]]);